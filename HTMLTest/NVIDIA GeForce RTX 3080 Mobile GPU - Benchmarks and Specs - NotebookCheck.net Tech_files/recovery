(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={553:e=>{var t=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new Z(i||[]);return o._invoke=function(e,t,n){var i=u;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return x()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=D(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var d=l(e,t,n);if("normal"===d.type){if(i=n.done?p:f,d.arg===g)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(i=p,n.method="throw",n.arg=d.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",f="suspendedYield",h="executing",p="completed",g={};function m(){}function w(){}function v(){}var b={};d(b,o,(function(){return this}));var y=Object.getPrototypeOf,_=y&&y(y(k([])));_&&_!==n&&i.call(_,o)&&(b=_);var M=v.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(r,o,a,s){var d=l(e[r],e,o);if("throw"!==d.type){var c=d.arg,u=c.value;return u&&"object"==typeof u&&i.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(u).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(d.arg)}var r;this._invoke=function(e,i){function o(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(o,o):o()}}function D(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,D(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,g;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:x}}function x(){return{value:t,done:!0}}return w.prototype=v,d(M,"constructor",v),d(v,"constructor",w),w.displayName=d(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,d(e,s,"GeneratorFunction")),e.prototype=Object.create(M),e},e.awrap=function(e){return{__await:e}},E(N.prototype),d(N.prototype,a,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new N(c(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(M),d(M,s,"Generator"),d(M,o,(function(){return this})),d(M,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=k,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var d=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(d&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(d){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:k(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},757:(e,t,n)=>{e.exports=n(553)},905:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{yC:()=>DeviceTypeAll,Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile,l7:()=>getDeviceType});var PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",DeviceTypeAll="all",DeviceTypeDesktop="desktop",DeviceTypeMobile="mobile",browser=function browser(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer};function isMobile(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function getDeviceType(){return isMobile()?DeviceTypeMobile:DeviceTypeDesktop}},552:(e,t,n)=>{"use strict";n.d(t,{z:()=>p,Z:()=>h});var i=n(2);function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a,s,d=n(942),c=n(614),l=n(302),u=Boolean(window.console&&window.console.info),f=!1;!function(){try{f=window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.bt_debug}catch(e){f=!1}}();var h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,i=void 0===n?"":n,o=t.level,a=void 0===o?p.DEFAULT:o;r(this,e),(0,d.Z)(this,"tag","Blockthrough"),(0,d.Z)(this,"prefix",""),this.setPrefix(i),this.setLevel(a)}var t,n,a;return t=e,n=[{key:"setPrefix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}},{key:"setLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.DEFAULT;N(e)?this.level=e:this.level=p.DEFAULT}},{key:"log",value:function(e,t,n,r){if(f&&u){if(arguments.length<3||!N(e)||"object"!==(0,i.Z)(t)||"string"!=typeof n)throw new TypeError;if(!(e<this.level)){var o=y(),a=_(t),s="";s+="%c["+this.tag+" - "+m[e]+"]%c",s+="%c[%s]%c ",a&&(s+="%c["+a+"]%c "),this.prefix&&(s+=this.prefix),s+=n;var d=[];d.push(s),d.push("color: #000000; background-color: "+w[e]),d.push("background-color: inherit"),d.push("color: #757575;"),d.push(M(o)),d.push("background-color: inherit"),a&&(d.push("color: "+E(t)),d.push("color: inherit")),d=d.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,d)}}}},{key:"debugf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.DEBUG,e,t].concat(n)),D(i,g.DEBUG)}},{key:"infof",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.INFO,e,t].concat(n)),D(i,g.INFO)}},{key:"noticef",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.NOTICE,e,t].concat(n)),D(i,g.NOTICE)}},{key:"warningf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.WARNING,e,t].concat(n)),D(i,g.WARNING)}},{key:"errorf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_error_event",error:{name:t}}),D(i,g.ERROR)}},{key:"criticalf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:2,event:"general_critical_event",error:{name:t}}),D(i,g.CRITICAL)}},{key:"alertf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.ALERT,e,t].concat(n)),D(i,g.ALERT)}},{key:"emergencyf",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[p.EMERGENCY,e,t].concat(n)),D(i,g.EMERGENCY)}}],n&&o(t.prototype,n),a&&o(t,a),e}(),p={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},g={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},m=(a={},(0,d.Z)(a,p.DEFAULT,"DFT"),(0,d.Z)(a,p.DEBUG,"DBG"),(0,d.Z)(a,p.INFO,"INF"),(0,d.Z)(a,p.NOTICE,"NTC"),(0,d.Z)(a,p.WARNING,"WRN"),(0,d.Z)(a,p.ERROR,"ERR"),(0,d.Z)(a,p.CRITICAL,"CRT"),(0,d.Z)(a,p.ALERT,"ALR"),(0,d.Z)(a,p.EMERGENCY,"EMR"),a),w=(s={},(0,d.Z)(s,p.DEFAULT,"#F5F5F5"),(0,d.Z)(s,p.DEBUG,"#BBDEFB"),(0,d.Z)(s,p.INFO,"#B3E5FC"),(0,d.Z)(s,p.NOTICE,"#DCEDC8"),(0,d.Z)(s,p.WARNING,"#FFE0B2"),(0,d.Z)(s,p.ERROR,"#FFCCBC"),(0,d.Z)(s,p.CRITICAL,"#E57373"),(0,d.Z)(s,p.ALERT,"#F06292"),(0,d.Z)(s,p.EMERGENCY,"#BA68C8"),s),v=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],b=(new Date).getTime();function y(){return(new Date).getTime()-b}function _(e){return e&&e.id||null}function M(e){return e<1e3?Math.round(e).toString()+"ms":(e/1e3).toFixed(2)+"s"}function E(e){var t=_(e);return t?v[function(e){for(var t=2166136261,n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%v.length]:"#000000"}function N(e){return"number"==typeof e&&void 0!==m[e]}function D(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||c.Z.commonUtils.getTrueByProbability(e.sendPercentage))){var n=Object.assign({},e,{severity:t});l.Y.fireEvent("sendLog",n)}}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,i){if(this.hasEventListener(e))for(var o=new r(e,t),a=this.events[e],s=a.length,d=0;d<s;d++){try{var c=a[d].call(n,o)}catch(e){console.error("CustomEvents - error in `fireEvent`:",e)}if(null!=c)return c;if(o.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},elementVisibility:{VISIBLE:"VISIBLE",HIDDEN:"HIDDEN",NOT_FOUND:"NOT_FOUND"},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"]}},868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},r=n(17),o=n(143),a="ZnVuY3Rpb24gXzB4MTk0ZShfMHg0OGFmY2EsXzB4M2RjOGIpe3ZhciBfMHgzNmQ2NDI9XzB4MzZkNigpO3JldHVybiBfMHgxOTRlPWZ1bmN0aW9uKF8weDE5NGUyZixfMHgzNmM2YWYpe18weDE5NGUyZj1fMHgxOTRlMmYtMHhlNjt2YXIgXzB4MjE0N2JmPV8weDM2ZDY0MltfMHgxOTRlMmZdO3JldHVybiBfMHgyMTQ3YmY7fSxfMHgxOTRlKF8weDQ4YWZjYSxfMHgzZGM4Yik7fWZ1bmN0aW9uIF8weDM2ZDYoKXt2YXIgXzB4MTM1ZTRkPVsndG9Mb3dlckNhc2UnLCdvYmplY3QnLCdpZWNjdGVzdCcsJ2xlbmd0aCcsJzUyNDg3M1VnVnRKZicsJ09iamVjdCcsJ0lGUkFNRScsJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnLCdpbnNlcnRSdWxlJywnYWRMb2FkZXJfXycsJ2luc2VydEJlZm9yZU8nLCdib2R5JywnY29udGVudFdpbmRvdycsJ2Jhbm5lckFkSHRtbFRleHQnLCdnZXRFbGVtZW50QnlJZCcsJ2phdmFzY3JpcHQ6XHgyNycsJ19fZGVmaW5lR2V0dGVyX18nLCcxMGpLWk1iQycsJ2ViQ2ZnJywnY2hpbGRyZW4nLCdwcm90b3R5cGUnLCdzdXBwb3J0ZWRCcm93c2VyJywnZWJDZmdfXycsJ3N0cmluZycsJ3BhZ2VWaXNpYmxlJywnJDFbJywnY2FsbCcsJzQ4NDI0OTVVVW93dVUnLCdpZnJhbWUnLCdkb2N1bWVudEVsZW1lbnQnLCdhbHJlYWR5SW5qZWN0ZWQnLCd3cmFwSWZyYW1lJywnYXBwbHknLCdpbnNlcnRCZWZvcmUnLCdIVE1MRWxlbWVudCcsJ3Rlc3QnLCdsb2FkJywnN3FOWndFZycsJzE4MDU3OTZiT05EeWonLCdkb2N1bWVudCcsJ3NjcmlwdCcsJ3JlcGxhY2UnLCdfX18nLCdhZExvYWRlcicsJ3dyaXRlJywndGFnTmFtZScsJzQ5MzI1emhBaVBnJywnLmh0bWwnLCd3cml0ZU8nLCdpbWdbY2xhc3NePVx4MjdwbC1sb2FkZXItXHgyN117ZGlzcGxheTpub25lXHgyMCFpbXBvcnRhbnR9Jywnc3R5bGUnLCdjcmVhdGVFbGVtZW50JywnMjJQTnl5UHYnLCdhcHBlbmRDaGlsZE8nLCdpbmRleE9mJywnMTgxNzA0MGxrWEdHYycsJ2hhc093blByb3BlcnR5JywnMmR6VUtkUScsJ3R5cGU6XHgyMFx4MjdJTUFHRVx4MjcnLCcxNTBpZW5WaFgnLCdhZGRFdmVudExpc3RlbmVyJywnY3JlYXRlRWxlbWVudE8nLCdkZWZpbmVQcm9wZXJ0eScsJ2FwcGVuZENoaWxkJywnXSQzJywnbWF0Y2gnLCcxOTMxNTA0SkpUTmNTJywnc3R5bGVTaGVldHMnLCdfX2RlZmluZVNldHRlcl9fJywnYWRIdG1sUGF0aCcsJzE2NDkwNjBZdmNNU2onLCdnZXRFbGVtZW50QnlJZE8nXTtfMHgzNmQ2PWZ1bmN0aW9uKCl7cmV0dXJuIF8weDEzNWU0ZDt9O3JldHVybiBfMHgzNmQ2KCk7fShmdW5jdGlvbihfMHgyM2YyYjEsXzB4NDQ5M2MwKXt2YXIgXzB4M2ZhZTVlPV8weDE5NGUsXzB4NDdhYjQ1PV8weDIzZjJiMSgpO3doaWxlKCEhW10pe3RyeXt2YXIgXzB4NDQ2N2E2PXBhcnNlSW50KF8weDNmYWU1ZSgweGVlKSkvMHgxKihwYXJzZUludChfMHgzZmFlNWUoMHgxMjMpKS8weDIpKy1wYXJzZUludChfMHgzZmFlNWUoMHgxMTApKS8weDMrLXBhcnNlSW50KF8weDNmYWU1ZSgweGU4KSkvMHg0K3BhcnNlSW50KF8weDNmYWU1ZSgweDExOCkpLzB4NSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTI1KSkvMHg2KStwYXJzZUludChfMHgzZmFlNWUoMHgxMGYpKS8weDcqKC1wYXJzZUludChfMHgzZmFlNWUoMHgxMmMpKS8weDgpK3BhcnNlSW50KF8weDNmYWU1ZSgweDEwNSkpLzB4OSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4ZmIpKS8weGEpK3BhcnNlSW50KF8weDNmYWU1ZSgweDExZSkpLzB4YioocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTIxKSkvMHhjKTtpZihfMHg0NDY3YTY9PT1fMHg0NDkzYzApYnJlYWs7ZWxzZSBfMHg0N2FiNDVbJ3B1c2gnXShfMHg0N2FiNDVbJ3NoaWZ0J10oKSk7fWNhdGNoKF8weDRkM2JmOCl7XzB4NDdhYjQ1WydwdXNoJ10oXzB4NDdhYjQ1WydzaGlmdCddKCkpO319fShfMHgzNmQ2LDB4NTcxOTYpLChmdW5jdGlvbigpe3ZhciBfMHgxZWUyN2Y9ZnVuY3Rpb24oXzB4NTdhN2M1KXt2YXIgXzB4NGNkOGE5PV8weDE5NGU7aWYoIV8weDU3YTdjNVsnYWxyZWFkeUluamVjdGVkJ10pe18weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMDgpXT0hMHgwO3RyeXt2YXIgXzB4NDU4NGNmPV8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVsnY3JlYXRlRWxlbWVudCddKF8weDRjZDhhOSgweDExYykpOyhfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2hlYWQnXXx8XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGY1KV18fF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVtfMHg0Y2Q4YTkoMHgxMDcpXSlbXzB4NGNkOGE5KDB4MTI5KV0oXzB4NDU4NGNmKSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTJkKV1bMHgwXVtfMHg0Y2Q4YTkoMHhmMildKF8weDRjZDhhOSgweDExYiksMHgwKTt9Y2F0Y2goXzB4NDZmZjQwKXt9XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGU5KV09ZG9jdW1lbnRbXzB4NGNkOGE5KDB4ZjgpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4ZjgpXT1mdW5jdGlvbihfMHgzOGJmMDYpe3ZhciBfMHgxZDAwNTM9XzB4NGNkOGE5O3RyeXtpZihfMHgxZDAwNTMoMHhlYyk9PT1fMHgzOGJmMDYpcmV0dXJuIF8weDU3YTdjNVtfMHgxZDAwNTMoMHgxMTEpXVtfMHgxZDAwNTMoMHgxMWQpXSgnYicpO31jYXRjaChfMHhmNzU2NSl7fXJldHVybiBfMHg1N2E3YzVbJ2RvY3VtZW50J11bXzB4MWQwMDUzKDB4ZTkpXVtfMHgxZDAwNTMoMHgxMDQpXSh0aGlzLF8weDM4YmYwNik7fSxfMHg1N2E3YzVbJ2RvY3VtZW50J11bJ2NyZWF0ZUVsZW1lbnRPJ109ZG9jdW1lbnRbJ2NyZWF0ZUVsZW1lbnQnXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2NyZWF0ZUVsZW1lbnQnXT1mdW5jdGlvbihfMHgxZjgwNTkpe3ZhciBfMHgxNDM2OGU9XzB4NGNkOGE5O3RyeXtpZihfMHgxNDM2OGUoMHgxMDYpPT09XzB4MWY4MDU5W18weDE0MzY4ZSgweGVhKV0oKSl7dmFyIF8weDFjMjcyZD1fMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bJ2NhbGwnXSh0aGlzLF8weDFmODA1OSk7cmV0dXJuIF8weDFjMjcyZFtfMHgxNDM2OGUoMHgxMjYpXShfMHgxNDM2OGUoMHgxMGUpLGZ1bmN0aW9uKCl7dmFyIF8weDE4ZjViND1fMHgxNDM2OGU7dHJ5e3RoaXNbXzB4MThmNWI0KDB4ZjYpXVtfMHgxOGY1YjQoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgxOGY1YjQoMHhmNildW18weDE4ZjViNCgweDEwOSldWydjYWxsJ10odGhpc1tfMHgxOGY1YjQoMHhmNildLHRoaXNbXzB4MThmNWI0KDB4ZjYpXSk7fWNhdGNoKF8weDNlM2IzMCl7fX0pLF8weDFjMjcyZDt9fWNhdGNoKF8weDVhOTg2Zil7fXJldHVybiBfMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bXzB4MTQzNjhlKDB4MTA0KV0odGhpcyxfMHgxZjgwNTkpO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTFmKV09XzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV0sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV09ZnVuY3Rpb24oXzB4MWMwNWRjKXt2YXIgXzB4MzlmNjk5PV8weDRjZDhhOSxfMHgzYzFlOGI9XzB4NTdhN2M1WydIVE1MRWxlbWVudCddW18weDM5ZjY5OSgweGZlKV1bXzB4MzlmNjk5KDB4MTFmKV1bXzB4MzlmNjk5KDB4MTA0KV0odGhpcyxfMHgxYzA1ZGMpO3RyeXtmb3IodmFyIF8weDM5NzM1ND0weDA7XzB4Mzk3MzU0PF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5ZjY5OSgweGVkKV07XzB4Mzk3MzU0KyspJ0lGUkFNRSc9PT1fMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDExNyldJiYoXzB4MWMwNWRjW18weDM5ZjY5OSgweGZkKV1bXzB4Mzk3MzU0XVtfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDEyNildKF8weDM5ZjY5OSgweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4MTk3ZDU2PV8weDM5ZjY5OTt0aGlzW18weDE5N2Q1NigweGY2KV1bXzB4MTk3ZDU2KDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4MTk3ZDU2KDB4ZjYpXVtfMHgxOTdkNTYoMHgxMDkpXVtfMHgxOTdkNTYoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgxOTdkNTYoMHhmNildKTt9KSxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweGY2KV1bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzOWY2OTkoMHgxMDkpXVtfMHgzOWY2OTkoMHgxMDQpXSh0aGlzLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bXzB4MzlmNjk5KDB4ZjYpXSkpO18weDM5ZjY5OSgweGYwKT09PV8weDFjMDVkY1tfMHgzOWY2OTkoMHgxMTcpXSYmKF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4MTI2KV0oXzB4MzlmNjk5KDB4MTBlKSxmdW5jdGlvbigpe3ZhciBfMHgzNzYzMTU9XzB4MzlmNjk5O3RoaXNbXzB4Mzc2MzE1KDB4ZjYpXVtfMHgzNzYzMTUoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgzNzYzMTUoMHhmNildW18weDM3NjMxNSgweDEwOSldWydjYWxsJ10odGhpc1tfMHgzNzYzMTUoMHhmNildLHRoaXNbXzB4Mzc2MzE1KDB4ZjYpXSk7fSksXzB4MWMwNWRjWydjb250ZW50V2luZG93J11bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1snY29udGVudFdpbmRvdyddW18weDM5ZjY5OSgweDEwOSldWydjYWxsJ10odGhpcyxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZjYpXSkpO31jYXRjaChfMHgyZjI2ODEpe31yZXR1cm4gXzB4M2MxZThiO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4ZjQpXT1fMHg1N2E3YzVbJ0hUTUxFbGVtZW50J11bXzB4NGNkOGE5KDB4ZmUpXVsnaW5zZXJ0QmVmb3JlJ10sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTBiKV09ZnVuY3Rpb24oXzB4MjliNDE3LF8weDFjMjE5NSl7dmFyIF8weDU2MjUwYj1fMHg0Y2Q4YTksXzB4MWJkMmRmPV8weDU3YTdjNVsnSFRNTEVsZW1lbnQnXVsncHJvdG90eXBlJ11bXzB4NTYyNTBiKDB4ZjQpXVtfMHg1NjI1MGIoMHgxMDQpXSh0aGlzLF8weDI5YjQxNyxfMHgxYzIxOTUpO3RyeXtmb3IodmFyIF8weDNiOTZkYT0weDA7XzB4M2I5NmRhPF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldWydsZW5ndGgnXTtfMHgzYjk2ZGErKyknSUZSQU1FJz09PV8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bXzB4NTYyNTBiKDB4MTE3KV0mJihfMHgyOWI0MTdbJ2NoaWxkcmVuJ11bXzB4M2I5NmRhXVsnY29udGVudFdpbmRvdyddfHxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweDEyNildKF8weDU2MjUwYigweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4ZDMxOThiPV8weDU2MjUwYjt0aGlzW18weGQzMTk4YigweGY2KV1bXzB4ZDMxOThiKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXVtfMHhkMzE5OGIoMHgxMDkpXVtfMHhkMzE5OGIoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHhkMzE5OGIoMHhmNildKTt9KSxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdWydjb250ZW50V2luZG93J11bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1snY2hpbGRyZW4nXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV1bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bJ2NvbnRlbnRXaW5kb3cnXSkpOydJRlJBTUUnPT09XzB4MjliNDE3W18weDU2MjUwYigweDExNyldJiYoXzB4MjliNDE3W18weDU2MjUwYigweGY2KV18fF8weDI5YjQxN1tfMHg1NjI1MGIoMHgxMjYpXSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgXzB4M2UwNWFmPV8weDU2MjUwYjt0aGlzWydjb250ZW50V2luZG93J11bXzB4M2UwNWFmKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXVsnd3JhcElmcmFtZSddWydjYWxsJ10odGhpc1snY29udGVudFdpbmRvdyddLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXSk7fSksXzB4MjliNDE3W18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildKSk7fWNhdGNoKF8weDE0ZDI1OSl7fXJldHVybiBfMHgxYmQyZGY7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ3dyaXRlTyddPV8weDU3YTdjNVsnZG9jdW1lbnQnXVtfMHg0Y2Q4YTkoMHgxMTYpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTE2KV09ZnVuY3Rpb24oXzB4MmI0NWJiKXt2YXIgXzB4MTc4MTBlPV8weDRjZDhhOTt0cnl7aWYoXzB4MmI0NWJiJiYvZGF0YVwtZGNtXC1yZW5kZXJpbmdcLW1vZGVccz89XHM/WyciXWlmcmFtZVsnIl0vW18weDE3ODEwZSgweDEwZCldKF8weDJiNDViYikpe3ZhciBfMHg1YTg4MTY9XzB4MmI0NWJiW18weDE3ODEwZSgweDEyYildKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDRmMWYzMT1fMHg1YTg4MTZbMHgwXVtfMHgxNzgxMGUoMHgxMTMpXShfMHgxNzgxMGUoMHgxMDYpLF8weDE3ODEwZSgweDExMikpO18weDJiNDViYj1fMHgyYjQ1YmJbXzB4MTc4MTBlKDB4MTEzKV0oXzB4NWE4ODE2LF8weDRmMWYzMSk7fWlmKF8weDJiNDViYiYmL3tbXntdK3JlbmRlckFzOiBcXHgyN0JBQ0tVUF9JTUFHRVxceDI3W159XSt9L1tfMHgxNzgxMGUoMHgxMGQpXShfMHgyYjQ1YmIpKXt2YXIgXzB4NDk2MWExPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMmIpXSgve1tee10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXn1dK30vKVsweDBdLF8weDJjZDE1ZT0vKFsuXFNcc10rcHJpbWFyeUZpbGVzOiApKFxbW15cW10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXlxdXStcXSkoWy5cU1xzXSspL2c7XzB4MmI0NWJiPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMTMpXShfMHgyY2QxNWUsXzB4MTc4MTBlKDB4MTAzKStfMHg0OTYxYTErXzB4MTc4MTBlKDB4MTJhKSk7fV8weDJiNDViYiYmXzB4MmI0NWJiWydpbmRleE9mJ10oXzB4MTc4MTBlKDB4ZjEpKT4tMHgxJiYoXzB4MmI0NWJiPV8weDJiNDViYlsncmVwbGFjZSddKF8weDE3ODEwZSgweGYxKSxfMHgxNzgxMGUoMHgxMjQpKSk7fWNhdGNoKF8weDI5NTI1Nil7fV8weDU3YTdjNVtfMHgxNzgxMGUoMHgxMTEpXVtfMHgxNzgxMGUoMHgxMWEpXVtfMHgxNzgxMGUoMHgxMDQpXSh0aGlzLF8weDJiNDViYik7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmMpXT12b2lkIDB4MCxfMHg1N2E3YzVbJ2ViQ2ZnX18nXT12b2lkIDB4MCxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmEpXShfMHg0Y2Q4YTkoMHhmYyksZnVuY3Rpb24oXzB4NDZmNTZhKXt2YXIgXzB4NDNkZTYwPV8weDRjZDhhOTtyZXR1cm4gXzB4NTdhN2M1W18weDQzZGU2MCgweDEwMCldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdlYkNmZycsZnVuY3Rpb24oXzB4MTRiMWEyKXt2YXIgXzB4NGRhMjJmPV8weDRjZDhhOTtyZXR1cm4gXzB4MTRiMWEyW18weDRkYTIyZigweGU3KV09JycsXzB4NTdhN2M1W18weDRkYTIyZigweDEwMCldPV8weDE0YjFhMjt9KSxPYmplY3RbXzB4NGNkOGE5KDB4ZmUpXVtfMHg0Y2Q4YTkoMHhlNildKF8weDRjZDhhOSgweGZmKSxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEweDE7fTt9KSxfMHg0NTg0Y2Y9ZnVuY3Rpb24oXzB4Mzc5ZTU0LF8weDJjMDA2OCl7dmFyIF8weDFjNjU5Nj1fMHg0Y2Q4YTk7XzB4NTdhN2M1W18weDFjNjU5NigweGVmKV1bXzB4MWM2NTk2KDB4MTI4KV0oXzB4NTdhN2M1WydPYmplY3QnXVtfMHgxYzY1OTYoMHhmZSldLF8weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXt2YXIgXzB4NTIzNGU2PV8weDFjNjU5NjtyZXR1cm4gdGhpc1tfMHg1MjM0ZTYoMHgxMTQpK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHg1MWUwMGIpe3ZhciBfMHhjN2MwNTA9XzB4MWM2NTk2O18weDUxZTAwYj1fMHgyYzAwNjgodGhpcyxfMHg1MWUwMGIpLF8weDU3YTdjNVtfMHhjN2MwNTAoMHhlZildW18weGM3YzA1MCgweDEyOCldKHRoaXMsXzB4Mzc5ZTU0LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHgyZjQzNDMpe3ZhciBfMHgxYmQ1ZmY9XzB4YzdjMDUwO18weDJmNDM0Mz1fMHgyYzAwNjgodGhpcyxfMHgyZjQzNDMpLHRoaXNbXzB4MWJkNWZmKDB4MTE0KStfMHgzNzllNTRdPV8weDJmNDM0Mzt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDQ1N2IyOD1fMHg1MWUwMGI7XzB4NTdhN2M1W18weGM3YzA1MCgweGVmKV1bXzB4YzdjMDUwKDB4MTI4KV0odGhpcyxfMHhjN2MwNTAoMHgxMTQpK18weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXtyZXR1cm4gXzB4NDU3YjI4O30sJ3NldCc6ZnVuY3Rpb24oXzB4MjVmNGFjKXtfMHg0NTdiMjg9XzB4MjVmNGFjPV8weDJjMDA2OCh0aGlzLF8weDI1ZjRhYyk7fSwnZW51bWVyYWJsZSc6ITB4MX0pO30sJ2VudW1lcmFibGUnOiEweDEsJ2NvbmZpZ3VyYWJsZSc6ITB4MX0pO30sXzB4NDU4NGNmKF8weDRjZDhhOSgweDEwMiksZnVuY3Rpb24oXzB4MjQ5NTBkLF8weGZkMzQ1Nil7dmFyIF8weDEzNTAxMz1fMHg0Y2Q4YTk7cmV0dXJuIF8weDEzNTAxMygweGViKT09PXR5cGVvZiBfMHgyNDk1MGQmJl8weDI0OTUwZFtfMHgxMzUwMTMoMHgxMjIpXShfMHgxMzUwMTMoMHhmZikpJiYoXzB4MjQ5NTBkW18weDEzNTAxMygweGZmKV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weGZkMzQ1Njt9KSxfMHg0NTg0Y2YoJ2lzJyxmdW5jdGlvbihfMHg0YmUyYjQsXzB4NWQ3ZDY1KXt2YXIgXzB4Mzg1ZWM4PV8weDRjZDhhOTtyZXR1cm4nb2JqZWN0Jz09PXR5cGVvZiBfMHg0YmUyYjQmJl8weDRiZTJiNFtfMHgzODVlYzgoMHgxMjIpXShfMHgzODVlYzgoMHhmZikpJiYoXzB4NGJlMmI0WydzdXBwb3J0ZWRCcm93c2VyJ109ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDVkN2Q2NTt9KTt2YXIgXzB4NTAyMmQ1PXZvaWQgMHgwO18weDQ1ODRjZihfMHg0Y2Q4YTkoMHhmNyksZnVuY3Rpb24oXzB4MjUzNDI2LF8weDMwMjc1Yyl7cmV0dXJuIF8weDUwMjJkNT1fMHgzMDI3NWM7fSksXzB4NTdhN2M1W18weDRjZDhhOSgweDExNSldPXZvaWQgMHgwLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhmYSldKF8weDRjZDhhOSgweDExNSksZnVuY3Rpb24oKXt2YXIgXzB4M2Y4NWU2PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHgzZjg1ZTYoMHhmMyldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdhZExvYWRlcicsZnVuY3Rpb24oXzB4MjdjMmUyKXt2YXIgXzB4NDdjNWU0PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHg0N2M1ZTQoMHhmMyldPWZ1bmN0aW9uKCl7dmFyIF8weDRmOWI5OD1fMHg0N2M1ZTQsXzB4M2NjNWM4PWFyZ3VtZW50czstMHgxPF8weDNjYzVjOFsweDNdW18weDRmOWI5OCgweDEyMCldKF8weDRmOWI5OCgweDExOSkpJiZfMHg0ZjliOTgoMHgxMDEpPT09dHlwZW9mIF8weDUwMjJkNSYmKF8weDNjYzVjOFsweDNdPV8weDRmOWI5OCgweGY5KStfMHg1MDIyZDVbXzB4NGY5Yjk4KDB4MTEzKV0oLycvZywnaScpKydceDI3JyksXzB4MjdjMmUyW18weDRmOWI5OCgweDEwYSldKHRoaXMsXzB4M2NjNWM4KTt9LF8weDI3YzJlMjt9KTt9fTtfMHgxZWUyN2Yod2luZG93KTt9KCkpKTs=";const s={SharedObject:i,consts:r.v,upoSettings:o.Im,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined,backupCreativeScript:a,backupCreativeScriptForPostMessage:"try { eval(atob('ZnVuY3Rpb24gXzB4MTk0ZShfMHg0OGFmY2EsXzB4M2RjOGIpe3ZhciBfMHgzNmQ2NDI9XzB4MzZkNigpO3JldHVybiBfMHgxOTRlPWZ1bmN0aW9uKF8weDE5NGUyZixfMHgzNmM2YWYpe18weDE5NGUyZj1fMHgxOTRlMmYtMHhlNjt2YXIgXzB4MjE0N2JmPV8weDM2ZDY0MltfMHgxOTRlMmZdO3JldHVybiBfMHgyMTQ3YmY7fSxfMHgxOTRlKF8weDQ4YWZjYSxfMHgzZGM4Yik7fWZ1bmN0aW9uIF8weDM2ZDYoKXt2YXIgXzB4MTM1ZTRkPVsndG9Mb3dlckNhc2UnLCdvYmplY3QnLCdpZWNjdGVzdCcsJ2xlbmd0aCcsJzUyNDg3M1VnVnRKZicsJ09iamVjdCcsJ0lGUkFNRScsJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnLCdpbnNlcnRSdWxlJywnYWRMb2FkZXJfXycsJ2luc2VydEJlZm9yZU8nLCdib2R5JywnY29udGVudFdpbmRvdycsJ2Jhbm5lckFkSHRtbFRleHQnLCdnZXRFbGVtZW50QnlJZCcsJ2phdmFzY3JpcHQ6XHgyNycsJ19fZGVmaW5lR2V0dGVyX18nLCcxMGpLWk1iQycsJ2ViQ2ZnJywnY2hpbGRyZW4nLCdwcm90b3R5cGUnLCdzdXBwb3J0ZWRCcm93c2VyJywnZWJDZmdfXycsJ3N0cmluZycsJ3BhZ2VWaXNpYmxlJywnJDFbJywnY2FsbCcsJzQ4NDI0OTVVVW93dVUnLCdpZnJhbWUnLCdkb2N1bWVudEVsZW1lbnQnLCdhbHJlYWR5SW5qZWN0ZWQnLCd3cmFwSWZyYW1lJywnYXBwbHknLCdpbnNlcnRCZWZvcmUnLCdIVE1MRWxlbWVudCcsJ3Rlc3QnLCdsb2FkJywnN3FOWndFZycsJzE4MDU3OTZiT05EeWonLCdkb2N1bWVudCcsJ3NjcmlwdCcsJ3JlcGxhY2UnLCdfX18nLCdhZExvYWRlcicsJ3dyaXRlJywndGFnTmFtZScsJzQ5MzI1emhBaVBnJywnLmh0bWwnLCd3cml0ZU8nLCdpbWdbY2xhc3NePVx4MjdwbC1sb2FkZXItXHgyN117ZGlzcGxheTpub25lXHgyMCFpbXBvcnRhbnR9Jywnc3R5bGUnLCdjcmVhdGVFbGVtZW50JywnMjJQTnl5UHYnLCdhcHBlbmRDaGlsZE8nLCdpbmRleE9mJywnMTgxNzA0MGxrWEdHYycsJ2hhc093blByb3BlcnR5JywnMmR6VUtkUScsJ3R5cGU6XHgyMFx4MjdJTUFHRVx4MjcnLCcxNTBpZW5WaFgnLCdhZGRFdmVudExpc3RlbmVyJywnY3JlYXRlRWxlbWVudE8nLCdkZWZpbmVQcm9wZXJ0eScsJ2FwcGVuZENoaWxkJywnXSQzJywnbWF0Y2gnLCcxOTMxNTA0SkpUTmNTJywnc3R5bGVTaGVldHMnLCdfX2RlZmluZVNldHRlcl9fJywnYWRIdG1sUGF0aCcsJzE2NDkwNjBZdmNNU2onLCdnZXRFbGVtZW50QnlJZE8nXTtfMHgzNmQ2PWZ1bmN0aW9uKCl7cmV0dXJuIF8weDEzNWU0ZDt9O3JldHVybiBfMHgzNmQ2KCk7fShmdW5jdGlvbihfMHgyM2YyYjEsXzB4NDQ5M2MwKXt2YXIgXzB4M2ZhZTVlPV8weDE5NGUsXzB4NDdhYjQ1PV8weDIzZjJiMSgpO3doaWxlKCEhW10pe3RyeXt2YXIgXzB4NDQ2N2E2PXBhcnNlSW50KF8weDNmYWU1ZSgweGVlKSkvMHgxKihwYXJzZUludChfMHgzZmFlNWUoMHgxMjMpKS8weDIpKy1wYXJzZUludChfMHgzZmFlNWUoMHgxMTApKS8weDMrLXBhcnNlSW50KF8weDNmYWU1ZSgweGU4KSkvMHg0K3BhcnNlSW50KF8weDNmYWU1ZSgweDExOCkpLzB4NSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTI1KSkvMHg2KStwYXJzZUludChfMHgzZmFlNWUoMHgxMGYpKS8weDcqKC1wYXJzZUludChfMHgzZmFlNWUoMHgxMmMpKS8weDgpK3BhcnNlSW50KF8weDNmYWU1ZSgweDEwNSkpLzB4OSoocGFyc2VJbnQoXzB4M2ZhZTVlKDB4ZmIpKS8weGEpK3BhcnNlSW50KF8weDNmYWU1ZSgweDExZSkpLzB4YioocGFyc2VJbnQoXzB4M2ZhZTVlKDB4MTIxKSkvMHhjKTtpZihfMHg0NDY3YTY9PT1fMHg0NDkzYzApYnJlYWs7ZWxzZSBfMHg0N2FiNDVbJ3B1c2gnXShfMHg0N2FiNDVbJ3NoaWZ0J10oKSk7fWNhdGNoKF8weDRkM2JmOCl7XzB4NDdhYjQ1WydwdXNoJ10oXzB4NDdhYjQ1WydzaGlmdCddKCkpO319fShfMHgzNmQ2LDB4NTcxOTYpLChmdW5jdGlvbigpe3ZhciBfMHgxZWUyN2Y9ZnVuY3Rpb24oXzB4NTdhN2M1KXt2YXIgXzB4NGNkOGE5PV8weDE5NGU7aWYoIV8weDU3YTdjNVsnYWxyZWFkeUluamVjdGVkJ10pe18weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMDgpXT0hMHgwO3RyeXt2YXIgXzB4NDU4NGNmPV8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVsnY3JlYXRlRWxlbWVudCddKF8weDRjZDhhOSgweDExYykpOyhfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2hlYWQnXXx8XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGY1KV18fF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHgxMTEpXVtfMHg0Y2Q4YTkoMHgxMDcpXSlbXzB4NGNkOGE5KDB4MTI5KV0oXzB4NDU4NGNmKSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTJkKV1bMHgwXVtfMHg0Y2Q4YTkoMHhmMildKF8weDRjZDhhOSgweDExYiksMHgwKTt9Y2F0Y2goXzB4NDZmZjQwKXt9XzB4NTdhN2M1Wydkb2N1bWVudCddW18weDRjZDhhOSgweGU5KV09ZG9jdW1lbnRbXzB4NGNkOGE5KDB4ZjgpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4ZjgpXT1mdW5jdGlvbihfMHgzOGJmMDYpe3ZhciBfMHgxZDAwNTM9XzB4NGNkOGE5O3RyeXtpZihfMHgxZDAwNTMoMHhlYyk9PT1fMHgzOGJmMDYpcmV0dXJuIF8weDU3YTdjNVtfMHgxZDAwNTMoMHgxMTEpXVtfMHgxZDAwNTMoMHgxMWQpXSgnYicpO31jYXRjaChfMHhmNzU2NSl7fXJldHVybiBfMHg1N2E3YzVbJ2RvY3VtZW50J11bXzB4MWQwMDUzKDB4ZTkpXVtfMHgxZDAwNTMoMHgxMDQpXSh0aGlzLF8weDM4YmYwNik7fSxfMHg1N2E3YzVbJ2RvY3VtZW50J11bJ2NyZWF0ZUVsZW1lbnRPJ109ZG9jdW1lbnRbJ2NyZWF0ZUVsZW1lbnQnXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ2NyZWF0ZUVsZW1lbnQnXT1mdW5jdGlvbihfMHgxZjgwNTkpe3ZhciBfMHgxNDM2OGU9XzB4NGNkOGE5O3RyeXtpZihfMHgxNDM2OGUoMHgxMDYpPT09XzB4MWY4MDU5W18weDE0MzY4ZSgweGVhKV0oKSl7dmFyIF8weDFjMjcyZD1fMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bJ2NhbGwnXSh0aGlzLF8weDFmODA1OSk7cmV0dXJuIF8weDFjMjcyZFtfMHgxNDM2OGUoMHgxMjYpXShfMHgxNDM2OGUoMHgxMGUpLGZ1bmN0aW9uKCl7dmFyIF8weDE4ZjViND1fMHgxNDM2OGU7dHJ5e3RoaXNbXzB4MThmNWI0KDB4ZjYpXVtfMHgxOGY1YjQoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgxOGY1YjQoMHhmNildW18weDE4ZjViNCgweDEwOSldWydjYWxsJ10odGhpc1tfMHgxOGY1YjQoMHhmNildLHRoaXNbXzB4MThmNWI0KDB4ZjYpXSk7fWNhdGNoKF8weDNlM2IzMCl7fX0pLF8weDFjMjcyZDt9fWNhdGNoKF8weDVhOTg2Zil7fXJldHVybiBfMHg1N2E3YzVbXzB4MTQzNjhlKDB4MTExKV1bXzB4MTQzNjhlKDB4MTI3KV1bXzB4MTQzNjhlKDB4MTA0KV0odGhpcyxfMHgxZjgwNTkpO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTFmKV09XzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV0sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTI5KV09ZnVuY3Rpb24oXzB4MWMwNWRjKXt2YXIgXzB4MzlmNjk5PV8weDRjZDhhOSxfMHgzYzFlOGI9XzB4NTdhN2M1WydIVE1MRWxlbWVudCddW18weDM5ZjY5OSgweGZlKV1bXzB4MzlmNjk5KDB4MTFmKV1bXzB4MzlmNjk5KDB4MTA0KV0odGhpcyxfMHgxYzA1ZGMpO3RyeXtmb3IodmFyIF8weDM5NzM1ND0weDA7XzB4Mzk3MzU0PF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5ZjY5OSgweGVkKV07XzB4Mzk3MzU0KyspJ0lGUkFNRSc9PT1fMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDExNyldJiYoXzB4MWMwNWRjW18weDM5ZjY5OSgweGZkKV1bXzB4Mzk3MzU0XVtfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweDEyNildKF8weDM5ZjY5OSgweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4MTk3ZDU2PV8weDM5ZjY5OTt0aGlzW18weDE5N2Q1NigweGY2KV1bXzB4MTk3ZDU2KDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4MTk3ZDU2KDB4ZjYpXVtfMHgxOTdkNTYoMHgxMDkpXVtfMHgxOTdkNTYoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgxOTdkNTYoMHhmNildKTt9KSxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZmQpXVtfMHgzOTczNTRdW18weDM5ZjY5OSgweGY2KV1bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgzOWY2OTkoMHgxMDkpXVtfMHgzOWY2OTkoMHgxMDQpXSh0aGlzLF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmZCldW18weDM5NzM1NF1bXzB4MzlmNjk5KDB4ZjYpXSkpO18weDM5ZjY5OSgweGYwKT09PV8weDFjMDVkY1tfMHgzOWY2OTkoMHgxMTcpXSYmKF8weDFjMDVkY1tfMHgzOWY2OTkoMHhmNildfHxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4MTI2KV0oXzB4MzlmNjk5KDB4MTBlKSxmdW5jdGlvbigpe3ZhciBfMHgzNzYzMTU9XzB4MzlmNjk5O3RoaXNbXzB4Mzc2MzE1KDB4ZjYpXVtfMHgzNzYzMTUoMHgxMDkpXT1fMHgxZWUyN2YsdGhpc1tfMHgzNzYzMTUoMHhmNildW18weDM3NjMxNSgweDEwOSldWydjYWxsJ10odGhpc1tfMHgzNzYzMTUoMHhmNildLHRoaXNbXzB4Mzc2MzE1KDB4ZjYpXSk7fSksXzB4MWMwNWRjWydjb250ZW50V2luZG93J11bXzB4MzlmNjk5KDB4MTA5KV09XzB4MWVlMjdmLF8weDFjMDVkY1snY29udGVudFdpbmRvdyddW18weDM5ZjY5OSgweDEwOSldWydjYWxsJ10odGhpcyxfMHgxYzA1ZGNbXzB4MzlmNjk5KDB4ZjYpXSkpO31jYXRjaChfMHgyZjI2ODEpe31yZXR1cm4gXzB4M2MxZThiO30sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4ZjQpXT1fMHg1N2E3YzVbJ0hUTUxFbGVtZW50J11bXzB4NGNkOGE5KDB4ZmUpXVsnaW5zZXJ0QmVmb3JlJ10sXzB4NTdhN2M1W18weDRjZDhhOSgweDEwYyldW18weDRjZDhhOSgweGZlKV1bXzB4NGNkOGE5KDB4MTBiKV09ZnVuY3Rpb24oXzB4MjliNDE3LF8weDFjMjE5NSl7dmFyIF8weDU2MjUwYj1fMHg0Y2Q4YTksXzB4MWJkMmRmPV8weDU3YTdjNVsnSFRNTEVsZW1lbnQnXVsncHJvdG90eXBlJ11bXzB4NTYyNTBiKDB4ZjQpXVtfMHg1NjI1MGIoMHgxMDQpXSh0aGlzLF8weDI5YjQxNyxfMHgxYzIxOTUpO3RyeXtmb3IodmFyIF8weDNiOTZkYT0weDA7XzB4M2I5NmRhPF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldWydsZW5ndGgnXTtfMHgzYjk2ZGErKyknSUZSQU1FJz09PV8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bXzB4NTYyNTBiKDB4MTE3KV0mJihfMHgyOWI0MTdbJ2NoaWxkcmVuJ11bXzB4M2I5NmRhXVsnY29udGVudFdpbmRvdyddfHxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweDEyNildKF8weDU2MjUwYigweDEwZSksZnVuY3Rpb24oKXt2YXIgXzB4ZDMxOThiPV8weDU2MjUwYjt0aGlzW18weGQzMTk4YigweGY2KV1bXzB4ZDMxOThiKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXVtfMHhkMzE5OGIoMHgxMDkpXVtfMHhkMzE5OGIoMHgxMDQpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHhkMzE5OGIoMHhmNildKTt9KSxfMHgyOWI0MTdbXzB4NTYyNTBiKDB4ZmQpXVtfMHgzYjk2ZGFdWydjb250ZW50V2luZG93J11bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1snY2hpbGRyZW4nXVtfMHgzYjk2ZGFdW18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV1bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmZCldW18weDNiOTZkYV1bJ2NvbnRlbnRXaW5kb3cnXSkpOydJRlJBTUUnPT09XzB4MjliNDE3W18weDU2MjUwYigweDExNyldJiYoXzB4MjliNDE3W18weDU2MjUwYigweGY2KV18fF8weDI5YjQxN1tfMHg1NjI1MGIoMHgxMjYpXSgnbG9hZCcsZnVuY3Rpb24oKXt2YXIgXzB4M2UwNWFmPV8weDU2MjUwYjt0aGlzWydjb250ZW50V2luZG93J11bXzB4M2UwNWFmKDB4MTA5KV09XzB4MWVlMjdmLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXVsnd3JhcElmcmFtZSddWydjYWxsJ10odGhpc1snY29udGVudFdpbmRvdyddLHRoaXNbXzB4M2UwNWFmKDB4ZjYpXSk7fSksXzB4MjliNDE3W18weDU2MjUwYigweGY2KV1bXzB4NTYyNTBiKDB4MTA5KV09XzB4MWVlMjdmLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzLF8weDI5YjQxN1tfMHg1NjI1MGIoMHhmNildKSk7fWNhdGNoKF8weDE0ZDI1OSl7fXJldHVybiBfMHgxYmQyZGY7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bJ3dyaXRlTyddPV8weDU3YTdjNVsnZG9jdW1lbnQnXVtfMHg0Y2Q4YTkoMHgxMTYpXSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4MTExKV1bXzB4NGNkOGE5KDB4MTE2KV09ZnVuY3Rpb24oXzB4MmI0NWJiKXt2YXIgXzB4MTc4MTBlPV8weDRjZDhhOTt0cnl7aWYoXzB4MmI0NWJiJiYvZGF0YVwtZGNtXC1yZW5kZXJpbmdcLW1vZGVccz89XHM/WyciXWlmcmFtZVsnIl0vW18weDE3ODEwZSgweDEwZCldKF8weDJiNDViYikpe3ZhciBfMHg1YTg4MTY9XzB4MmI0NWJiW18weDE3ODEwZSgweDEyYildKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDRmMWYzMT1fMHg1YTg4MTZbMHgwXVtfMHgxNzgxMGUoMHgxMTMpXShfMHgxNzgxMGUoMHgxMDYpLF8weDE3ODEwZSgweDExMikpO18weDJiNDViYj1fMHgyYjQ1YmJbXzB4MTc4MTBlKDB4MTEzKV0oXzB4NWE4ODE2LF8weDRmMWYzMSk7fWlmKF8weDJiNDViYiYmL3tbXntdK3JlbmRlckFzOiBcXHgyN0JBQ0tVUF9JTUFHRVxceDI3W159XSt9L1tfMHgxNzgxMGUoMHgxMGQpXShfMHgyYjQ1YmIpKXt2YXIgXzB4NDk2MWExPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMmIpXSgve1tee10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXn1dK30vKVsweDBdLF8weDJjZDE1ZT0vKFsuXFNcc10rcHJpbWFyeUZpbGVzOiApKFxbW15cW10rcmVuZGVyQXM6IFxceDI3QkFDS1VQX0lNQUdFXFx4MjdbXlxdXStcXSkoWy5cU1xzXSspL2c7XzB4MmI0NWJiPV8weDJiNDViYltfMHgxNzgxMGUoMHgxMTMpXShfMHgyY2QxNWUsXzB4MTc4MTBlKDB4MTAzKStfMHg0OTYxYTErXzB4MTc4MTBlKDB4MTJhKSk7fV8weDJiNDViYiYmXzB4MmI0NWJiWydpbmRleE9mJ10oXzB4MTc4MTBlKDB4ZjEpKT4tMHgxJiYoXzB4MmI0NWJiPV8weDJiNDViYlsncmVwbGFjZSddKF8weDE3ODEwZSgweGYxKSxfMHgxNzgxMGUoMHgxMjQpKSk7fWNhdGNoKF8weDI5NTI1Nil7fV8weDU3YTdjNVtfMHgxNzgxMGUoMHgxMTEpXVtfMHgxNzgxMGUoMHgxMWEpXVtfMHgxNzgxMGUoMHgxMDQpXSh0aGlzLF8weDJiNDViYik7fSxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmMpXT12b2lkIDB4MCxfMHg1N2E3YzVbJ2ViQ2ZnX18nXT12b2lkIDB4MCxfMHg1N2E3YzVbXzB4NGNkOGE5KDB4ZmEpXShfMHg0Y2Q4YTkoMHhmYyksZnVuY3Rpb24oXzB4NDZmNTZhKXt2YXIgXzB4NDNkZTYwPV8weDRjZDhhOTtyZXR1cm4gXzB4NTdhN2M1W18weDQzZGU2MCgweDEwMCldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdlYkNmZycsZnVuY3Rpb24oXzB4MTRiMWEyKXt2YXIgXzB4NGRhMjJmPV8weDRjZDhhOTtyZXR1cm4gXzB4MTRiMWEyW18weDRkYTIyZigweGU3KV09JycsXzB4NTdhN2M1W18weDRkYTIyZigweDEwMCldPV8weDE0YjFhMjt9KSxPYmplY3RbXzB4NGNkOGE5KDB4ZmUpXVtfMHg0Y2Q4YTkoMHhlNildKF8weDRjZDhhOSgweGZmKSxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiEweDE7fTt9KSxfMHg0NTg0Y2Y9ZnVuY3Rpb24oXzB4Mzc5ZTU0LF8weDJjMDA2OCl7dmFyIF8weDFjNjU5Nj1fMHg0Y2Q4YTk7XzB4NTdhN2M1W18weDFjNjU5NigweGVmKV1bXzB4MWM2NTk2KDB4MTI4KV0oXzB4NTdhN2M1WydPYmplY3QnXVtfMHgxYzY1OTYoMHhmZSldLF8weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXt2YXIgXzB4NTIzNGU2PV8weDFjNjU5NjtyZXR1cm4gdGhpc1tfMHg1MjM0ZTYoMHgxMTQpK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHg1MWUwMGIpe3ZhciBfMHhjN2MwNTA9XzB4MWM2NTk2O18weDUxZTAwYj1fMHgyYzAwNjgodGhpcyxfMHg1MWUwMGIpLF8weDU3YTdjNVtfMHhjN2MwNTAoMHhlZildW18weGM3YzA1MCgweDEyOCldKHRoaXMsXzB4Mzc5ZTU0LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDM3OWU1NF07fSwnc2V0JzpmdW5jdGlvbihfMHgyZjQzNDMpe3ZhciBfMHgxYmQ1ZmY9XzB4YzdjMDUwO18weDJmNDM0Mz1fMHgyYzAwNjgodGhpcyxfMHgyZjQzNDMpLHRoaXNbXzB4MWJkNWZmKDB4MTE0KStfMHgzNzllNTRdPV8weDJmNDM0Mzt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDQ1N2IyOD1fMHg1MWUwMGI7XzB4NTdhN2M1W18weGM3YzA1MCgweGVmKV1bXzB4YzdjMDUwKDB4MTI4KV0odGhpcyxfMHhjN2MwNTAoMHgxMTQpK18weDM3OWU1NCx7J2dldCc6ZnVuY3Rpb24oKXtyZXR1cm4gXzB4NDU3YjI4O30sJ3NldCc6ZnVuY3Rpb24oXzB4MjVmNGFjKXtfMHg0NTdiMjg9XzB4MjVmNGFjPV8weDJjMDA2OCh0aGlzLF8weDI1ZjRhYyk7fSwnZW51bWVyYWJsZSc6ITB4MX0pO30sJ2VudW1lcmFibGUnOiEweDEsJ2NvbmZpZ3VyYWJsZSc6ITB4MX0pO30sXzB4NDU4NGNmKF8weDRjZDhhOSgweDEwMiksZnVuY3Rpb24oXzB4MjQ5NTBkLF8weGZkMzQ1Nil7dmFyIF8weDEzNTAxMz1fMHg0Y2Q4YTk7cmV0dXJuIF8weDEzNTAxMygweGViKT09PXR5cGVvZiBfMHgyNDk1MGQmJl8weDI0OTUwZFtfMHgxMzUwMTMoMHgxMjIpXShfMHgxMzUwMTMoMHhmZikpJiYoXzB4MjQ5NTBkW18weDEzNTAxMygweGZmKV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weGZkMzQ1Njt9KSxfMHg0NTg0Y2YoJ2lzJyxmdW5jdGlvbihfMHg0YmUyYjQsXzB4NWQ3ZDY1KXt2YXIgXzB4Mzg1ZWM4PV8weDRjZDhhOTtyZXR1cm4nb2JqZWN0Jz09PXR5cGVvZiBfMHg0YmUyYjQmJl8weDRiZTJiNFtfMHgzODVlYzgoMHgxMjIpXShfMHgzODVlYzgoMHhmZikpJiYoXzB4NGJlMmI0WydzdXBwb3J0ZWRCcm93c2VyJ109ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDVkN2Q2NTt9KTt2YXIgXzB4NTAyMmQ1PXZvaWQgMHgwO18weDQ1ODRjZihfMHg0Y2Q4YTkoMHhmNyksZnVuY3Rpb24oXzB4MjUzNDI2LF8weDMwMjc1Yyl7cmV0dXJuIF8weDUwMjJkNT1fMHgzMDI3NWM7fSksXzB4NTdhN2M1W18weDRjZDhhOSgweDExNSldPXZvaWQgMHgwLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhmYSldKF8weDRjZDhhOSgweDExNSksZnVuY3Rpb24oKXt2YXIgXzB4M2Y4NWU2PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHgzZjg1ZTYoMHhmMyldO30pLF8weDU3YTdjNVtfMHg0Y2Q4YTkoMHhlNildKCdhZExvYWRlcicsZnVuY3Rpb24oXzB4MjdjMmUyKXt2YXIgXzB4NDdjNWU0PV8weDRjZDhhOTtyZXR1cm4gdGhpc1tfMHg0N2M1ZTQoMHhmMyldPWZ1bmN0aW9uKCl7dmFyIF8weDRmOWI5OD1fMHg0N2M1ZTQsXzB4M2NjNWM4PWFyZ3VtZW50czstMHgxPF8weDNjYzVjOFsweDNdW18weDRmOWI5OCgweDEyMCldKF8weDRmOWI5OCgweDExOSkpJiZfMHg0ZjliOTgoMHgxMDEpPT09dHlwZW9mIF8weDUwMjJkNSYmKF8weDNjYzVjOFsweDNdPV8weDRmOWI5OCgweGY5KStfMHg1MDIyZDVbXzB4NGY5Yjk4KDB4MTEzKV0oLycvZywnaScpKydceDI3JyksXzB4MjdjMmUyW18weDRmOWI5OCgweDEwYSldKHRoaXMsXzB4M2NjNWM4KTt9LF8weDI3YzJlMjt9KTt9fTtfMHgxZWUyN2Yod2luZG93KTt9KCkpKTs=')) } catch (err) {}"}},143:(e,t,n)=>{"use strict";n.d(t,{VP:()=>r,k$:()=>o,Im:()=>a});var i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true"),o=!0,a={acceptableURLParam:"upapi=true",timeout:3e3,refreshTimeout:3e3,staticDomain:i,whitelistingIFrameSettings:{url:r,isOurOriginWhitelistingIFrame:o,publisherDomainWhitelistingIFrameCandidatesSrcs:["/robots.txt","/ads.txt"]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1},recoveryScriptVersion:"2.9.132"}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(614),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(868),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function initPbjs(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjIwLjIKVXBkYXRlZCA6IDIwMjItMDItMTYqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzgwOjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTk1MSl9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBSfSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9ayx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3NlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pdGUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChOKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKE4oZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PU4sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihQKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9cSx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPUcsdC5sb2dNZXNzYWdlPUwsdC5sb2dJbmZvPVcsdC5sb2dXYXJuPUYsdC5sb2dFcnJvcj16LHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBFfSx0LmRlYnVnVHVybmVkT249SCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGplKEcoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9Syx0LmlzRm49Six0LmlzU3RyPVksdC5pc0FycmF5PVEsdC5pc051bWJlcj0kLHQuaXNQbGFpbk9iamVjdD1YLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVosdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZWUsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKFooZSkpcmV0dXJuITE7aWYoSihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoWihlKSlyZXR1cm5bXTtpZihKKGUubWFwKSlyZXR1cm4gZS5tYXAodCk7dmFyIG49W107cmV0dXJuIGVlKGUsKGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pKSxufSx0Lmhhc093bj10ZSx0Lmluc2VydEVsZW1lbnQ9bmUsdC50cmlnZ2VyUGl4ZWw9cmUsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09Ty5TMlMuU1JDJiZuJiZDLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1EKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsQy5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1pZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1vZSx0LmdldFZhbHVlU3RyaW5nPWFlLHQudW5pcXVlcz1jZSx0LmZsYXR0ZW49dWUsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3ZhciBuO3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciByPWMoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lfSkpfSkpO3JldHVybiByJiYobj1yKSxyfSkpLG59LHQuZ2V0S2V5cz1zZSx0LmdldFZhbHVlPWRlLHQuZ2V0S2V5QnlWYWx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10KXJldHVybiBufSx0LmdldEJpZGRlckNvZGVzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLnJlZHVjZSh1ZSxbXSl9KSkucmVkdWNlKHVlKS5maWx0ZXIoY2UpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mZSx0LmlzQXBuR2V0VGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJkood2luZG93LmFwbnRhZy5nZXRUYWcpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKHQsImdldExhdGVzdEhpZ2hlc3RDcG1CaWQiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCk7dC0tO3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuZGVlcENsb25lPXZlLHQuaW5JZnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEMuZ2V0V2luZG93U2VsZigpIT09Qy5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19LHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWR8Y3Jpb3N8Znhpb3MpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC5yZXBsYWNlQ2xpY2tUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wke0NMSUNLVEhST1VHSH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5nZXRQZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3cmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKXx8MH0sdC5oYXNEZXZpY2VBY2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXIuYi5nZXRDb25maWcoImRldmljZUFjY2VzcyIpfSx0LmNoZWNrQ29va2llU3VwcG9ydD15ZSx0LmRlbGF5RXhlY3V0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodDwxKXRocm93IG5ldyBFcnJvcigibnVtUmVxdWlyZWRDYWxscyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBHb3QgIi5jb25jYXQodCkpO3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7KytuPT09dCYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0Lmdyb3VwQnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuKGVbblt0XV09ZVtuW3RdXXx8W10pLnB1c2gobiksZX0pLHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGgodCx5KHt9LG4sZVtuXSkpfSkse30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkodCxlKX0pKSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJighbnx8ZS5hZFVuaXRDb2RlPT09bil9KSkubGVuZ3RoPjB9KSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KSkucmVkdWNlKHVlLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXN8fHt9fSkpfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZShlLHQpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9bWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7ZmUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxtZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPU9lLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkpLnJlcGxhY2UoL15fLywiIil9LHQuY2xlYW5PYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSksdH0pLHt9KX0sdC5waWNrPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT1tKGUpKXJldHVybnt9O3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24obixyLGkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiBuO3ZhciBvPXIsYT1yLm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7YSYmKHI9YVsxXSxvPWFbMl0pO3ZhciBjPWVbcl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbaSsxXSYmKGM9dFtpKzFdKGMsbikpLHZvaWQgMCE9PWMmJihuW29dPWMpLG59KSx7fSl9LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixuPVtdO3JldHVybiBlZShlLChmdW5jdGlvbihlLHIpe2lmKFEoZSkpe3ZhciBpPVtdO2VlKGUsKGZ1bmN0aW9uKGUpeygoZT1hZSh0KyIuIityLGUpKXx8IiI9PT1lKSYmaS5wdXNoKGUpfSkpLGU9aX1lbHNle2lmKCFZKGU9YWUodCsiLiIrcixlKSkpcmV0dXJuO2U9W2VdfW4ucHVzaCh7a2V5OnIsdmFsdWU6ZX0pfSkpLG59LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByLGk7dFtuXSYmKEooZVtuXSk/dFtuXT1lW25dKHRbbl0pOnRbbl09KHI9ZVtuXSxpPXRbbl0sInN0cmluZyI9PT1yP2kmJmkudG9TdHJpbmcoKToibnVtYmVyIj09PXI/TnVtYmVyKGkpOmkpLGlzTmFOKHRbbl0pJiZkZWxldGUgdC5rZXkpfSkpLHR9LHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiBRKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPZShlKX0pKX0sdC5maWxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQ7cisrKXt2YXIgaT1YKGUpP3ZlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbZV08bltlXT8xOnRbZV0+bltlXT8tMTowfX0sdC5wYXJzZVFTPWplLHQuZm9ybWF0UVM9U2UsdC5wYXJzZVVybD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDpDLnBhcnNlUVMobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYnVpbGRVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQoQy5mb3JtYXRRUyhlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfSx0LmRlZXBFcXVhbD1FZSx0Lm1lcmdlRGVlcD1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtpZighci5sZW5ndGgpcmV0dXJuIHQ7dmFyIG89ci5zaGlmdCgpO2lmKFgodCkmJlgobykpZm9yKHZhciBhIGluIG8pWChvW2FdKT8odFthXXx8aCh0LHkoe30sYSx7fSkpLGUodFthXSxvW2FdKSk6UShvW2FdKSYmdFthXT9RKHRbYV0pJiYodFthXT10W2FdLmNvbmNhdChvW2FdKSk6aCh0LHkoe30sYSxvW2FdKSk7cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0XS5jb25jYXQocikpfSx0LmN5cmI1M0hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1mdW5jdGlvbihlLHQpe2lmKEooTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTY4KSxvPW4ubihpKSxhPW4oMTEpLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDQ3KSxmPW4oMTY5KTtuLmQodCwiZGVlcEFjY2VzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYX0pKTt2YXIgbD1uKDE3MCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGIoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIE89big1KSxqPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsUz1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxFPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUubG9nKSxBPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUuaW5mbyksVD1Cb29sZWFuKFMmJndpbmRvdy5jb25zb2xlLndhcm4pLEk9Qm9vbGVhbihTJiZ3aW5kb3cuY29uc29sZS5lcnJvciksdz1uKDEwKSxDPXtjaGVja0Nvb2tpZVN1cHBvcnQ6eWUsY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw6b2UsZ2V0V2luZG93U2VsZjpNLGdldFdpbmRvd1RvcDpxLGdldFdpbmRvd0xvY2F0aW9uOkcsaW5zZXJ0VXNlclN5bmNJZnJhbWU6aWUsaW5zZXJ0RWxlbWVudDpuZSxpc0ZuOkosdHJpZ2dlclBpeGVsOnJlLGxvZ0Vycm9yOnosbG9nV2FybjpGLGxvZ01lc3NhZ2U6TCxsb2dJbmZvOlcscGFyc2VRUzpqZSxmb3JtYXRRUzpTZSxkZWVwRXF1YWw6RWV9LFI9e307dmFyIF8sVT17fSxCPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LmJpbmQobnVsbCwxLFUpKCk9PT1VP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxuLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9fSx4PShfPTAsZnVuY3Rpb24oKXtyZXR1cm4rK199KTtmdW5jdGlvbiBEKCl7cmV0dXJuIHgoKStNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMil9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZT8oZV4od2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpKT4+ZS80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGspfWZ1bmN0aW9uIE4oZSl7aWYoUChlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBQKGUpe3JldHVybiBRKGUpJiYyPT09ZS5sZW5ndGgmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pfWZ1bmN0aW9uIHEoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiBNKCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIEcoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEwoKXtIKCkmJkUmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIFcoKXtIKCkmJkEmJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLFYoYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBGKCl7SCgpJiZUJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiV0FSTklORzoiKSksdy5lbWl0KE8uRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiB6KCl7SCgpJiZJJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIkVSUk9SOiIpKSx3LmVtaXQoTy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiBWKGUsdCl7ZT1bXS5zbGljZS5jYWxsKGUpO3ZhciBuPXIuYi5nZXRDdXJyZW50QmlkZGVyKCk7cmV0dXJuIHQmJmUudW5zaGlmdCh0KSxuJiZlLnVuc2hpZnQoaSgiI2FhYSIpKSxlLnVuc2hpZnQoaSgiIzNiODhjMyIpKSxlLnVuc2hpZnQoIiVjUHJlYmlkIisobj8iJWMiLmNvbmNhdChuKToiIikpLGU7ZnVuY3Rpb24gaShlKXtyZXR1cm4iZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIi5jb25jYXQoZSwiOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7Iil9fWZ1bmN0aW9uIEgoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBqLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIEooZSl7cmV0dXJuIEsoZSwiRnVuY3Rpb24iKX1mdW5jdGlvbiBZKGUpe3JldHVybiBLKGUsIlN0cmluZyIpfWZ1bmN0aW9uIFEoZSl7cmV0dXJuIEsoZSwiQXJyYXkiKX1mdW5jdGlvbiAkKGUpe3JldHVybiBLKGUsIk51bWJlciIpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIEsoZSwiT2JqZWN0Iil9ZnVuY3Rpb24gWihlKXtpZighZSlyZXR1cm4hMDtpZihRKGUpfHxZKGUpKXJldHVybiEoZS5sZW5ndGg+MCk7Zm9yKHZhciB0IGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGVlKGUsdCl7aWYoIVooZSkpe2lmKEooZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKHI+MClmb3IoO248cjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOnZvaWQgMCE9PWVbdF0mJmUuY29uc3RydWN0b3IucHJvdG90eXBlW3RdIT09ZVt0XX1mdW5jdGlvbiBuZShlLHQsbixyKXt2YXIgaTtlJiZlLnNyYyYmKGUuc3JjPWQuYyhlLnNyYykpLHQ9dHx8ZG9jdW1lbnQsaT1uP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUobik6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpO3RyeXtpZigoaT1pLmxlbmd0aD9pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKSkubGVuZ3RoKXtpPWlbMF07dmFyIG89cj9udWxsOmkuZmlyc3RDaGlsZDtyZXR1cm4gaS5pbnNlcnRCZWZvcmUoZSxvKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiByZShlLHQpe3ZhciBuPWsoKSxyPXtldmVudDoidXNlci1zeW5jIixtZXRhOntmaXJlZDohMCx1aWQ6bn19O2QuZShudWxsLCJ0cmlnZ2VyaW5nLXBpeGVsLWZpcmVkIixbXSxyKSxkLmEoKS50aGVuKChmdW5jdGlvbihyKXt2YXIgaT1yLmZyYW1lO2lmKHIuaXNCVFNhZmVGcmFtZURvbWFpbil7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbiBlKG4pe2lmKG4uc291cmNlPT09aS5jb250ZW50V2luZG93KXt2YXIgcjt0cnl7cj1KU09OLnBhcnNlKG4uZGF0YSl9Y2F0Y2goZSl7fXImJiJkb25lVHJpZ2dlcmluZ1BpeGVsIj09ci50eXBlJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGUpLHQmJkMuaXNGbih0KSYmdCgpKX19KSk7dmFyIG89ImxldCBpbWcgPSBuZXcgSW1hZ2UoKTsgZnVuY3Rpb24gZG9uZSgpIHsgdG9wLnBvc3RNZXNzYWdlKHsgdHlwZTogXCJkb25lVHJpZ2dlcmluZ1BpeGVsXCIgfSwgXCIqXCIpIH07IGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZG9uZSk7IGltZy5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGRvbmUpOyBpbWcuc3JjID0gYXRvYignIitidG9hKGUpKyInKTsiO2kuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpvfSwiKiIpO3ZhciBhPXtldmVudDoidXNlci1zeW5jIixtZXRhOntzdWNjZXNzOiEwLHVpZDpufX07ZC5lKG51bGwsInRyaWdnZXJpbmctcGl4ZWwtc3VjY2VzcyIsW10sYSl9ZWxzZXt2YXIgYz1uZXcgaS5jb250ZW50V2luZG93LkltYWdlO3QmJkMuaXNGbih0KSYmKGMuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdCksYy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsdCkpLGMuc3JjPWV9fSkpfWZ1bmN0aW9uIGllKGUsdCl7dmFyIG49Qy5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbChlLCExLCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luIikscj1rKCksaT17ZXZlbnQ6InVzZXItc3luYyIsbWV0YTp7ZmlyZWQ6ITAsdWlkOnJ9fTtkLmUobnVsbCwiaW5zZXJ0LXVzZXItc3luYy1pZnJhbWUtZmlyZWQiLFtdLGkpLGQuYSgpLnRoZW4oKGZ1bmN0aW9uKGUpe3ZhciBpPWUuZnJhbWU7aWYoZS5pc0JUU2FmZUZyYW1lRG9tYWluKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGUobil7aWYobi5zb3VyY2U9PT1pLmNvbnRlbnRXaW5kb3cpe3ZhciByO3RyeXtyPUpTT04ucGFyc2Uobi5kYXRhKX1jYXRjaChlKXt9ciYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1yLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksdCYmQy5pc0ZuKHQpJiZ0KCkpfX0pKTt2YXIgbz0ibGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBkaXYuaW5uZXJIVE1MID0gYXRvYignIitidG9hKG4pKyInKTsgbGV0IGlmcmFtZSA9IGRpdi5maXJzdENoaWxkOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaWZyYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IHRyeSB7IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdodG1sJylbMF0uaW5zZXJ0QmVmb3JlKGlmcmFtZSwgbnVsbCk7IH0gY2F0Y2ggKGVycikgeyB9IjtpLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2Uoe3R5cGU6ImV2YWwiLGNvZGU6b30sIioiKTt2YXIgYT17ZXZlbnQ6InVzZXItc3luYyIsbWV0YTp7c3VjY2VzczohMCx1aWQ6cn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1zdWNjZXNzIixbXSxhKX1lbHNle3ZhciBjPWkuY29udGVudFdpbmRvdy5kb2N1bWVudCx1PWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5pbm5lckhUTUw9bjt2YXIgcz11LmZpcnN0Q2hpbGQ7dCYmQy5pc0ZuKHQpJiYocy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxzLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksQy5pbnNlcnRFbGVtZW50KHMsYywiaHRtbCIsITApfX0pKX1mdW5jdGlvbiBvZShlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIiO3JldHVybiBlPyh0JiYoZT1lbmNvZGVVUkkoZSkpLG4mJihuPSdzYW5kYm94PSInLmNvbmNhdChuLCciJykpLCI8aWZyYW1lICIuY29uY2F0KG4sJyBpZD0iJykuY29uY2F0KEQoKSwnIlxuICAgICAgZnJhbWVib3JkZXI9IjAiXG4gICAgICBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSJcbiAgICAgIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiXG4gICAgICB3aWR0aD0iMCIgaHNwYWNlPSIwIiB2c3BhY2U9IjAiIGhlaWdodD0iMCJcbiAgICAgIHN0eWxlPSJoZWlnaHQ6MHB4O3dpZHRoOjBweDtkaXNwbGF5Om5vbmU7IlxuICAgICAgc2Nyb2xsaW5nPSJubyJcbiAgICAgIHNyYz0iJykuY29uY2F0KGUsJyI+XG4gICAgPC9pZnJhbWU+JykpOiIifWZ1bmN0aW9uIGFlKGUsdCxuKXtyZXR1cm4gbnVsbD09dD9uOlkodCk/dDokKHQpP3QudG9TdHJpbmcoKTp2b2lkIEMubG9nV2FybigiVW5zdXBvcnRlZCB0eXBlIGZvciBwYXJhbTogIitlKyIgcmVxdWlyZWQgdHlwZTogU3RyaW5nIil9ZnVuY3Rpb24gY2UoZSx0LG4pe3JldHVybiBuLmluZGV4T2YoZSk9PT10fWZ1bmN0aW9uIHVlKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfWZ1bmN0aW9uIHNlKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKX1mdW5jdGlvbiBkZShlLHQpe3JldHVybiBlW3RdfWZ1bmN0aW9uIGZlKCl7aWYod2luZG93Lmdvb2dsZXRhZyYmSih3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcykmJkood2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cykpcmV0dXJuITB9dmFyIGxlPWJlKCJ0aW1lVG9SZXNwb25kIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT50fSkpLHBlPWJlKCJyZXNwb25zZVRpbWVzdGFtcCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dH0pKSxnZT1iZSgicmVzcG9uc2VUaW1lc3RhbXAiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPHR9KSk7ZnVuY3Rpb24gYmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gbi5jcG09PT1yLmNwbT90KG5bZV0scltlXSk/cjpuOm4uY3BtPHIuY3BtP3I6bn19ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIG8oKShlKX1mdW5jdGlvbiB5ZSgpe2lmKHdpbmRvdy5uYXZpZ2F0b3IuY29va2llRW5hYmxlZHx8ZG9jdW1lbnQuY29va2llLmxlbmd0aClyZXR1cm4hMH12YXIgaGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRBZFVuaXRQYXRoKCk9PT10fHxlLmdldFNsb3RFbGVtZW50SWQoKT09PXR9O2Z1bmN0aW9uIG1lKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaGUodCxlKX19ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIE51bWJlci5pc0ludGVnZXI/TnVtYmVyLmlzSW50ZWdlcihlKToibnVtYmVyIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX1mdW5jdGlvbiBqZShlKXtyZXR1cm4gZT9lLnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXAodC5zcGxpdCgiPSIpLDIpLHI9blswXSxpPW5bMV07cmV0dXJuL1xbXF0kLy50ZXN0KHIpPyhlW3I9ci5yZXBsYWNlKCJbXSIsIiIpXT1lW3JdfHxbXSxlW3JdLnB1c2goaSkpOmVbcl09aXx8IiIsZX0pLHt9KTp7fX1mdW5jdGlvbiBTZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlW3RdKT9lW3RdLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KHQsIltdPSIpLmNvbmNhdChlKX0pKS5qb2luKCImIik6IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZVt0XSl9KSkuam9pbigiJiIpfWZ1bmN0aW9uIEVlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7aWYoIm9iamVjdCI9PT1tKGUpJiZudWxsIT09ZSYmIm9iamVjdCI9PT1tKHQpJiZudWxsIT09dCl7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbiBpbiBlKXtpZighdC5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4hMTtpZighRWUoZVtuXSx0W25dKSlyZXR1cm4hMX1yZXR1cm4hMH1yZXR1cm4hMX19LDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHQucmVnaXN0ZXJCaWRkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkuaXNBcnJheShlLnN1cHBvcnRlZE1lZGlhVHlwZXMpP3tzdXBwb3J0ZWRNZWRpYVR5cGVzOmUuc3VwcG9ydGVkTWVkaWFUeXBlc306dm9pZCAwO2Z1bmN0aW9uIG4oZSl7dmFyIG49dyhlKTtpLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG4sZS5jb2RlLHQpfW4oZSksQXJyYXkuaXNBcnJheShlLmFsaWFzZXMpJiZlLmFsaWFzZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHIsbyxhPXQ7T2JqZWN0KHkuaXNQbGFpbk9iamVjdCkodCkmJihhPXQuY29kZSxyPXQuZ3ZsaWQsbz10LnNraXBQYnNBbGlhc2luZyksaS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbYV09ZS5jb2RlLG4oQSh7fSxlLHtjb2RlOmEsZ3ZsaWQ6cixza2lwUGJzQWxpYXNpbmc6b30pKX0pKX0sdC5uZXdCaWRkZXI9dyxuLmQodCwicmVnaXN0ZXJTeW5jSW5uZXIiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLHQucHJlbG9hZEJpZGRlck1hcHBpbmdGaWxlPVIsdC5nZXRJYWJTdWJDYXRlZ29yeT1mdW5jdGlvbihlLHQpe3ZhciBuPWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKG4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIHI9bi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCksbz1yLmxvY2FsU3RvcmFnZUtleT9yLmxvY2FsU3RvcmFnZUtleTpuLmdldEJpZGRlckNvZGUoKSxhPVQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uobyk7aWYoYSl7dHJ5e2E9SlNPTi5wYXJzZShhKX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgbWFwcGluZyBkYXRhIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIikpfXJldHVybiBhLm1hcHBpbmdbdF0/YS5tYXBwaW5nW3RdOm51bGx9fX0sdC5pc1ZhbGlkPV87dmFyIHI9big4MyksaT1uKDgpLG89bigzKSxhPW4oNDMpLGM9big2MSksdT1uKDM4KSxzPW4oMjIpLGQ9big1KSxmPW4ubihkKSxsPW4oMTApLHA9bi5uKGwpLGc9bigxMiksYj1uLm4oZyksdj1uKDQpLHk9bigwKSxoPW4oMiksbT1uKDkpLE89big3KTtmdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBTKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBTKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBTKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gRShlKXtyZXR1cm4oRT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIEEoKXtyZXR1cm4oQT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBUPU9iamVjdChPLmEpKCJiaWRkZXJGYWN0b3J5IiksST1bInJlcXVlc3RJZCIsImNwbSIsInR0bCIsImNyZWF0aXZlSWQiLCJuZXRSZXZlbnVlIiwiY3VycmVuY3kiXTtmdW5jdGlvbiB3KGUpe3JldHVybiBBKG5ldyByLmEoZS5jb2RlKSx7Z2V0U3BlYzpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZnJlZXplKGUpfSxyZWdpc3RlclN5bmNzOnQsY2FsbEJpZHM6ZnVuY3Rpb24ocixjLHUscyxkLGwpe2lmKEFycmF5LmlzQXJyYXkoci5iaWRzKSl7dmFyIGc9e30sYj1bXSx2PXIuYmlkcy5maWx0ZXIobik7aWYoMCE9PXYubGVuZ3RoKXt2YXIgaD17fTt2LmZvckVhY2goKGZ1bmN0aW9uKGUpe2hbZS5iaWRJZF09ZSxlLmFkVW5pdENvZGV8fChlLmFkVW5pdENvZGU9ZS5wbGFjZW1lbnRDb2RlKX0pKTt2YXIgbT1lLmJ1aWxkUmVxdWVzdHModixyKTtpZihtJiYwIT09bS5sZW5ndGgpe0FycmF5LmlzQXJyYXkobSl8fChtPVttXSk7dmFyIE89T2JqZWN0KHkuZGVsYXlFeGVjdXRpb24pKGwoaiksbS5sZW5ndGgpO20uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHAuYS5lbWl0KGYuYS5FVkVOVFMuQkVGT1JFX0JJRERFUl9IVFRQLHIpfSkpLG0uZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKHQubWV0aG9kKXtjYXNlIkdFVCI6cygiIi5jb25jYXQodC51cmwpLmNvbmNhdChmdW5jdGlvbihlKXtpZihlKXJldHVybiI/Ii5jb25jYXQoIm9iamVjdCI9PT1FKGUpP09iamVjdCh5LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKShlKTplKTtyZXR1cm4iIn0odC5kYXRhKSkse3N1Y2Nlc3M6bChuKSxlcnJvcjpvfSx2b2lkIDAsQSh7bWV0aG9kOiJHRVQiLHdpdGhDcmVkZW50aWFsczohMH0sdC5vcHRpb25zKSk7YnJlYWs7Y2FzZSJQT1NUIjpzKHQudXJsLHtzdWNjZXNzOmwobiksZXJyb3I6b30sInN0cmluZyI9PXR5cGVvZiB0LmRhdGE/dC5kYXRhOkpTT04uc3RyaW5naWZ5KHQuZGF0YSksQSh7bWV0aG9kOiJQT1NUIixjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSx0Lm9wdGlvbnMpKTticmVhaztkZWZhdWx0Ok9iamVjdCh5LmxvZ1dhcm4pKCJTa2lwcGluZyBpbnZhbGlkIHJlcXVlc3QgZnJvbSAiLmNvbmNhdChlLmNvZGUsIi4gUmVxdWVzdCB0eXBlICIpLmNvbmNhdCh0LnR5cGUsIiBtdXN0IGJlIEdFVCBvciBQT1NUIikpLE8oKX1mdW5jdGlvbiBuKG4saSl7ZChlLmNvZGUpO3RyeXtuPUpTT04ucGFyc2Uobil9Y2F0Y2goZSl7fXZhciBvO249e2JvZHk6bixoZWFkZXJzOntnZXQ6aS5nZXRSZXNwb25zZUhlYWRlci5iaW5kKGkpfX0sYi5wdXNoKG4pO3RyeXtvPWUuaW50ZXJwcmV0UmVzcG9uc2Uobix0KX1jYXRjaCh0KXtyZXR1cm4gT2JqZWN0KHkubG9nRXJyb3IpKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgZmFpbGVkIHRvIGludGVycHJldCB0aGUgc2VydmVyJ3MgcmVzcG9uc2UuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzIiksbnVsbCx0KSx2b2lkIE8oKX1mdW5jdGlvbiB1KHQpe3ZhciBuPWhbdC5yZXF1ZXN0SWRdO2lmKG4pe3Qub3JpZ2luYWxDcG09dC5jcG0sdC5vcmlnaW5hbEN1cnJlbmN5PXQuY3VycmVuY3ksdC5tZXRhPXQubWV0YXx8QSh7fSx0W24uYmlkZGVyXSk7dmFyIGk9QShPYmplY3QoYS5hKShmLmEuU1RBVFVTLkdPT0QsbiksdCk7IWZ1bmN0aW9uKGUsdCl7Z1tlXT0hMCxfKGUsdCxbcl0pJiZjKGUsdCl9KG4uYWRVbml0Q29kZSxpKX1lbHNlIE9iamVjdCh5LmxvZ1dhcm4pKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgbWFkZSBiaWQgZm9yIHVua25vd24gcmVxdWVzdCBJRDogIikuY29uY2F0KHQucmVxdWVzdElkLCIuIElnbm9yaW5nLiIpKX1vJiYoT2JqZWN0KHkuaXNBcnJheSkobyk/by5mb3JFYWNoKHUpOnUobykpLE8obyl9ZnVuY3Rpb24gbyh0LG4pe2QoZS5jb2RlKSxpLmRlZmF1bHQuY2FsbEJpZGRlckVycm9yKGUuY29kZSxuLHIpLHAuYS5lbWl0KGYuYS5FVkVOVFMuQklEREVSX0VSUk9SLHtlcnJvcjpuLGJpZGRlclJlcXVlc3Q6cn0pLE9iamVjdCh5LmxvZ0Vycm9yKSgiU2VydmVyIGNhbGwgZm9yICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZDogIikuY29uY2F0KHQsIiAiKS5jb25jYXQobi5zdGF0dXMsIi4gQ29udGludWluZyB3aXRob3V0IGJpZHMuIikpLE8oKX19KSl9ZWxzZSBqKCl9ZWxzZSBqKCl9ZnVuY3Rpb24gaigpe3UoKSxvLmIucnVuV2l0aEJpZGRlcihlLmNvZGUsKGZ1bmN0aW9uKCl7cC5hLmVtaXQoZi5hLkVWRU5UUy5CSURERVJfRE9ORSxyKSx0KGIsci5nZHByQ29uc2VudCxyLnVzcENvbnNlbnQpfSkpfX19KTtmdW5jdGlvbiB0KHQsbixyKXtDKGUsdCxuLHIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISFlLmlzQmlkUmVxdWVzdFZhbGlkKHQpfHwoT2JqZWN0KHkubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KGUuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9fXZhciBDPU9iamVjdChtLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBhPW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmFsaWFzU3luY0VuYWJsZWQiKTtpZihlLmdldFVzZXJTeW5jcyYmKGF8fCFpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmNvZGVdKSl7dmFyIHU9by5iLmdldENvbmZpZygidXNlclN5bmMuZmlsdGVyU2V0dGluZ3MiKSxzPWUuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEoIXV8fCF1LmlmcmFtZSYmIXUuYWxsKSxwaXhlbEVuYWJsZWQ6ISghdXx8IXUuaW1hZ2UmJiF1LmFsbCl9LHQsbixyKTtzJiYoQXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MuYS5yZWdpc3RlclN5bmModC50eXBlLGUuY29kZSx0LnVybCl9KSkpfX0pLCJyZWdpc3RlclN5bmNzIik7ZnVuY3Rpb24gUihlLHQpe2lmKCFvLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1oLmF9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpfSkpLnJlZHVjZSh5LmZsYXR0ZW4sW10pLmZpbHRlcih5LnVuaXF1ZXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKHQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIG49dC5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCkscj1uLnJlZnJlc2hJbkRheXM/bi5yZWZyZXNoSW5EYXlzOjEsbz1uLmxvY2FsU3RvcmFnZUtleT9uLmxvY2FsU3RvcmFnZUtleTp0LmdldFNwZWMoKS5jb2RlLGE9VC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTt0cnl7KCEoYT1hP0pTT04ucGFyc2UoYSk6dm9pZCAwKXx8T2JqZWN0KHkudGltZXN0YW1wKSgpPmEubGFzdFVwZGF0ZWQrMjQqcio2MCo2MCoxZTMpJiZPYmplY3Qodi5hKShuLnVybCx7c3VjY2VzczpmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQpO3ZhciBuPXtsYXN0VXBkYXRlZDpPYmplY3QoeS50aW1lc3RhbXApKCksbWFwcGluZzp0Lm1hcHBpbmd9O1Quc2V0RGF0YUluTG9jYWxTdG9yYWdlKG8sSlNPTi5zdHJpbmdpZnkobikpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gbWFwcGluZyBmaWxlIikpfX0sZXJyb3I6ZnVuY3Rpb24oKXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gZmlsZSIpKX19KX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19fSkpLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIF8oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksSS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoKShpLGUpJiYhYigpKFt2b2lkIDAsbnVsbF0sdFtlXSl9KSk/Im5hdGl2ZSIhPT10Lm1lZGlhVHlwZXx8T2JqZWN0KHUuZykodCxuKT8idmlkZW8iIT09dC5tZWRpYVR5cGV8fE9iamVjdChzLmQpKHQsbik/ISgiYmFubmVyIj09PXQubWVkaWFUeXBlJiYhZnVuY3Rpb24oZSx0LG4pe2lmKCh0LndpZHRofHwwPT09cGFyc2VJbnQodC53aWR0aCwxMCkpJiYodC5oZWlnaHR8fDA9PT1wYXJzZUludCh0LmhlaWdodCwxMCkpKXJldHVybiB0LndpZHRoPXBhcnNlSW50KHQud2lkdGgsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHQuaGVpZ2h0LDEwKSwhMDt2YXIgcj1PYmplY3QoeS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDE9PT1vLmxlbmd0aCl7dmFyIGE9aihvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwhMH1yZXR1cm4hMX0oZSx0LG4pKXx8KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdCh5LmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QoeS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChtLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKFIpfSwxMDpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGk9bigwKSxvPW4oNSksYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1BcnJheS5wcm90b3R5cGUucHVzaCx1PWkuX21hcChvLkVWRU5UUywoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkscz1vLkVWRU5UX0lEX1BBVEhTLGQ9W107ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fTtmdW5jdGlvbiBuKHQsbil7aS5sb2dNZXNzYWdlKCJFbWl0dGluZyBldmVudCBmb3I6ICIrdCk7dmFyIHI9blswXXx8e30sbz1yW3NbdF1dLGE9ZVt0XXx8e3F1ZTpbXX0sdT1pLl9tYXAoYSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pKSxmPVtdO2QucHVzaCh7ZXZlbnRUeXBlOnQsYXJnczpyLGlkOm8sZWxhcHNlZFRpbWU6aS5nZXRQZXJmb3JtYW5jZU5vdygpfSksbyYmaS5jb250YWlucyh1LG8pJiZjLmFwcGx5KGYsYVtvXS5xdWUpLGMuYXBwbHkoZixhLnF1ZSksaS5fZWFjaChmLChmdW5jdGlvbihlKXtpZihlKXRyeXtlLmFwcGx5KG51bGwsbil9Y2F0Y2goZSl7aS5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGhhbmRsZXI6IiwiZXZlbnRzLmpzIixlKX19KSl9cmV0dXJuIHQub249ZnVuY3Rpb24odCxuLHIpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbnRhaW5zKHUsZSl9KHQpKXt2YXIgbz1lW3RdfHx7cXVlOltdfTtyPyhvW3JdPW9bcl18fHtxdWU6W119LG9bcl0ucXVlLnB1c2gobikpOm8ucXVlLnB1c2gobiksZVt0XT1vfWVsc2UgaS5sb2dFcnJvcigiV3JvbmcgZXZlbnQgbmFtZSA6ICIrdCsiIFZhbGlkIGV2ZW50IG5hbWVzIDoiK3UpfSx0LmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jYWxsKGFyZ3VtZW50cywxKTtuKGUsdCl9LHQub2ZmPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lW3RdO2kuaXNFbXB0eShvKXx8aS5pc0VtcHR5KG8ucXVlKSYmaS5pc0VtcHR5KG9bcl0pfHxyJiYoaS5pc0VtcHR5KG9bcl0pfHxpLmlzRW1wdHkob1tyXS5xdWUpKXx8KHI/aS5fZWFjaChvW3JdLnF1ZSwoZnVuY3Rpb24oZSl7dmFyIHQ9b1tyXS5xdWU7ZT09PW4mJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKX0pKTppLl9lYWNoKG8ucXVlLChmdW5jdGlvbihlKXt2YXIgdD1vLnF1ZTtlPT09biYmdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpfSkpLGVbdF09byl9LHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGkuX2VhY2goZCwoZnVuY3Rpb24odCl7dmFyIG49cih7fSx0KTtlLnB1c2gobil9KSksZX0sdH0oKX0sMTAwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1MCksaT1uKDU1KSxvPW4oNDEpLGE9big0NiksYz1uKDczKSx1PSJBcnJheSBJdGVyYXRvciIscz1hLnNldCxkPWEuZ2V0dGVyRm9yKHUpO2UuZXhwb3J0cz1jKEFycmF5LCJBcnJheSIsKGZ1bmN0aW9uKGUsdCl7cyh0aGlzLHt0eXBlOnUsdGFyZ2V0OnIoZSksaW5kZXg6MCxraW5kOnR9KX0pLChmdW5jdGlvbigpe3ZhciBlPWQodGhpcyksdD1lLnRhcmdldCxuPWUua2luZCxyPWUuaW5kZXgrKztyZXR1cm4hdHx8cj49dC5sZW5ndGg/KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KToia2V5cyI9PW4/e3ZhbHVlOnIsZG9uZTohMX06InZhbHVlcyI9PW4/e3ZhbHVlOnRbcl0sZG9uZTohMX06e3ZhbHVlOltyLHRbcl1dLGRvbmU6ITF9fSksInZhbHVlcyIpLG8uQXJndW1lbnRzPW8uQXJyYXksaSgia2V5cyIpLGkoInZhbHVlcyIpLGkoImVudHJpZXMiKX0sMTAxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7aWYoZS5sYWJlbEFsbClyZXR1cm57bGFiZWxBbGw6ITAsbGFiZWxzOmUubGFiZWxBbGwsYWN0aXZlTGFiZWxzOnR9O3JldHVybntsYWJlbEFsbDohMSxsYWJlbHM6ZS5sYWJlbEFueSxhY3RpdmVMYWJlbHM6dH19LHQuYz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxuPXModCk7aWYoIW4uc2hvdWxkRmlsdGVyKXJldHVybiEwO3JldHVybiEhbi5zaXplc1N1cHBvcnRlZFtlXX0sdC5iPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYWJlbHMsbj12b2lkIDA9PT10P1tdOnQscj1lLmxhYmVsQWxsLG89dm9pZCAwIT09ciYmcixjPWUuYWN0aXZlTGFiZWxzLGQ9dm9pZCAwPT09Yz9bXTpjLGY9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxwPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp1LGc9cyhwKTtmPU9iamVjdChpLmlzUGxhaW5PYmplY3QpKGYpP09iamVjdChpLmRlZXBDbG9uZSkoZik6bD97YmFubmVyOntzaXplczpsfX06e307dmFyIGI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzIik7Zy5zaG91bGRGaWx0ZXImJmImJihmLmJhbm5lci5zaXplcz1iLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcuc2l6ZXNTdXBwb3J0ZWRbZV19KSkpO3ZhciB2PU9iamVjdC5rZXlzKGYpLHk9e2FjdGl2ZTp2LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWV9KSl8fHYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1lfSkpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShmLCJiYW5uZXIuc2l6ZXMubGVuZ3RoIik+MCYmKDA9PT1uLmxlbmd0aHx8IW8mJihuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxhYmVsc1tlXX0pKXx8bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYSgpKGQsZSl9KSkpfHxvJiZuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9nLmxhYmVsc1t0XXx8YSgpKGQsdCk6ZX0pLCEwKSksbWVkaWFUeXBlczpmfTtiJiZiLmxlbmd0aCE9PWYuYmFubmVyLnNpemVzLmxlbmd0aCYmKHkuZmlsdGVyUmVzdWx0cz17YmVmb3JlOmIsYWZ0ZXI6Zi5iYW5uZXIuc2l6ZXN9KTtyZXR1cm4geX07dmFyIHI9bigzKSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9W107ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1jKHQpJiYic3RyaW5nIj09dHlwZW9mIHQubWVkaWFRdWVyeSYmdC5tZWRpYVF1ZXJ5Lmxlbmd0aD4wKXt2YXIgbj0hMTt0cnl7bj1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkubWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlVuZnJpZW5kbHkgaUZyYW1lIGJsb2NrcyBzaXplQ29uZmlnIGZyb20gYmVpbmcgY29ycmVjdGx5IGV2YWx1YXRlZCIpLG49bWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9biYmKEFycmF5LmlzQXJyYXkodC5zaXplc1N1cHBvcnRlZCkmJihlLnNob3VsZEZpbHRlcj0hMCksWyJsYWJlbHMiLCJzaXplc1N1cHBvcnRlZCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybih0W25dfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbbl1bdF09ITB9KSl9KSkpfWVsc2UgT2JqZWN0KGkubG9nV2FybikoJ3NpemVDb25maWcgcnVsZSBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJtZWRpYVF1ZXJ5IicpO3JldHVybiBlfSkse2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3U9ZX0oZS5zaXplQ29uZmlnKX0pKX0sMTAyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz17cHV0czplLm1hcChhLG4pfTtPYmplY3Qoci5hKShpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSxmdW5jdGlvbihlKXtyZXR1cm57c3VjY2VzczpmdW5jdGlvbih0KXt2YXIgbjt0cnl7bj1KU09OLnBhcnNlKHQpLnJlc3BvbnNlc31jYXRjaCh0KXtyZXR1cm4gdm9pZCBlKHQsW10pfW4/ZShudWxsLG4pOmUobmV3IEVycm9yKCJUaGUgY2FjaGUgc2VydmVyIGRpZG4ndCByZXNwb25kIHdpdGggYSByZXNwb25zZXMgcHJvcGVydHkuIiksW10pfSxlcnJvcjpmdW5jdGlvbih0LG4pe2UobmV3IEVycm9yKCJFcnJvciBzdG9yaW5nIHZpZGVvIGFkIGluIHRoZSBjYWNoZTogIi5jb25jYXQodCwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKSxbXSl9fX0odCksSlNPTi5zdHJpbmdpZnkobykse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX0sdC5hPWZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSwiP3V1aWQ9IikuY29uY2F0KGUpfTt2YXIgcj1uKDQpLGk9bigzKSxvPW4oMCk7ZnVuY3Rpb24gYShlKXt2YXIgdCxuLHIsYT17dHlwZToieG1sIix2YWx1ZTplLnZhc3RYbWw/ZS52YXN0WG1sOih0PWUudmFzdFVybCxuPWUudmFzdEltcFVybCxyPW4/IjwhW0NEQVRBWyIuY29uY2F0KG4sIl1dPiIpOiIiLCc8VkFTVCB2ZXJzaW9uPSIzLjAiPlxuICAgIDxBZD5cbiAgICAgIDxXcmFwcGVyPlxuICAgICAgICA8QWRTeXN0ZW0+cHJlYmlkLm9yZyB3cmFwcGVyPC9BZFN5c3RlbT5cbiAgICAgICAgPFZBU1RBZFRhZ1VSST48IVtDREFUQVsnLmNvbmNhdCh0LCJdXT48L1ZBU1RBZFRhZ1VSST5cbiAgICAgICAgPEltcHJlc3Npb24+IikuY29uY2F0KHIsIjwvSW1wcmVzc2lvbj5cbiAgICAgICAgPENyZWF0aXZlcz48L0NyZWF0aXZlcz5cbiAgICAgIDwvV3JhcHBlcj5cbiAgICA8L0FkPlxuICA8L1ZBU1Q+IikpLHR0bHNlY29uZHM6TnVtYmVyKGUudHRsKX07cmV0dXJuIGkuYi5nZXRDb25maWcoImNhY2hlLnZhc3R0cmFjayIpJiYoYS5iaWRkZXI9ZS5iaWRkZXIsYS5iaWRpZD1lLnJlcXVlc3RJZCxhLmFpZD1lLmF1Y3Rpb25JZCxPYmplY3Qoby5pc1BsYWluT2JqZWN0KSh0aGlzKSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSgiYXVjdGlvblN0YXJ0IikmJihhLnRpbWVzdGFtcD10aGlzLmF1Y3Rpb25TdGFydCkpLCJzdHJpbmciPT10eXBlb2YgZS5jdXN0b21DYWNoZUtleSYmIiIhPT1lLmN1c3RvbUNhY2hlS2V5JiYoYS5rZXk9ZS5jdXN0b21DYWNoZUtleSksYX19LDEwNjpmdW5jdGlvbihlLHQsbil7bigxMDcpO3ZhciByPW4oNTYpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmQiKX0sMTA3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDY0KS5maW5kLG89big1NSksYT0iZmluZCIsYz0hMDthIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7Yz0hMX0pKSxyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6Y30se2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwxMDg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigxMDkpLG89big0NCksYT1uKDUwKSxjPW4oNjMpLHU9bigzMSkscz1uKDg1KSxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dC5mPXI/ZDpmdW5jdGlvbihlLHQpe2lmKGU9YShlKSx0PWModCwhMCkscyl0cnl7cmV0dXJuIGQoZSx0KX1jYXRjaChlKXt9aWYodShlLHQpKXJldHVybiBvKCFpLmYuY2FsbChlLHQpLGVbdF0pfX0sMTA5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9e30ucHJvcGVydHlJc0VudW1lcmFibGUsaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLG89aSYmIXIuY2FsbCh7MToyfSwxKTt0LmY9bz9mdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9OnJ9LDExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwNik7ZS5leHBvcnRzPXJ9LDExMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT0vI3xcLnByb3RvdHlwZVwuLyxvPWZ1bmN0aW9uKGUsdCl7dmFyIG49Y1thKGUpXTtyZXR1cm4gbj09c3x8biE9dSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3IodCk6ISF0KX0sYT1vLm5vcm1hbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoaSwiLiIpLnRvTG93ZXJDYXNlKCl9LGM9by5kYXRhPXt9LHU9by5OQVRJVkU9Ik4iLHM9by5QT0xZRklMTD0iUCI7ZS5leHBvcnRzPW99LDExMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDExMiksbz1uKDIxKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBpKGUpJiYoImZ1bmN0aW9uIiE9dHlwZW9mKG49ZS5jb25zdHJ1Y3Rvcil8fG4hPT1BcnJheSYmIWkobi5wcm90b3R5cGUpP3IobikmJm51bGw9PT0obj1uW29dKSYmKG49dm9pZCAwKTpuPXZvaWQgMCksbmV3KHZvaWQgMD09PW4/QXJyYXk6bikoMD09PXQ/MDp0KX19LDExMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MSk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PXIoZSl9fSwxMTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dHJ5e2kocixlLHQpfWNhdGNoKG4pe3JbZV09dH1yZXR1cm4gdH19LDExNDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW4oMjcpLGE9bigxMTUpLGM9by5wcm9jZXNzLHU9YyYmYy52ZXJzaW9ucyxzPXUmJnUudjg7cz9pPShyPXMuc3BsaXQoIi4iKSlbMF08ND8xOnJbMF0rclsxXTphJiYoIShyPWEubWF0Y2goL0VkZ2VcLyhcZCspLykpfHxyWzFdPj03NCkmJihyPWEubWF0Y2goL0Nocm9tZVwvKFxkKykvKSkmJihpPXJbMV0pLGUuZXhwb3J0cz1pJiYraX0sMTE1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9cigibmF2aWdhdG9yIiwidXNlckFnZW50Iil8fCIifSwxMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODgpO2UuZXhwb3J0cz1yJiYhU3ltYm9sLnNoYW0mJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yfSwxMTc6ZnVuY3Rpb24oZSx0LG4pe24oMTE4KTt2YXIgcj1uKDU2KTtlLmV4cG9ydHM9cigiQXJyYXkiLCJpbmNsdWRlcyIpfSwxMTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oODkpLmluY2x1ZGVzLG89big1NSk7cih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG8oImluY2x1ZGVzIil9LDExOTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NSksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXIoZSk7cmV0dXJuIG48MD9pKG4rdCwwKTpvKG4sdCl9fSwxMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTcpO2UuZXhwb3J0cz1yfSwxMjA6ZnVuY3Rpb24oZSx0LG4pe24oMTIxKSxuKDEzNiksbig5OSksbigxMzgpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlNldH0sMTIxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMjIpLGk9bigxMjcpO2UuZXhwb3J0cz1yKCJTZXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSksaSl9LDEyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigyNyksbz1uKDkxKSxhPW4oMjkpLGM9bigzMiksdT1uKDIwKSxzPW4oNjkpLGQ9bigzMCksZj1uKDYwKSxsPW4oMzQpLmYscD1uKDY0KS5mb3JFYWNoLGc9bigzMyksYj1uKDQ2KSx2PWIuc2V0LHk9Yi5nZXR0ZXJGb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYixoPS0xIT09ZS5pbmRleE9mKCJNYXAiKSxtPS0xIT09ZS5pbmRleE9mKCJXZWFrIiksTz1oPyJzZXQiOiJhZGQiLGo9aVtlXSxTPWomJmoucHJvdG90eXBlLEU9e307aWYoZyYmImZ1bmN0aW9uIj09dHlwZW9mIGomJihtfHxTLmZvckVhY2gmJiFhKChmdW5jdGlvbigpeyhuZXcgaikuZW50cmllcygpLm5leHQoKX0pKSkpe2I9dCgoZnVuY3Rpb24odCxuKXt2KHModCxiLGUpLHt0eXBlOmUsY29sbGVjdGlvbjpuZXcgan0pLG51bGwhPW4mJnUobix0W09dLHt0aGF0OnQsQVNfRU5UUklFUzpofSl9KSk7dmFyIEE9eShlKTtwKFsiYWRkIiwiY2xlYXIiLCJkZWxldGUiLCJmb3JFYWNoIiwiZ2V0IiwiaGFzIiwic2V0Iiwia2V5cyIsInZhbHVlcyIsImVudHJpZXMiXSwoZnVuY3Rpb24oZSl7dmFyIHQ9ImFkZCI9PWV8fCJzZXQiPT1lOyEoZSBpbiBTKXx8bSYmImNsZWFyIj09ZXx8YyhiLnByb3RvdHlwZSxlLChmdW5jdGlvbihuLHIpe3ZhciBpPUEodGhpcykuY29sbGVjdGlvbjtpZighdCYmbSYmIWQobikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgbz1pW2VdKDA9PT1uPzA6bixyKTtyZXR1cm4gdD90aGlzOm99KSl9KSksbXx8bChiLnByb3RvdHlwZSwic2l6ZSIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSl9ZWxzZSBiPW4uZ2V0Q29uc3RydWN0b3IodCxlLGgsTyksby5SRVFVSVJFRD0hMDtyZXR1cm4gZihiLGUsITEsITApLEVbZV09YixyKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxFKSxtfHxuLnNldFN0cm9uZyhiLGUsaCksYn19LDEyMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpfSwxMjQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDY4KSxpPW4oNTkpO2UuZXhwb3J0cz1yP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIitpKHRoaXMpKyJdIn19LDEyNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyksaT1uKDEyNiksbz1yLldlYWtNYXA7ZS5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBvJiYvbmF0aXZlIGNvZGUvLnRlc3QoaShvKSl9LDEyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NiksaT1GdW5jdGlvbi50b1N0cmluZzsiZnVuY3Rpb24iIT10eXBlb2Ygci5pbnNwZWN0U291cmNlJiYoci5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwoZSl9KSxlLmV4cG9ydHM9ci5pbnNwZWN0U291cmNlfSwxMjc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDM0KS5mLGk9big3MSksbz1uKDk1KSxhPW4oMjUpLGM9big2OSksdT1uKDIwKSxzPW4oNzMpLGQ9bigxMzUpLGY9bigzMyksbD1uKDkxKS5mYXN0S2V5LHA9big0NiksZz1wLnNldCxiPXAuZ2V0dGVyRm9yO2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4scyl7dmFyIGQ9ZSgoZnVuY3Rpb24oZSxyKXtjKGUsZCx0KSxnKGUse3R5cGU6dCxpbmRleDppKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxmfHwoZS5zaXplPTApLG51bGwhPXImJnUocixlW3NdLHt0aGF0OmUsQVNfRU5UUklFUzpufSl9KSkscD1iKHQpLHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1wKGUpLGE9eShlLHQpO3JldHVybiBhP2EudmFsdWU9bjooby5sYXN0PWE9e2luZGV4Omk9bCh0LCEwKSxrZXk6dCx2YWx1ZTpuLHByZXZpb3VzOnI9by5sYXN0LG5leHQ6dm9pZCAwLHJlbW92ZWQ6ITF9LG8uZmlyc3R8fChvLmZpcnN0PWEpLHImJihyLm5leHQ9YSksZj9vLnNpemUrKzplLnNpemUrKywiRiIhPT1pJiYoby5pbmRleFtpXT1hKSksZX0seT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9cChlKSxpPWwodCk7aWYoIkYiIT09aSlyZXR1cm4gci5pbmRleFtpXTtmb3Iobj1yLmZpcnN0O247bj1uLm5leHQpaWYobi5rZXk9PXQpcmV0dXJuIG59O3JldHVybiBvKGQucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1wKHRoaXMpLHQ9ZS5pbmRleCxuPWUuZmlyc3Q7bjspbi5yZW1vdmVkPSEwLG4ucHJldmlvdXMmJihuLnByZXZpb3VzPW4ucHJldmlvdXMubmV4dD12b2lkIDApLGRlbGV0ZSB0W24uaW5kZXhdLG49bi5uZXh0O2UuZmlyc3Q9ZS5sYXN0PXZvaWQgMCxmP2Uuc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXAodCkscj15KHQsZSk7aWYocil7dmFyIGk9ci5uZXh0LG89ci5wcmV2aW91cztkZWxldGUgbi5pbmRleFtyLmluZGV4XSxyLnJlbW92ZWQ9ITAsbyYmKG8ubmV4dD1pKSxpJiYoaS5wcmV2aW91cz1vKSxuLmZpcnN0PT1yJiYobi5maXJzdD1pKSxuLmxhc3Q9PXImJihuLmxhc3Q9byksZj9uLnNpemUtLTp0LnNpemUtLX1yZXR1cm4hIXJ9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49cCh0aGlzKSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTt0PXQ/dC5uZXh0Om4uZmlyc3Q7KWZvcihyKHQudmFsdWUsdC5rZXksdGhpcyk7dCYmdC5yZW1vdmVkOyl0PXQucHJldmlvdXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXkodGhpcyxlKX19KSxvKGQucHJvdG90eXBlLG4/e2dldDpmdW5jdGlvbihlKXt2YXIgdD15KHRoaXMsZSk7cmV0dXJuIHQmJnQudmFsdWV9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB2KHRoaXMsMD09PWU/MDplLHQpfX06e2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdih0aGlzLGU9MD09PWU/MDplLGUpfX0pLGYmJnIoZC5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzKS5zaXplfX0pLGR9LHNldFN0cm9uZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9dCsiIEl0ZXJhdG9yIixpPWIodCksbz1iKHIpO3MoZSx0LChmdW5jdGlvbihlLHQpe2codGhpcyx7dHlwZTpyLHRhcmdldDplLHN0YXRlOmkoZSksa2luZDp0LGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9byh0aGlzKSx0PWUua2luZCxuPWUubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gZS50YXJnZXQmJihlLmxhc3Q9bj1uP24ubmV4dDplLnN0YXRlLmZpcnN0KT8ia2V5cyI9PXQ/e3ZhbHVlOm4ua2V5LGRvbmU6ITF9OiJ2YWx1ZXMiPT10P3t2YWx1ZTpuLnZhbHVlLGRvbmU6ITF9Ont2YWx1ZTpbbi5rZXksbi52YWx1ZV0sZG9uZTohMX06KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KX0pLG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxkKHQpfX19LDEyODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDM0KSxvPW4oMTYpLGE9bigxMjkpO2UuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIG4scj1hKHQpLGM9ci5sZW5ndGgsdT0wO2M+dTspaS5mKGUsbj1yW3UrK10sdFtuXSk7cmV0dXJuIGV9fSwxMjk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMwKSxpPW4oOTQpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19LDEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPXUsdC5jPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVybCl9LHQuYj1mdW5jdGlvbihlLHQpe2UucmVuZGVyKHQpfTt2YXIgcj1uKDM1KSxpPW4oMCksbz1uKDExKSxhPW4ubihvKSxjPSJvdXRzdHJlYW0iO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9dGhpcyxuPWUudXJsLG89ZS5jb25maWcsYT1lLmlkLHU9ZS5jYWxsYmFjayxkPWUubG9hZGVkLGY9ZS5hZFVuaXRDb2RlO3RoaXMudXJsPW4sdGhpcy5jb25maWc9byx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuaWQ9YSx0aGlzLmxvYWRlZD1kLHRoaXMuY21kPVtdLHRoaXMucHVzaD1mdW5jdGlvbihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZT90LmxvYWRlZD9lLmNhbGwoKTp0LmNtZC5wdXNoKGUpOk9iamVjdChpLmxvZ0Vycm9yKSgiQ29tbWFuZHMgZ2l2ZW4gdG8gUmVuZGVyZXIucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSx0aGlzLmNhbGxiYWNrPXV8fGZ1bmN0aW9uKCl7dC5sb2FkZWQ9ITAsdC5wcm9jZXNzKCl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cyxvPWZ1bmN0aW9uKCl7ZS5fcmVuZGVyP2UuX3JlbmRlci5hcHBseShlLHQpOk9iamVjdChpLmxvZ1dhcm4pKCJObyByZW5kZXIgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBwbGVhc2UgdXNlIC5zZXRSZW5kZXIgb24gdGhlIHJlbmRlcmVyIil9O3MoZik/KE9iamVjdChpLmxvZ1dhcm4pKCJFeHRlcm5hbCBKcyBub3QgbG9hZGVkIGJ5IFJlbmRlcmVyIHNpbmNlIHJlbmRlcmVyIHVybCBhbmQgY2FsbGJhY2sgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIGFkVW5pdCAiLmNvbmNhdChmKSksbygpKToodGhpcy5jbWQudW5zaGlmdChvKSxPYmplY3Qoci5hKShuLGMsdGhpcy5jYWxsYmFjaykpfS5iaW5kKHRoaXMpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dXBianMuYWRVbml0cyxuPWEoKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlPT09ZX0pKTtpZighbilyZXR1cm4hMTt2YXIgcj1PYmplY3QoaS5kZWVwQWNjZXNzKShuLCJyZW5kZXJlciIpLG89ISEociYmci51cmwmJnIucmVuZGVyKSxjPU9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSx1PSEhKGMmJmMudXJsJiZjLnJlbmRlcik7cmV0dXJuISEobyYmITAhPT1yLmJhY2t1cE9ubHl8fHUmJiEwIT09Yy5iYWNrdXBPbmx5KX11Lmluc3RhbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KHt1cmw6ZS51cmwsY29uZmlnOmUuY29uZmlnLGlkOmUuaWQsY2FsbGJhY2s6ZS5jYWxsYmFjayxsb2FkZWQ6ZS5sb2FkZWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KX0sdS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnfSx1LnByb3RvdHlwZS5zZXRSZW5kZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyPWV9LHUucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSx1LnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLE9iamVjdChpLmxvZ01lc3NhZ2UpKCJQcmViaWQgUmVuZGVyZXIgZXZlbnQgZm9yIGlkICIuY29uY2F0KHQsIiB0eXBlICIpLmNvbmNhdChuKSl9LHUucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuY21kLmxlbmd0aD4wOyl0cnl7dGhpcy5jbWQuc2hpZnQoKS5jYWxsKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIFJlbmRlcmVyIGNvbW1hbmQ6ICIsZSl9fX0sMTMwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNTApLG89big4OSkuaW5kZXhPZixhPW4oNTcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGM9aShlKSx1PTAscz1bXTtmb3IobiBpbiBjKSFyKGEsbikmJnIoYyxuKSYmcy5wdXNoKG4pO2Zvcig7dC5sZW5ndGg+dTspcihjLG49dFt1KytdKSYmKH5vKHMsbil8fHMucHVzaChuKSk7cmV0dXJuIHN9fSwxMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwxMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgZSkhPT1lLnByb3RvdHlwZX0pKX0sMTMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oMTM0KTtlLmV4cG9ydHM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKCl7dmFyIGUsdD0hMSxuPXt9O3RyeXsoZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCkuY2FsbChuLFtdKSx0PW4gaW5zdGFuY2VvZiBBcnJheX1jYXRjaChlKXt9cmV0dXJuIGZ1bmN0aW9uKG4sbyl7cmV0dXJuIHIobiksaShvKSx0P2UuY2FsbChuLG8pOm4uX19wcm90b19fPW8sbn19KCk6dm9pZCAwKX0sMTM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3Qgc2V0ICIrU3RyaW5nKGUpKyIgYXMgYSBwcm90b3R5cGUiKTtyZXR1cm4gZX19LDEzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjYpLGk9bigzNCksbz1uKDIxKSxhPW4oMzMpLGM9bygic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1yKGUpLG49aS5mO2EmJnQmJiF0W2NdJiZuKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sMTM2OmZ1bmN0aW9uKGUsdCl7fSwxMzc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9big1Miksbz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgbyxhLGM9U3RyaW5nKGkodCkpLHU9cihuKSxzPWMubGVuZ3RoO3JldHVybiB1PDB8fHU+PXM/ZT8iIjp2b2lkIDA6KG89Yy5jaGFyQ29kZUF0KHUpKTw1NTI5Nnx8bz41NjMxOXx8dSsxPT09c3x8KGE9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxhPjU3MzQzP2U/Yy5jaGFyQXQodSk6bzplP2Muc2xpY2UodSx1KzIpOmEtNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNn19O2UuZXhwb3J0cz17Y29kZUF0Om8oITEpLGNoYXJBdDpvKCEwKX19LDEzODpmdW5jdGlvbihlLHQsbil7bigxMDApO3ZhciByPW4oMTM5KSxpPW4oMjcpLG89big1OSksYT1uKDMyKSxjPW4oNDEpLHU9bigyMSkoInRvU3RyaW5nVGFnIik7Zm9yKHZhciBzIGluIHIpe3ZhciBkPWlbc10sZj1kJiZkLnByb3RvdHlwZTtmJiZvKGYpIT09dSYmYShmLHUscyksY1tzXT1jLkFycmF5fX0sMTM5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfX0sMTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnVwYmpzfSx3aW5kb3cudXBianM9d2luZG93LnVwYmpzfHx7fSx3aW5kb3cudXBianMuY21kPXdpbmRvdy51cGJqcy5jbWR8fFtdLHdpbmRvdy51cGJqcy5xdWU9d2luZG93LnVwYmpzLnF1ZXx8W10sd2luZG93Ll9wYmpzR2xvYmFscz13aW5kb3cuX3BianNHbG9iYWxzfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzLnB1c2goInVwYmpzIil9LDE0MDpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7ZnJvbTpuKDE0MSl9KX0sMTQxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNCksaT1uKDI1KSxvPW4oMjApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGEsYyx1PWFyZ3VtZW50cy5sZW5ndGgscz11PjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gcih0aGlzKSwodD12b2lkIDAhPT1zKSYmcihzKSxudWxsPT1lP25ldyB0aGlzOihuPVtdLHQ/KGE9MCxjPWkocyx1PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSxvKGUsKGZ1bmN0aW9uKGUpe24ucHVzaChjKGUsYSsrKSl9KSkpOm8oZSxuLnB1c2gse3RoYXQ6bn0pLG5ldyB0aGlzKG4pKX19LDE0MjpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7b2Y6bigxNDMpfSl9LDE0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0sMTQ0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ1KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2FkZEFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9cih0aGlzKSx0PWkoZS5hZGQpLG49MCxvPWFyZ3VtZW50cy5sZW5ndGg7bjxvO24rKyl0LmNhbGwoZSxhcmd1bWVudHNbbl0pO3JldHVybiBlfX0sMTQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2RlbGV0ZUFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1yKHRoaXMpLG49aSh0LmRlbGV0ZSksbz0hMCxhPTAsYz1hcmd1bWVudHMubGVuZ3RoO2E8YzthKyspZT1uLmNhbGwodCxhcmd1bWVudHNbYV0pLG89byYmZTtyZXR1cm4hIW99fSwxNDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtldmVyeTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4hdShuLChmdW5jdGlvbihlLG4pe2lmKCFyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDIpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtkaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwobixlKX0pKSxufX0pfSwxNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjcpLGk9bigxMDgpLmYsbz1uKDExMCksYT1uKDQ1KSxjPW4oMjUpLHU9bigzMikscz1uKDMxKSxkPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQsbil9cmV0dXJuIG5ldyBlKHQsbixyKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixmLGwscCxnLGIsdix5LGg9ZS50YXJnZXQsbT1lLmdsb2JhbCxPPWUuc3RhdCxqPWUucHJvdG8sUz1tP3I6Tz9yW2hdOihyW2hdfHx7fSkucHJvdG90eXBlLEU9bT9hOmFbaF18fChhW2hdPXt9KSxBPUUucHJvdG90eXBlO2ZvcihsIGluIHQpbj0hbyhtP2w6aCsoTz8iLiI6IiMiKStsLGUuZm9yY2VkKSYmUyYmcyhTLGwpLGc9RVtsXSxuJiYoYj1lLm5vVGFyZ2V0R2V0Pyh5PWkoUyxsKSkmJnkudmFsdWU6U1tsXSkscD1uJiZiP2I6dFtsXSxuJiZ0eXBlb2YgZz09dHlwZW9mIHB8fCh2PWUuYmluZCYmbj9jKHAscik6ZS53cmFwJiZuP2QocCk6aiYmImZ1bmN0aW9uIj09dHlwZW9mIHA/YyhGdW5jdGlvbi5jYWxsLHApOnAsKGUuc2hhbXx8cCYmcC5zaGFtfHxnJiZnLnNoYW0pJiZ1KHYsInNoYW0iLCEwKSxFW2xdPXYsaiYmKHMoYSxmPWgrIlByb3RvdHlwZSIpfHx1KGEsZix7fSksYVtmXVtsXT1wLGUucmVhbCYmQSYmIUFbbF0mJnUoQSxsLHApKSl9fSwxNTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9bigyNSkscz1uKDQyKSxkPW4oMzcpLGY9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPWQodCkscj11KGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyksaT1uZXcocyh0LG8oIlNldCIpKSksbD1jKGkuYWRkKTtyZXR1cm4gZihuLChmdW5jdGlvbihlKXtyKGUsZSx0KSYmbC5jYWxsKGksZSl9KSx7SVNfSVRFUkFUT1I6ITB9KSxpfX0pfSwxNTE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiB1KG4sKGZ1bmN0aW9uKGUsbil7aWYocihlLGUsdCkpcmV0dXJuIG4oZSl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5yZXN1bHR9fSl9LDE1MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDQyKSxzPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkscj1jKHQuaGFzKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbCh0LGUpJiZpLmNhbGwobixlKX0pKSxufX0pfSwxNTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNEaXNqb2ludEZyb206ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodC5oYXMpO3JldHVybiFjKGUsKGZ1bmN0aW9uKGUscil7aWYoITA9PT1uLmNhbGwodCxlKSlyZXR1cm4gcigpfSkse0lOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTU0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNzQpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc1N1YnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PXUodGhpcyksbj1hKGUpLHI9bi5oYXM7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHImJihuPW5ldyhvKCJTZXQiKSkoZSkscj1jKG4uaGFzKSksIXModCwoZnVuY3Rpb24oZSx0KXtpZighMT09PXIuY2FsbChuLGUpKXJldHVybiB0KCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdXBlcnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLChmdW5jdGlvbihlLHIpe2lmKCExPT09bi5jYWxsKHQsZSkpcmV0dXJuIHIoKX0pLHtJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMzcpLGM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtqb2luOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQpLHI9dm9pZCAwPT09ZT8iLCI6U3RyaW5nKGUpLGk9W107cmV0dXJuIGMobixpLnB1c2gse3RoYXQ6aSxJU19JVEVSQVRPUjohMH0pLGkuam9pbihyKX19KX0sMTU3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oMjUpLHM9big0MiksZD1uKDM3KSxmPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7bWFwOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1kKHQpLHI9dShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9bmV3KHModCxvKCJTZXQiKSkpLGw9YyhpLmFkZCk7cmV0dXJuIGYobiwoZnVuY3Rpb24oZSl7bC5jYWxsKGkscihlLGUsdCkpfSkse0lTX0lURVJBVE9SOiEwfSksaX19KX0sMTU4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNCksYz1uKDM3KSx1PW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7cmVkdWNlOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YXJndW1lbnRzLmxlbmd0aDwyLGk9cj92b2lkIDA6YXJndW1lbnRzWzFdO2lmKGEoZSksdShuLChmdW5jdGlvbihuKXtyPyhyPSExLGk9bik6aT1lKGksbixuLHQpfSkse0lTX0lURVJBVE9SOiEwfSkscil0aHJvdyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBzZXQgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7cmV0dXJuIGl9fSl9LDE1OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMjUpLGM9bigzNyksdT1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3NvbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIHUobiwoZnVuY3Rpb24oZSxuKXtpZihyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGFuIG9iamVjdCIpO3JldHVybiBlfX0sMTYwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDIpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtzeW1tZXRyaWNEaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbChuLGUpfHxpLmNhbGwobixlKX0pKSxufX0pfSwxNjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9big0Mikscz1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3VuaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCk7cmV0dXJuIHMoZSxjKG4uYWRkKSx7dGhhdDpufSksbn19KX0sMTYyOmZ1bmN0aW9uKGUsdCxuKXtuKDk5KSxuKDE2Myk7dmFyIHI9big0NSk7ZS5leHBvcnRzPXIuQXJyYXkuZnJvbX0sMTYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE1KSxpPW4oMTY0KTtyKHt0YXJnZXQ6IkFycmF5IixzdGF0OiEwLGZvcmNlZDohbigxNjcpKChmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSkpfSx7ZnJvbTppfSl9LDE2NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9big1Myksbz1uKDE2NSksYT1uKDkyKSxjPW4oNTQpLHU9bigxNjYpLHM9big1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LG4sZCxmLGwscCxnPWkoZSksYj0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHY9YXJndW1lbnRzLmxlbmd0aCx5PXY+MT9hcmd1bWVudHNbMV06dm9pZCAwLGg9dm9pZCAwIT09eSxtPXMoZyksTz0wO2lmKGgmJih5PXIoeSx2PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksbnVsbD09bXx8Yj09QXJyYXkmJmEobSkpZm9yKG49bmV3IGIodD1jKGcubGVuZ3RoKSk7dD5PO08rKylwPWg/eShnW09dLE8pOmdbT10sdShuLE8scCk7ZWxzZSBmb3IobD0oZj1tLmNhbGwoZykpLm5leHQsbj1uZXcgYjshKGQ9bC5jYWxsKGYpKS5kb25lO08rKylwPWg/byhmLHksW2QudmFsdWUsT10sITApOmQudmFsdWUsdShuLE8scCk7cmV0dXJuIG4ubGVuZ3RoPU8sbn19LDE2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDkzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sbyl7dHJ5e3JldHVybiBvP3QocihuKVswXSxuWzFdKTp0KG4pfWNhdGNoKHQpe3Rocm93IGkoZSksdH19fSwxNjY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDYzKSxpPW4oMzQpLG89big0NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1yKHQpO2EgaW4gZT9pLmYoZSxhLG8oMCxuKSk6ZVthXT1ufX0sMTY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgbz0wLGE9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIW8rK319LHJldHVybjpmdW5jdGlvbigpe2k9ITB9fTthW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oYSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIWkpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBvPXt9O29bcl09ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fX19LGUobyl9Y2F0Y2goZSl7fXJldHVybiBufX0sMTY4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCl7dmFyIG49QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtuW3JdPWkmJiJvYmplY3QiPT10eXBlb2YgaT9lKGkpOml9cmV0dXJuIG59fSwxNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodD10LnNwbGl0P3Quc3BsaXQoIi4iKTp0LHI9MDtyPHQubGVuZ3RoO3IrKyllPWU/ZVt0W3JdXTppO3JldHVybiBlPT09aT9uOmV9fSwxNzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe3Quc3BsaXQmJih0PXQuc3BsaXQoIi4iKSk7Zm9yKHZhciByLGk9MCxvPXQubGVuZ3RoLGE9ZTtpPG87KytpKXI9YVt0W2ldXSxhPWFbdFtpXV09aT09PW8tMT9uOm51bGwhPXI/cjohfnRbaSsxXS5pbmRleE9mKCIuIikmJit0W2krMV0+LTE/W106e319fSwxNzE6ZnVuY3Rpb24oZSx0KXsKLyoKKiBAbGljZW5zZSBNSVQKKiBGdW4gSG9va3MgdjAuOS4xMAoqIChjKSBAc25hcHdpY2gKKi8KYy5TWU5DPTEsYy5BU1lOQz0yLGMuUVVFVUU9NDt2YXIgbj1PYmplY3QuZnJlZXplKHt1c2VQcm94eTohMCxyZWFkeTowfSkscj1uZXcgV2Vha01hcCxpPSIyLDEsMCI9PT1bMV0ucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuW2UsdCxuXX0pLDIpLnRvU3RyaW5nKCk/QXJyYXkucHJvdG90eXBlLnJlZHVjZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9T2JqZWN0KHRoaXMpLGk9ci5sZW5ndGg+Pj4wLG89MDtpZih0KW49dDtlbHNle2Zvcig7bzxpJiYhKG8gaW4gcik7KW8rKztuPXJbbysrXX1mb3IoO288aTspbyBpbiByJiYobj1lKG4scltvXSxvLHIpKSxvKys7cmV0dXJuIG59O2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0KX12YXIgYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKG8oYXJndW1lbnRzLDEpLChmdW5jdGlvbihlLHQpe3JldHVybiB0JiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXRbbl19KSksZX0pLGUpfTtmdW5jdGlvbiBjKGUpe3ZhciB0LHU9e30scz1bXTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/Zy5jYWxsKG51bGwsInN5bmMiLGUsdCk6InN0cmluZyI9PXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgdD9nLmFwcGx5KG51bGwsYXJndW1lbnRzKToib2JqZWN0Ij09dHlwZW9mIGU/Zi5hcHBseShudWxsLGFyZ3VtZW50cyk6dm9pZCAwfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByPSEwO3ZvaWQgMD09PXQmJih0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLHI9ITEpO3ZhciBpPXt9LG89WyJjb25zdHJ1Y3RvciJdO2Rveyh0PXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hKCJmdW5jdGlvbiIhPXR5cGVvZiBlW3RdfHwtMSE9PW8uaW5kZXhPZih0KXx8dC5tYXRjaCgvXl8vKSl9KSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuc3BsaXQoIjoiKSxvPXJbMF0sYT1yWzFdfHwic3luYyI7aWYoIWlbb10pe3ZhciBjPWVbb107aVtvXT1lW29dPWcoYSxjLG4/W24sb106dm9pZCAwKX19KSksZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9d2hpbGUociYmZSk7cmV0dXJuIGl9ZnVuY3Rpb24gbChlKXt2YXIgbj1BcnJheS5pc0FycmF5KGUpP2U6ZS5zcGxpdCgiLiIpO3JldHVybiBpLmNhbGwobiwoZnVuY3Rpb24ocixpLG8pe3ZhciBhPXJbaV0sYz0hMTtyZXR1cm4gYXx8KG89PT1uLmxlbmd0aC0xPyh0fHxzLnB1c2goKGZ1bmN0aW9uKCl7Y3x8Y29uc29sZS53YXJuKCJmdW4taG9va3M6IHJlZmVyZW5jZWQgJyIrZSsiJyBidXQgaXQgd2FzIG5ldmVyIGNyZWF0ZWQiKX0pKSxyW2ldPXAoKGZ1bmN0aW9uKGUpe3JbaV09ZSxjPSEwfSkpKTpyW2ldPXt9KX0pLHUpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9W10sbj1bXSxpPWZ1bmN0aW9uKCl7fSxvPXtiZWZvcmU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdS5jYWxsKHRoaXMsdCwiYmVmb3JlIixlLG4pfSxhZnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiB1LmNhbGwodGhpcyxuLCJhZnRlciIsZSx0KX0sZ2V0SG9va3M6ZnVuY3Rpb24oZSl7dmFyIHI9dC5jb25jYXQobik7Im9iamVjdCI9PXR5cGVvZiBlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmV2ZXJ5KChmdW5jdGlvbihuKXtyZXR1cm4gdFtuXT09PWVbbl19KSl9KSkpO3RyeXthKHIse3JlbW92ZTpmdW5jdGlvbigpe3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSksdGhpc319KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJlcnJvciBhZGRpbmcgYHJlbW92ZWAgdG8gYXJyYXksIGRpZCB5b3UgbW9kaWZ5IEFycmF5LnByb3RvdHlwZT8iKX1yZXR1cm4gcn0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SG9va3MoKS5yZW1vdmUoKX19LGM9e2luc3RhbGw6ZnVuY3Rpb24ocixvLGEpe3RoaXMudHlwZT1yLGk9YSxhKHQsbiksZSYmZShvKX19O3JldHVybiByLnNldChvLmFmdGVyLGMpLG87ZnVuY3Rpb24gdShlLHIsbyxhKXt2YXIgYz17aG9vazpvLHR5cGU6cixwcmlvcml0eTphfHwxMCxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgcj1lLmluZGV4T2YoYyk7LTEhPT1yJiYoZS5zcGxpY2UociwxKSxpKHQsbikpfX07cmV0dXJuIGUucHVzaChjKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pKSxpKHQsbiksdGhpc319ZnVuY3Rpb24gZyhuLGksdSl7dmFyIGQ9aS5hZnRlciYmci5nZXQoaS5hZnRlcik7aWYoZCl7aWYoZC50eXBlIT09bil0aHJvdyJmdW4taG9va3M6IHJlY3JlYXRlZCBob29rYWJsZSB3aXRoIGRpZmZlcmVudCB0eXBlIjtyZXR1cm4gaX12YXIgZixnLGI9dT9sKHUpOnAoKSx2PXtnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYlt0XXx8UmVmbGVjdC5nZXQuYXBwbHkoUmVmbGVjdCxhcmd1bWVudHMpfX07cmV0dXJuIHR8fHMucHVzaCh5KSxlLnVzZVByb3h5JiYiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkmJlByb3h5LnJldm9jYWJsZT9nPW5ldyBQcm94eShpLHYpOmEoZz1mdW5jdGlvbigpe3JldHVybiB2LmFwcGx5P3YuYXBwbHkoaSx0aGlzLG8oYXJndW1lbnRzKSk6aS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGIpLHIuZ2V0KGcuYWZ0ZXIpLmluc3RhbGwobixnLChmdW5jdGlvbihlLHQpe3ZhciByLGk9W107ZS5sZW5ndGh8fHQubGVuZ3RoPyhlLmZvckVhY2goYSkscj1pLnB1c2godm9pZCAwKS0xLHQuZm9yRWFjaChhKSxmPWZ1bmN0aW9uKGUsdCxhKXt2YXIgYyx1PTAscz0iYXN5bmMiPT09biYmImZ1bmN0aW9uIj09dHlwZW9mIGFbYS5sZW5ndGgtMV0mJmEucG9wKCk7ZnVuY3Rpb24gZChlKXsic3luYyI9PT1uP2M9ZTpzJiZzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUpe2lmKGlbdV0pe3ZhciByPW8oYXJndW1lbnRzKTtyZXR1cm4gZi5iYWlsPWQsci51bnNoaWZ0KGYpLGlbdSsrXS5hcHBseSh0LHIpfSJzeW5jIj09PW4/Yz1lOnMmJnMuYXBwbHkobnVsbCxhcmd1bWVudHMpfXJldHVybiBpW3JdPWZ1bmN0aW9uKCl7dmFyIHI9byhhcmd1bWVudHMsMSk7ImFzeW5jIj09PW4mJnMmJihkZWxldGUgZi5iYWlsLHIucHVzaChmKSk7dmFyIGk9ZS5hcHBseSh0LHIpOyJzeW5jIj09PW4mJmYoaSl9LGYuYXBwbHkobnVsbCxhKSxjfSk6Zj12b2lkIDA7ZnVuY3Rpb24gYShlKXtpLnB1c2goZS5ob29rKX15KCl9KSksZztmdW5jdGlvbiB5KCl7IXQmJigic3luYyIhPT1ufHxlLnJlYWR5JmMuU1lOQykmJigiYXN5bmMiIT09bnx8ZS5yZWFkeSZjLkFTWU5DKT8ic3luYyIhPT1uJiZlLnJlYWR5JmMuUVVFVUU/di5hcHBseT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztzLnB1c2goKGZ1bmN0aW9uKCl7Zy5hcHBseShlWzFdLGVbMl0pfSkpfTp2LmFwcGx5PWZ1bmN0aW9uKCl7dGhyb3ciZnVuLWhvb2tzOiBob29rZWQgZnVuY3Rpb24gbm90IHJlYWR5In06di5hcHBseT1mfX1yZXR1cm4oZT1hKHt9LG4sZSkpLnJlYWR5P2QucmVhZHk9ZnVuY3Rpb24oKXt0PSEwLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfShzKX06dD0hMCxkLmdldD1sLGR9ZS5leHBvcnRzPWN9LDE4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSEwfSwxOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDMpLGk9bigwKTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PXIuYi5nZXRDb25maWcoInBhZ2VVcmwiKTtpZih0KXJldHVybiB0O3RyeXt2YXIgbj1lLnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpO2lmKG51bGwhPT1uKXJldHVybiBuLmhyZWZ9Y2F0Y2goZSl7fXJldHVybiBudWxsfXJldHVybiBmdW5jdGlvbigpe3ZhciBuLG8sYSxjPVtdLHU9ZnVuY3Rpb24oZSl7dHJ5e2lmKCFlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucylyZXR1cm47cmV0dXJuIGUubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zfWNhdGNoKGUpe319KGUpLHM9ci5iLmdldENvbmZpZygibWF4TmVzdGVkSWZyYW1lcyIpLGQ9ITEsZj0wLGw9ITEscD0hMTtkb3t2YXIgZz1uLGI9cCx2PXZvaWQgMCx5PSExLGg9bnVsbDtwPSExLG49bj9uLnBhcmVudDplO3RyeXt2PW4ubG9jYXRpb24uaHJlZnx8bnVsbH1jYXRjaChlKXt5PSEwfWlmKHkpaWYoYil7dmFyIG09Zy5jb250ZXh0O3RyeXtvPWg9bS5zb3VyY2VVcmwsbD0hMCxuPT09ZS50b3AmJihkPSEwKSxtLmNhbm9uaWNhbFVybCYmKGE9bS5jYW5vbmljYWxVcmwpfWNhdGNoKGUpe319ZWxzZXtPYmplY3QoaS5sb2dXYXJuKSgiVHJ5aW5nIHRvIGFjY2VzcyBjcm9zcyBkb21haW4gaWZyYW1lLiBDb250aW51aW5nIHdpdGhvdXQgcmVmZXJyZXIgYW5kIGxvY2F0aW9uIik7dHJ5e3ZhciBPPWcuZG9jdW1lbnQucmVmZXJyZXI7TyYmKGg9TyxuPT09ZS50b3AmJihkPSEwKSl9Y2F0Y2goZSl7fSFoJiZ1JiZ1W2YtMV0mJihoPXVbZi0xXSksaCYmIWwmJihvPWgpfWVsc2V7aWYodiYmKG89aD12LGw9ITEsbj09PWUudG9wKSl7ZD0hMDt2YXIgaj10KG4uZG9jdW1lbnQpO2omJihhPWopfW4uY29udGV4dCYmbi5jb250ZXh0LnNvdXJjZVVybCYmKHA9ITApfWMucHVzaChoKSxmKyt9d2hpbGUobiE9PWUudG9wJiZmPHMpO3JldHVybiBjLnJldmVyc2UoKSx7cmVmZXJlcjpvfHxudWxsLHJlYWNoZWRUb3A6ZCxpc0FtcDpsLG51bUlmcmFtZXM6Zi0xLHN0YWNrOmMsY2Fub25pY2FsVXJsOmF8fG51bGx9fX0od2luZG93KX0sMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj0ibmF0aXZlIixpPSJ2aWRlbyIsbz0iYmFubmVyIixhPSJhZHBvZCJ9LDIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oOTIpLG89big1NCksYT1uKDI1KSxjPW4oNTgpLHU9big5Mykscz1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGQsZixsLHAsZyxiLHYseT1uJiZuLnRoYXQsaD0hKCFufHwhbi5BU19FTlRSSUVTKSxtPSEoIW58fCFuLklTX0lURVJBVE9SKSxPPSEoIW58fCFuLklOVEVSUlVQVEVEKSxqPWEodCx5LDEraCtPKSxTPWZ1bmN0aW9uKGUpe3JldHVybiBkJiZ1KGQpLG5ldyBzKCEwLGUpfSxFPWZ1bmN0aW9uKGUpe3JldHVybiBoPyhyKGUpLE8/aihlWzBdLGVbMV0sUyk6aihlWzBdLGVbMV0pKTpPP2ooZSxTKTpqKGUpfTtpZihtKWQ9ZTtlbHNle2lmKCJmdW5jdGlvbiIhPXR5cGVvZihmPWMoZSkpKXRocm93IFR5cGVFcnJvcigiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSIpO2lmKGkoZikpe2ZvcihsPTAscD1vKGUubGVuZ3RoKTtwPmw7bCsrKWlmKChnPUUoZVtsXSkpJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZztyZXR1cm4gbmV3IHMoITEpfWQ9Zi5jYWxsKGUpfWZvcihiPWQubmV4dDshKHY9Yi5jYWxsKGQpKS5kb25lOyl7dHJ5e2c9RSh2LnZhbHVlKX1jYXRjaChlKXt0aHJvdyB1KGQpLGV9aWYoIm9iamVjdCI9PXR5cGVvZiBnJiZnJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZ31yZXR1cm4gbmV3IHMoITEpfX0sMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9big4Nyksbz1uKDMxKSxhPW4oNjcpLGM9big4OCksdT1uKDExNikscz1pKCJ3a3MiKSxkPXIuU3ltYm9sLGY9dT9kOmQmJmQud2l0aG91dFNldHRlcnx8YTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocyxlKSYmKGN8fCJzdHJpbmciPT10eXBlb2Ygc1tlXSl8fChjJiZvKGQsZSk/c1tlXT1kW2VdOnNbZV09ZigiU3ltYm9sLiIrZSkpLHNbZV19fSwyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkoZS5yZXF1ZXN0SWQsdCksaT1uJiZPYmplY3Qoci5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvIiksbz1pJiZPYmplY3Qoci5kZWVwQWNjZXNzKShpLCJjb250ZXh0Iik7cmV0dXJuIHMoZSxuLGksbyl9LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTtuKDgpO3ZhciByPW4oMCksaT1uKDMpLG89bigxMiksYT0obi5uKG8pLG4oOSkpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIXR8fG4mJm8hPT1jP2kuYi5nZXRDb25maWcoImNhY2hlLnVybCIpfHwhZS52YXN0WG1sfHxlLnZhc3RVcmw/ISghZS52YXN0VXJsJiYhZS52YXN0WG1sKTooT2JqZWN0KHIubG9nRXJyb3IpKCdcbiAgICAgICAgVGhpcyBiaWQgY29udGFpbnMgb25seSB2YXN0WG1sIGFuZCB3aWxsIG5vdCB3b3JrIHdoZW4gYSBwcmViaWQgY2FjaGUgdXJsIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIFRyeSBlbmFibGluZyBwcmViaWQgY2FjaGUgd2l0aCB1cGJqcy5zZXRDb25maWcoeyBjYWNoZToge3VybDogIi4uLiJ9IH0pO1xuICAgICAgJyksITEpOm8hPT1jfHwhIShlLnJlbmRlcmVyfHx0LnJlbmRlcmVyfHxuLnJlbmRlcmVyKX0pLCJjaGVja1ZpZGVvQmlkU2V0dXAiKX0sMjIxOmZ1bmN0aW9uKGUsdCxuKXtuKDIyMik7dmFyIHI9big1Nik7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZEluZGV4Iil9LDIyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big2NCkuZmluZEluZGV4LG89big1NSksYT0iZmluZEluZGV4IixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZEluZGV4KChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwyMjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaCwhMSl9O3ZhciByPW4oMTApLGk9bi5uKHIpLG89bigzOCksYT1uKDUpLGM9bi5uKGEpLHU9bigwKSxzPW4oMjMpLGQ9bigxMSksZj1uLm4oZCksbD1uKDEzKSxwPW4oMTIpLGc9bi5uKHApLGI9bigzKSx2PWMuYS5FVkVOVFMuQklEX1dPTix5PWMuYS5FVkVOVFMuU1RBTEVfUkVOREVSO2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSIsbj17fTt0cnl7bj1KU09OLnBhcnNlKGVbdF0pfWNhdGNoKGUpe3JldHVybn1pZihuJiZuLmFkSWQpe3ZhciByPWYoKShzLmEuZ2V0Qmlkc1JlY2VpdmVkKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT1uLmFkSWR9KSk7aWYociYmIlByZWJpZCBSZXF1ZXN0Ij09PW4ubWVzc2FnZSl7aWYoci5zdGF0dXM9PT1jLmEuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdCh1LmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksaS5hLmVtaXQoeSxyKSxPYmplY3QodS5kZWVwQWNjZXNzKShiLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikpKXJldHVybjshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmFkSWQscj1lLmFkLGk9ZS5hZFVybCxvPWUud2lkdGgsYT1lLmhlaWdodCxjPWUucmVuZGVyZXIscz1lLmNwbTtPYmplY3QobC5jKShjKT9PYmplY3QobC5iKShjLGUpOm4mJihtKGUpLHQuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOiJSZW5kZXIgU2VjdXJlIENyZWF0aXZlIixhZDpPYmplY3QodS5yZXBsYWNlQXVjdGlvblByaWNlKShyLHMpLGFkVXJsOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKGkscyksYWRJZDpuLHdpZHRoOm8saGVpZ2h0OmF9KSx0Lm9yaWdpbikpfShyLGUpLHMuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9aWYociYmIlByZWJpZCBOYXRpdmUiPT09bi5tZXNzYWdlKWlmKCJhc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBhPU9iamVjdChvLmQpKG4scik7ZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoYSksZS5vcmlnaW4pfWVsc2UgaWYoImFsbEFzc2V0UmVxdWVzdCI9PT1uLmFjdGlvbil7dmFyIGQ9T2JqZWN0KG8uYykobixyKTtlLnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkKSxlLm9yaWdpbil9ZWxzZSBpZigicmVzaXplTmF0aXZlSGVpZ2h0Ij09PW4uYWN0aW9uKXIuaGVpZ2h0PW4uaGVpZ2h0LHIud2lkdGg9bi53aWR0aCxtKHIpO2Vsc2V7aWYoImNsaWNrIj09PU9iamVjdChvLmIpKG4scikpcmV0dXJuO3MuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9fX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuYWRJZCxuPWUuYWRVbml0Q29kZSxyPWUud2lkdGgsaT1lLmhlaWdodDtbImRpdiIsImlmcmFtZSJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG47T2JqZWN0KHUuaXNHcHRQdWJhZHNEZWZpbmVkKSgpJiYobj1mdW5jdGlvbihlKXt2YXIgdD1mKCkod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLChmdW5jdGlvbih0KXtyZXR1cm4gZigpKHQuZ2V0VGFyZ2V0aW5nS2V5cygpLChmdW5jdGlvbihuKXtyZXR1cm4gZygpKHQuZ2V0VGFyZ2V0aW5nKG4pLGUpfSkpfSkpO3JldHVybiB0JiZ0LmdldFNsb3RFbGVtZW50SWQoKX0oZSkpOyFuJiZPYmplY3QodS5pc0FwbkdldFRhZ0RlZmluZWQpKCkmJihuPWZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO3JldHVybiB0JiZ0LnRhcmdldElkfSh0KSk7bnx8KG49dCk7cmV0dXJuIG59KHQsbiksaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTtyZXR1cm4gaSYmaS5xdWVyeVNlbGVjdG9yKGUpfShlKyc6bm90KFtzdHlsZSo9ImRpc3BsYXk6IG5vbmUiXSknKTtpZihvKXt2YXIgYT1vLnN0eWxlO2Eud2lkdGg9cisicHgiLGEuaGVpZ2h0PWkrInB4In1lbHNlIE9iamVjdCh1LmxvZ1dhcm4pKCJVbmFibGUgdG8gbG9jYXRlIG1hdGNoaW5nIHBhZ2UgZWxlbWVudCBmb3IgYWRVbml0Q29kZSAiLmNvbmNhdChuLCIuICBDYW4ndCByZXNpemUgaXQgdG8gYWQncyBkaW1lbnNpb25zLiAgUGxlYXNlIHJldmlldyBzZXR1cC4iKSl9KSl9fSwyMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDApLGk9bigyOCksbz1uKDExKSxhPW4ubihvKSxjPW4oNSk7dmFyIHU9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXt9O3JldHVybiB0LmFkZFdpbm5pbmdCaWQ9ZnVuY3Rpb24odCl7dmFyIG49YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09dC5hdWN0aW9uSWR9KSk7bj8odC5zdGF0dXM9Yy5CSURfU1RBVFVTLlJFTkRFUkVELG4uYWRkV2lubmluZ0JpZCh0KSk6T2JqZWN0KHIubG9nV2FybikoIkF1Y3Rpb24gbm90IGZvdW5kIHdoZW4gYWRkaW5nIHdpbm5pbmcgYmlkIil9LHQuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFdpbm5pbmdCaWRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Qmlkc1JlcXVlc3RlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QmlkUmVxdWVzdHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE5vQmlkcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEJpZHNSZWNlaXZlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5nZXRBdWN0aW9uU3RhdHVzKCk9PT1pLmEpcmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sdC5nZXRBbGxCaWRzRm9yQWRVbml0Q29kZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYWRVbml0Q29kZT09PXR9KSl9LHQuZ2V0QWRVbml0cz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0cygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEFkVW5pdENvZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRDb2RlcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcihyLnVuaXF1ZXMpfSx0LmNyZWF0ZUF1Y3Rpb249ZnVuY3Rpb24odCl7dmFyIG49dC5hZFVuaXRzLHI9dC5hZFVuaXRDb2RlcyxvPXQuY2FsbGJhY2ssYT10LmNiVGltZW91dCxjPXQubGFiZWxzLHU9dC5hdWN0aW9uSWQscz1PYmplY3QoaS5rKSh7YWRVbml0czpuLGFkVW5pdENvZGVzOnIsY2FsbGJhY2s6byxjYlRpbWVvdXQ6YSxsYWJlbHM6YyxhdWN0aW9uSWQ6dX0pO3JldHVybiBmdW5jdGlvbih0KXtlLnB1c2godCl9KHMpLHN9LHQuZmluZEJpZEJ5QWRJZD1mdW5jdGlvbih0KXtyZXR1cm4gYSgpKGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXR9KSl9LHQuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5qKSgpW2MuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR119LHQuc2V0U3RhdHVzRm9yQmlkcz1mdW5jdGlvbihuLHIpe3ZhciBpPXQuZmluZEJpZEJ5QWRJZChuKTtpZihpJiYoaS5zdGF0dXM9ciksaSYmcj09PWMuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl7dmFyIG89YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09aS5hdWN0aW9uSWR9KSk7byYmby5zZXRCaWRUYXJnZXRpbmcoaSl9fSx0LmdldExhc3RBdWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZW5ndGgmJmVbZS5sZW5ndGgtMV0uZ2V0QXVjdGlvbklkKCl9LHQuY2xlYXJBbGxBdWN0aW9ucz1mdW5jdGlvbigpe2UubGVuZ3RoPTB9LHR9KCl9LDIzMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7ZT1lfHx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsdD1KU09OLnBhcnNlKGUuZ2V0SXRlbSh1KSl9Y2F0Y2goZSl7fXQmJnAodCwhMCl9O3ZhciByLGksbz1uKDMpLGE9bigwKSxjPW4oMjgpLHU9InVwYmpzOmRlYnVnZ2luZyI7ZnVuY3Rpb24gcyhlKXtPYmplY3QoYS5sb2dNZXNzYWdlKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZChlKXtPYmplY3QoYS5sb2dXYXJuKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZihlKXtyPXkuYmluZChlKSxjLmMuYmVmb3JlKHIsNSksaT1oLmJpbmQoZSksYy5lLmJlZm9yZShpLDUpfWZ1bmN0aW9uIGwoKXtjLmMuZ2V0SG9va3Moe2hvb2s6cn0pLnJlbW92ZSgpLGMuZS5nZXRIb29rcyh7aG9vazppfSkucmVtb3ZlKCl9ZnVuY3Rpb24gcChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO28uYi5zZXRDb25maWcoe2RlYnVnOiEwfSksbCgpLGYoZSkscygiYmlkZGVyIG92ZXJyaWRlcyBlbmFibGVkIi5jb25jYXQodD8iIGZyb20gc2Vzc2lvbiI6IiIpKX1mdW5jdGlvbiBnKGUsdCxuKXtyZXR1cm4hKCFlLmJpZGRlcnx8ZS5iaWRkZXI9PT10KXx8ISghZS5hZFVuaXRDb2RlfHxlLmFkVW5pdENvZGU9PT1uKX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJi0xPT09ZS5pbmRleE9mKHQpfWZ1bmN0aW9uIHYoZSx0LG4pe3JldHVybiBPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09WyJhZFVuaXRDb2RlIiwiYmlkZGVyIl0uaW5kZXhPZihlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuIHMoImJpZGRlciBvdmVycmlkZXMgY2hhbmdlZCAnIi5jb25jYXQodC5hZFVuaXRDb2RlLCIvIikuY29uY2F0KHQuYmlkZGVyQ29kZSwiJyAiKS5jb25jYXQobiwiLiIpLmNvbmNhdChyLCIgZnJvbSAnIikuY29uY2F0KHRbcl0sIi5qcycgdG8gJyIpLmNvbmNhdChlW3JdLCInIikpLHRbcl09ZVtyXSx0fSksdCl9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9dGhpcztiKHIuYmlkZGVycyxuLmJpZGRlckNvZGUpP2QoImJpZGRlciAnIi5jb25jYXQobi5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpOihBcnJheS5pc0FycmF5KHIuYmlkcykmJnIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtnKGUsbi5iaWRkZXJDb2RlLHQpfHx2KGUsbiwiYmlkZGVyIil9KSksZSh0LG4pKX1mdW5jdGlvbiBoKGUsdCl7dmFyIG49dGhpcyxyPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hYihuLmJpZGRlcnMsZS5iaWRkZXJDb2RlKXx8KGQoImJpZFJlcXVlc3QgJyIuY29uY2F0KGUuYmlkZGVyQ29kZSwiJyBleGNsdWRlZCBmcm9tIGF1Y3Rpb24gYnkgYmlkZGVyIG92ZXJyaWRlcyIpKSwhMSl9KSk7QXJyYXkuaXNBcnJheShuLmJpZFJlcXVlc3RzKSYmci5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJpZFJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihuKXtnKHQsZS5iaWRkZXJDb2RlLG4uYWRVbml0Q29kZSl8fHYodCxuLCJiaWRSZXF1ZXN0Iil9KSl9KSl9KSksZShyKX1mdW5jdGlvbiBtKGUpe2lmKGUuZW5hYmxlZCl7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHUsSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKGUpe31wKGUpfWVsc2V7bCgpLHMoImJpZGRlciBvdmVycmlkZXMgZGlzYWJsZWQiKTt0cnl7d2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odSl9Y2F0Y2goZSl7fX19by5iLmdldENvbmZpZygiZGVidWdnaW5nIiwoZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS5kZWJ1Z2dpbmcpfSkpfSwyNDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZX19LDI1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKHIoZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodCl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUuY2FsbCh0LG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIGUuY2FsbCh0LG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiBlLmNhbGwodCxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0NSksaT1uKDI3KSxvPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6dm9pZCAwfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP28ocltlXSl8fG8oaVtlXSk6cltlXSYmcltlXVt0XXx8aVtlXSYmaVtlXVt0XX19LDI3OmZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX07ZS5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgdCYmdCl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHQsbig0MCkpfSwyODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksdC5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhLHM9ZS5hZFVuaXRzLGQ9ZS5hZFVuaXRDb2RlcyxmPWUuY2FsbGJhY2sscD1lLmNiVGltZW91dCx2PWUubGFiZWxzLFU9ZS5hdWN0aW9uSWQsaz1zLE49dixQPWQscT1bXSxHPVtdLEw9W10sVz1VfHxPYmplY3Qoci5nZW5lcmF0ZVVVSUQpKCksRj1mLHo9cCxWPVtdLEg9bmV3IFNldDtmdW5jdGlvbiBLKCl7cmV0dXJue2F1Y3Rpb25JZDpXLHRpbWVzdGFtcDp0LGF1Y3Rpb25FbmQ6bixhdWN0aW9uU3RhdHVzOm8sYWRVbml0czprLGFkVW5pdENvZGVzOlAsbGFiZWxzOk4sYmlkZGVyUmVxdWVzdHM6cSxub0JpZHM6TCxiaWRzUmVjZWl2ZWQ6Ryx3aW5uaW5nQmlkczpWLHRpbWVvdXQ6en19ZnVuY3Rpb24gSihlLHQpe2lmKHQmJmNsZWFyVGltZW91dChhKSx2b2lkIDA9PT1uKXt2YXIgaT1bXTtlJiYoT2JqZWN0KHIubG9nTWVzc2FnZSkoIkF1Y3Rpb24gIi5jb25jYXQoVywiIHRpbWVkT3V0IikpLGM9SCwoaT1xLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkc3x8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWMuaGFzKGUuYmlkZGVyKX0pKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntiaWRJZDplLmJpZElkLGJpZGRlcjplLmJpZGRlcixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWR9fSkpKS5sZW5ndGgmJmouZW1pdChTLkVWRU5UUy5CSURfVElNRU9VVCxpKSksbz1BLG49RGF0ZS5ub3coKSxqLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9FTkQsSygpKSxfKGssKGZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPUYpe3ZhciB0PVAsbj1HLmZpbHRlcihyLmJpbmQuY2FsbChyLmFkVW5pdHNGaWx0ZXIsdGhpcyx0KSkucmVkdWNlKE0se30pO0YuYXBwbHkodXBianMsW24sZSxXXSksRj1udWxsfX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9ZmluYWxseXtpLmxlbmd0aCYmTy5jYWxsVGltZWRPdXRCaWRkZXJzKHMsaSx6KTt2YXIgbz11LmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpfHx7fTtvLmVuYWJsZU92ZXJyaWRlfHxtKG8uc3luY0RlbGF5KX19KSl9dmFyIGN9ZnVuY3Rpb24gWSgpe3UuYi5yZXNldEJpZGRlcigpLE9iamVjdChyLmxvZ0luZm8pKCJCaWRzIFJlY2VpdmVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLEcpLG89QSxKKCExLCEwKX1mdW5jdGlvbiBRKGUpe0guYWRkKGUpfWZ1bmN0aW9uICQoZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZSxxPXEuY29uY2F0KHQpfSkpO3ZhciBuPXt9LHM9e2JpZFJlcXVlc3RzOmUscnVuOmZ1bmN0aW9uKCl7dmFyIHMscDtzPUouYmluZChudWxsLCEwKSxwPXNldFRpbWVvdXQocyx6KSxhPXAsbz1FLGouZW1pdChTLkVWRU5UUy5BVUNUSU9OX0lOSVQsSygpKTt2YXIgdj1mdW5jdGlvbihlLHQpe3ZhciBuPTAsbz0hMSxhPW5ldyBTZXQscz17fTtmdW5jdGlvbiBkKCl7bi0tLG8mJjA9PT1uJiZlKCl9ZnVuY3Rpb24gZihlLG8pe3ZhciBhPXRoaXMsZj10LmdldEJpZFJlcXVlc3RzKCk7aWYoby5hZGRSZXF1ZXN0T25seSYmYS5pc0R5bmFtaWMmJiFmLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3RJZD09PWEuYmlkZGVyUmVxdWVzdElkfSkpKWYucHVzaChhKTtlbHNle3Nbby5yZXF1ZXN0SWRdPSEwLG4rKzt2YXIgcD10LmdldEF1Y3Rpb25JZCgpLGc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXRDb2RlLG49ZS5iaWQsbz1lLmJpZGRlclJlcXVlc3QsYT1lLmF1Y3Rpb25JZCxzPW8uc3RhcnQsZD1oKHt9LG4se2F1Y3Rpb25JZDphLHJlc3BvbnNlVGltZXN0YW1wOk9iamVjdChyLnRpbWVzdGFtcCkoKSxyZXF1ZXN0VGltZXN0YW1wOnMsY3BtOnBhcnNlRmxvYXQobi5jcG0pfHwwLGJpZGRlcjpuLmJpZGRlckNvZGUsYWRVbml0Q29kZTp0fSk7ZC50aW1lVG9SZXNwb25kPWQucmVzcG9uc2VUaW1lc3RhbXAtZC5yZXF1ZXN0VGltZXN0YW1wLGouZW1pdChTLkVWRU5UUy5CSURfQURKVVNUTUVOVCxkKTt2YXIgZj1vLmJpZHMmJmwoKShvLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PXQmJmUuYmlkSWQ9PWQucmVxdWVzdElkfSkpLHA9ZiYmZi5yZW5kZXJlcixnPWQubWVkaWFUeXBlLGI9ZiYmZi5tZWRpYVR5cGVzJiZmLm1lZGlhVHlwZXNbZ10sdj1iJiZiLnJlbmRlcmVyLG09bnVsbDt2JiZ2LnVybCYmdi5yZW5kZXImJighMCE9PXYuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpP209djpwJiZwLnVybCYmcC5yZW5kZXImJighMCE9PXAuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpJiYobT1wKTttJiYoZC5yZW5kZXJlcj1jLmEuaW5zdGFsbCh7dXJsOm0udXJsfSksZC5yZW5kZXJlci5zZXRSZW5kZXIobS5yZW5kZXIpKTt2YXIgTz1EKG4ubWVkaWFUeXBlLGYsdS5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKSxFPU9iamVjdChpLmEpKGQuY3BtLCJvYmplY3QiPT09eShPKT9POnUuYi5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IiksdS5iLmdldENvbmZpZygiY3VycmVuY3kuZ3JhbnVsYXJpdHlNdWx0aXBsaWVyIikpO3JldHVybiBkLnBiTGc9RS5sb3csZC5wYk1nPUUubWVkLGQucGJIZz1FLmhpZ2gsZC5wYkFnPUUuYXV0byxkLnBiRGc9RS5kZW5zZSxkLnBiQ2c9RS5jdXN0b20sZH0oe2FkVW5pdENvZGU6ZSxiaWQ6byxiaWRkZXJSZXF1ZXN0OmEsYXVjdGlvbklkOnB9KTsidmlkZW8iPT09Zy5tZWRpYVR5cGU/ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89ITAsYT1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KSh0Lm9yaWdpbmFsUmVxdWVzdElkfHx0LnJlcXVlc3RJZCxbbl0pLGM9YSYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYSwibWVkaWFUeXBlcy52aWRlbyIpLHM9YyYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYywiY29udGV4dCIpO3UuYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiZzIT09Yi5iJiYoIXQudmlkZW9DYWNoZUtleXx8dS5iLmdldENvbmZpZygiY2FjaGUuaWdub3JlQmlkZGVyQ2FjaGVLZXkiKT8obz0hMSx4KGUsdCxpLGEpKTp0LnZhc3RVcmx8fChPYmplY3Qoci5sb2dFcnJvcikoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksbz0hMSkpO28mJihCKGUsdCksaSgpKX0odCxnLGEsZCk6KEIodCxnKSxkKCkpfX1mdW5jdGlvbiBwKCl7dmFyIGk9dGhpcyxjPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZigiczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09aS5iaWRkZXJDb2RlKXt2YXIgZD11LmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpO2lmKGEuYWRkKGkpLGQmJiFPYmplY3Qoci5pc0VtcHR5KShkKSl7dmFyIGY9ZC5zZWNvbmRhcnlCaWRkZXJzO2YmJiFjLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZygpKGYsZS5iaWRkZXJDb2RlKX0pKSYmKGM9Yy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkoZixlLmJpZGRlckNvZGUpfSkpKX1vPWMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pKSxpLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c1tlLmJpZElkXXx8KHQuYWRkTm9CaWQoZSksai5lbWl0KFMuRVZFTlRTLk5PX0JJRCxlKSl9KSksbyYmMD09PW4mJmUoKX1lbHNle3ZhciBsPWMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0SWR9KSkuaW5kZXhPZihpLmJpZGRlclJlcXVlc3RJZCk7bD4tMSYmYy5zcGxpY2UobCwxKX19cmV0dXJue2FkZEJpZFJlc3BvbnNlOmYsYWRhcHRlckRvbmU6cH19KFksdCk7Ty5jYWxsQmlkcyhrLGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07Qy5hcHBseSh7ZGlzcGF0Y2g6di5hZGRCaWRSZXNwb25zZSxiaWRkZXJSZXF1ZXN0OnRoaXN9LHQpfSksdi5hZGFwdGVyRG9uZSx7cmVxdWVzdDpmdW5jdGlvbihlLHQpe2YoVCx0KSxmKG4sZSksSVtlXXx8KElbZV09e1NSQTohMCxvcmlnaW46dH0pLG5bZV0+MSYmKElbZV0uU1JBPSExKX0sZG9uZTpmdW5jdGlvbihlKXtUW2VdLS0sd1swXSYmZCh3WzBdKSYmdy5zaGlmdCgpfX0seixRKX19O2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ITAsbj11LmIuZ2V0Q29uZmlnKCJtYXhSZXF1ZXN0c1Blck9yaWdpbiIpfHw0O3JldHVybiBlLmJpZFJlcXVlc3RzLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciByPTEsaT12b2lkIDAhPT1lLnNyYyYmZS5zcmM9PT1TLlMyUy5TUkM/InMycyI6ZS5iaWRkZXJDb2RlO3JldHVybiBJW2ldJiYoITE9PT1JW2ldLlNSQSYmKHI9TWF0aC5taW4oZS5iaWRzLmxlbmd0aCxuKSksVFtJW2ldLm9yaWdpbl0rcj5uJiYodD0hMSkpLCF0fSkpLHQmJmUucnVuKCksdH1mdW5jdGlvbiBmKGUsdCl7dm9pZCAwPT09ZVt0XT9lW3RdPTE6ZVt0XSsrfWQocyl8fChPYmplY3Qoci5sb2dXYXJuKSgicXVldWVpbmcgYXVjdGlvbiBkdWUgdG8gbGltaXRlZCBlbmRwb2ludCBjYXBhY2l0eSIpLHcucHVzaChzKSl9cmV0dXJue2FkZEJpZFJlY2VpdmVkOmZ1bmN0aW9uKGUpe0c9Ry5jb25jYXQoZSl9LGFkZE5vQmlkOmZ1bmN0aW9uKGUpe0w9TC5jb25jYXQoZSl9LGV4ZWN1dGVDYWxsYmFjazpKLGNhbGxCaWRzOmZ1bmN0aW9uKCl7bz0ic3RhcnRlZCIsdD1EYXRlLm5vdygpO3ZhciBlPU8ubWFrZUJpZFJlcXVlc3RzKGssdCxXLHosTik7T2JqZWN0KHIubG9nSW5mbykoIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLGUpLGUubGVuZ3RoPDE/KE9iamVjdChyLmxvZ1dhcm4pKCJObyB2YWxpZCBiaWQgcmVxdWVzdHMgcmV0dXJuZWQgZm9yIGF1Y3Rpb24iKSxZKCkpOlIuY2FsbCh7ZGlzcGF0Y2g6JCxjb250ZXh0OnRoaXN9LGUpfSxhZGRXaW5uaW5nQmlkOmZ1bmN0aW9uKGUpe1Y9Vi5jb25jYXQoZSksTy5jYWxsQmlkV29uQmlkZGVyKGUuYmlkZGVyLGUscyl9LHNldEJpZFRhcmdldGluZzpmdW5jdGlvbihlKXtPLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXIoZS5iaWRkZXIsZSl9LGdldFdpbm5pbmdCaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIFZ9LGdldFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gen0sZ2V0QXVjdGlvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIFd9LGdldEF1Y3Rpb25TdGF0dXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZ2V0QWRVbml0czpmdW5jdGlvbigpe3JldHVybiBrfSxnZXRBZFVuaXRDb2RlczpmdW5jdGlvbigpe3JldHVybiBQfSxnZXRCaWRSZXF1ZXN0czpmdW5jdGlvbigpe3JldHVybiBxfSxnZXRCaWRzUmVjZWl2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gR30sZ2V0Tm9CaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIEx9fX0sbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSx0Lmc9VSx0LmQ9QixuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZCh0LCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0Lmo9UDt2YXIgcj1uKDApLGk9big0OSksbz1uKDM4KSxhPW4oMTAyKSxjPW4oMTMpLHU9bigzKSxzPW4oNjEpLGQ9big5KSxmPW4oMTEpLGw9bi5uKGYpLHA9bigxMiksZz1uLm4ocCksYj1uKDIyKSx2PW4oMik7ZnVuY3Rpb24geShlKXtyZXR1cm4oeT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBtPXMuYS5zeW5jVXNlcnMsTz1uKDgpLmRlZmF1bHQsaj1uKDEwKSxTPW4oNSksRT0iaW5Qcm9ncmVzcyIsQT0iY29tcGxldGVkIjtqLm9uKFMuRVZFTlRTLkJJRF9BREpVU1RNRU5ULChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmJpZGRlckNvZGUsaT1lLmNwbTtpZih1cGJqcy5iaWRkZXJTZXR0aW5ncyYmKG4mJnVwYmpzLmJpZGRlclNldHRpbmdzW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3Nbbl0uYmlkQ3BtQWRqdXN0bWVudD90PXVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ6dXBianMuYmlkZGVyU2V0dGluZ3NbUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0mJiJmdW5jdGlvbiI9PXR5cGVvZiB1cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50JiYodD11cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50KSx0KSl0cnl7aT10KGUuY3BtLGgoe30sZSkpfWNhdGNoKGUpe09iamVjdChyLmxvZ0Vycm9yKSgiRXJyb3IgZHVyaW5nIGJpZCBhZGp1c3RtZW50IiwiYmlkbWFuYWdlci5qcyIsZSl9aT49MCYmKGUuY3BtPWkpfShlKX0pKTt2YXIgVD17fSxJPXt9LHc9W107dmFyIEM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5iaWRkZXJSZXF1ZXN0LGUsdCl9KSwiYWRkQmlkUmVzcG9uc2UiKSxSPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dGhpcy5kaXNwYXRjaC5jYWxsKHRoaXMuY29udGV4dCxlKX0pLCJhZGRCaWRkZXJSZXF1ZXN0cyIpLF89T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0JiZ0KCl9KSwiYmlkc0JhY2tDYWxsYmFjayIpO2Z1bmN0aW9uIFUoZSx0KXt0LnRpbWVUb1Jlc3BvbmQ+ZS5nZXRUaW1lb3V0KCkrdS5iLmdldENvbmZpZygidGltZW91dEJ1ZmZlciIpJiZlLmV4ZWN1dGVDYWxsYmFjayghMCl9ZnVuY3Rpb24gQihlLHQpe3ZhciBuPWUuZ2V0QmlkUmVxdWVzdHMoKSxyPWwoKShuLChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dC5iaWRkZXJDb2RlfSkpOyFmdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuYmlkZGVyQ29kZSYmKGUuY3BtPjB8fGUuZGVhbElkKSl7dmFyIHI9bCgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTtuPWZ1bmN0aW9uKGUsdCxuKXtpZighdClyZXR1cm57fTt2YXIgcj17fSxpPXVwYmpzLmJpZGRlclNldHRpbmdzO2lmKGkpe3EocixQKHQubWVkaWFUeXBlLGUpLHQsbiksZSYmaVtlXSYmaVtlXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddJiYocShyLGlbZV0sdCxuKSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPWgoe30scixPYmplY3Qoby5lKSh0LG4pKSk7cmV0dXJuIHJ9KGUuYmlkZGVyQ29kZSxlLHIpfWUuYWRzZXJ2ZXJUYXJnZXRpbmc9aChlLmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxqLmVtaXQoUy5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksVShlLHQpfXZhciB4PU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLGkpe09iamVjdChhLmIpKFt0XSwoZnVuY3Rpb24oaSxvKXtpPyhPYmplY3Qoci5sb2dXYXJuKSgiRmFpbGVkIHRvIHNhdmUgdG8gdGhlIHZpZGVvIGNhY2hlOiAiLmNvbmNhdChpLCIuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSksVShlLHQpKToiIj09PW9bMF0udXVpZD8oT2JqZWN0KHIubG9nV2FybikoIlN1cHBsaWVkIHZpZGVvIGNhY2hlIGtleSB3YXMgYWxyZWFkeSBpbiB1c2UgYnkgUHJlYmlkIENhY2hlOyBjYWNoaW5nIGF0dGVtcHQgd2FzIHJlamVjdGVkLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIiksVShlLHQpKToodC52aWRlb0NhY2hlS2V5PW9bMF0udXVpZCx0LnZhc3RVcmx8fCh0LnZhc3RVcmw9T2JqZWN0KGEuYSkodC52aWRlb0NhY2hlS2V5KSksQihlLHQpLG4oKSl9KSxpKX0pLCJjYWxsUHJlYmlkQ2FjaGUiKTtmdW5jdGlvbiBEKGUsdCxuKXtpZihlJiZuKXtpZihlPT09di5kKXt2YXIgaT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLiIuY29uY2F0KHYuZCwiLmNvbnRleHQiKSwiaW5zdHJlYW0iKTtpZihuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldKXJldHVybiBuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldfXJldHVybiBuW2VdfX12YXIgaz1mdW5jdGlvbihlLHQpe3ZhciBuPUQoZSx0LHUuYi5nZXRDb25maWcoIm1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkiKSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZuPyJzdHJpbmciPT10eXBlb2Ygbj9uOiJjdXN0b20iOnUuYi5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKX0sTj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1lfHxrKHQubWVkaWFUeXBlLG4pKT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP3QucGJBZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP3QucGJEZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz90LnBiTGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/dC5wYk1nOmU9PT1TLkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD90LnBiSGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/dC5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIFAoZSx0KXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJue2tleTplLHZhbDoiZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbihlLG4pe3JldHVybiB0KGUsbil9OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5nZXRWYWx1ZSkoZSx0KX19fXZhciBpPVMuVEFSR0VUSU5HX0tFWVMsbz11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXT17fSksb1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddPVtuKGkuQklEREVSLCJiaWRkZXJDb2RlIiksbihpLkFEX0lELCJhZElkIiksbihpLlBSSUNFX0JVQ0tFVCxOKCkpLG4oaS5TSVpFLCJzaXplIiksbihpLkRFQUwsImRlYWxJZCIpLG4oaS5TT1VSQ0UsInNvdXJjZSIpLG4oaS5GT1JNQVQsIm1lZGlhVHlwZSIpLG4oaS5BRE9NQUlOLChmdW5jdGlvbihlKXtyZXR1cm4gZS5tZXRhJiZlLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMmJmUubWV0YS5hZHZlcnRpc2VyRG9tYWlucy5sZW5ndGg+MD9lLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnNbMF06IiJ9KSldKSwidmlkZW8iPT09ZSl7dmFyIGE9b1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO2lmKFtpLlVVSUQsaS5DQUNIRV9JRF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwPT09bCgpKGEsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleT09PWV9KSkmJmEucHVzaChuKGUsInZpZGVvQ2FjaGVLZXkiKSl9KSksdS5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJighdHx8ITEhPT1PYmplY3Qoci5kZWVwQWNjZXNzKShvLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIGM9T2JqZWN0KHIucGFyc2VVcmwpKHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1sKCkoYSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09aS5DQUNIRV9IT1NUfSkpJiZhLnB1c2gobihpLkNBQ0hFX0hPU1QsKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJhZHNlcnZlclRhcmdldGluZy4iLmNvbmNhdChpLkNBQ0hFX0hPU1QpKT9lLmFkc2VydmVyVGFyZ2V0aW5nW2kuQ0FDSEVfSE9TVF06Yy5ob3N0bmFtZX0pKSl9fXJldHVybiBvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfWZ1bmN0aW9uIHEoZSx0LG4saSl7dmFyIG89dFtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO3JldHVybiBuLnNpemU9bi5nZXRTaXplKCksT2JqZWN0KHIuX2VhY2gpKG8sKGZ1bmN0aW9uKG8pe3ZhciBhPW8ua2V5LGM9by52YWw7aWYoZVthXSYmT2JqZWN0KHIubG9nV2FybikoIlRoZSBrZXk6ICIrYSsiIGlzIGdldHRpbmcgb3Zld3JpdHRlbiIpLE9iamVjdChyLmlzRm4pKGMpKXRyeXtjPWMobixpKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoImJpZG1hbmFnZXIiLCJFUlJPUiIsZSl9KHZvaWQgMD09PXQuc3VwcHJlc3NFbXB0eUtleXN8fCEwIT09dC5zdXBwcmVzc0VtcHR5S2V5cykmJmEhPT1TLlRBUkdFVElOR19LRVlTLkRFQUx8fCFPYmplY3Qoci5pc0VtcHR5U3RyKShjKSYmbnVsbCE9Yz9lW2FdPWM6T2JqZWN0KHIubG9nSW5mbykoInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIithKyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSksZX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDI5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgcj1uKDQ5KSxpPW4oMTEpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDkwKSxzPW4ubih1KSxkPW4oMCksZj1bImZwZCJdO2Z1bmN0aW9uIGwoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHwoaVtuXT1lW25dKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihpW25dPWVbbl0pfXJldHVybiBpfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdj1uKDc1KSx5PW4oNSksaD0iVFJVRSI9PT1PYmplY3QoZC5nZXRQYXJhbWV0ZXJCeU5hbWUpKHkuREVCVUdfTU9ERSkudG9VcHBlckNhc2UoKSxtPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sTz0icmFuZG9tIixqPXt9O2pbT109ITAsai5maXhlZD0hMDt2YXIgUz1PLEU9e0xPVzoibG93IixNRURJVU06Im1lZGl1bSIsSElHSDoiaGlnaCIsQVVUTzoiYXV0byIsREVOU0U6ImRlbnNlIixDVVNUT006ImN1c3RvbSJ9O3ZhciBBPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGk9W10sYT1udWxsO2Z1bmN0aW9uIHUoKXtlPXt9O3ZhciBpPXtfZGVidWc6aCxnZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9LHNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lfSxfYmlkZGVyVGltZW91dDozZTMsZ2V0IGJpZGRlclRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fYmlkZGVyVGltZW91dH0sc2V0IGJpZGRlclRpbWVvdXQoZSl7dGhpcy5fYmlkZGVyVGltZW91dD1lfSxfcHVibGlzaGVyRG9tYWluOm0sZ2V0IHB1Ymxpc2hlckRvbWFpbigpe3JldHVybiB0aGlzLl9wdWJsaXNoZXJEb21haW59LHNldCBwdWJsaXNoZXJEb21haW4oZSl7dGhpcy5fcHVibGlzaGVyRG9tYWluPWV9LF9wcmljZUdyYW51bGFyaXR5OkUuTUVESVVNLHNldCBwcmljZUdyYW51bGFyaXR5KGUpe2MoZSkmJigic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5fcHJpY2VHcmFudWxhcml0eT1hKGUpP2U6RS5NRURJVU06T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9RS5DVVNUT00sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSIpKSl9LGdldCBwcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX3ByaWNlR3JhbnVsYXJpdHl9LF9jdXN0b21QcmljZUJ1Y2tldDp7fSxnZXQgY3VzdG9tUHJpY2VCdWNrZXQoKXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJpY2VCdWNrZXR9LF9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5Ont9LGdldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHl9LHNldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KGUpe3ZhciB0PXRoaXM7dGhpcy5fbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eT1PYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7cmV0dXJuIGMoZVtyXSk/InN0cmluZyI9PXR5cGVvZiBlP25bcl09YShlW3JdKT9lW3JdOnQuX3ByaWNlR3JhbnVsYXJpdHk6T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJihuW3JdPWVbcl0sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQocikpKTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBwcmljZSBncmFudWxhcml0eSBmb3IgbWVkaWEgdHlwZTogIi5jb25jYXQocikpLG59KSx7fSl9LF9zZW5kQWxsQmlkczp0cnVlLGdldCBlbmFibGVTZW5kQWxsQmlkcygpe3JldHVybiB0aGlzLl9zZW5kQWxsQmlkc30sc2V0IGVuYWJsZVNlbmRBbGxCaWRzKGUpe3RoaXMuX3NlbmRBbGxCaWRzPWV9LF91c2VCaWRDYWNoZTpmYWxzZSxnZXQgdXNlQmlkQ2FjaGUoKXtyZXR1cm4gdGhpcy5fdXNlQmlkQ2FjaGV9LHNldCB1c2VCaWRDYWNoZShlKXt0aGlzLl91c2VCaWRDYWNoZT1lfSxfZGV2aWNlQWNjZXNzOnRydWUsZ2V0IGRldmljZUFjY2Vzcygpe3JldHVybiB0aGlzLl9kZXZpY2VBY2Nlc3N9LHNldCBkZXZpY2VBY2Nlc3MoZSl7dGhpcy5fZGV2aWNlQWNjZXNzPWV9LF9iaWRkZXJTZXF1ZW5jZTpTLGdldCBiaWRkZXJTZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9iaWRkZXJTZXF1ZW5jZX0sc2V0IGJpZGRlclNlcXVlbmNlKGUpe2pbZV0/dGhpcy5fYmlkZGVyU2VxdWVuY2U9ZTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBvcmRlcjogIi5jb25jYXQoZSwiLiBCaWRkZXIgU2VxdWVuY2Ugd2FzIG5vdCBzZXQuIikpfSxfdGltZW91dEJ1ZmZlcjo0MDAsZ2V0IHRpbWVvdXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdGltZW91dEJ1ZmZlcn0sc2V0IHRpbWVvdXRCdWZmZXIoZSl7dGhpcy5fdGltZW91dEJ1ZmZlcj1lfSxfZGlzYWJsZUFqYXhUaW1lb3V0OmZhbHNlLGdldCBkaXNhYmxlQWpheFRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0fSxzZXQgZGlzYWJsZUFqYXhUaW1lb3V0KGUpe3RoaXMuX2Rpc2FibGVBamF4VGltZW91dD1lfSxfbWF4TmVzdGVkSWZyYW1lczoxMCxnZXQgbWF4TmVzdGVkSWZyYW1lcygpe3JldHVybiB0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzfSxzZXQgbWF4TmVzdGVkSWZyYW1lcyhlKXt0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzPWV9LF9hdWN0aW9uT3B0aW9uczp7fSxnZXQgYXVjdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fYXVjdGlvbk9wdGlvbnN9LHNldCBhdWN0aW9uT3B0aW9ucyhlKXsoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IiksITE7Zm9yKHZhciB0PTAsbj1PYmplY3Qua2V5cyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtpZigic2Vjb25kYXJ5QmlkZGVycyIhPT1yJiYic3VwcHJlc3NTdGFsZVJlbmRlciIhPT1yKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIGdpdmVuIGFuIGluY29ycmVjdCBwYXJhbTogIi5jb25jYXQocikpLCExO2lmKCJzZWNvbmRhcnlCaWRkZXJzIj09PXIpe2lmKCFPYmplY3QoZC5pc0FycmF5KShlW3JdKSlyZXR1cm4gT2JqZWN0KGQubG9nV2FybikoIkF1Y3Rpb24gT3B0aW9ucyAiLmNvbmNhdChyLCIgbXVzdCBiZSBvZiB0eXBlIEFycmF5IikpLCExO2lmKCFlW3JdLmV2ZXJ5KGQuaXNTdHIpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9ubHkgc3RyaW5nIikpLCExfWVsc2UgaWYoInN1cHByZXNzU3RhbGVSZW5kZXIiPT09ciYmIU9iamVjdChkLmlzQm9vbGVhbikoZVtyXSkpcmV0dXJuIE9iamVjdChkLmxvZ1dhcm4pKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBib29sZWFuIikpLCExfXJldHVybiEwfSkoZSkmJih0aGlzLl9hdWN0aW9uT3B0aW9ucz1lKX19O2Z1bmN0aW9uIGEoZSl7cmV0dXJuIG8oKShPYmplY3Qua2V5cyhFKSwoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT1FW3RdfSkpfWZ1bmN0aW9uIGMoZSl7aWYoIWUpcmV0dXJuIE9iamVjdChkLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBubyB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtpZigic3RyaW5nIj09dHlwZW9mIGUpYShlKXx8T2JqZWN0KGQubG9nV2FybikoIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZihPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlKSYmIU9iamVjdChyLmIpKGUpKXJldHVybiBPYmplY3QoZC5sb2dFcnJvcikoIkludmFsaWQgY3VzdG9tIHByaWNlIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO3JldHVybiEwfXQmJkkoT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiB0W25dIT09aVtuXSYmKGVbbl09aVtuXXx8e30pLGV9KSx7fSkpLHQ9aSxuPXt9fWZ1bmN0aW9uIHkoKXtpZihhJiZuJiZPYmplY3QoZC5pc1BsYWluT2JqZWN0KShuW2FdKSl7dmFyIGU9blthXSxyPW5ldyBzLmEoT2JqZWN0LmtleXModCkuY29uY2F0KE9iamVjdC5rZXlzKGUpKSk7cmV0dXJuIHYocikucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiB2b2lkIDA9PT1lW3JdP25bcl09dFtyXTp2b2lkIDA9PT10W3JdP25bcl09ZVtyXTpPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlW3JdKT9uW3JdPU9iamVjdChkLm1lcmdlRGVlcCkoe30sdFtyXSxlW3JdKTpuW3JdPWVbcl0sbn0pLHt9KX1yZXR1cm4gYih7fSx0KX1mdW5jdGlvbiBPKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0iY29udGV4dCI9PT1uPyJzaXRlIjpuO3Rbcl09InNpdGUiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImRhdGEiPT09cj9PYmplY3QoZC5tZXJnZURlZXApKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fWZ1bmN0aW9uIEEoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qua2V5cyhlW25dKS5mb3JFYWNoKChmdW5jdGlvbihyKXsiZGF0YSI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6Im9iamVjdCIhPT1nKGVbbl1bcl0pfHxBcnJheS5pc0FycmF5KGVbbl1bcl0pP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLGVbbl1bcl0pfX0pOk9iamVjdC5rZXlzKGVbbl1bcl0pLmZvckVhY2goKGZ1bmN0aW9uKGkpe09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLHAoe30saS50b0xvd2VyQ2FzZSgpLGVbbl1bcl1baV0pKX19KX0pKX0pKX0pKSx0fWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBpLnB1c2gociksZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YociksMSl9fU9iamVjdChkLmxvZ0Vycm9yKSgibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gSShlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGMoKSh0LGUudG9waWMpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuY2FsbGJhY2socCh7fSx0LnRvcGljLGVbdC50b3BpY10pKX0pKSxpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09ZS50b3BpY30pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jYWxsYmFjayhlKX0pKX1mdW5jdGlvbiB3KGUsdCl7YT1lO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7QygpfX1mdW5jdGlvbiBDKCl7YT1udWxsfXJldHVybiB1KCkse2dldEN1cnJlbnRCaWRkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYX0scmVzZXRCaWRkZXI6QyxnZXRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHkoKSxlKTp5KCl9cmV0dXJuIFQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LHJlYWRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdLHQ9T2JqZWN0KGQuZGVlcENsb25lKSh5KCkpO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHQsZSk6dH1yZXR1cm4gVC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKE9iamVjdChkLmlzUGxhaW5PYmplY3QpKG4pKXt2YXIgcj1PYmplY3Qua2V5cyhuKSxpPXt9O3IuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG89ImZwZCI9PT1yPyJvcnRiMiI6cixhPSJmcGQiPT09cj9PKG5bcl0pOm5bcl07T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZVtvXSkmJk9iamVjdChkLmlzUGxhaW5PYmplY3QpKGEpJiYoYT1iKHt9LGVbb10sYSkpLGlbb109dFtvXT1hfSkpLEkoaSl9ZWxzZSBPYmplY3QoZC5sb2dFcnJvcikoInNldENvbmZpZyBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iil9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe09iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpPyhiKGUsbiksYih0LG4pKTpPYmplY3QoZC5sb2dFcnJvcikoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOnUscnVuV2l0aEJpZGRlcjp3LGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4pLGk9MDtpPG47aSsrKXJbaV09YXJndW1lbnRzW2ldO3JldHVybiB3KGUsZC5iaW5kLmNhbGwuYXBwbHkoZC5iaW5kLFt0LHRoaXNdLmNvbmNhdChyKSkpfU9iamVjdChkLmxvZ1dhcm4pKCJjb25maWcuY2FsbGJhY2tXaXRoQmlkZGVyIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIil9fX0sc2V0QmlkZGVyQ29uZmlnOmZ1bmN0aW9uKGUpe3RyeXshZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZighT2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZS5jb25maWcpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBjb25maWcgb2JqZWN0In0oZSksZS5iaWRkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF18fChuW3RdPXt9KSxPYmplY3Qua2V5cyhlLmNvbmZpZykuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ImZwZCI9PT1yPyJvcnRiMiI6cixvPSJmcGQiPT09cj9PKGUuY29uZmlnW3JdKTplLmNvbmZpZ1tyXTtPYmplY3QoZC5pc1BsYWluT2JqZWN0KShvKT9uW3RdW2ldPWIoe30sblt0XVtpXXx8e30sbyk6blt0XVtpXT1vfSkpfSkpfWNhdGNoKGUpe09iamVjdChkLmxvZ0Vycm9yKShlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBufSxjb252ZXJ0QWRVbml0RnBkOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnBkPyhlLm9ydGIySW1wP09iamVjdChkLm1lcmdlRGVlcCkoZS5vcnRiMkltcCxBKGUuZnBkKSk6ZS5vcnRiMkltcD1BKGUuZnBkKSx0LnB1c2goZnVuY3Rpb24oZSl7ZS5mcGQ7cmV0dXJuIGwoZSxmKX0oZSkpKTp0LnB1c2goZSl9KSksdH0sZ2V0TGVnYWN5RnBkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZyhlKSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPSJzaXRlIj09PW4/ImNvbnRleHQiOm47dFtyXT0iY29udGV4dCI9PT1yfHwidXNlciI9PT1yP09iamVjdC5rZXlzKGVbbl0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImRhdGEiIT09ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImV4dCI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCxlW25dW3JdKTpPYmplY3QoZC5tZXJnZURlZXApKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH19LGdldExlZ2FjeUltcEZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3QoZC5kZWVwQWNjZXNzKShlLCJleHQuZGF0YSIpJiZPYmplY3Qua2V5cyhlLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbihuKXsicGJhZHNsb3QiPT09bj9PYmplY3QoZC5tZXJnZURlZXApKHQse2NvbnRleHQ6e3BiQWRTbG90OmUuZXh0LmRhdGFbbl19fSk6ImFkc2VydmVyIj09PW4/T2JqZWN0KGQubWVyZ2VEZWVwKSh0LHtjb250ZXh0OnthZFNlcnZlcjplLmV4dC5kYXRhW25dfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCx7Y29udGV4dDp7ZGF0YTpwKHt9LG4sZS5leHQuZGF0YVtuXSl9fSl9KSksdH19fX0oKX0sMzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTMpLGk9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuY2FsbChyKGUpLHQpfX0sMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigzNCksbz1uKDQ0KTtlLmV4cG9ydHM9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkuZihlLHQsbygxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX19LDMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sMzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9big4NSksbz1uKDE2KSxhPW4oNjMpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yP2M6ZnVuY3Rpb24oZSx0LG4pe2lmKG8oZSksdD1hKHQsITApLG8obiksaSl0cnl7cmV0dXJuIGMoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSwzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7aWYoIXR8fCFlKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiY2Fubm90IGxvYWQgZXh0ZXJuYWwgc2NyaXB0IHdpdGhvdXQgdXJsIGFuZCBtb2R1bGVDb2RlIik7aWYoZT1hLmMoZSksIWkoKSh1LHQpKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoY1tlXS5sb2FkZWQ/bigpOmNbZV0uY2FsbGJhY2tzLnB1c2gobikpLGNbZV0udGFnO2NbZV09e2xvYWRlZDohMSx0YWc6bnVsbCxjYWxsYmFja3M6W119LG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZjW2VdLmNhbGxiYWNrcy5wdXNoKG4pO3JldHVybiBPYmplY3Qoby5sb2dXYXJuKSgibW9kdWxlICIuY29uY2F0KHQsIiBpcyBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSksZnVuY3Rpb24odCxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLnR5cGU9InRleHQvamF2YXNjcmlwdCIsci5hc3luYz0hMCxjW2VdLnRhZz1yLHIucmVhZHlTdGF0ZT9yLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyJsb2FkZWQiIT09ci5yZWFkeVN0YXRlJiYiY29tcGxldGUiIT09ci5yZWFkeVN0YXRlfHwoci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuKCkpfTpyLm9ubG9hZD1mdW5jdGlvbigpe24oKX07cmV0dXJuIHIuc3JjPXQsT2JqZWN0KG8uaW5zZXJ0RWxlbWVudCkocikscn0oZSwoZnVuY3Rpb24oKXtjW2VdLmxvYWRlZD0hMDt0cnl7Zm9yKHZhciB0PTA7dDxjW2VdLmNhbGxiYWNrcy5sZW5ndGg7dCsrKWNbZV0uY2FsbGJhY2tzW3RdKCl9Y2F0Y2goZSl7T2JqZWN0KG8ubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pKX07dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDApLGE9big0NyksYz17fSx1PVsiYWRsb294IiwiY3JpdGVvIiwib3V0c3RyZWFtIiwiYWRhZ2lvIiwiYnJvd3NpIl19LDM3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE4KSxpPW4oNzQpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7cmV0dXJuIFNldC5wcm90b3R5cGUudmFsdWVzLmNhbGwoZSl9fSwzNzg6ZnVuY3Rpb24oZSx0LG4pe24oMzc5KTt2YXIgcj1uKDU2KTtlLmV4cG9ydHM9cigiU3RyaW5nIiwiaW5jbHVkZXMiKX0sMzc5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDM4MCksbz1uKDUyKTtyKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITAsZm9yY2VkOiFuKDM4MikoImluY2x1ZGVzIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5TdHJpbmcobyh0aGlzKSkuaW5kZXhPZihpKGUpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sMzg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLHQuaD1mdW5jdGlvbihlKXtpZihlJiZlLnR5cGUmJmZ1bmN0aW9uKGUpe2lmKCFlfHwhbygpKE9iamVjdC5rZXlzKHApLGUpKXJldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KGUsIiBuYXRpdmVQYXJhbSBpcyBub3Qgc3VwcG9ydGVkIikpLCExO3JldHVybiEwfShlLnR5cGUpKXJldHVybiBwW2UudHlwZV07cmV0dXJuIGV9LHQuZz1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpO2lmKCFuKXJldHVybiExO2lmKCFPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmUuY2xpY2tVcmwiKSlyZXR1cm4hMTt2YXIgaT1uLm5hdGl2ZVBhcmFtcztpZighaSlyZXR1cm4hMDt2YXIgYT1PYmplY3Qua2V5cyhpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdLnJlcXVpcmVkfSkpLGM9T2JqZWN0LmtleXMoZS5uYXRpdmUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGUubmF0aXZlW3RdfSkpO3JldHVybiBhLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gbygpKGMsZSl9KSl9LHQuYj1mdW5jdGlvbihlLHQpe3ZhciBuOyJjbGljayI9PT1lLmFjdGlvbj9uPXQubmF0aXZlJiZ0Lm5hdGl2ZS5jbGlja1RyYWNrZXJzOihuPXQubmF0aXZlJiZ0Lm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMsdC5uYXRpdmUmJnQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycyYmT2JqZWN0KHIuaW5zZXJ0SHRtbEludG9JZnJhbWUpKHQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycykpO3JldHVybihufHxbXSkuZm9yRWFjaChyLnRyaWdnZXJQaXhlbCksZS5hY3Rpb259LHQuZT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O09iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5yZW5kZXJlclVybCIpP2UubmF0aXZlLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVQYXJhbXMucmVuZGVyZXJVcmwpOk9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5hZFRlbXBsYXRlIikmJihlLm5hdGl2ZS5hZFRlbXBsYXRlPWcodC5uYXRpdmVQYXJhbXMuYWRUZW1wbGF0ZSkpO3ZhciBpPSExIT09T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLnNlbmRUYXJnZXRpbmdLZXlzIiksbz1mdW5jdGlvbihlKXt2YXIgdD17fTtPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmVQYXJhbXMuZXh0IikmJk9iamVjdC5rZXlzKGUubmF0aXZlUGFyYW1zLmV4dCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT0iaGJfbmF0aXZlXyIuY29uY2F0KGUpfSkpO3JldHVybiB1KHUoe30sZC5OQVRJVkVfS0VZUyksdCl9KHQpLGE9dSh1KHt9LGUubmF0aXZlKSxlLm5hdGl2ZS5leHQpO3JldHVybiBkZWxldGUgYS5leHQsT2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIGM9b1thXSx1PWcoZS5uYXRpdmVbYV0pfHxnKE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZS5leHQuIi5jb25jYXQoYSkpKTtpZigiYWRUZW1wbGF0ZSIhPT1hJiZjJiZ1KXt2YXIgcz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuIi5jb25jYXQoYSwiLnNlbmRJZCIpKTtpZigiYm9vbGVhbiIhPXR5cGVvZiBzJiYocz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuZXh0LiIuY29uY2F0KGEsIi5zZW5kSWQiKSkpLHMpdT0iIi5jb25jYXQoYywiOiIpLmNvbmNhdChlLmFkSWQpO3ZhciBkPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSk7ImJvb2xlYW4iIT10eXBlb2YgZCYmKGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmV4dC4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSkpLCgiYm9vbGVhbiI9PXR5cGVvZiBkP2Q6aSkmJihuW2NdPXUpfX0pKSxufSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTt0Lm5hdGl2ZS5oYXNPd25Qcm9wZXJ0eSgiYWRUZW1wbGF0ZSIpJiYobi5hZFRlbXBsYXRlPWcodC5uYXRpdmUuYWRUZW1wbGF0ZSkpO3QubmF0aXZlLmhhc093blByb3BlcnR5KCJyZW5kZXJlclVybCIpJiYobi5yZW5kZXJlclVybD1nKHQubmF0aXZlLnJlbmRlcmVyVXJsKSk7cmV0dXJuIGUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPU9iamVjdChyLmdldEtleUJ5VmFsdWUpKGQuTkFUSVZFX0tFWVMsZSksbz1nKHQubmF0aXZlW2ldKTtuLmFzc2V0cy5wdXNoKHtrZXk6aSx2YWx1ZTpvfSl9KSksbn0sdC5jPWZ1bmN0aW9uKGUsdCl7dmFyIG49e21lc3NhZ2U6ImFzc2V0UmVzcG9uc2UiLGFkSWQ6ZS5hZElkLGFzc2V0czpbXX07cmV0dXJuIE9iamVjdC5rZXlzKHQubmF0aXZlKS5mb3JFYWNoKChmdW5jdGlvbihlLHIpe2lmKCJhZFRlbXBsYXRlIj09PWUmJnQubmF0aXZlW2VdKW4uYWRUZW1wbGF0ZT1nKHQubmF0aXZlW2VdKTtlbHNlIGlmKCJyZW5kZXJlclVybCI9PT1lJiZ0Lm5hdGl2ZVtlXSluLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVbZV0pO2Vsc2UgaWYoImV4dCI9PT1lKU9iamVjdC5rZXlzKHQubmF0aXZlW2VdKS5mb3JFYWNoKChmdW5jdGlvbihyKXtpZih0Lm5hdGl2ZVtlXVtyXSl7dmFyIGk9Zyh0Lm5hdGl2ZVtlXVtyXSk7bi5hc3NldHMucHVzaCh7a2V5OnIsdmFsdWU6aX0pfX0pKTtlbHNlIGlmKHQubmF0aXZlW2VdJiZkLk5BVElWRV9LRVlTLmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1nKHQubmF0aXZlW2VdKTtuLmFzc2V0cy5wdXNoKHtrZXk6ZSx2YWx1ZTppfSl9fSkpLG59O3ZhciByPW4oMCksaT1uKDEyKSxvPW4ubihpKTtmdW5jdGlvbiBhKGUpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cyhlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX12YXIgZD1uKDUpLGY9W10sbD1PYmplY3Qua2V5cyhkLk5BVElWRV9LRVlTKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBkLk5BVElWRV9LRVlTW2VdfSkpLHA9e2ltYWdlOntpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX19fTtmdW5jdGlvbiBnKGUpe3JldHVybiJvYmplY3QiPT09YShlKSYmZS51cmw/ZS51cmw6ZX19LDM4MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzODEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzODE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9big1MSksbz1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHIoZSkmJih2b2lkIDAhPT0odD1lW29dKT8hIXQ6IlJlZ0V4cCI9PWkoZSkpfX0sMzgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9Ly4vO3RyeXsiLy4vIltlXSh0KX1jYXRjaChuKXt0cnl7cmV0dXJuIHRbcl09ITEsIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX19LDM5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSx0LmM9RSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDM4KSxhPW4oMjMpLGM9bigxMDEpLHU9bigyKSxzPW4oOSksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpO2Z1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBoPW4oNSksbT1bXSxPPU9iamVjdC5rZXlzKGguVEFSR0VUSU5HX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGguVEFSR0VUSU5HX0tFWVNbZV19KSksaj17aXNCaWROb3RFeHBpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlc3BvbnNlVGltZXN0YW1wKzFlMyplLnR0bC0xZTM+T2JqZWN0KHIudGltZXN0YW1wKSgpfSxpc1VudXNlZEJpZDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuc3RhdHVzJiYhZigpKFtoLkJJRF9TVEFUVVMuUkVOREVSRURdLGUuc3RhdHVzKXx8IWUuc3RhdHVzKX19LFM9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZighbyl7dmFyIGE9W10sYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuZGVhbFByaW9yaXRpemF0aW9uIiksdT1PYmplY3Qoci5ncm91cEJ5KShlLCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKHUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPVtdLG89T2JqZWN0KHIuZ3JvdXBCeSkodVtlXSwiYmlkZGVyQ29kZSIpO09iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2gob1tlXS5yZWR1Y2UodCkpfSkpLG4+MD8oaT1jP2kuc29ydChFKCEwKSk6aS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LmNwbS1lLmNwbX0pKSxhLnB1c2guYXBwbHkoYSx2KGkuc2xpY2UoMCxuKSkpKTphLnB1c2guYXBwbHkoYSx2KGkpKX0pKSxhfXJldHVybiBlfSkpO2Z1bmN0aW9uIEUoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMD09PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8tMTp2b2lkIDA9PT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMCE9PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8xOmU/bi5jcG0tdC5jcG06bi5hZHNlcnZlclRhcmdldGluZy5oYl9wYi10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX3BifX12YXIgQT1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXt9O2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZyYmdCYmKE9iamVjdChyLmlzQXJyYXkpKHQpJiZmKCkodCxlLmFkVW5pdENvZGUpfHwic3RyaW5nIj09dHlwZW9mIHQmJmUuYWRVbml0Q29kZT09PXQpfWZ1bmN0aW9uIHMoZSx0KXtpZighMD09PWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsd2F5c0luY2x1ZGVEZWFscyIpKXt2YXIgbj1PLmNvbmNhdChvLmEpO3JldHVybiBTKHQsci5nZXRIaWdoZXN0Q3BtKS5tYXAoKGZ1bmN0aW9uKHQpe2lmKHQuZGVhbElkJiZhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfXJldHVybltdfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1nKHt9LGguVEFSR0VUSU5HX0tFWVMsaC5OQVRJVkVfS0VZUyksaT1PYmplY3Qua2V5cyhuKSxvPXt9O09iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSBhbGxvd2VkIGtleXMgWyAiLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19KSkuam9pbigiLCAiKSwiIF0iKSksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9ZVtyXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9MD09PWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMD09PXIuaW5kZXhPZihuW2VdKX0pKS5sZW5ndGh8fHAoKSh0LChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3JldHVybiAwPT09ci5pbmRleE9mKHQpfSkpO3JldHVybiBvW3JdPSFhLGF9KSk7ZVtyXT1hfSkpO3ZhciBhPU9iamVjdC5rZXlzKG8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV19KSk7cmV0dXJuIE9iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSByZW1vdmVkIGtleXMgWyAiLmNvbmNhdChhLmpvaW4oIiwgIiksIiBdIikpLGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVtPYmplY3Qua2V5cyhlKVswXV0ubGVuZ3RoPjB9KSl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2FkVW5pdENvZGU6ZSxhZHNlcnZlclRhcmdldGluZzpuW2VdfX0pKS5zb3J0KEUoKSkucmVkdWNlKChmdW5jdGlvbihlLGksbyxhKXt2YXIgYyx1PShjPWkuYWRzZXJ2ZXJUYXJnZXRpbmcsT2JqZWN0LmtleXMoYykucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyIiLmNvbmNhdCh0LCIlM2QiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGNbdF0pLCIlMjYiKX0pLCIiKSk7bysxPT09YS5sZW5ndGgmJih1PXUuc2xpY2UoMCwtMykpO3ZhciBzPWkuYWRVbml0Q29kZSxkPXUubGVuZ3RoO3JldHVybiBkPD10Pyh0LT1kLE9iamVjdChyLmxvZ0luZm8pKCJBZFVuaXQgJyIuY29uY2F0KHMsIicgYXVjdGlvbiBrZXlzIGNvbXByaXNlZCBvZiAiKS5jb25jYXQoZCwiIGNoYXJhY3RlcnMuICBEZWR1Y3RlZCBmcm9tIHJ1bm5pbmcgdGhyZXNob2xkOyBuZXcgbGltaXQgaXMgIikuY29uY2F0KHQpLG5bc10pLGVbc109bltzXSk6T2JqZWN0KHIubG9nV2FybikoIlRoZSBmb2xsb3dpbmcga2V5cyBmb3IgYWRVbml0Q29kZSAnIi5jb25jYXQocywiJyBleGNlZWRlZCB0aGUgY3VycmVudCBsaW1pdCBvZiB0aGUgJ2F1Y3Rpb25LZXlNYXhDaGFycycgc2V0dGluZy5cblRoZSBrZXktc2V0IHNpemUgd2FzICIpLmNvbmNhdChkLCIsIHRoZSBjdXJyZW50IGFsbG90dGVkIGFtb3VudCB3YXMgIikuY29uY2F0KHQsIi5cbiIpLG5bc10pLG8rMT09PWEubGVuZ3RoJiYwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3Qoci5sb2dFcnJvcikoIk5vIGF1Y3Rpb24gdGFyZ2V0aW5nIGtleXMgd2VyZSBwZXJtaXR0ZWQgZHVlIHRvIHRoZSBzZXR0aW5nIGluIHNldENvbmZpZyh0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMpLiAgUGxlYXNlIHJldmlldyBzZXR1cCBhbmQgY29uc2lkZXIgYWRqdXN0aW5nLiIpLGV9KSx7fSl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0uam9pbigiLCIpKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodCxlKX0pLHt9KSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPWcoe30sZVtuXSx0W25dKSxlfSkse30pfWZ1bmN0aW9uIEEodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0XTpPYmplY3Qoci5pc0FycmF5KSh0KT90OmUuZ2V0QWRVbml0Q29kZXMoKXx8W119ZnVuY3Rpb24gVCgpe3ZhciB0PWUuZ2V0Qmlkc1JlY2VpdmVkKCk7cmV0dXJuIGkuYi5nZXRDb25maWcoInVzZUJpZENhY2hlIil8fCh0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbltlLmFkVW5pdENvZGVdPT09ZS5hdWN0aW9uSWR9KSkpLHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJ2aWRlby5jb250ZXh0IikhPT11LmF9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWUubWVkaWFUeXBlfHxPYmplY3QoYy5jKShbZS53aWR0aCxlLmhlaWdodF0pfSkpLmZpbHRlcihqLmlzVW51c2VkQmlkKS5maWx0ZXIoai5pc0JpZE5vdEV4cGlyZWQpLFModCxyLmdldE9sZGVzdEhpZ2hlc3RDcG1CaWQpfWZ1bmN0aW9uIEkoZSxuKXt2YXIgcj10LmdldFdpbm5pbmdCaWRzKGUsbiksaT13KCk7cmV0dXJuIHI9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT1lLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09aS5pbmRleE9mKHQpfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXt2YXIgcj1bZS5hZHNlcnZlclRhcmdldGluZ1tuXV0saT1iKHt9LG4uc3Vic3RyaW5nKDAsMjApLHIpO2lmKG49PT1oLlRBUkdFVElOR19LRVlTLkRFQUwpe3ZhciBvPWIoe30sIiIuY29uY2F0KG4sIl8iKS5jb25jYXQoZS5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCkscik7cmV0dXJuW10uY29uY2F0KHYodCksW2ksb10pfXJldHVybltdLmNvbmNhdCh2KHQpLFtpXSl9KSxbXSkpfSkpfWZ1bmN0aW9uIHcoKXtyZXR1cm4gZS5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXl9KSkuY29uY2F0KE8pLmZpbHRlcihyLnVuaXF1ZXMpfWZ1bmN0aW9uIEMoZSx0LG4saSl7cmV0dXJuIE9iamVjdC5rZXlzKHQuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UubGVuZ3RoJiZlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZSYmbi5hZHNlcnZlclRhcmdldGluZ1tlXX19KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtPYmplY3Qoci5pc0FycmF5KShuLmFkc2VydmVyVGFyZ2V0aW5nW2VdKXx8KG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09W24uYWRzZXJ2ZXJUYXJnZXRpbmdbZV1dKSxuLmFkc2VydmVyVGFyZ2V0aW5nW2VdPW4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0uY29uY2F0KHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pLmZpbHRlcihyLnVuaXF1ZXMpLGRlbGV0ZSB0LmFkc2VydmVyVGFyZ2V0aW5nW2VdfX0obikpfSkpLGUucHVzaCh0KSxlfWZ1bmN0aW9uIFIoKXt2YXIgZT13KCkuY29uY2F0KG8uYSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5pbmRleE9mKHQpfX1mdW5jdGlvbiBfKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoUigpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LHQuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSkpfWZ1bmN0aW9uIFUoZSx0KXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBmKCkoZSx0LmFkVW5pdENvZGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGcoe30sZSl9KSkucmVkdWNlKEMsW10pLm1hcChfKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIEIoZSx0KXt2YXIgbj1PLmNvbmNhdChvLmEpLGM9aS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmJpZExpbWl0IiksdT1TKHQsci5nZXRIaWdoZXN0Q3BtLGMpLHM9aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWxsb3dTZW5kQWxsQmlkc1RhcmdldGluZ0tleXMiKSxkPXM/cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBoLlRBUkdFVElOR19LRVlTW2VdfSkpOm47cmV0dXJuIHUubWFwKChmdW5jdGlvbih0KXtpZihhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0mJi0xIT09ZC5pbmRleE9mKGUpfSkpKSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYih7fSwiIi5jb25jYXQodCwiXyIpLmNvbmNhdChlLmJpZGRlckNvZGUpLnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1t0XV0pfSkpfWZ1bmN0aW9uIEQodCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSxoLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkcpfXJldHVybiBlLmdldEFkVW5pdHMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkodCxlLmNvZGUpJiZuKGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sZS5jb2RlLGZ1bmN0aW9uKGUpe3ZhciB0PW4oZSk7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKSh0W2VdKSYmKHRbZV09dFtlXS5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpKSxPYmplY3Qoci5pc0FycmF5KSh0W2VdKXx8KHRbZV09W3RbZV1dKSxiKHt9LGUsdFtlXSl9KSl9KGUpKX0pKX1yZXR1cm4gdC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0PWZ1bmN0aW9uKGUsdCl7bltlXT10fSx0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nPWZ1bmN0aW9uKHQsbil7aWYoT2JqZWN0KHIuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgaT1BKHQpLG89ZS5nZXRBZFVuaXRzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKGksZS5jb2RlKX0pKSxhPW0ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPW51bGwsZX0pLHt9KTt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuaXNGbikobikmJm4oZSk7by5mb3JFYWNoKChmdW5jdGlvbihuKXsobi5jb2RlPT09ZS5nZXRBZFVuaXRQYXRoKCl8fG4uY29kZT09PWUuZ2V0U2xvdEVsZW1lbnRJZCgpfHxPYmplY3Qoci5pc0ZuKSh0KSYmdChuLmNvZGUpKSYmZS51cGRhdGVUYXJnZXRpbmdGcm9tTWFwKGEpfSkpfSkpfX0sdC5yZXNldFByZXNldFRhcmdldGluZ0FTVD1mdW5jdGlvbihlKXtBKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkobSxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pKSx3aW5kb3cuYXBudGFnLm1vZGlmeVRhZyhlLHtrZXl3b3JkczpyfSl9fSkpfSx0LmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06VCgpLG49QShlKSxvPUkobix0KS5jb25jYXQoVShuLHQpKS5jb25jYXQoaS5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT9CKG4sdCk6cyhuLHQpKS5jb25jYXQoRChuKSk7by5tYXAoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpey0xPT09bS5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKG09T2JqZWN0LmtleXMoZSkuY29uY2F0KG0pKX0pKX0pKX0pKTt2YXIgYT1PYmplY3Qua2V5cyhnKHt9LGguREVGQVVMVF9UQVJHRVRJTkdfS0VZUyxoLk5BVElWRV9LRVlTKSksYz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKXx8YTtBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD4wJiYobz1kKG8sYykpLG89eShvKTt2YXIgdT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdSYmKE9iamVjdChyLmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodSwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSksbz1sKG8sdSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXXx8KG9bZV09e30pfSkpLG99LHQuc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGUsdCl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGUpLmZpbHRlcih0P3Qobik6T2JqZWN0KHIuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KShuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmtleXMoZVt0XSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZVt0XVtuXTsic3RyaW5nIj09dHlwZW9mIHImJi0xIT09ci5pbmRleE9mKCIsIikmJihyPXIuc3BsaXQoIiwiKSksZVt0XVtuXT1yfSkpLE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmctbWFwIGZvciBzbG90OiAiLmNvbmNhdChuLmdldFNsb3RFbGVtZW50SWQoKSwiIHdpdGggdGFyZ2V0aW5nLW1hcDoiKSxlW3RdKSxuLnVwZGF0ZVRhcmdldGluZ0Zyb21NYXAoZVt0XSl9KSl9KSl9LHQuZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlQoKSxuPUEoZSk7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5hZFVuaXRDb2RlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoci51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkpLnJlZHVjZShyLmdldEhpZ2hlc3RDcG0pfSkpfSx0LnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgbj10LmdldEFsbFRhcmdldGluZyhlKTt0cnl7dC5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoInVuYWJsZSB0byByZXNldCB0YXJnZXRpbmcgZm9yIEFTVCIrZSl9T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKG5bZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmcgZm9yIHRhcmdldElkOiAiLmNvbmNhdChlLCIga2V5OiAiKS5jb25jYXQodCwiIHZhbHVlOiAiKS5jb25jYXQobltlXVt0XSkpLE9iamVjdChyLmlzU3RyKShuW2VdW3RdKXx8T2JqZWN0KHIuaXNBcnJheSkobltlXVt0XSkpe3ZhciBpPXt9O3Quc2VhcmNoKC9wdFswLTldLyk8MD9pW3QudG9VcHBlckNhc2UoKV09bltlXVt0XTppW3RdPW5bZV1bdF0sd2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcyhlLGkse292ZXJyaWRlS2V5VmFsdWU6ITB9KX19KSl9KSl9LHQuaXNBcG50YWdEZWZpbmVkPWZ1bmN0aW9uKCl7aWYod2luZG93LmFwbnRhZyYmT2JqZWN0KHIuaXNGbikod2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcykpcmV0dXJuITB9LHR9KGEuYSl9LDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5iPXM7dmFyIHI9bigzKSxpPW4oMCksbz1uKDQ3KTtmdW5jdGlvbiBhKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9cygpO2Z1bmN0aW9uIHMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06M2UzLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5yZXF1ZXN0LHU9dC5kb25lO3JldHVybiBmdW5jdGlvbih0LHMsZCl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O3RyeXt2YXIgbCxwPWYubWV0aG9kfHwoZD8iUE9TVCI6IkdFVCIpLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3Q9by5jKHQpLGcuaHJlZj10O3ZhciBiPSJvYmplY3QiPT09YyhzKSYmbnVsbCE9PXM/czp7c3VjY2VzczpmdW5jdGlvbigpe09iamVjdChpLmxvZ01lc3NhZ2UpKCJ4aHIgc3VjY2VzcyIpfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3QoaS5sb2dFcnJvcikoInhociBlcnJvciIsbnVsbCxlKX19O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYoYi5zdWNjZXNzPXMpLChsPW5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1sLnJlYWR5U3RhdGUpeyJmdW5jdGlvbiI9PXR5cGVvZiB1JiZ1KGcub3JpZ2luKTt2YXIgZT1sLnN0YXR1cztlPj0yMDAmJmU8MzAwfHwzMDQ9PT1lP2Iuc3VjY2VzcyhsLnJlc3BvbnNlVGV4dCxsKTpiLmVycm9yKGwuc3RhdHVzVGV4dCxsKX19LHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dFcnJvcikoIiAgeGhyIHRpbWVvdXQgYWZ0ZXIgIixsLnRpbWVvdXQsIm1zIil9KSwiR0VUIj09PXAmJmQpe3ZhciB2PU9iamVjdChpLnBhcnNlVXJsKSh0LGYpO2Eodi5zZWFyY2gsZCksdD1PYmplY3QoaS5idWlsZFVybCkodil9bC5vcGVuKHAsdCwhMCksci5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChsLnRpbWVvdXQ9ZSksZi53aXRoQ3JlZGVudGlhbHMmJihsLndpdGhDcmVkZW50aWFscz0hMCksT2JqZWN0KGkuX2VhY2gpKGYuY3VzdG9tSGVhZGVycywoZnVuY3Rpb24oZSx0KXtsLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxmLnByZWZsaWdodCYmbC5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSxsLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZi5jb250ZW50VHlwZXx8InRleHQvcGxhaW4iKSwiZnVuY3Rpb24iPT10eXBlb2YgbiYmbihnLm9yaWdpbiksIlBPU1QiPT09cCYmZD9sLnNlbmQoZCk6bC5zZW5kKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJ4aHIgY29uc3RydWN0aW9uIixlKSwib2JqZWN0Ij09PWMocykmJm51bGwhPT1zJiZzLmVycm9yKGUpfX19fSw0MDpmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufSw0MTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNDI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigyNCksbz1uKDIxKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGE9cihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/dDppKG4pfX0sNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZSx0KX07dmFyIHI9bigwKTtmdW5jdGlvbiBpKGUsdCl7dmFyIG49dCYmdC5zcmN8fCJjbGllbnQiLGk9ZXx8MDt0aGlzLmJpZGRlckNvZGU9dCYmdC5iaWRkZXJ8fCIiLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuc3RhdHVzTWVzc2FnZT1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIlBlbmRpbmciO2Nhc2UgMTpyZXR1cm4iQmlkIGF2YWlsYWJsZSI7Y2FzZSAyOnJldHVybiJCaWQgcmV0dXJuZWQgZW1wdHkgb3IgZXJyb3IgcmVzcG9uc2UiO2Nhc2UgMzpyZXR1cm4iQmlkIHRpbWVkIG91dCJ9fSgpLHRoaXMuYWRJZD1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLHRoaXMucmVxdWVzdElkPXQmJnQuYmlkSWQsdGhpcy5tZWRpYVR5cGU9ImJhbm5lciIsdGhpcy5zb3VyY2U9bix0aGlzLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgrIngiK3RoaXMuaGVpZ2h0fX19LDQ0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sNDU6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDQ1MTpmdW5jdGlvbihlLHQsbil7big0NTIpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlVSTFNlYXJjaFBhcmFtc30sNDUyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bigxMDApO3ZhciByPW4oMTUpLGk9bigyNiksbz1uKDQ1MyksYT1uKDcyKSxjPW4oOTUpLHU9big2MCkscz1uKDk2KSxkPW4oNDYpLGY9big2OSksbD1uKDMxKSxwPW4oMjUpLGc9big1OSksYj1uKDE2KSx2PW4oMzApLHk9big3MSksaD1uKDQ0KSxtPW4oNzQpLE89big1OCksaj1uKDIxKSxTPWkoImZldGNoIiksRT1pKCJIZWFkZXJzIiksQT1qKCJpdGVyYXRvciIpLFQ9IlVSTFNlYXJjaFBhcmFtcyIsST0iVVJMU2VhcmNoUGFyYW1zSXRlcmF0b3IiLHc9ZC5zZXQsQz1kLmdldHRlckZvcihUKSxSPWQuZ2V0dGVyRm9yKEkpLF89L1wrL2csVT1BcnJheSg0KSxCPWZ1bmN0aW9uKGUpe3JldHVybiBVW2UtMV18fChVW2UtMV09UmVnRXhwKCIoKD86JVtcXGRhLWZdezJ9KXsiK2UrIn0pIiwiZ2kiKSl9LHg9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7cmV0dXJuIGV9fSxEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShfLCIgIiksbj00O3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWNhdGNoKGUpe2Zvcig7bjspdD10LnJlcGxhY2UoQihuLS0pLHgpO3JldHVybiB0fX0saz0vWyEnKCl+XXwlMjAvZyxOPXsiISI6IiUyMSIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIn4iOiIlN0UiLCIlMjAiOiIrIn0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTltlXX0scT1mdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoayxQKX0sTT1mdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuLHIsaT10LnNwbGl0KCImIiksbz0wO288aS5sZW5ndGg7KShuPWlbbysrXSkubGVuZ3RoJiYocj1uLnNwbGl0KCI9IiksZS5wdXNoKHtrZXk6RChyLnNoaWZ0KCkpLHZhbHVlOkQoci5qb2luKCI9IikpfSkpfSxHPWZ1bmN0aW9uKGUpe3RoaXMuZW50cmllcy5sZW5ndGg9MCxNKHRoaXMuZW50cmllcyxlKX0sTD1mdW5jdGlvbihlLHQpe2lmKGU8dCl0aHJvdyBUeXBlRXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIil9LFc9cygoZnVuY3Rpb24oZSx0KXt3KHRoaXMse3R5cGU6SSxpdGVyYXRvcjptKEMoZSkuZW50cmllcyksa2luZDp0fSl9KSwiSXRlcmF0b3IiLChmdW5jdGlvbigpe3ZhciBlPVIodGhpcyksdD1lLmtpbmQsbj1lLml0ZXJhdG9yLm5leHQoKSxyPW4udmFsdWU7cmV0dXJuIG4uZG9uZXx8KG4udmFsdWU9ImtleXMiPT09dD9yLmtleToidmFsdWVzIj09PXQ/ci52YWx1ZTpbci5rZXksci52YWx1ZV0pLG59KSksRj1mdW5jdGlvbigpe2YodGhpcyxGLFQpO3ZhciBlLHQsbixyLGksbyxhLGMsdSxzPWFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwLGQ9dGhpcyxwPVtdO2lmKHcoZCx7dHlwZTpULGVudHJpZXM6cCx1cGRhdGVVUkw6ZnVuY3Rpb24oKXt9LHVwZGF0ZVNlYXJjaFBhcmFtczpHfSksdm9pZCAwIT09cylpZih2KHMpKWlmKCJmdW5jdGlvbiI9PXR5cGVvZihlPU8ocykpKWZvcihuPSh0PWUuY2FsbChzKSkubmV4dDshKHI9bi5jYWxsKHQpKS5kb25lOyl7aWYoKGE9KG89KGk9bShiKHIudmFsdWUpKSkubmV4dCkuY2FsbChpKSkuZG9uZXx8KGM9by5jYWxsKGkpKS5kb25lfHwhby5jYWxsKGkpLmRvbmUpdGhyb3cgVHlwZUVycm9yKCJFeHBlY3RlZCBzZXF1ZW5jZSB3aXRoIGxlbmd0aCAyIik7cC5wdXNoKHtrZXk6YS52YWx1ZSsiIix2YWx1ZTpjLnZhbHVlKyIifSl9ZWxzZSBmb3IodSBpbiBzKWwocyx1KSYmcC5wdXNoKHtrZXk6dSx2YWx1ZTpzW3VdKyIifSk7ZWxzZSBNKHAsInN0cmluZyI9PXR5cGVvZiBzPyI/Ij09PXMuY2hhckF0KDApP3Muc2xpY2UoMSk6czpzKyIiKX0sej1GLnByb3RvdHlwZTtjKHose2FwcGVuZDpmdW5jdGlvbihlLHQpe0woYXJndW1lbnRzLmxlbmd0aCwyKTt2YXIgbj1DKHRoaXMpO24uZW50cmllcy5wdXNoKHtrZXk6ZSsiIix2YWx1ZTp0KyIifSksbi51cGRhdGVVUkwoKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe0woYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIHQ9Qyh0aGlzKSxuPXQuZW50cmllcyxyPWUrIiIsaT0wO2k8bi5sZW5ndGg7KW5baV0ua2V5PT09cj9uLnNwbGljZShpLDEpOmkrKzt0LnVwZGF0ZVVSTCgpfSxnZXQ6ZnVuY3Rpb24oZSl7TChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1DKHRoaXMpLmVudHJpZXMsbj1lKyIiLHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLmtleT09PW4pcmV0dXJuIHRbcl0udmFsdWU7cmV0dXJuIG51bGx9LGdldEFsbDpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5rZXk9PT1uJiZyLnB1c2godFtpXS52YWx1ZSk7cmV0dXJuIHJ9LGhhczpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj0wO3I8dC5sZW5ndGg7KWlmKHRbcisrXS5rZXk9PT1uKXJldHVybiEwO3JldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSx0KXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPSExLGE9ZSsiIixjPXQrIiIsdT0wO3U8aS5sZW5ndGg7dSsrKShuPWlbdV0pLmtleT09PWEmJihvP2kuc3BsaWNlKHUtLSwxKToobz0hMCxuLnZhbHVlPWMpKTtvfHxpLnB1c2goe2tleTphLHZhbHVlOmN9KSxyLnVwZGF0ZVVSTCgpfSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPWkuc2xpY2UoKTtmb3IoaS5sZW5ndGg9MCxuPTA7bjxvLmxlbmd0aDtuKyspe2ZvcihlPW9bbl0sdD0wO3Q8bjt0KyspaWYoaVt0XS5rZXk+ZS5rZXkpe2kuc3BsaWNlKHQsMCxlKTticmVha310PT09biYmaS5wdXNoKGUpfXIudXBkYXRlVVJMKCl9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49Qyh0aGlzKS5lbnRyaWVzLHI9cChlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9MDtpPG4ubGVuZ3RoOylyKCh0PW5baSsrXSkudmFsdWUsdC5rZXksdGhpcyl9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywia2V5cyIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywidmFsdWVzIil9LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywiZW50cmllcyIpfX0se2VudW1lcmFibGU6ITB9KSxhKHosQSx6LmVudHJpZXMpLGEoeiwidG9TdHJpbmciLChmdW5jdGlvbigpe2Zvcih2YXIgZSx0PUModGhpcykuZW50cmllcyxuPVtdLHI9MDtyPHQubGVuZ3RoOyllPXRbcisrXSxuLnB1c2gocShlLmtleSkrIj0iK3EoZS52YWx1ZSkpO3JldHVybiBuLmpvaW4oIiYiKX0pLHtlbnVtZXJhYmxlOiEwfSksdShGLFQpLHIoe2dsb2JhbDohMCxmb3JjZWQ6IW99LHtVUkxTZWFyY2hQYXJhbXM6Rn0pLG98fCJmdW5jdGlvbiIhPXR5cGVvZiBTfHwiZnVuY3Rpb24iIT10eXBlb2YgRXx8cih7Z2xvYmFsOiEwLGVudW1lcmFibGU6ITAsZm9yY2VkOiEwfSx7ZmV0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9W2VdO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJih2KHQ9YXJndW1lbnRzWzFdKSYmKG49dC5ib2R5LGcobik9PT1UJiYoKHI9dC5oZWFkZXJzP25ldyBFKHQuaGVhZGVycyk6bmV3IEUpLmhhcygiY29udGVudC10eXBlIil8fHIuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpLHQ9eSh0LHtib2R5OmgoMCxTdHJpbmcobikpLGhlYWRlcnM6aCgwLHIpfSkpKSxpLnB1c2godCkpLFMuYXBwbHkodGhpcyxpKX19KSxlLmV4cG9ydHM9e1VSTFNlYXJjaFBhcmFtczpGLGdldFN0YXRlOkN9fSw0NTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9bigyMSksbz1uKDE4KSxhPWkoIml0ZXJhdG9yIik7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3ZhciBlPW5ldyBVUkwoImI/YT0xJmI9MiZjPTMiLCJodHRwOi8vYSIpLHQ9ZS5zZWFyY2hQYXJhbXMsbj0iIjtyZXR1cm4gZS5wYXRobmFtZT0iYyUyMGQiLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LmRlbGV0ZSgiYiIpLG4rPXIrZX0pKSxvJiYhZS50b0pTT058fCF0LnNvcnR8fCJodHRwOi8vYS9jJTIwZD9hPTEmYz0zIiE9PWUuaHJlZnx8IjMiIT09dC5nZXQoImMiKXx8ImE9MSIhPT1TdHJpbmcobmV3IFVSTFNlYXJjaFBhcmFtcygiP2E9MSIpKXx8IXRbYV18fCJhIiE9PW5ldyBVUkwoImh0dHBzOi8vYUBiIikudXNlcm5hbWV8fCJiIiE9PW5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcygiYT1iIikpLmdldCgiYSIpfHwieG4tLWUxYXliYyIhPT1uZXcgVVJMKCJodHRwOi8v0YLQtdGB0YIiKS5ob3N0fHwiIyVEMCVCMSIhPT1uZXcgVVJMKCJodHRwOi8vYSPQsSIpLmhhc2h8fCJhMWMzIiE9PW58fCJ4IiE9PW5ldyBVUkwoImh0dHA6Ly94Iix2b2lkIDApLmhvc3R9KSl9LDQ2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1uKDEyNSksYz1uKDI3KSx1PW4oMzApLHM9bigzMiksZD1uKDMxKSxmPW4oNjYpLGw9big3MCkscD1uKDU3KSxnPSJPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZCIsYj1jLldlYWtNYXA7aWYoYXx8Zi5zdGF0ZSl7dmFyIHY9Zi5zdGF0ZXx8KGYuc3RhdGU9bmV3IGIpLHk9di5nZXQsaD12LmhhcyxtPXYuc2V0O3I9ZnVuY3Rpb24oZSx0KXtpZihoLmNhbGwodixlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLG0uY2FsbCh2LGUsdCksdH0saT1mdW5jdGlvbihlKXtyZXR1cm4geS5jYWxsKHYsZSl8fHt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBoLmNhbGwodixlKX19ZWxzZXt2YXIgTz1sKCJzdGF0ZSIpO3BbT109ITAscj1mdW5jdGlvbihlLHQpe2lmKGQoZSxPKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLHMoZSxPLHQpLHR9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxPKT9lW09dOnt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUsTyl9fWUuZXhwb3J0cz17c2V0OnIsZ2V0OmksaGFzOm8sZW5mb3JjZTpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKT9pKGUpOnIoZSx7fSl9LGdldHRlckZvcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47aWYoIXUodCl8fChuPWkodCkpLnR5cGUhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK2UrIiByZXF1aXJlZCIpO3JldHVybiBufX19fSw0NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXtpLnB1c2goZSl9LHQuYz1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXt0PWUodCl9KSksdH1jYXRjaCh0KXtyZXR1cm4gZX19LHQuYT1mdW5jdGlvbigpe3JldHVybiBvfSx0LmY9ZnVuY3Rpb24oZSl7cihlKX0sdC5kPWZ1bmN0aW9uKGUpe2EucHVzaChlKX0sdC5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOltdLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7YS5mb3JFYWNoKChmdW5jdGlvbihpKXtpKGUsdCxuLHIpfSkpfTt2YXIgcixpPVtdO3ZhciBvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyPWV9KSk7dmFyIGE9W119LDQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oMCksYT17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouNX1dfSxjPXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMX1dfSx1PXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XX0scz17YnVja2V0czpbe21heDozLGluY3JlbWVudDouMDF9LHttYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWF4OjIwLGluY3JlbWVudDouNX1dfSxkPXtidWNrZXRzOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21heDoxMCxpbmNyZW1lbnQ6LjF9LHttYXg6MjAsaW5jcmVtZW50Oi41fV19O2Z1bmN0aW9uIGYoZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHIpJiYocj0iIikse2xvdzoiIj09PXI/IiI6bChlLGEsbiksbWVkOiIiPT09cj8iIjpsKGUsYyxuKSxoaWdoOiIiPT09cj8iIjpsKGUsdSxuKSxhdXRvOiIiPT09cj8iIjpsKGUsZCxuKSxkZW5zZToiIj09PXI/IiI6bChlLHMsbiksY3VzdG9tOiIiPT09cj8iIjpsKGUsdCxuKX19ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9IiI7aWYoIXAodCkpcmV0dXJuIHI7dmFyIG89dC5idWNrZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXg+dC5tYXg/ZTp0fSkse21heDowfSksYT0wLGM9aSgpKHQuYnVja2V0cywoZnVuY3Rpb24odCl7aWYoZT5vLm1heCpuKXt2YXIgaT10LnByZWNpc2lvbjt2b2lkIDA9PT1pJiYoaT0yKSxyPSh0Lm1heCpuKS50b0ZpeGVkKGkpfWVsc2V7aWYoZTw9dC5tYXgqbiYmZT49YSpuKXJldHVybiB0Lm1pbj1hLHQ7YT10Lm1heH19KSk7cmV0dXJuIGMmJihyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12b2lkIDAhPT10LnByZWNpc2lvbj90LnByZWNpc2lvbjoyLGk9dC5pbmNyZW1lbnQqbixvPXQubWluKm4sYT1NYXRoLnBvdygxMCxyKzIpLGM9KGUqYS1vKmEpLyhpKmEpLHU9TWF0aC5mbG9vcihjKSppK287cmV0dXJuKHU9TnVtYmVyKHUudG9GaXhlZCgxMCkpKS50b0ZpeGVkKHIpfShlLGMsbikpLHJ9ZnVuY3Rpb24gcChlKXtpZihPYmplY3Qoby5pc0VtcHR5KShlKXx8IWUuYnVja2V0c3x8IUFycmF5LmlzQXJyYXkoZS5idWNrZXRzKSlyZXR1cm4hMTt2YXIgdD0hMDtyZXR1cm4gZS5idWNrZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubWF4JiZlLmluY3JlbWVudHx8KHQ9ITEpfSkpLHR9fSw1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtKU09OX01BUFBJTkc6e1BMX0NPREU6ImNvZGUiLFBMX1NJWkU6InNpemVzIixQTF9CSURTOiJiaWRzIixCRF9CSURERVI6ImJpZGRlciIsQkRfSUQ6InBhcmFtc2QiLEJEX1BMX0lEOiJwbGFjZW1lbnRJZCIsQURTRVJWRVJfVEFSR0VUSU5HOiJhZHNlcnZlclRhcmdldGluZyIsQkRfU0VUVElOR19TVEFOREFSRDoic3RhbmRhcmQifSxERUJVR19NT0RFOiJwYmpzX2RlYnVnIixTVEFUVVM6e0dPT0Q6MSxOT19CSUQ6Mn0sQ0I6e1RZUEU6e0FMTF9CSURTX0JBQ0s6ImFsbFJlcXVlc3RlZEJpZHNCYWNrIixBRF9VTklUX0JJRFNfQkFDSzoiYWRVbml0Qmlkc0JhY2siLEJJRF9XT046ImJpZFdvbiIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyJ9fSxFVkVOVFM6e0FVQ1RJT05fSU5JVDoiYXVjdGlvbkluaXQiLEFVQ1RJT05fRU5EOiJhdWN0aW9uRW5kIixCSURfQURKVVNUTUVOVDoiYmlkQWRqdXN0bWVudCIsQklEX1RJTUVPVVQ6ImJpZFRpbWVvdXQiLEJJRF9SRVFVRVNURUQ6ImJpZFJlcXVlc3RlZCIsQklEX1JFU1BPTlNFOiJiaWRSZXNwb25zZSIsTk9fQklEOiJub0JpZCIsQklEX1dPTjoiYmlkV29uIixCSURERVJfRE9ORToiYmlkZGVyRG9uZSIsQklEREVSX0VSUk9SOiJiaWRkZXJFcnJvciIsU0VUX1RBUkdFVElORzoic2V0VGFyZ2V0aW5nIixCRUZPUkVfUkVRVUVTVF9CSURTOiJiZWZvcmVSZXF1ZXN0QmlkcyIsQkVGT1JFX0JJRERFUl9IVFRQOiJiZWZvcmVCaWRkZXJIdHRwIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIixBRERfQURfVU5JVFM6ImFkZEFkVW5pdHMiLEFEX1JFTkRFUl9GQUlMRUQ6ImFkUmVuZGVyRmFpbGVkIixBRF9SRU5ERVJfU1VDQ0VFREVEOiJhZFJlbmRlclN1Y2NlZWRlZCIsVENGMl9FTkZPUkNFTUVOVDoidGNmMkVuZm9yY2VtZW50IixBVUNUSU9OX0RFQlVHOiJhdWN0aW9uRGVidWciLEJJRF9WSUVXQUJMRToiYmlkVmlld2FibGUiLFNUQUxFX1JFTkRFUjoic3RhbGVSZW5kZXIifSxBRF9SRU5ERVJfRkFJTEVEX1JFQVNPTjp7UFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQ6InByZXZlbnRXcml0aW5nT25NYWluRG9jdW1lbnQiLE5PX0FEOiJub0FkIixFWENFUFRJT046ImV4Y2VwdGlvbiIsQ0FOTk9UX0ZJTkRfQUQ6ImNhbm5vdEZpbmRBZCIsTUlTU0lOR19ET0NfT1JfQURJRDoibWlzc2luZ0RvY09yQWRpZCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246ImFkVW5pdENvZGUifSxHUkFOVUxBUklUWV9PUFRJT05TOntMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifSxUQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixTT1VSQ0U6ImhiX3NvdXJjZSIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0lEOiJoYl9jYWNoZV9pZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCIsQURPTUFJTjoiaGJfYWRvbWFpbiJ9LERFRkFVTFRfVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QifSxOQVRJVkVfS0VZUzp7dGl0bGU6ImhiX25hdGl2ZV90aXRsZSIsYm9keToiaGJfbmF0aXZlX2JvZHkiLGJvZHkyOiJoYl9uYXRpdmVfYm9keTIiLHByaXZhY3lMaW5rOiJoYl9uYXRpdmVfcHJpdmFjeSIscHJpdmFjeUljb246ImhiX25hdGl2ZV9wcml2aWNvbiIsc3BvbnNvcmVkQnk6ImhiX25hdGl2ZV9icmFuZCIsaW1hZ2U6ImhiX25hdGl2ZV9pbWFnZSIsaWNvbjoiaGJfbmF0aXZlX2ljb24iLGNsaWNrVXJsOiJoYl9uYXRpdmVfbGlua3VybCIsZGlzcGxheVVybDoiaGJfbmF0aXZlX2Rpc3BsYXl1cmwiLGN0YToiaGJfbmF0aXZlX2N0YSIscmF0aW5nOiJoYl9uYXRpdmVfcmF0aW5nIixhZGRyZXNzOiJoYl9uYXRpdmVfYWRkcmVzcyIsZG93bmxvYWRzOiJoYl9uYXRpdmVfZG93bmxvYWRzIixsaWtlczoiaGJfbmF0aXZlX2xpa2VzIixwaG9uZToiaGJfbmF0aXZlX3Bob25lIixwcmljZToiaGJfbmF0aXZlX3ByaWNlIixzYWxlUHJpY2U6ImhiX25hdGl2ZV9zYWxlcHJpY2UiLHJlbmRlcmVyVXJsOiJoYl9yZW5kZXJlcl91cmwiLGFkVGVtcGxhdGU6ImhiX2FkVGVtcGxhdGUifSxTMlM6e1NSQzoiczJzIixERUZBVUxUX0VORFBPSU5UOiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24iLFNZTkNFRF9CSURERVJTX0tFWToicGJqc1N5bmNzIn0sQklEX1NUQVRVUzp7QklEX1RBUkdFVElOR19TRVQ6InRhcmdldGluZ1NldCIsUkVOREVSRUQ6InJlbmRlcmVkIixCSURfUkVKRUNURUQ6ImJpZFJlamVjdGVkIn19fSw1MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4NCksaT1uKDUyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoaShlKSl9fSw1MTpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sNTI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICIrZSk7cmV0dXJuIGV9fSw1MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QocihlKSl9fSw1NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NSksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKHIoZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDU1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sNTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1yfSw1NzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTkpLGk9big0MSksbz1uKDIxKSgiaXRlcmF0b3IiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW3IoZSldfX0sNTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjgpLGk9big1MSksbz1uKDIxKSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7ZS5leHBvcnRzPXI/aTpmdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjphP2kodCk6Ik9iamVjdCI9PShyPWkodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LDYwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY4KSxpPW4oMzQpLmYsbz1uKDMyKSxhPW4oMzEpLGM9bigxMjQpLHU9bigyMSkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHMpe2lmKGUpe3ZhciBkPW4/ZTplLnByb3RvdHlwZTthKGQsdSl8fGkoZCx1LHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pLHMmJiFyJiZvKGQsInRvU3RyaW5nIixjKX19fSw2MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMTIpLGE9bi5uKG8pLGM9big3KTtmdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBzKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBzKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBzKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aS5iLnNldERlZmF1bHRzKHt1c2VyU3luYzpPYmplY3Qoci5kZWVwQ2xvbmUpKHtzeW5jRW5hYmxlZDohMCxmaWx0ZXJTZXR0aW5nczp7aW1hZ2U6e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9fSxzeW5jc1BlckJpZGRlcjo1LHN5bmNEZWxheTozZTMsYXVjdGlvbkRlbGF5OjB9KX0pO3ZhciBmPU9iamVjdChjLmEpKCJ1c2Vyc3luYyIpO3ZhciBsPSFPYmplY3Qoci5pc1NhZmFyaUJyb3dzZXIpKCkmJmYuY29va2llc0FyZUVuYWJsZWQoKSxwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e2ltYWdlOltdLGlmcmFtZTpbXX0sbz1uZXcgU2V0LGM9e30scz17aW1hZ2U6ITAsaWZyYW1lOiExfSxmPWUuY29uZmlnO2Z1bmN0aW9uIGwoKXtpZihmLnN5bmNFbmFibGVkJiZlLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighcy5pZnJhbWUpcmV0dXJuO3Aobi5pZnJhbWUsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxpPXRbMF0sbz10WzFdO09iamVjdChyLmxvZ01lc3NhZ2UpKCJJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KGkpKSxPYmplY3Qoci5pbnNlcnRVc2VyU3luY0lmcmFtZSkobyksZnVuY3Rpb24oZSx0KXtlLmltYWdlPWUuaW1hZ2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSE9PXR9KSl9KG4saSl9KSl9KCksZnVuY3Rpb24oKXtpZighcy5pbWFnZSlyZXR1cm47cChuLmltYWdlLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtPYmplY3Qoci5sb2dNZXNzYWdlKSgiSW52b2tpbmcgaW1hZ2UgcGl4ZWwgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KG4pKSxPYmplY3Qoci50cmlnZ2VyUGl4ZWwpKGkpfSkpfSgpfWNhdGNoKGUpe3JldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGZpcmluZyB1c2VyIHN5bmNzIixlKX1uPXtpbWFnZTpbXSxpZnJhbWU6W119fX1mdW5jdGlvbiBwKGUsdCl7T2JqZWN0KHIuc2h1ZmZsZSkoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiBPYmplY3Qoci5sb2dXYXJuKSgnRGV0ZWN0ZWQgcHJlc2VuY2Ugb2YgdGhlICJmaWx0ZXJTZXR0aW5ncy5hbGwiIGFuZCAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQodCwnIiBpbiB1c2VyU3luYyBjb25maWcuICBZb3UgY2Fubm90IG1peCAiYWxsIiB3aXRoICJpZnJhbWUvaW1hZ2UiIGNvbmZpZ3M7IHRoZXkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKSksITE7dmFyIG49ZS5hbGw/ZS5hbGw6ZVt0XSxpPWUuYWxsPyJhbGwiOnQ7aWYoIW4pcmV0dXJuITE7dmFyIG89bi5maWx0ZXIsYT1uLmJpZGRlcnM7aWYobyYmImluY2x1ZGUiIT09byYmImV4Y2x1ZGUiIT09bylyZXR1cm4gT2JqZWN0KHIubG9nV2FybikoJ1VzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuZmlsdGVyXCIgc2V0dGluZyAnIikuY29uY2F0KG8sIicgaXMgbm90IGEgdmFsaWQgb3B0aW9uOyB1c2UgZWl0aGVyICdpbmNsdWRlJyBvciAnZXhjbHVkZScuIikpLCExO2lmKCIqIiE9PWEmJiEoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCYmYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKShlKSYmIioiIT09ZX0pKSkpcmV0dXJuIE9iamVjdChyLmxvZ1dhcm4pKCdEZXRlY3RlZCBhbiBpbnZhbGlkIHNldHVwIGluIHVzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuYmlkZGVyc1wiOyB1c2UgZWl0aGVyICcqJyAodG8gcmVwcmVzZW50IGFsbCBiaWRkZXJzKSBvciBhbiBhcnJheSBvZiBiaWRkZXJzLiIpKSwhMTtyZXR1cm4hMH0obixlKSl7c1tlXT0hMDt2YXIgaT1uLmFsbD9uLmFsbDpuW2VdLG89IioiPT09aS5iaWRkZXJzP1t0XTppLmJpZGRlcnM7cmV0dXJue2luY2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hYSgpKGUsdCl9LGV4Y2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgpKGUsdCl9fVtpLmZpbHRlcnx8ImluY2x1ZGUiXShvLHQpfXJldHVybiFzW2VdfXJldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIsKGZ1bmN0aW9uKGUpe2lmKGUudXNlclN5bmMpe3ZhciB0PWUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3M7T2JqZWN0KHIuaXNQbGFpbk9iamVjdCkodCkmJih0LmltYWdlfHx0LmFsbHx8KGUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3MuaW1hZ2U9e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9KSl9Zj1kKGYsZS51c2VyU3luYyl9KSksdC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSxpLGEpe3JldHVybiBvLmhhcyhpKT9PYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJk9iamVjdChyLmlzQXJyYXkpKG5bZV0pP2k/MCE9PWYuc3luY3NQZXJCaWRkZXImJk51bWJlcihjW2ldKT49Zi5zeW5jc1BlckJpZGRlcj9PYmplY3Qoci5sb2dXYXJuKSgnTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdChpLCciJykpOnQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsaSk/KG5bZV0ucHVzaChbaSxhXSksdm9pZChjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF0/ZVt0XSs9MTplW3RdPTEsZX0oYyxpKSkpOk9iamVjdChyLmxvZ1dhcm4pKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpPYmplY3Qoci5sb2dXYXJuKSgiQmlkZGVyIGlzIHJlcXVpcmVkIGZvciByZWdpc3RlcmluZyBzeW5jIik6T2JqZWN0KHIubG9nV2FybikoJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSl9LHQuc3luY1VzZXJzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZSlyZXR1cm4gc2V0VGltZW91dChsLE51bWJlcihlKSk7bCgpfSx0LnRyaWdnZXJVc2VyU3luY3M9ZnVuY3Rpb24oKXtmLmVuYWJsZU92ZXJyaWRlJiZ0LnN5bmNVc2VycygpfSx0LmNhbkJpZGRlclJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiFmLmZpbHRlclNldHRpbmdzfHwhZyhlLHQpfSx0fSh7Y29uZmlnOmkuYi5nZXRDb25maWcoInVzZXJTeW5jIiksYnJvd3NlclN1cHBvcnRzQ29va2llczpsfSl9LDYyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7by5hZFNlcnZlcnM9by5hZFNlcnZlcnN8fHt9LG8uYWRTZXJ2ZXJzW2VdPW8uYWRTZXJ2ZXJzW2VdfHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtvLmFkU2VydmVyc1tlXVtuXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KG4sIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KGUsIi4iKSk6by5hZFNlcnZlcnNbZV1bbl09dFtuXX0pKX07dmFyIHI9bigxNCksaT1uKDApLG89T2JqZWN0KHIuYSkoKX0sNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFyKGUpKXJldHVybiBlO3ZhciBuLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnZhbHVlT2YpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LDY0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oODQpLG89big1MyksYT1uKDU0KSxjPW4oMTExKSx1PVtdLnB1c2gscz1mdW5jdGlvbihlKXt2YXIgdD0xPT1lLG49Mj09ZSxzPTM9PWUsZD00PT1lLGY9Nj09ZSxsPTc9PWUscD01PT1lfHxmO3JldHVybiBmdW5jdGlvbihnLGIsdix5KXtmb3IodmFyIGgsbSxPPW8oZyksaj1pKE8pLFM9cihiLHYsMyksRT1hKGoubGVuZ3RoKSxBPTAsVD15fHxjLEk9dD9UKGcsRSk6bnx8bD9UKGcsMCk6dm9pZCAwO0U+QTtBKyspaWYoKHB8fEEgaW4gaikmJihtPVMoaD1qW0FdLEEsTyksZSkpaWYodClJW0FdPW07ZWxzZSBpZihtKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gQTtjYXNlIDI6dS5jYWxsKEksaCl9ZWxzZSBzd2l0Y2goZSl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzp1LmNhbGwoSSxoKX1yZXR1cm4gZj8tMTpzfHxkP2Q6SX19O2UuZXhwb3J0cz17Zm9yRWFjaDpzKDApLG1hcDpzKDEpLGZpbHRlcjpzKDIpLHNvbWU6cygzKSxldmVyeTpzKDQpLGZpbmQ6cyg1KSxmaW5kSW5kZXg6cyg2KSxmaWx0ZXJPdXQ6cyg3KX19LDY1OmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9yOm4pKGUpfX0sNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigxMTMpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsYT1yW29dfHxpKG8se30pO2UuZXhwb3J0cz1hfSw2NzpmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PWU/IiI6ZSkrIilfIisoKytuK3IpLnRvU3RyaW5nKDM2KX19LDY4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyW24oMjEpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsZS5leHBvcnRzPSJbb2JqZWN0IHpdIj09PVN0cmluZyhyKX0sNjk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0ICIrKG4/bisiICI6IiIpKyJpbnZvY2F0aW9uIik7cmV0dXJuIGV9fSw3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoe21vZHVsZU5hbWU6ZSxtb2R1bGVUeXBlOiJjb3JlIn0pfSx0LmI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7Z3ZsaWQ6ZSxtb2R1bGVOYW1lOnR9KX07dmFyIHI9big5KSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKSxjPVsiY29yZSIsInByZWJpZC1tb2R1bGUiXSx1PVtdO2Z1bmN0aW9uIHMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmd2bGlkLG49ZS5tb2R1bGVOYW1lLHI9ZS5tb2R1bGVUeXBlO2Z1bmN0aW9uIG8oZSl7aWYoYSgpKGMscikpe3JldHVybiBlKHt2YWxpZDohMH0pfXZhciBvO3JldHVybiBkKHQsbix7aGFzRW5mb3JjZW1lbnRIb29rOiExfSwoZnVuY3Rpb24odCl7aWYodCYmdC5oYXNFbmZvcmNlbWVudEhvb2spbz1lKHQpO2Vsc2V7dmFyIG49e2hhc0VuZm9yY2VtZW50SG9vazohMSx2YWxpZDpPYmplY3QoaS5oYXNEZXZpY2VBY2Nlc3MpKCl9O289ZShuKX19KSksb312YXIgcz1mdW5jdGlvbihlLHQsbixyLGksYSl7dmFyIGM9ZnVuY3Rpb24obyl7aWYobyYmby52YWxpZCl7dmFyIGE9aSYmIiIhPT1pPyIgO2RvbWFpbj0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoaSkpOiIiLGM9biYmIiIhPT1uPyIgO2V4cGlyZXM9Ii5jb25jYXQobik6IiIsdT1udWxsIT1yJiYibm9uZSI9PXIudG9Mb3dlckNhc2UoKT8iOyBTZWN1cmUiOiIiO2RvY3VtZW50LmNvb2tpZT0iIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpLmNvbmNhdChjLCI7IHBhdGg9LyIpLmNvbmNhdChhKS5jb25jYXQocj8iOyBTYW1lU2l0ZT0iLmNvbmNhdChyKToiIikuY29uY2F0KHUpfX07aWYoIWF8fCJmdW5jdGlvbiIhPXR5cGVvZiBhKXJldHVybiBvKGMpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKGMpO2EoZSl9KSl9LGY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtpZih0JiZ0LnZhbGlkKXt2YXIgbj13aW5kb3cuZG9jdW1lbnQuY29va2llLm1hdGNoKCIoXnw7KVxccyoiK2UrIlxccyo9XFxzKihbXjtdKilcXHMqKDt8JCkiKTtyZXR1cm4gbj9kZWNvZGVVUklDb21wb25lbnQoblsyXSk6bnVsbH1yZXR1cm4gbnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIsIjEiKSwiMSI9PT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9ZmluYWxseXt0cnl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInByZWJpZC5jb29raWVUZXN0Iil9Y2F0Y2goZSl7fX1yZXR1cm4hMX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUudmFsaWQpJiYoISFPYmplY3QoaS5jaGVja0Nvb2tpZVN1cHBvcnQpKCl8fCh3aW5kb3cuZG9jdW1lbnQuY29va2llPSJwcmViaWQuY29va2llVGVzdCIsLTEhPT13aW5kb3cuZG9jdW1lbnQuY29va2llLmluZGV4T2YoInByZWJpZC5jb29raWVUZXN0IikpKX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKG4pe24mJm4udmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9O2lmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gbyhyKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhyKTtuKGUpfSkpfSxiPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsaWQmJnkoKT93aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt0JiZ0LnZhbGlkJiZ5KCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiTG9jYWwgc3RvcmFnZSBhcGkgZGlzYWJsZWQiKX1yZXR1cm4hMX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGg9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtpZih0JiZ0LnZhbGlkKXt2YXIgbj1bXTtpZihPYmplY3QoaS5oYXNEZXZpY2VBY2Nlc3MpKCkpZm9yKHZhciByPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpO3IubGVuZ3RoOyl7dmFyIG89ci5wb3AoKSxhPW8uaW5kZXhPZigiPSIpO2E9YTwwP28ubGVuZ3RoOmEsZGVjb2RlVVJJQ29tcG9uZW50KG8uc2xpY2UoMCxhKS5yZXBsYWNlKC9eXHMrLywiIikpLmluZGV4T2YoZSk+PTAmJm4ucHVzaChkZWNvZGVVUklDb21wb25lbnQoby5zbGljZShhKzEpKSl9cmV0dXJuIG59fTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX07cmV0dXJue3NldENvb2tpZTpzLGdldENvb2tpZTpmLGxvY2FsU3RvcmFnZUlzRW5hYmxlZDpsLGNvb2tpZXNBcmVFbmFibGVkOnAsc2V0RGF0YUluTG9jYWxTdG9yYWdlOmcsZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2U6YixyZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZTp2LGhhc0xvY2FsU3RvcmFnZTp5LGZpbmRTaW1pbGFyQ29va2llczpofX12YXIgZD1PYmplY3Qoci5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixyKXtyKG4pfSksInZhbGlkYXRlU3RvcmFnZUVuZm9yY2VtZW50Iil9LDcwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDg3KSxpPW4oNjcpLG89cigia2V5cyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09aShlKSl9fSw3MTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1uKDE2KSxvPW4oMTI4KSxhPW4oOTQpLGM9big1NyksdT1uKDEzMSkscz1uKDg2KSxkPW4oNzApLGY9ZCgiSUVfUFJPVE8iKSxsPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKGUpe3JldHVybiI8c2NyaXB0PiIrZSsiPC8iKyJzY3JpcHQ+In0sZz1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXZhciBlLHQ7Zz1yP2Z1bmN0aW9uKGUpe2Uud3JpdGUocCgiIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fShyKTooKHQ9cygiaWZyYW1lIikpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHUuYXBwZW5kQ2hpbGQodCksdC5zcmM9U3RyaW5nKCJqYXZhc2NyaXB0OiIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUocCgiZG9jdW1lbnQuRj1PYmplY3QiKSksZS5jbG9zZSgpLGUuRik7Zm9yKHZhciBuPWEubGVuZ3RoO24tLTspZGVsZXRlIGcucHJvdG90eXBlW2Fbbl1dO3JldHVybiBnKCl9O2NbZl09ITAsZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG51bGwhPT1lPyhsLnByb3RvdHlwZT1pKGUpLG49bmV3IGwsbC5wcm90b3R5cGU9bnVsbCxuW2ZdPWUpOm49ZygpLHZvaWQgMD09PXQ/bjpvKG4sdCl9fSw3MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe2kmJmkuZW51bWVyYWJsZT9lW3RdPW46cihlLHQsbil9fSw3MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big5Niksbz1uKDk4KSxhPW4oMTMzKSxjPW4oNjApLHU9bigzMikscz1uKDcyKSxkPW4oMjEpLGY9bigxOCksbD1uKDQxKSxwPW4oOTcpLGc9cC5JdGVyYXRvclByb3RvdHlwZSxiPXAuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyx2PWQoIml0ZXJhdG9yIikseT0ia2V5cyIsaD0idmFsdWVzIixtPSJlbnRyaWVzIixPPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixkLHAsaixTKXtpKG4sdCxkKTt2YXIgRSxBLFQsST1mdW5jdGlvbihlKXtpZihlPT09cCYmVSlyZXR1cm4gVTtpZighYiYmZSBpbiBSKXJldHVybiBSW2VdO3N3aXRjaChlKXtjYXNlIHk6Y2FzZSBoOmNhc2UgbTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfX0sdz10KyIgSXRlcmF0b3IiLEM9ITEsUj1lLnByb3RvdHlwZSxfPVJbdl18fFJbIkBAaXRlcmF0b3IiXXx8cCYmUltwXSxVPSFiJiZffHxJKHApLEI9IkFycmF5Ij09dCYmUi5lbnRyaWVzfHxfO2lmKEImJihFPW8oQi5jYWxsKG5ldyBlKSksZyE9PU9iamVjdC5wcm90b3R5cGUmJkUubmV4dCYmKGZ8fG8oRSk9PT1nfHwoYT9hKEUsZyk6ImZ1bmN0aW9uIiE9dHlwZW9mIEVbdl0mJnUoRSx2LE8pKSxjKEUsdywhMCwhMCksZiYmKGxbd109TykpKSxwPT1oJiZfJiZfLm5hbWUhPT1oJiYoQz0hMCxVPWZ1bmN0aW9uKCl7cmV0dXJuIF8uY2FsbCh0aGlzKX0pLGYmJiFTfHxSW3ZdPT09VXx8dShSLHYsVSksbFt0XT1VLHApaWYoQT17dmFsdWVzOkkoaCksa2V5czpqP1U6SSh5KSxlbnRyaWVzOkkobSl9LFMpZm9yKFQgaW4gQSkoYnx8Q3x8IShUIGluIFIpKSYmcyhSLFQsQVtUXSk7ZWxzZSByKHt0YXJnZXQ6dCxwcm90bzohMCxmb3JjZWQ6Ynx8Q30sQSk7cmV0dXJuIEF9fSw3NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDU4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aShlKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGl0ZXJhYmxlIik7cmV0dXJuIHIodC5jYWxsKGUpKX19LDc1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2Mik7ZS5leHBvcnRzPXJ9LDc2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMCksaT17fTtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuPWlbZV09aVtlXXx8e2JpZGRlcnM6e319O3JldHVybiB0P24uYmlkZGVyc1t0XT1uLmJpZGRlcnNbdF18fHt9Om59KGUsbik7cmV0dXJuIHJbdF09KHJbdF18fDApKzEsclt0XX12YXIgYT17aW5jcmVtZW50UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUsInJlcXVlc3RzQ291bnRlciIpfSxpbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhlLCJyZXF1ZXN0c0NvdW50ZXIiLHQpfSxpbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsIndpbnNDb3VudGVyIix0KX0sZ2V0UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIucmVxdWVzdHNDb3VudGVyIikpfHwwfSxnZXRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5iaWRkZXJzLiIpLmNvbmNhdCh0LCIud2luc0NvdW50ZXIiKSl8fDB9fX0sODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiZ2RwckRhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCwidXNwRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZCh0LCJjb3BwYURhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSxuLmQodCwiY2xpZW50VGVzdEFkYXB0ZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQodCwiYWxsUzJTQmlkZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksdC5nZXRBbGxTMlNCaWRkZXJzPWssdC5zZXRTMlNUZXN0aW5nTW9kdWxlPWZ1bmN0aW9uKGUpe2o9ZX07dmFyIHI9bigwKSxpPW4oMTAxKSxvPW4oMzgpLGE9bigxKSxjPW4oNCksdT1uKDMpLHM9big5KSxkPW4oMTIpLGY9bi5uKGQpLGw9bigxMSkscD1uLm4obCksZz1uKDc2KSxiPW4oMTkpO2Z1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxoKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBtKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8aChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBoKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/bShlLHQpOnZvaWQgMH19ZnVuY3Rpb24gbShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIE8oKXtyZXR1cm4oTz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBqLFM9big1KSxFPW4oMTApLEE9e30sVD1BLmJpZGRlclJlZ2lzdHJ5PXt9LEk9QS5hbGlhc1JlZ2lzdHJ5PXt9LHc9W107dS5iLmdldENvbmZpZygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7ZSYmZS5zMnNDb25maWcmJih3PU9iamVjdChyLmlzQXJyYXkpKGUuczJzQ29uZmlnKT9lLnMyc0NvbmZpZzpbZS5zMnNDb25maWddKX0pKTt2YXIgQz17fTt2YXIgUj1PYmplY3Qocy5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkZGVyQ29kZSxuPWUuYXVjdGlvbklkLGE9ZS5iaWRkZXJSZXF1ZXN0SWQsYz1lLmFkVW5pdHMsdT1lLmxhYmVscyxzPWUuc3JjO3JldHVybiBjLnJlZHVjZSgoZnVuY3Rpb24oZSxjKXt2YXIgZD1PYmplY3QoaS5iKShPYmplY3QoaS5hKShjLHUpLGMubWVkaWFUeXBlcyxjLnNpemVzKSxmPWQuYWN0aXZlLGw9ZC5tZWRpYVR5cGVzLHA9ZC5maWx0ZXJSZXN1bHRzO3JldHVybiBmP3AmJk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmFubmVyIHNpemVzIGZyb20gJykscC5iZWZvcmUsInRvICIscC5hZnRlcik6T2JqZWN0KHIubG9nSW5mbykoJ1NpemUgbWFwcGluZyBkaXNhYmxlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIicpKSxmJiZlLnB1c2goYy5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09dH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGQ9Yy5uYXRpdmVQYXJhbXN8fE9iamVjdChyLmRlZXBBY2Nlc3MpKGMsIm1lZGlhVHlwZXMubmF0aXZlIik7ZCYmKHQ9Tyh7fSx0LHtuYXRpdmVQYXJhbXM6T2JqZWN0KG8uaCkoZCl9KSksdD1PKHt9LHQsT2JqZWN0KHIuZ2V0RGVmaW5lZFBhcmFtcykoYyxbIm9ydGIySW1wIiwibWVkaWFUeXBlIiwicmVuZGVyZXIiLCJzdG9yZWRBdWN0aW9uUmVzcG9uc2UiXSkpO3ZhciBmPU9iamVjdChpLmIpKE9iamVjdChpLmEpKHQsdSksbCkscD1mLmFjdGl2ZSxiPWYubWVkaWFUeXBlcyx2PWYuZmlsdGVyUmVzdWx0cztyZXR1cm4gcD92JiZPYmplY3Qoci5sb2dJbmZvKSgnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciIGJhbm5lciBzaXplcyBmcm9tICcpLHYuYmVmb3JlLCJ0byAiLHYuYWZ0ZXIpOk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZGVhY3RpdmF0ZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmlkZGVyICInKS5jb25jYXQodC5iaWRkZXIsJyInKSksT2JqZWN0KHIuaXNWYWxpZE1lZGlhVHlwZXMpKGIpP3Q9Tyh7fSx0LHttZWRpYVR5cGVzOmJ9KTpPYmplY3Qoci5sb2dFcnJvcikoIm1lZGlhVHlwZXMgaXMgbm90IGNvcnJlY3RseSBjb25maWd1cmVkIGZvciBhZHVuaXQgIi5jb25jYXQoYy5jb2RlKSkscCYmZS5wdXNoKE8oe30sdCx7YWRVbml0Q29kZTpjLmNvZGUsdHJhbnNhY3Rpb25JZDpjLnRyYW5zYWN0aW9uSWQsc2l6ZXM6T2JqZWN0KHIuZGVlcEFjY2VzcykoYiwiYmFubmVyLnNpemVzIil8fE9iamVjdChyLmRlZXBBY2Nlc3MpKGIsInZpZGVvLnBsYXllclNpemUiKXx8W10sYmlkSWQ6dC5iaWRfaWR8fE9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksYmlkZGVyUmVxdWVzdElkOmEsYXVjdGlvbklkOm4sc3JjOnMsYmlkUmVxdWVzdHNDb3VudDpnLmEuZ2V0UmVxdWVzdHNDb3VudGVyKGMuY29kZSksYmlkZGVyUmVxdWVzdHNDb3VudDpnLmEuZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyKGMuY29kZSx0LmJpZGRlciksYmlkZGVyV2luc0NvdW50OmcuYS5nZXRCaWRkZXJXaW5zQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpfSkpLGV9KSxbXSkpLGV9KSxbXSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KSl9KSwiZ2V0QmlkcyIpO3ZhciBfPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe18uY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gXy5jb25zZW50RGF0YX19LFU9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7VS5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBVLmNvbnNlbnREYXRhfX0sQj17Z2V0Q29wcGE6ZnVuY3Rpb24oKXtyZXR1cm4hIXUuYi5nZXRDb25maWcoImNvcHBhIil9fSx4PVtdLEQ9W107ZnVuY3Rpb24gaygpe0EuczJTVGVzdGluZ0VuYWJsZWQ9ITEsdy5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiZlLmVuYWJsZWQmJmUuYmlkZGVycyYmZS5iaWRkZXJzLmxlbmd0aCYmRC5wdXNoLmFwcGx5KEQseShlLmJpZGRlcnMpKX0pKX1mdW5jdGlvbiBOKGUpe3JldHVybiBlJiZlLmVuYWJsZWQmJmUudGVzdGluZyYman1mdW5jdGlvbiBQKGUsdCxuKXt0cnl7dmFyIGk9VFtlXS5nZXRTcGVjKCk7aSYmaVt0XSYmImZ1bmN0aW9uIj09dHlwZW9mIGlbdF0mJihPYmplY3Qoci5sb2dJbmZvKSgiSW52b2tpbmcgIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0KSksdS5iLnJ1bldpdGhCaWRkZXIoZSxyLmJpbmQuY2FsbChpW3RdLGksbikpKX1jYXRjaChuKXtPYmplY3Qoci5sb2dXYXJuKSgiRXJyb3IgY2FsbGluZyAiLmNvbmNhdCh0LCIgb2YgIikuY29uY2F0KGUpKX19QS5tYWtlQmlkUmVxdWVzdHM9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQsbixpLG8pe0UuZW1pdChTLkVWRU5UUy5CRUZPUkVfUkVRVUVTVF9CSURTLGUpO3ZhciBhPU9iamVjdChyLmdldEJpZGRlckNvZGVzKShlKTt1LmIuZ2V0Q29uZmlnKCJiaWRkZXJTZXF1ZW5jZSIpPT09dS5hJiYoYT1PYmplY3Qoci5zaHVmZmxlKShhKSk7dmFyIGM9T2JqZWN0KGIuYSkoKSxzPWEsZD1bXTswPT09RC5sZW5ndGgmJmsoKSx3LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QmJnQuZW5hYmxlZCYmKE4odCkmJihqLmNhbGN1bGF0ZUJpZFNvdXJjZXModCksai5nZXRTb3VyY2VCaWRkZXJNYXAoZSxEKVtqLkNMSUVOVF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZigpKHgsZSl8fHgucHVzaChlKX0pKSkpfSkpLHM9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFmKCkoRCxlKXx8ZigpKHgsZSl9KSk7dmFyIGw9RDt3LmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKGkmJmkuZW5hYmxlZCl7KGZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKE4oZSkmJmUudGVzdFNlcnZlck9ubHkpfSkoaSkmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJvb2xlYW4ocCgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoZS5iaWRzLChmdW5jdGlvbihlKXtyZXR1cm4oZS5iaWRTb3VyY2V8fHQuYmlkZGVyQ29udHJvbCYmdC5iaWRkZXJDb250cm9sW2UuYmlkZGVyXSkmJmUuZmluYWxTb3VyY2U9PT1qLlNFUlZFUn0pKX0pKSl9KGUsaSkmJihPYmplY3Qoci5sb2dXYXJuKSgidGVzdFNlcnZlck9ubHk6IFRydWUuICBBbGwgY2xpZW50IHJlcXVlc3RzIHdpbGwgYmUgc3VwcHJlc3NlZC4iKSxzLmxlbmd0aD0wKTt2YXIgYT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkZGVycyxpPU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkobixlLmJpZGRlcikmJighTih0KXx8ZS5maW5hbFNvdXJjZSE9PWouQ0xJRU5UKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZF9pZD1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGV9KSl9KSksaS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSxpKSx1PU9iamVjdChyLmdlbmVyYXRlVVVJRCkoKTtsLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBzPU9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksZj17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpzLHRpZDp1LGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpzLGFkVW5pdHM6T2JqZWN0KHIuZGVlcENsb25lKShhKSxsYWJlbHM6byxzcmM6Uy5TMlMuU1JDfSksYXVjdGlvblN0YXJ0OnQsdGltZW91dDppLnRpbWVvdXQsc3JjOlMuUzJTLlNSQyxyZWZlcmVySW5mbzpjfTswIT09Zi5iaWRzLmxlbmd0aCYmZC5wdXNoKGYpfSkpLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShkLChmdW5jdGlvbih0KXtyZXR1cm4gcCgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lLmJpZF9pZH0pKX0pKX0pKTtlLmJpZHM9dH0pKSxkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuYWRVbml0c1MyU0NvcHkmJihlLmFkVW5pdHNTMlNDb3B5PWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLmxlbmd0aD4wfSkpKX0pKX19KSk7dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuZGVlcENsb25lKShlKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHM9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXgubGVuZ3RofHxlLmZpbmFsU291cmNlIT09ai5TRVJWRVJ9KSl9KSksdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSk7cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGE9T2JqZWN0KHIuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSx1PXtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOmEsYmlkczpSKHtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOmEsYWRVbml0czpPYmplY3Qoci5kZWVwQ2xvbmUpKGcpLGxhYmVsczpvLHNyYzoiY2xpZW50In0pLGF1Y3Rpb25TdGFydDp0LHRpbWVvdXQ6aSxyZWZlcmVySW5mbzpjfSxzPVRbZV07c3x8T2JqZWN0KHIubG9nRXJyb3IpKCJUcnlpbmcgdG8gbWFrZSBhIHJlcXVlc3QgZm9yIGJpZGRlciB0aGF0IGRvZXMgbm90IGV4aXN0OiAiLmNvbmNhdChlKSkscyYmdS5iaWRzJiYwIT09dS5iaWRzLmxlbmd0aCYmZC5wdXNoKHUpfSkpLF8uZ2V0Q29uc2VudERhdGEoKSYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmdkcHJDb25zZW50PV8uZ2V0Q29uc2VudERhdGEoKX0pKSxVLmdldENvbnNlbnREYXRhKCkmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51c3BDb25zZW50PVUuZ2V0Q29uc2VudERhdGEoKX0pKSxkfSksIm1ha2VCaWRSZXF1ZXN0cyIpLEEuY2FsbEJpZHM9ZnVuY3Rpb24oZSx0LG4saSxvLGEscyl7aWYodC5sZW5ndGgpe3ZhciBkPXYodC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbTnVtYmVyKHZvaWQgMCE9PXQuc3JjJiZ0LnNyYz09PVMuUzJTLlNSQyldLnB1c2godCksZX0pLFtbXSxbXV0pLDIpLGw9ZFswXSxwPWRbMV0sZz1bXTtwLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxuPTA7bjxnLmxlbmd0aDsrK24paWYoZS50aWQ9PT1nW25dLnRpZCl7dD1uO2JyZWFrfXQ8PS0xJiZnLnB1c2goZSl9KSk7dmFyIGI9MDt3LmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUmJmdbYl0mJmYoKShlLmJpZGRlcnMsZ1tiXS5iaWRkZXJDb2RlKSl7dmFyIHQ9T2JqZWN0KGMuYikoYSxvP3tyZXF1ZXN0Om8ucmVxdWVzdC5iaW5kKG51bGwsInMycyIpLGRvbmU6by5kb25lfTp2b2lkIDApLHU9ZS5iaWRkZXJzLHM9VFtlLmFkYXB0ZXJdLGQ9Z1tiXS50aWQsbD1nW2JdLmFkVW5pdHNTMlNDb3B5LHY9cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRpZD09PWR9KSk7aWYocyl7dmFyIHk9e3RpZDpkLGFkX3VuaXRzOmwsczJzQ29uZmlnOmV9O2lmKHkuYWRfdW5pdHMubGVuZ3RoKXt2YXIgaD12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnQ9T2JqZWN0KHIudGltZXN0YW1wKSgpLGkuYmluZChlKX0pKSxtPXkuYWRfdW5pdHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCgodC5iaWRzfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJpZGRlcil9KSxbXSkpfSksW10pO09iamVjdChyLmxvZ01lc3NhZ2UpKCJDQUxMSU5HIFMyUyBIRUFERVIgQklEREVSUyA9PT09ICIuY29uY2F0KHUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG0sZSl9KSkuam9pbigiLCIpKSksdi5mb3JFYWNoKChmdW5jdGlvbihlKXtFLmVtaXQoUy5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKSxzLmNhbGxCaWRzKHkscCwoZnVuY3Rpb24oZSx0KXt2YXIgaT1PYmplY3Qoci5nZXRCaWRkZXJSZXF1ZXN0KShwLHQuYmlkZGVyQ29kZSxlKTtpJiZuLmNhbGwoaSxlLHQpfSksKGZ1bmN0aW9uKCl7cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pY30pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtoLnB1c2goaS5iaW5kKGUpKX0pKSxoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSl9KSx0KX19ZWxzZSBPYmplY3Qoci5sb2dFcnJvcikoIm1pc3NpbmcgIitlLmFkYXB0ZXIpO2IrK319KSksbC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0YXJ0PU9iamVjdChyLnRpbWVzdGFtcCkoKTt2YXIgdD1UW2UuYmlkZGVyQ29kZV07dS5iLnJ1bldpdGhCaWRkZXIoZS5iaWRkZXJDb2RlLChmdW5jdGlvbigpe09iamVjdChyLmxvZ01lc3NhZ2UpKCJDQUxMSU5HIEJJRERFUiIpLEUuZW1pdChTLkVWRU5UUy5CSURfUkVRVUVTVEVELGUpfSkpO3ZhciBkPU9iamVjdChjLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLGUuYmlkZGVyQ29kZSksZG9uZTpvLmRvbmV9OnZvaWQgMCksZj1pLmJpbmQoZSk7dHJ5e3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSxyLmJpbmQuY2FsbCh0LmNhbGxCaWRzLHQsZSxuLmJpbmQoZSksZixkLHMsdS5iLmNhbGxiYWNrV2l0aEJpZGRlcihlLmJpZGRlckNvZGUpKSl9Y2F0Y2godCl7T2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdChlLmJpZGRlckNvZGUsIiBCaWQgQWRhcHRlciBlbWl0dGVkIGFuIHVuY2F1Z2h0IGVycm9yIHdoZW4gcGFyc2luZyB0aGVpciBiaWRSZXF1ZXN0Iikse2U6dCxiaWRSZXF1ZXN0OmV9KSxmKCl9fSkpfWVsc2UgT2JqZWN0KHIubG9nV2FybikoImNhbGxCaWRzIGV4ZWN1dGVkIHdpdGggbm8gYmlkUmVxdWVzdHMuICBXZXJlIHRoZXkgZmlsdGVyZWQgYnkgbGFiZWxzIG9yIHNpemluZz8iKX0sQS52aWRlb0FkYXB0ZXJzPVtdLEEucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9bi5zdXBwb3J0ZWRNZWRpYVR5cGVzLGE9dm9pZCAwPT09aT9bXTppO2UmJnQ/ImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbEJpZHM/KFRbdF09ZSxmKCkoYSwidmlkZW8iKSYmQS52aWRlb0FkYXB0ZXJzLnB1c2godCksZigpKGEsIm5hdGl2ZSIpJiZvLmYucHVzaCh0KSk6T2JqZWN0KHIubG9nRXJyb3IpKCJCaWRkZXIgYWRhcHRvciBlcnJvciBmb3IgYmlkZGVyIGNvZGU6ICIrdCsiYmlkZGVyIG11c3QgaW1wbGVtZW50IGEgY2FsbEJpZHMoKSBmdW5jdGlvbiIpOk9iamVjdChyLmxvZ0Vycm9yKSgiYmlkQWRhcHRlciBvciBiaWRkZXJDb2RlIG5vdCBzcGVjaWZpZWQiKX0sQS5hbGlhc0JpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PVRbdF0pe3ZhciBpPVRbZV07aWYodm9pZCAwPT09aSl7dmFyIGM9W107dy5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihuLmJpZGRlcnMmJm4uYmlkZGVycy5sZW5ndGgpe3ZhciByPW4mJm4uYmlkZGVycztuJiZmKCkocix0KT9JW3RdPWU6Yy5wdXNoKGUpfX0pKSxjLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChyLmxvZ0Vycm9yKSgnYmlkZGVyQ29kZSAiJytlKyciIGlzIG5vdCBhbiBleGlzdGluZyBiaWRkZXIuJywiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9KSl9ZWxzZSB0cnl7dmFyIHUscz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZigpKEEudmlkZW9BZGFwdGVycyxlKSYmdC5wdXNoKCJ2aWRlbyIpLGYoKShvLmYsZSkmJnQucHVzaCgibmF0aXZlIiksdH0oZSk7aWYoaS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPU9iamVjdC5wcm90b3R5cGUpKHU9bmV3IGkuY29uc3RydWN0b3IpLnNldEJpZGRlckNvZGUodCk7ZWxzZXt2YXIgZD1pLmdldFNwZWMoKSxsPW4mJm4uZ3ZsaWQscD1uJiZuLnNraXBQYnNBbGlhc2luZzt1PU9iamVjdChhLm5ld0JpZGRlcikoTyh7fSxkLHtjb2RlOnQsZ3ZsaWQ6bCxza2lwUGJzQWxpYXNpbmc6cH0pKSxJW3RdPWV9QS5yZWdpc3RlckJpZEFkYXB0ZXIodSx0LHtzdXBwb3J0ZWRNZWRpYVR5cGVzOnN9KX1jYXRjaCh0KXtPYmplY3Qoci5sb2dFcnJvcikoZSsiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy4iLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX19ZWxzZSBPYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxpYXMgbmFtZSAiJyt0KyciIGhhcyBiZWVuIGFscmVhZHkgc3BlY2lmaWVkLicpfSxBLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmFkYXB0ZXIsbj1lLmNvZGUsaT1lLmd2bGlkO3QmJm4/ImZ1bmN0aW9uIj09dHlwZW9mIHQuZW5hYmxlQW5hbHl0aWNzPyh0LmNvZGU9bixDW25dPXthZGFwdGVyOnQsZ3ZsaWQ6aX0pOk9iamVjdChyLmxvZ0Vycm9yKSgnUHJlYmlkIEVycm9yOiBBbmFseXRpY3MgYWRhcHRvciBlcnJvciBmb3IgYW5hbHl0aWNzICInLmNvbmNhdChuLCciXG4gICAgICAgIGFuYWx5dGljcyBhZGFwdGVyIG11c3QgaW1wbGVtZW50IGFuIGVuYWJsZUFuYWx5dGljcygpIGZ1bmN0aW9uJykpOk9iamVjdChyLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBhbmFseXRpY3NBZGFwdGVyIG9yIGFuYWx5dGljc0NvZGUgbm90IHNwZWNpZmllZCIpfSxBLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtPYmplY3Qoci5pc0FycmF5KShlKXx8KGU9W2VdKSxPYmplY3Qoci5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9Q1tlLnByb3ZpZGVyXS5hZGFwdGVyO3Q/dC5lbmFibGVBbmFseXRpY3MoZSk6T2JqZWN0KHIubG9nRXJyb3IpKCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxuICAgICAgICAiLmNvbmNhdChlLnByb3ZpZGVyLCIuIikpfSkpfSxBLmdldEJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIFRbZV19LEEuZ2V0QW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gQ1tlXX0sQS5jYWxsVGltZWRPdXRCaWRkZXJzPWZ1bmN0aW9uKGUsdCxuKXt0PXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXM9T2JqZWN0KHIuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXMpKGUsdC5hZFVuaXRDb2RlLHQuYmlkZGVyKSx0LnRpbWVvdXQ9bix0fSkpLHQ9T2JqZWN0KHIuZ3JvdXBCeSkodCwiYmlkZGVyIiksT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7UChlLCJvblRpbWVvdXQiLHRbZV0pfSkpfSxBLmNhbGxCaWRXb25CaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe3QucGFyYW1zPU9iamVjdChyLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKShuLHQuYWRVbml0Q29kZSx0LmJpZGRlciksZy5hLmluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyKHQuYWRVbml0Q29kZSx0LmJpZGRlciksUChlLCJvbkJpZFdvbiIsdCl9LEEuY2FsbFNldFRhcmdldGluZ0JpZGRlcj1mdW5jdGlvbihlLHQpe1AoZSwib25TZXRUYXJnZXRpbmciLHQpfSxBLmNhbGxCaWRWaWV3YWJsZUJpZGRlcj1mdW5jdGlvbihlLHQpe1AoZSwib25CaWRWaWV3YWJsZSIsdCl9LEEuY2FsbEJpZGRlckVycm9yPWZ1bmN0aW9uKGUsdCxuKXtQKGUsIm9uQmlkZGVyRXJyb3IiLHtlcnJvcjp0LGJpZGRlclJlcXVlc3Q6bn0pfSx0LmRlZmF1bHQ9QX0sODA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjIxKTtlLmV4cG9ydHM9cn0sODE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImFkVW5pdFNldHVwQ2hlY2tzIiwoZnVuY3Rpb24oKXtyZXR1cm4gSn0pKSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksdC5leGVjdXRlQ2FsbGJhY2tzPVo7dmFyIHI9bigxNCksaT1uKDApLG89bigyMjkpLGE9big2MSksYz1uKDMpLHU9bigyMykscz1uKDM5KSxkPW4oOSksZj1uKDIzMCksbD1uKDEyKSxwPW4ubihsKSxnPW4oNzYpLGI9bigxMyksdj1uKDQzKSx5PW4oNyksaD1uKDQ3KTtmdW5jdGlvbiBtKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBPKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBPKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBPKGUsdCl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIE8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBqKCl7cmV0dXJuKGo9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgUz1PYmplY3Qoci5hKSgpLEU9big1KSxBPW4oOCkuZGVmYXVsdCxUPW4oMTApLEk9YS5hLnRyaWdnZXJVc2VyU3luY3Msdz1FLkVWRU5UUyxDPXcuQUREX0FEX1VOSVRTLFI9dy5CSURfV09OLF89dy5SRVFVRVNUX0JJRFMsVT13LlNFVF9UQVJHRVRJTkcsQj13LkFEX1JFTkRFUl9GQUlMRUQseD13LkFEX1JFTkRFUl9TVUNDRUVERUQsRD13LlNUQUxFX1JFTkRFUixrPUUuQURfUkVOREVSX0ZBSUxFRF9SRUFTT04sTj1rLlBSRVZFTlRfV1JJVElOR19PTl9NQUlOX0RPQ1VNRU5ULFA9ay5OT19BRCxxPWsuRVhDRVBUSU9OLE09ay5DQU5OT1RfRklORF9BRCxHPWsuTUlTU0lOR19ET0NfT1JfQURJRCxMPXtiaWRXb246ZnVuY3Rpb24oZSl7dmFyIHQ9dS5hLmdldEJpZHNSZXF1ZXN0ZWQoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpfSkpLnJlZHVjZShpLmZsYXR0ZW4pLmZpbHRlcihpLnVuaXF1ZXMpO2lmKCFPYmplY3QoaS5jb250YWlucykodCxlKSlyZXR1cm4gdm9pZCBPYmplY3QoaS5sb2dFcnJvcikoJ1RoZSAiJytlKyciIHBsYWNlbWVudCBpcyBub3QgZGVmaW5lZC4nKTtyZXR1cm4hMH19O2Z1bmN0aW9uIFcoZSx0LG4pe2UuZGVmYXVsdFZpZXcmJmUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50JiYoZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQud2lkdGg9dCxlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudC5oZWlnaHQ9bil9ZnVuY3Rpb24gRihlLHQpe3ZhciBuPVtdO3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlKSYmKHQ/ZS5sZW5ndGg9PT10OmUubGVuZ3RoPjApJiYoZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMil9KSk/bj1lOk9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMikmJm4ucHVzaChlKSksbn1mdW5jdGlvbiB6KGUpe3ZhciB0PU9iamVjdChpLmRlZXBDbG9uZSkoZSksbj10Lm1lZGlhVHlwZXMuYmFubmVyLHI9RihuLnNpemVzKTtyZXR1cm4gci5sZW5ndGg+MD8obi5zaXplcz1yLHQuc2l6ZXM9cik6KE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgYSBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3Qgd2l0aG91dCBhIHByb3BlciBzaXplcyBmaWVsZC4gIFBsZWFzZSBlbnN1cmUgdGhlIHNpemVzIGFyZSBsaXN0ZWQgbGlrZTogW1szMDAsIDI1MF0sIC4uLl0uICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMuYmFubmVyIG9iamVjdCBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5iYW5uZXIpLHR9ZnVuY3Rpb24gVihlKXt2YXIgdD1PYmplY3QoaS5kZWVwQ2xvbmUpKGUpLG49dC5tZWRpYVR5cGVzLnZpZGVvO2lmKG4ucGxheWVyU2l6ZSl7dmFyIHI9Im51bWJlciI9PXR5cGVvZiBuLnBsYXllclNpemVbMF0/MjoxLG89RihuLnBsYXllclNpemUscik7by5sZW5ndGg+MD8oMj09PXImJk9iamVjdChpLmxvZ0luZm8pKCJUcmFuc2Zvcm1pbmcgdmlkZW8ucGxheWVyU2l6ZSBmcm9tIFs2NDAsNDgwXSB0byBbWzY0MCw0ODBdXSBzbyBpdCdzIGluIHRoZSBwcm9wZXIgZm9ybWF0LiIpLG4ucGxheWVyU2l6ZT1vLHQuc2l6ZXM9byk6KE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgaW5jb3JyZWN0IGNvbmZpZ3VyYXRpb24gb2YgbWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLiAgUGxlYXNlIHNwZWNpZnkgb25seSBvbmUgc2V0IG9mIGRpbWVuc2lvbnMgaW4gYSBmb3JtYXQgbGlrZTogW1s2NDAsIDQ4MF1dLiBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKX1yZXR1cm4gdH1mdW5jdGlvbiBIKGUpe3ZhciB0PU9iamVjdChpLmRlZXBDbG9uZSkoZSksbj10Lm1lZGlhVHlwZXMubmF0aXZlO3JldHVybiBuLmltYWdlJiZuLmltYWdlLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmltYWdlLnNpemVzKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMpLG4uaW1hZ2UmJm4uaW1hZ2UuYXNwZWN0X3JhdGlvcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5hc3BlY3RfcmF0aW9zKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MgZmllbGQuICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMubmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MpLG4uaWNvbiYmbi5pY29uLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmljb24uc2l6ZXMpJiYoT2JqZWN0KGkubG9nRXJyb3IpKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaWNvbi5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyksdH1mdW5jdGlvbiBLKGUsdCl7dmFyIG49T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh0LCIucG9zIikpO2lmKCFufHwhT2JqZWN0KGkuaXNOdW1iZXIpKG4pfHwhaXNGaW5pdGUobikpe3ZhciByPSJWYWx1ZSBvZiBwcm9wZXJ0eSAncG9zJyBvbiBhZCB1bml0ICIuY29uY2F0KGUuY29kZSwiIHNob3VsZCBiZSBvZiB0eXBlOiBOdW1iZXIiKTtPYmplY3QoaS5sb2dXYXJuKShyKSxULmVtaXQoRS5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiV0FSTklORyIsYXJndW1lbnRzOnJ9KSxkZWxldGUgZS5tZWRpYVR5cGVzW3RdLnBvc31yZXR1cm4gZX1PYmplY3QoZi5hKSgpLFMuYmlkZGVyU2V0dGluZ3M9Uy5iaWRkZXJTZXR0aW5nc3x8e30sUy5saWJMb2FkZWQ9ITAsUy52ZXJzaW9uPSJ2NS4yMC4yIixPYmplY3QoaS5sb2dJbmZvKSgiUHJlYmlkLmpzIHY1LjIwLjIgbG9hZGVkIiksUy5pbnN0YWxsZWRNb2R1bGVzPVsiY29uc2VudE1hbmFnZW1lbnQiLCJjb25zZW50TWFuYWdlbWVudFVzcCIsIjMzYWNyb3NzQmlkQWRhcHRlciIsImFtYXpvbkJpZEFkYXB0ZXIiLCJhZGZCaWRBZGFwdGVyIiwiYW9sQmlkQWRhcHRlciIsImFkeW91bGlrZUJpZEFkYXB0ZXIiLCJhcHBuZXh1c0JpZEFkYXB0ZXIiLCJjb252ZXJzYW50QmlkQWRhcHRlciIsImNyaXRlb0JpZEFkYXB0ZXIiLCJndW1ndW1CaWRBZGFwdGVyIiwiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiaW1wcm92ZWRpZ2l0YWxCaWRBZGFwdGVyIiwiaXhCaWRBZGFwdGVyIiwic21hcnRhZHNlcnZlckJpZEFkYXB0ZXIiLCJvcGVueEJpZEFkYXB0ZXIiLCJtZWRpYW5ldEJpZEFkYXB0ZXIiLCJjb25zdW1hYmxlQmlkQWRhcHRlciIsInRyaXBsZWxpZnRCaWRBZGFwdGVyIiwidW5kZXJkb2dtZWRpYUJpZEFkYXB0ZXIiLCJwdWJtYXRpY0JpZEFkYXB0ZXIiLCJwdWxzZXBvaW50QmlkQWRhcHRlciIsInJ1Ymljb25CaWRBZGFwdGVyIiwic29ub2JpQmlkQWRhcHRlciIsInNvdnJuQmlkQWRhcHRlciIsInNoYXJldGhyb3VnaEJpZEFkYXB0ZXIiLCJkaXN0cmljdG1ETVhCaWRBZGFwdGVyIiwicmh5dGhtb25lQmlkQWRhcHRlciIsImN1cnJlbmN5Iiwic2NoYWluIiwidXNlcklkIiwicHViUHJvdmlkZWRJZFN5c3RlbSIsInlpZWxkbGFiQmlkQWRhcHRlciIsInB1YnN0YWNrQW5hbHl0aWNzQWRhcHRlciIsIm5vYmlkQmlkQWRhcHRlciIsInNvcnRhYmxlQmlkQWRhcHRlciIsInByZWJpZFNlcnZlckJpZEFkYXB0ZXIiLCJicmlnaHRjb21CaWRBZGFwdGVyIiwidHJ1c3R4QmlkQWRhcHRlciIsImlkNUlkU3lzdGVtIiwib25ldGFnQmlkQWRhcHRlciIsInlhaG9vc3NwQmlkQWRhcHRlciIsInJlbGF5QmlkQWRhcHRlciIsImFkYWdpb0JpZEFkYXB0ZXIiLCJncmlkQmlkQWRhcHRlciIsImthcmdvQmlkQWRhcHRlciIsImVwbGFubmluZ0JpZEFkYXB0ZXIiLCJhbXhCaWRBZGFwdGVyIl0sUy5hZFVuaXRzPVMuYWRVbml0c3x8W10sUy5zZXRDb29raWVGcmFtZT1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuc2V0Q29va2llRnJhbWUiLGFyZ3VtZW50cyksaC5mKGUpfSxTLm9uQmVmb3JlUmVxdWVzdD1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMub25CZWZvcmVSZXF1ZXN0Iixhcmd1bWVudHMpLGguYihlKX0sUy5vblNlbmRMb2c9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLm9uU2VuZExvZyIsYXJndW1lbnRzKSxoLmQoZSl9LFMudHJpZ2dlclVzZXJTeW5jcz1JO3ZhciBKPXt2YWxpZGF0ZUJhbm5lck1lZGlhVHlwZTp6LHZhbGlkYXRlVmlkZW9NZWRpYVR5cGU6Vix2YWxpZGF0ZU5hdGl2ZU1lZGlhVHlwZTpILHZhbGlkYXRlU2l6ZXM6Rn0sWT1PYmplY3QoZC5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuLHIsbyxhPWUubWVkaWFUeXBlcyxjPWUuYmlkcztpZihjJiZPYmplY3QoaS5pc0FycmF5KShjKSlpZihhJiYwIT09T2JqZWN0LmtleXMoYSkubGVuZ3RoKXthLmJhbm5lciYmKG49eihlKSxhLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgicG9zIikmJihuPUsobiwiYmFubmVyIikpKSxhLnZpZGVvJiYocj1WKG58fGUpLGEudmlkZW8uaGFzT3duUHJvcGVydHkoInBvcyIpJiYocj1LKHIsInZpZGVvIikpKSxhLm5hdGl2ZSYmKG89SChyfHwobnx8ZSkpKTt2YXIgdT1qKHt9LG4scixvKTt0LnB1c2godSl9ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGFkVW5pdC5jb2RlICciLmNvbmNhdChlLmNvZGUsIicgZGlkIG5vdCBoYXZlIGEgJ21lZGlhVHlwZXMnIG9iamVjdCBkZWZpbmVkLiAgVGhpcyBpcyBhIHJlcXVpcmVkIGZpZWxkIGZvciB0aGUgYXVjdGlvbiwgc28gdGhpcyBhZFVuaXQgaGFzIGJlZW4gcmVtb3ZlZC4iKSk7ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIkRldGVjdGVkIGFkVW5pdC5jb2RlICciLmNvbmNhdChlLmNvZGUsIicgZGlkIG5vdCBoYXZlICdhZFVuaXQuYmlkcycgZGVmaW5lZCBvciAnYWRVbml0LmJpZHMnIGlzIG5vdCBhbiBhcnJheS4gUmVtb3ZpbmcgYWRVbml0IGZyb20gYXVjdGlvbi4iKSl9KSksdH0pLCJjaGVja0FkVW5pdFNldHVwIik7ZnVuY3Rpb24gUShlKXt2YXIgdD11LmFbZV0oKS5maWx0ZXIoaS5iaW5kLmNhbGwoaS5hZFVuaXRzRmlsdGVyLHRoaXMsdS5hLmdldEFkVW5pdENvZGVzKCkpKSxuPXUuYS5nZXRMYXN0QXVjdGlvbklkKCk7cmV0dXJuIHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpLmZpbHRlcihpLnVuaXF1ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hdWN0aW9uSWQ9PT1uJiZ0LmFkVW5pdENvZGU9PT1lfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbMF0mJmVbMF0uYWRVbml0Q29kZX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0PXt9LG49ZVswXS5hZFVuaXRDb2RlLHI9e2JpZHM6ZX0sbiBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdDt2YXIgdCxuLHJ9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBqKGUsdCl9KSx7fSl9ZnVuY3Rpb24gJChlKXt2YXIgdD1lLnJlYXNvbixuPWUubWVzc2FnZSxyPWUuYmlkLG89ZS5pZCxhPXtyZWFzb246dCxtZXNzYWdlOm59O3ImJihhLmJpZD1yKSxvJiYoYS5hZElkPW8pLE9iamVjdChpLmxvZ0Vycm9yKShuKSxULmVtaXQoQixhKX1mdW5jdGlvbiBYKGUpe3ZhciB0PWUuZG9jLG49ZS5iaWQscj1lLmlkLGk9e2RvYzp0fTtuJiYoaS5iaWQ9biksciYmKGkuYWRJZD1yKSxULmVtaXQoeCxpKX1mdW5jdGlvbiBaKGUsdCl7ZnVuY3Rpb24gbihlKXtmb3IodmFyIHQ7dD1lLnNoaWZ0KCk7KXQoKX1uKHkuYyksbihlZSksZS5jYWxsKHRoaXMsdCl9Uy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHI9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0ciIsYXJndW1lbnRzKSxlKXt2YXIgdD1TLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZShlKTtyZXR1cm4gT2JqZWN0KGkudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmopKHQpfU9iamVjdChpLmxvZ01lc3NhZ2UpKCJOZWVkIHRvIGNhbGwgZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIHdpdGggYWR1bml0Q29kZSIpfSxTLmdldEhpZ2hlc3RVbnVzZWRCaWRSZXNwb25zZUZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHQ9dS5hLmdldEFsbEJpZHNGb3JBZFVuaXRDb2RlKGUpLmZpbHRlcihzLmEuaXNVbnVzZWRCaWQpLmZpbHRlcihzLmEuaXNCaWROb3RFeHBpcmVkKTtyZXR1cm4gdC5sZW5ndGg/dC5yZWR1Y2UoaS5nZXRIaWdoZXN0Q3BtKTp7fX1PYmplY3QoaS5sb2dNZXNzYWdlKSgiTmVlZCB0byBjYWxsIGdldEhpZ2hlc3RVbnVzZWRCaWRSZXNwb25zZUZvckFkVW5pdENvZGUgd2l0aCBhZHVuaXRDb2RlIil9LFMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBTLmdldEFkc2VydmVyVGFyZ2V0aW5nKGUpW2VdfSxTLmdldEFkc2VydmVyVGFyZ2V0aW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZyIsYXJndW1lbnRzKSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKGUsdCl9LFMuZ2V0Tm9CaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXROb0JpZHMiLGFyZ3VtZW50cyksUSgiZ2V0Tm9CaWRzIil9LFMuZ2V0Tm9CaWRzRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm57Ymlkczp1LmEuZ2V0Tm9CaWRzKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pKX19LFMuZ2V0QmlkUmVzcG9uc2VzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXRCaWRSZXNwb25zZXMiLGFyZ3VtZW50cyksUSgiZ2V0Qmlkc1JlY2VpdmVkIil9LFMuZ2V0QmlkUmVzcG9uc2VzRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm57Ymlkczp1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZX0pKX19LFMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM9ZnVuY3Rpb24oZSx0KXtpZihPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMiLGFyZ3VtZW50cyksT2JqZWN0KGkuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgbj1zLmQuZ2V0QWxsVGFyZ2V0aW5nKGUpO3MuZC5yZXNldFByZXNldFRhcmdldGluZyhlLHQpLHMuZC5zZXRUYXJnZXRpbmdGb3JHUFQobix0KSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhuW2VdKS5mb3JFYWNoKChmdW5jdGlvbih0KXsiaGJfYWRpZCI9PT10JiZ1LmEuc2V0U3RhdHVzRm9yQmlkcyhuW2VdW3RdLEUuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl9KSl9KSksVC5lbWl0KFUsbil9ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIndpbmRvdy5nb29nbGV0YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0sUy5zZXRUYXJnZXRpbmdGb3JBc3Q9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnNldFRhcmdldGluZ0ZvckFuIixhcmd1bWVudHMpLHMuZC5pc0FwbnRhZ0RlZmluZWQoKT8ocy5kLnNldFRhcmdldGluZ0ZvckFzdChlKSxULmVtaXQoVSxzLmQuZ2V0QWxsVGFyZ2V0aW5nKCkpKTpPYmplY3QoaS5sb2dFcnJvcikoIndpbmRvdy5hcG50YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0sUy5yZW5kZXJBZD1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbil7aWYoT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlbmRlckFkIixhcmd1bWVudHMpLE9iamVjdChpLmxvZ01lc3NhZ2UpKCJDYWxsaW5nIHJlbmRlckFkIHdpdGggYWRJZCA6Iit0KSxlJiZ0KXRyeXt2YXIgcj11LmEuZmluZEJpZEJ5QWRJZCh0KTtpZihyKXt2YXIgbz0hMDtpZihyJiZyLnN0YXR1cz09PUUuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdChpLmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksVC5lbWl0KEQsciksT2JqZWN0KGkuZGVlcEFjY2VzcykoYy5iLmdldENvbmZpZygiYXVjdGlvbk9wdGlvbnMiKSwic3VwcHJlc3NTdGFsZVJlbmRlciIpJiYobz0hMSkpLG8pe2lmKHIuYWQ9T2JqZWN0KGkucmVwbGFjZUF1Y3Rpb25QcmljZSkoci5hZCxyLmNwbSksci5hZFVybD1PYmplY3QoaS5yZXBsYWNlQXVjdGlvblByaWNlKShyLmFkVXJsLHIuY3BtKSxuJiZuLmNsaWNrVGhyb3VnaCl7dmFyIGE9bi5jbGlja1Rocm91Z2g7ci5hZD1PYmplY3QoaS5yZXBsYWNlQ2xpY2tUaHJvdWdoKShyLmFkLGEpLHIuYWRVcmw9T2JqZWN0KGkucmVwbGFjZUNsaWNrVGhyb3VnaCkoci5hZFVybCxhKX11LmEuYWRkV2lubmluZ0JpZChyKSxULmVtaXQoUixyKTt2YXIgcz1yLmhlaWdodCxkPXIud2lkdGgsZj1yLmFkLGw9ci5tZWRpYVR5cGUscD1yLmFkVXJsLGc9ci5yZW5kZXJlcix2PWRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoIkNyZWF0aXZlICIuY29uY2F0KHIuY3JlYXRpdmVJZCwiIHNlcnZlZCBieSAiKS5jb25jYXQoci5iaWRkZXIsIiBQcmViaWQuanMgSGVhZGVyIEJpZGRpbmciKSk7aWYoT2JqZWN0KGIuYykoZykpT2JqZWN0KGIuYikoZyxyKSxPYmplY3QoaS5pbnNlcnRFbGVtZW50KSh2LGUsImh0bWwiKSxYKHtkb2M6ZSxiaWQ6cixpZDp0fSk7ZWxzZSBpZihlPT09ZG9jdW1lbnQmJiFPYmplY3QoaS5pbklmcmFtZSkoKXx8InZpZGVvIj09PWwpe3ZhciB5PSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIEFkIHJlbmRlciBjYWxsIGFkIGlkICIuY29uY2F0KHQsIiB3YXMgcHJldmVudGVkIGZyb20gd3JpdGluZyB0byB0aGUgbWFpbiBkb2N1bWVudC4iKTskKHtyZWFzb246TixtZXNzYWdlOnksYmlkOnIsaWQ6dH0pfWVsc2UgaWYoZil7aWYobmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImZpcmVmb3gvIik+LTEpe3ZhciBoPS9maXJlZm94XC8oW1xkXC5dKykvLG09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKGgpWzFdO20mJnBhcnNlSW50KG0sMTApPDY3JiZlLm9wZW4oInRleHQvaHRtbCIsInJlcGxhY2UiKX1lLndyaXRlKGYpLGUuY2xvc2UoKSxXKGUsZCxzKSxPYmplY3QoaS5pbnNlcnRFbGVtZW50KSh2LGUsImh0bWwiKSxPYmplY3QoaS5jYWxsQnVybCkociksWCh7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2UgaWYocCl7dmFyIE89T2JqZWN0KGkuY3JlYXRlSW52aXNpYmxlSWZyYW1lKSgpO08uaGVpZ2h0PXMsTy53aWR0aD1kLE8uc3R5bGUuZGlzcGxheT0iaW5saW5lIixPLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLE8uc3JjPXAsT2JqZWN0KGkuaW5zZXJ0RWxlbWVudCkoTyxlLCJib2R5IiksVyhlLGQscyksT2JqZWN0KGkuaW5zZXJ0RWxlbWVudCkodixlLCJodG1sIiksT2JqZWN0KGkuY2FsbEJ1cmwpKHIpLFgoe2RvYzplLGJpZDpyLGlkOnR9KX1lbHNle3ZhciBqPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIE5vIGFkIGZvciBiaWQgcmVzcG9uc2UgaWQ6ICIuY29uY2F0KHQpOyQoe3JlYXNvbjpQLG1lc3NhZ2U6aixiaWQ6cixpZDp0fSl9fX1lbHNle3ZhciBTPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIENhbm5vdCBmaW5kIGFkIGJ5IGdpdmVuIGlkIDogIi5jb25jYXQodCk7JCh7cmVhc29uOk0sbWVzc2FnZTpTLGlkOnR9KX19Y2F0Y2goZSl7dmFyIEE9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZCBJZCA6Ii5jb25jYXQodCwiIHRvIHRoZSBwYWdlOiIpLmNvbmNhdChlLm1lc3NhZ2UpOyQoe3JlYXNvbjpxLG1lc3NhZ2U6QSxpZDp0fSl9ZWxzZXt2YXIgST0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2UuIE1pc3NpbmcgZG9jdW1lbnQgb3IgYWRJZCIpOyQoe3JlYXNvbjpHLG1lc3NhZ2U6SSxpZDp0fSl9fSkpLFMucmVtb3ZlQWRVbml0PWZ1bmN0aW9uKGUpeyhPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVtb3ZlQWRVbml0Iixhcmd1bWVudHMpLGUpPyhPYmplY3QoaS5pc0FycmF5KShlKT9lOltlXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVMuYWRVbml0cy5sZW5ndGgtMTt0Pj0wO3QtLSlTLmFkVW5pdHNbdF0uY29kZT09PWUmJlMuYWRVbml0cy5zcGxpY2UodCwxKX0pKTpTLmFkVW5pdHM9W119LFMucmVxdWVzdEJpZHM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJpZHNCYWNrSGFuZGxlcixuPWUudGltZW91dCxyPWUuYWRVbml0cyxvPWUuYWRVbml0Q29kZXMsYT1lLmxhYmVscyxkPWUuYXVjdGlvbklkO1QuZW1pdChfKTt2YXIgZj1ufHxjLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iik7cj1yJiZjLmIuY29udmVydEFkVW5pdEZwZChPYmplY3QoaS5pc0FycmF5KShyKT9yOltyXSl8fFMuYWRVbml0cyxPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVxdWVzdEJpZHMiLGFyZ3VtZW50cyk7dmFyIGw9ci5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0Iil9KSksYj1bXSx2PWMuYi5nZXRDb25maWcoInMyc0NvbmZpZyIpO3YmJihiPUFycmF5LmlzQXJyYXkodik/djpbdl0pO3ZhciB5PVtdO2lmKGIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bCYmZS5iaWRkZXJzLnB1c2goInMyc0JpZGRlclBsYWNlaG9sZGVyIikseS5wdXNoLmFwcGx5KHksbShlLmJpZGRlcnMpKX0pKSxyPVkociksbyYmby5sZW5ndGg/cj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShvLGUuY29kZSl9KSk6bz1yJiZyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZX0pKSxyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pOyFlLmJpZHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyfSkpJiZ5LmluY2x1ZGVzKCJzMnNCaWRkZXJQbGFjZWhvbGRlciIpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKSYmZS5iaWRzLnB1c2goe2JpZGRlcjoiczJzQmlkZGVyUGxhY2Vob2xkZXIifSk7dmFyIG49ZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLHI9QS5iaWRkZXJSZWdpc3RyeSxvPXk/bi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFwKCkoeSxlKX0pKTpuO2UudHJhbnNhY3Rpb25JZD1PYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCksby5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgbz1yW25dLGE9byYmby5nZXRTcGVjJiZvLmdldFNwZWMoKSxjPWEmJmEuc3VwcG9ydGVkTWVkaWFUeXBlc3x8WyJiYW5uZXIiXTt0LnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoYyxlKX0pKT9nLmEuaW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyKGUuY29kZSxuKTooT2JqZWN0KGkubG9nV2FybikoT2JqZWN0KGkudW5zdXBwb3J0ZWRCaWRkZXJNZXNzYWdlKShlLG4pKSxlLmJpZHM9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyIT09bn0pKSl9KSksZy5hLmluY3JlbWVudFJlcXVlc3RzQ291bnRlcihlLmNvZGUpfSkpLHImJjAhPT1yLmxlbmd0aCl7dmFyIGg9dS5hLmNyZWF0ZUF1Y3Rpb24oe2FkVW5pdHM6cixhZFVuaXRDb2RlczpvLGNhbGxiYWNrOnQsY2JUaW1lb3V0OmYsbGFiZWxzOmEsYXVjdGlvbklkOmR9KSxPPXIubGVuZ3RoO08+MTUmJk9iamVjdChpLmxvZ0luZm8pKCJDdXJyZW50IGF1Y3Rpb24gIi5jb25jYXQoaC5nZXRBdWN0aW9uSWQoKSwiIGNvbnRhaW5zICIpLmNvbmNhdChPLCIgYWRVbml0cy4iKSxyKSxvLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBzLmQuc2V0TGF0ZXN0QXVjdGlvbkZvckFkVW5pdChlLGguZ2V0QXVjdGlvbklkKCkpfSkpLGguY2FsbEJpZHMoKX1lbHNlIGlmKE9iamVjdChpLmxvZ01lc3NhZ2UpKCJObyBhZFVuaXRzIGNvbmZpZ3VyZWQuIE5vIGJpZHMgcmVxdWVzdGVkLiIpLCJmdW5jdGlvbiI9PXR5cGVvZiB0KXRyeXt0KCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfX0pKSxTLnJlcXVlc3RCaWRzLmJlZm9yZShaLDQ5KSxTLmFkZEFkVW5pdHM9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmFkZEFkVW5pdHMiLGFyZ3VtZW50cyksUy5hZFVuaXRzLnB1c2guYXBwbHkoUy5hZFVuaXRzLGMuYi5jb252ZXJ0QWRVbml0RnBkKE9iamVjdChpLmlzQXJyYXkpKGUpP2U6W2VdKSksVC5lbWl0KEMpfSxTLm9uRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5vbkV2ZW50Iixhcmd1bWVudHMpLE9iamVjdChpLmlzRm4pKHQpPyFufHxMW2VdLmNhbGwobnVsbCxuKT9ULm9uKGUsdCxuKTpPYmplY3QoaS5sb2dFcnJvcikoJ1RoZSBpZCBwcm92aWRlZCBpcyBub3QgdmFsaWQgZm9yIGV2ZW50ICInK2UrJyIgYW5kIG5vIGhhbmRsZXIgd2FzIHNldC4nKTpPYmplY3QoaS5sb2dFcnJvcikoJ1RoZSBldmVudCBoYW5kbGVyIHByb3ZpZGVkIGlzIG5vdCBhIGZ1bmN0aW9uIGFuZCB3YXMgbm90IHNldCBvbiBldmVudCAiJytlKyciLicpfSxTLm9mZkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMub2ZmRXZlbnQiLGFyZ3VtZW50cyksbiYmIUxbZV0uY2FsbChudWxsLG4pfHxULm9mZihlLHQsbil9LFMuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5nZXRFdmVudHMiKSxULmdldEV2ZW50cygpfSxTLnJlZ2lzdGVyQmlkQWRhcHRlcj1mdW5jdGlvbihlLHQpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckJpZEFkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e0EucmVnaXN0ZXJCaWRBZGFwdGVyKGUoKSx0KX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHJlZ2lzdGVyaW5nIGJpZGRlciBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sUy5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7QS5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIoZSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciByZWdpc3RlcmluZyBhbmFseXRpY3MgYWRhcHRlciA6ICIrZS5tZXNzYWdlKX19LFMuY3JlYXRlQmlkPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuY3JlYXRlQmlkIixhcmd1bWVudHMpLE9iamVjdCh2LmEpKGUpfTt2YXIgZWU9W10sdGU9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSl7ZSYmIU9iamVjdChpLmlzRW1wdHkpKGUpPyhPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZW5hYmxlQW5hbHl0aWNzIGZvcjogIixlKSxBLmVuYWJsZUFuYWx5dGljcyhlKSk6T2JqZWN0KGkubG9nRXJyb3IpKCJ1cGJqcy5lbmFibGVBbmFseXRpY3Mgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIG9wdGlvbiB7fSIpfSksImVuYWJsZUFuYWx5dGljc0NiIik7ZnVuY3Rpb24gbmUoZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLmNhbGxlZCl0cnl7ZS5jYWxsKCksZS5jYWxsZWQ9ITB9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIGNvbW1hbmQgOiIsInByZWJpZC5qcyIsZSl9fSkpfVMuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe2VlLnB1c2godGUuYmluZCh0aGlzLGUpKX0sUy5hbGlhc0JpZGRlcj1mdW5jdGlvbihlLHQsbil7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmFsaWFzQmlkZGVyIixhcmd1bWVudHMpLGUmJnQ/QS5hbGlhc0JpZEFkYXB0ZXIoZSx0LG4pOk9iamVjdChpLmxvZ0Vycm9yKSgiYmlkZGVyQ29kZSBhbmQgYWxpYXMgbXVzdCBiZSBwYXNzZWQgYXMgYXJndW1lbnRzIiwidXBianMuYWxpYXNCaWRkZXIiKX0sUy5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0QWxsV2lubmluZ0JpZHMoKX0sUy5nZXRBbGxQcmViaWRXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiB1LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGF0dXM9PT1FLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVR9KSl9LFMuZ2V0SGlnaGVzdENwbUJpZHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5nZXRXaW5uaW5nQmlkcyhlKX0sUy5tYXJrV2lubmluZ0JpZEFzVXNlZD1mdW5jdGlvbihlKXt2YXIgdD1bXTtlLmFkVW5pdENvZGUmJmUuYWRJZD90PXUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkSWQ9PT1lLmFkSWQmJnQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTplLmFkVW5pdENvZGU/dD1zLmQuZ2V0V2lubmluZ0JpZHMoZS5hZFVuaXRDb2RlKTplLmFkSWQ/dD11LmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZElkPT09ZS5hZElkfSkpOk9iamVjdChpLmxvZ1dhcm4pKCJJbXByb3BlciB1c2Ugb2YgbWFya1dpbm5pbmdCaWRBc1VzZWQuIEl0IG5lZWRzIGFuIGFkVW5pdENvZGUgb3IgYW4gYWRJZCB0byBmdW5jdGlvbi4iKSx0Lmxlbmd0aD4wJiYodFswXS5zdGF0dXM9RS5CSURfU1RBVFVTLlJFTkRFUkVEKX0sUy5nZXRDb25maWc9Yy5iLmdldENvbmZpZyxTLnJlYWRDb25maWc9Yy5iLnJlYWRDb25maWcsUy5zZXRDb25maWc9Yy5iLnNldENvbmZpZyxTLnNldEJpZGRlckNvbmZpZz1jLmIuc2V0QmlkZGVyQ29uZmlnLFMucXVlLnB1c2goKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChvLmEpKCl9KSksUy5jbWQucHVzaD1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZSl0cnl7ZS5jYWxsKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIGNvbW1hbmQgOiIsZS5tZXNzYWdlLGUuc3RhY2spfWVsc2UgT2JqZWN0KGkubG9nRXJyb3IpKCJDb21tYW5kcyB3cml0dGVuIGludG8gdXBianMuY21kLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0sUy5xdWUucHVzaD1TLmNtZC5wdXNoLFMucHJvY2Vzc1F1ZXVlPWZ1bmN0aW9uKCl7ZC5iLnJlYWR5KCksbmUoUy5xdWUpLG5lKFMuY21kKX0sdC5kZWZhdWx0PVN9LDgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDM3OCk7ZS5leHBvcnRzPXJ9LDgzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2NhbGxCaWRzOmZ1bmN0aW9uKCl7fSxzZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKGUpe3Q9ZX0sZ2V0QmlkZGVyQ29kZTpmdW5jdGlvbigpe3JldHVybiB0fX19fSw4NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT1uKDUxKSxvPSIiLnNwbGl0O2UuZXhwb3J0cz1yKChmdW5jdGlvbigpe3JldHVybiFPYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09aShlKT9vLmNhbGwoZSwiIik6T2JqZWN0KGUpfTpPYmplY3R9LDg1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMzKSxpPW4oMjkpLG89big4Nik7ZS5leHBvcnRzPSFyJiYhaSgoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG8oImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pKX0sODY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigzMCksbz1yLmRvY3VtZW50LGE9aShvKSYmaShvLmNyZWF0ZUVsZW1lbnQpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gYT9vLmNyZWF0ZUVsZW1lbnQoZSk6e319fSw4NzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxOCksaT1uKDY2KTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlbZV18fChpW2VdPXZvaWQgMCE9PXQ/dDp7fSl9KSgidmVyc2lvbnMiLFtdKS5wdXNoKHt2ZXJzaW9uOiIzLjE1LjEiLG1vZGU6cj8icHVyZSI6Imdsb2JhbCIsY29weXJpZ2h0OiLCqSAyMDIxIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpIn0pfSw4ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTQpLGk9bigyOSk7ZS5leHBvcnRzPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIWkoKGZ1bmN0aW9uKCl7dmFyIGU9U3ltYm9sKCk7cmV0dXJuIVN0cmluZyhlKXx8IShPYmplY3QoZSlpbnN0YW5jZW9mIFN5bWJvbCl8fCFTeW1ib2wuc2hhbSYmciYmcjw0MX0pKX0sODk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTApLGk9big1NCksbz1uKDExOSksYT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLGEpe3ZhciBjLHU9cih0KSxzPWkodS5sZW5ndGgpLGQ9byhhLHMpO2lmKGUmJm4hPW4pe2Zvcig7cz5kOylpZigoYz11W2QrK10pIT1jKXJldHVybiEwfWVsc2UgZm9yKDtzPmQ7ZCsrKWlmKChlfHxkIGluIHUpJiZ1W2RdPT09bilyZXR1cm4gZXx8ZHx8MDtyZXR1cm4hZSYmLTF9fTtlLmV4cG9ydHM9e2luY2x1ZGVzOmEoITApLGluZGV4T2Y6YSghMSl9fSw5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBhfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTUscj1lLmdldEhvb2tzKHtob29rOnR9KTswPT09ci5sZW5ndGgmJmUuYmVmb3JlKHQsbil9LHQuYz1mdW5jdGlvbihlLHQpe2EoImFzeW5jIiwoZnVuY3Rpb24oZSl7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbyhlKX0obj1lKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShuKXx8ZnVuY3Rpb24oZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIG8oZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT9vKGUsdCk6dm9pZCAwfX0obil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCkpO3ZhciBufSkpfSksZSkoW10pfSx0LmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodD4xP3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2MoZSkuYmVmb3JlKChmdW5jdGlvbihlLHQpe3QucHVzaChuKSxlKHQpfSkpfTt2YXIgcj1uKDE3MSksaT1uLm4ocik7ZnVuY3Rpb24gbyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBhPWkoKSh7cmVhZHk6aS5hLlNZTkN8aS5hLkFTWU5DfGkuYS5RVUVVRX0pLGM9YS5nZXR9LDkwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEyMCk7bigxNDApLG4oMTQyKSxuKDE0NCksbigxNDYpLG4oMTQ4KSxuKDE0OSksbigxNTApLG4oMTUxKSxuKDE1MiksbigxNTMpLG4oMTU0KSxuKDE1NSksbigxNTYpLG4oMTU3KSxuKDE1OCksbigxNTkpLG4oMTYwKSxuKDE2MSksZS5leHBvcnRzPXJ9LDkxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDU3KSxpPW4oMzApLG89bigzMSksYT1uKDM0KS5mLGM9big2NyksdT1uKDEyMykscz1jKCJtZXRhIiksZD0wLGY9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0sbD1mdW5jdGlvbihlKXthKGUscyx7dmFsdWU6e29iamVjdElEOiJPIisgKytkLHdlYWtEYXRhOnt9fX0pfSxwPWUuZXhwb3J0cz17UkVRVUlSRUQ6ITEsZmFzdEtleTpmdW5jdGlvbihlLHQpe2lmKCFpKGUpKXJldHVybiJzeW1ib2wiPT10eXBlb2YgZT9lOigic3RyaW5nIj09dHlwZW9mIGU/IlMiOiJQIikrZTtpZighbyhlLHMpKXtpZighZihlKSlyZXR1cm4iRiI7aWYoIXQpcmV0dXJuIkUiO2woZSl9cmV0dXJuIGVbc10ub2JqZWN0SUR9LGdldFdlYWtEYXRhOmZ1bmN0aW9uKGUsdCl7aWYoIW8oZSxzKSl7aWYoIWYoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7bChlKX1yZXR1cm4gZVtzXS53ZWFrRGF0YX0sb25GcmVlemU6ZnVuY3Rpb24oZSl7cmV0dXJuIHUmJnAuUkVRVUlSRUQmJmYoZSkmJiFvKGUscykmJmwoZSksZX19O3Jbc109ITB9LDkyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSxpPW4oNDEpLG89cigiaXRlcmF0b3IiKSxhPUFycmF5LnByb3RvdHlwZTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJihpLkFycmF5PT09ZXx8YVtvXT09PWUpfX0sOTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1lLnJldHVybjtpZih2b2lkIDAhPT10KXJldHVybiByKHQuY2FsbChlKSkudmFsdWV9fSw5NDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1bImNvbnN0cnVjdG9yIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJ0b0xvY2FsZVN0cmluZyIsInRvU3RyaW5nIiwidmFsdWVPZiJdfSw5NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big3Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGkgaW4gdCluJiZuLnVuc2FmZSYmZVtpXT9lW2ldPXRbaV06cihlLGksdFtpXSxuKTtyZXR1cm4gZX19LDk1MTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oODEpfSw5NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oOTcpLkl0ZXJhdG9yUHJvdG90eXBlLGk9big3MSksbz1uKDQ0KSxhPW4oNjApLGM9big0MSksdT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBzPXQrIiBJdGVyYXRvciI7cmV0dXJuIGUucHJvdG90eXBlPWkocix7bmV4dDpvKDEsbil9KSxhKGUscywhMSwhMCksY1tzXT11LGV9fSw5NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByLGksbyxhPW4oMjkpLGM9big5OCksdT1uKDMyKSxzPW4oMzEpLGQ9bigyMSksZj1uKDE4KSxsPWQoIml0ZXJhdG9yIikscD0hMTtbXS5rZXlzJiYoIm5leHQiaW4obz1bXS5rZXlzKCkpPyhpPWMoYyhvKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKHI9aSk6cD0hMCk7dmFyIGc9bnVsbD09cnx8YSgoZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gcltsXS5jYWxsKGUpIT09ZX0pKTtnJiYocj17fSksZiYmIWd8fHMocixsKXx8dShyLGwsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSksZS5leHBvcnRzPXtJdGVyYXRvclByb3RvdHlwZTpyLEJVR0dZX1NBRkFSSV9JVEVSQVRPUlM6cH19LDk4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNTMpLG89big3MCksYT1uKDEzMiksYz1vKCJJRV9QUk9UTyIpLHU9T2JqZWN0LnByb3RvdHlwZTtlLmV4cG9ydHM9YT9PYmplY3QuZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oZSl7cmV0dXJuIGU9aShlKSxyKGUsYyk/ZVtjXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD91Om51bGx9fSw5OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTM3KS5jaGFyQXQsaT1uKDQ2KSxvPW4oNzMpLGE9IlN0cmluZyBJdGVyYXRvciIsYz1pLnNldCx1PWkuZ2V0dGVyRm9yKGEpO28oU3RyaW5nLCJTdHJpbmciLChmdW5jdGlvbihlKXtjKHRoaXMse3R5cGU6YSxzdHJpbmc6U3RyaW5nKGUpLGluZGV4OjB9KX0pLChmdW5jdGlvbigpe3ZhciBlLHQ9dSh0aGlzKSxuPXQuc3RyaW5nLGk9dC5pbmRleDtyZXR1cm4gaT49bi5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1yKG4saSksdC5pbmRleCs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSkpfX0pOwp1cGJqc0NodW5rKFszNzldLHsxMDQ6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDEwNSl9LDEwNTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSk7dmFyIG49cigxKSxpPXIoMyksbz1yKDApLGE9cigyKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBkKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2MoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXt1KGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpjKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHUoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBwPSIzM2Fjcm9zcyIsbD0iaHR0cHM6Ly9zc2MuMzNhY3Jvc3MuY29tL2FwaS92MS9oYiIsYj0iaHR0cHM6Ly9zc2MtY21zLjMzYWNyb3NzLmNvbS9wcy8/bT14Y2gmcnQ9aHRtbCZydT1kZWIiLGY9L15bYS16QS1aMC05Xy1dezIyfSQvLG09InNpYWIiLGc9ImludmlldyIsaD0iaW5zdHJlYW0iLHY9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJwbGFjZW1lbnQiLCJwcm90b2NvbHMiLCJzdGFydGRlbGF5Iiwic2tpcCIsInNraXBhZnRlciIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIiwiZGVsaXZlcnkiLCJwbGF5YmFja21ldGhvZCIsImFwaSIsImxpbmVhcml0eSJdLHk9e3VuaXF1ZVNpdGVJZHM6W119LE89Im5tIjtmdW5jdGlvbiBqKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtyZXR1cm4gcyh7fSxlLHtleHQ6cyh7fSxlLmV4dCx1KHt9LHQscikpfSl9ZnVuY3Rpb24gQShlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX1mdW5jdGlvbiB3KGUpe3ZhciB0PWUucGFyYW1zLHI9ZS5tZWRpYVR5cGVzLG49ci5iYW5uZXIsaT1yLnZpZGVvO3JldHVybiBpJiYhbiYmImluc3RyZWFtIj09PWkuY29udGV4dD9oOnQucHJvZHVjdElkPT09Zz90LnByb2R1Y3RJZDptfWZ1bmN0aW9uIHgoZSx0LHIpe3ZhciBuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpyLHNpemU6W3Qudyx0LmhdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiYiVVNEIj09PW4uY3VycmVuY3kpcmV0dXJuIG4uZmxvb3J9ZnVuY3Rpb24gSShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj10Lncsbj10LmgsaT1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89aS53aWR0aCxhPWkuaGVpZ2h0LHM9aS5sZWZ0LGM9aS50b3AsZD1pLnJpZ2h0LHU9aS5ib3R0b207cmV0dXJuKDA9PT1vfHwwPT09YSkmJnImJm4mJihvPXIsYT1uLGQ9cytyLHU9YytuKSx7d2lkdGg6byxoZWlnaHQ6YSxsZWZ0OnMsdG9wOmMscmlnaHQ6ZCxib3R0b206dX19ZnVuY3Rpb24gUyhlKXtmb3IodmFyIHQ9e2xlZnQ6ZVswXS5sZWZ0LHJpZ2h0OmVbMF0ucmlnaHQsdG9wOmVbMF0udG9wLGJvdHRvbTplWzBdLmJvdHRvbX0scj0xO3I8ZS5sZW5ndGg7KytyKXtpZih0LmxlZnQ9TWF0aC5tYXgodC5sZWZ0LGVbcl0ubGVmdCksdC5yaWdodD1NYXRoLm1pbih0LnJpZ2h0LGVbcl0ucmlnaHQpLHQubGVmdD49dC5yaWdodClyZXR1cm4gbnVsbDtpZih0LnRvcD1NYXRoLm1heCh0LnRvcCxlW3JdLnRvcCksdC5ib3R0b209TWF0aC5taW4odC5ib3R0b20sZVtyXS5ib3R0b20pLHQudG9wPj10LmJvdHRvbSlyZXR1cm4gbnVsbH1yZXR1cm4gdC53aWR0aD10LnJpZ2h0LXQubGVmdCx0LmhlaWdodD10LmJvdHRvbS10LnRvcCx0fWZ1bmN0aW9uIEMoZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsaT1yLmgsbz1JKGUse3c6bixoOml9KSxhPVMoW3tsZWZ0OjAsdG9wOjAscmlnaHQ6dC5pbm5lcldpZHRoLGJvdHRvbTp0LmlubmVySGVpZ2h0fSxvXSk7cmV0dXJuIG51bGwhPT1hP2Eud2lkdGgqYS5oZWlnaHQvKG8ud2lkdGgqby5oZWlnaHQpKjEwMDowfXZhciBUPXtOT05fTUVBU1VSQUJMRTpPLGNvZGU6cCxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZS5iaWRkZXIhPT1wfHx2b2lkIDA9PT1lLnBhcmFtcylyZXR1cm4hMTtpZighZnVuY3Rpb24oZSl7aWYobnVsbD09PShPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l0ZUlkIiwiIil8fCIiKS50cmltKCkubWF0Y2goZikpcmV0dXJuITE7cmV0dXJuITB9KGUpKXJldHVybiExO3JldHVybiEwfShlKSYmZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtpZih2b2lkIDA9PT10KXJldHVybiEwO2lmKCFBcnJheS5pc0FycmF5KHQuc2l6ZXMpKXJldHVybiExO3JldHVybiEwfShlKSYmZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLHI9T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIix7fSk7aWYodm9pZCAwPT09dClyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheSh0LnBsYXllclNpemUpKXJldHVybiExO2lmKCF0LmNvbnRleHQpcmV0dXJuITE7dmFyIG49ZChkKHt9LHQpLHIpO2lmKCFBcnJheS5pc0FycmF5KG4ubWltZXMpfHwwPT09bi5taW1lcy5sZW5ndGgpcmV0dXJuITE7aWYoIUFycmF5LmlzQXJyYXkobi5wcm90b2NvbHMpfHwwPT09bi5wcm90b2NvbHMubGVuZ3RoKXJldHVybiExO2lmKHZvaWQgMCE9PW4ucGxhY2VtZW50JiYibnVtYmVyIiE9dHlwZW9mIG4ucGxhY2VtZW50KXJldHVybiExO2lmKCJpbnN0cmVhbSI9PT10LmNvbnRleHQmJnZvaWQgMCE9PW4uc3RhcnRkZWxheSYmIm51bWJlciIhPXR5cGVvZiBuLnN0YXJ0ZGVsYXkpcmV0dXJuITE7cmV0dXJuITB9KGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9cyh7Y29uc2VudFN0cmluZzp2b2lkIDAsZ2RwckFwcGxpZXM6ITF9LHQmJnQuZ2RwckNvbnNlbnQpLG49dCYmdC51c3BDb25zZW50LGM9dCYmdC5yZWZlcmVySW5mbz90LnJlZmVyZXJJbmZvLnJlZmVyZXI6dm9pZCAwO3JldHVybiB5LnVuaXF1ZVNpdGVJZHM9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5zaXRlSWR9KSkuZmlsdGVyKG8udW5pcXVlcyksZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmJpZFJlcXVlc3Qscj1lLmdkcHJDb25zZW50LG49dm9pZCAwPT09cj97fTpyLGM9ZS51c3BDb25zZW50LHU9ZS5wYWdlVXJsLHA9e30sYj10LnBhcmFtcztwLmltcD1be31dLE9iamVjdChvLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuYmFubmVyIikmJihwLmltcFswXS5iYW5uZXI9ZCh7fSxmdW5jdGlvbihlKXt2YXIgdCxyPU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIix7fSksbj0oYz1lLmFkVW5pdENvZGUsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYyl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZ1bmN0aW9uKGUpe2lmKE9iamVjdChvLmlzR3B0UHViYWRzRGVmaW5lZCkoKSlmb3IodmFyIHQ9Z29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkscj1PYmplY3Qoby5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGUpKGUpLG49MDtuPHQubGVuZ3RoO24rKylpZihyKHRbbl0pKXt2YXIgaT10W25dLmdldFNsb3RFbGVtZW50SWQoKTtyZXR1cm4gT2JqZWN0KG8ubG9nSW5mbykoIlszM0Fjcm9zcyBBZGFwdGVyXSBNYXAgYWQgdW5pdCBwYXRoIHRvIEhUTUwgZWxlbWVudCBpZDogJyIuY29uY2F0KGUsIicgLT4gIikuY29uY2F0KGkpKSxpfXJldHVybiBPYmplY3Qoby5sb2dXYXJuKSgiWzMzQWNyb3NzIEFkYXB0ZXJdIFVuYWJsZSB0byBsb2NhdGUgZWxlbWVudCBmb3IgYWQgdW5pdCBjb2RlOiAnIi5jb25jYXQoZSwiJyIpKSxudWxsfShjKSkpLGk9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KG8uaXNBcnJheSkoZSkmJjI9PT1lLmxlbmd0aCYmIU9iamVjdChvLmlzQXJyYXkpKGVbMF0pKXJldHVybltBKGUpXTtyZXR1cm4gZS5tYXAoQSl9KHIuc2l6ZXMpO3ZhciBjO3Q9ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3I/aS5tYXAoKGZ1bmN0aW9uKHQpe3ZhciByLG49eChlLHQsYS5iKTtyZXR1cm4gbiYmKHI9e2V4dDp7dHR4OntiaWRmbG9vcnM6W25dfX19KSxzKHt9LHQscil9KSk6aTt2YXIgZD1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KSl9KGkpLHU9ZnVuY3Rpb24oZSl7cmV0dXJue3R0eDp7dmlld2FiaWxpdHk6e2Ftb3VudDppc05hTihlKT9lOk1hdGgucm91bmQoZSl9fX19KGZ1bmN0aW9uKGUpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gT2JqZWN0KG8uZ2V0V2luZG93U2VsZikoKSE9PU9iamVjdChvLmdldFdpbmRvd1RvcCkoKX1jYXRjaChlKXtyZXR1cm4hMH19KCkmJm51bGwhPT1lfShuKT9mdW5jdGlvbihlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxpPXIuaDtyZXR1cm4idmlzaWJsZSI9PT10LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT9DKGUsdCx7dzpuLGg6aX0pOjB9KG4sT2JqZWN0KG8uZ2V0V2luZG93VG9wKSgpLGQpOk8pO3JldHVybntmb3JtYXQ6dCxleHQ6dX19KHQpKSk7T2JqZWN0KG8uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy52aWRlbyIpJiYocC5pbXBbMF0udmlkZW89ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIse30pLHI9T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIix7fSksbj1kKGQoe30sdCksciksaT17fSxjPUEobi5wbGF5ZXJTaXplWzBdKSx1PWMudyxwPWMuaDtpLnc9dSxpLmg9cCx2LmZvckVhY2goKGZ1bmN0aW9uKGUpe24uaGFzT3duUHJvcGVydHkoZSkmJihpW2VdPW5bZV0pfSkpO3ZhciBsPXcoZSk7aS5wbGFjZW1lbnQ9aS5wbGFjZW1lbnR8fDIsbD09PWgmJihpLnN0YXJ0ZGVsYXk9aS5zdGFydGRlbGF5fHwwLGkucGxhY2VtZW50PTEpO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgYj14KGUse3c6aS53LGg6aS5ofSxhLmQpO2ImJnMoaSx7ZXh0Ont0dHg6e2JpZGZsb29yczpbYl19fX0pfXJldHVybiBpfSh0KSk7cC5pbXBbMF0uZXh0PXt0dHg6e3Byb2Q6dyh0KX19LHAuc2l0ZT17aWQ6Yi5zaXRlSWR9LHUmJihwLnNpdGUucGFnZT11KTtwLmlkPXQuYmlkSWQsbi5jb25zZW50U3RyaW5nJiYocC51c2VyPWoocC51c2VyLCJjb25zZW50IixuLmNvbnNlbnRTdHJpbmcpKTtBcnJheS5pc0FycmF5KHQudXNlcklkQXNFaWRzKSYmdC51c2VySWRBc0VpZHMubGVuZ3RoPjAmJihwLnVzZXI9aihwLnVzZXIsImVpZHMiLHQudXNlcklkQXNFaWRzKSk7cC5yZWdzPWoocC5yZWdzLCJnZHByIixOdW1iZXIobi5nZHByQXBwbGllcykpLGMmJihwLnJlZ3M9aihwLnJlZ3MsInVzX3ByaXZhY3kiLGMpKTtwLmV4dD17dHR4OntwcmViaWRTdGFydGVkQXQ6RGF0ZS5ub3coKSxjYWxsZXI6W3tuYW1lOiJwcmViaWRqcyIsdmVyc2lvbjoiNS4yMC4yIn1dfX0sdC5zY2hhaW4mJihwLnNvdXJjZT1qKHAuc291cmNlLCJzY2hhaW4iLHQuc2NoYWluKSk7MT09PWIudGVzdCYmKHAudGVzdD0xKTt2YXIgZj17Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0sbT1pLmIuZ2V0Q29uZmlnKCJ0dHhTZXR0aW5ncyIpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDptJiZtLnVybHx8IiIuY29uY2F0KGwsIj9ndWlkPSIpLmNvbmNhdChiLnNpdGVJZCksZGF0YTpKU09OLnN0cmluZ2lmeShwKSxvcHRpb25zOmZ9fSh7YmlkUmVxdWVzdDplLGdkcHJDb25zZW50OnIsdXNwQ29uc2VudDpuLHBhZ2VVcmw6Y30pfSkpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiBlLmJvZHkuc2VhdGJpZC5sZW5ndGg+MCYmZS5ib2R5LnNlYXRiaWRbMF0uYmlkLmxlbmd0aD4wJiZyLnB1c2goZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zZWF0YmlkWzBdLmJpZFswXS5hZG9tYWluJiZlLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW4ubGVuZ3RoLHI9e3JlcXVlc3RJZDplLmlkLGJpZGRlckNvZGU6cCxjcG06ZS5zZWF0YmlkWzBdLmJpZFswXS5wcmljZSx3aWR0aDplLnNlYXRiaWRbMF0uYmlkWzBdLncsaGVpZ2h0OmUuc2VhdGJpZFswXS5iaWRbMF0uaCxhZDplLnNlYXRiaWRbMF0uYmlkWzBdLmFkbSx0dGw6ZS5zZWF0YmlkWzBdLmJpZFswXS50dGx8fDYwLGNyZWF0aXZlSWQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5jcmlkLG1lZGlhVHlwZTpPYmplY3Qoby5kZWVwQWNjZXNzKShlLnNlYXRiaWRbMF0uYmlkWzBdLCJleHQudHR4Lm1lZGlhVHlwZSIsYS5iKSxjdXJyZW5jeTplLmN1cixuZXRSZXZlbnVlOiEwfTt0JiYoci5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW59KTtpZihyLm1lZGlhVHlwZT09PWEuZCl7InhtbCI9PT1PYmplY3Qoby5kZWVwQWNjZXNzKShlLnNlYXRiaWRbMF0uYmlkWzBdLCJleHQudHR4LnZhc3RUeXBlIiwieG1sIik/ci52YXN0WG1sPXIuYWQ6ci52YXN0VXJsPXIuYWR9cmV0dXJuIHJ9KGUuYm9keSkpLHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1lLmlmcmFtZUVuYWJsZWQ/eS51bmlxdWVTaXRlSWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuc2l0ZUlkLHI9dm9pZCAwPT09dD8ienp6MDAwMDAwMDAwMDAzenp6Ijp0LG49ZS5nZHByQ29uc2VudCxvPXZvaWQgMD09PW4/e306bixhPWUudXNwQ29uc2VudCxzPWkuYi5nZXRDb25maWcoInR0eFNldHRpbmdzIiksYz1zJiZzLnN5bmNVcmx8fGIsZD1vLmNvbnNlbnRTdHJpbmcsdT1vLmdkcHJBcHBsaWVzLHA9e3R5cGU6ImlmcmFtZSIsdXJsOiIiLmNvbmNhdChjLCImaWQ9IikuY29uY2F0KHIsIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChkKSwiJnVzX3ByaXZhY3k9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChhKSl9OyJib29sZWFuIj09dHlwZW9mIHUmJihwLnVybCs9IiZnZHByPSIuY29uY2F0KE51bWJlcih1KSkpO3JldHVybiBwfSh7Z2RwckNvbnNlbnQ6cix1c3BDb25zZW50Om4sc2l0ZUlkOmV9KX0pKTpbXTtyZXR1cm4geS51bmlxdWVTaXRlSWRzPVtdLG99fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoVCl9fSxbMTA0XSk7CnVwYmpzQ2h1bmsoWzFdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIG49YShlW3JdLHIpO24mJnQucHVzaChuKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KG4uZGVlcEFjY2VzcykoaSxyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOmlbcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBuPXIoMCksaT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChuLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYShlLHQpe3ZhciByPWlbdF07aWYociYmZSl7dmFyIGE9e307YS5zb3VyY2U9ci5zb3VyY2U7dmFyIG89T2JqZWN0KG4uaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChuLmlzU3RyKShvKSl7dmFyIHM9e2lkOm8sYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KG4uaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgYz1yLmdldFVpZEV4dChlKTtjJiYocy5leHQ9Yyl9aWYoYS51aWRzPVtzXSxPYmplY3Qobi5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciB1PXIuZ2V0RWlkRXh0KGUpO3UmJihhLmV4dD11KX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSwxODI6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDE4Myl9LDE4MzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwiRU5EUE9JTlQiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHIuZCh0LCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxyLmQodCwiUkVOREVSRVJfVVJMIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSxyLmQodCwiT1JUQl9WSURFT19QQVJBTVMiLChmdW5jdGlvbigpe3JldHVybiBFfSkpLHIuZCh0LCJHbG9iYWxFeGNoYW5nZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSksdC5hZGFnaW9TY3JpcHRGcm9tTG9jYWxTdG9yYWdlQ2I9VSx0LmdldEFkYWdpb1NjcmlwdD1DLHIuZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIE59KSksdC5zZXRFeHRyYVBhcmFtPUcsci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBKfSkpO3ZhciBuPXIoMTEpLGk9ci5uKG4pLGE9cigwKSxvPXIoMykscz1yKDEpLGM9cigzNSksdT1yKDc3KSxkPShyLm4odSkscig3KSkscD1yKDE5KSxmPXIoMTcpLG09cigyKSxsPXIoMTMpLGg9cigyMik7ZnVuY3Rpb24gZyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24geShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9nKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7YihlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6ZyhPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBiKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgdixPLEEsST0iYWRhZ2lvIixqPSJBZGFnaW86IixUPSJodHRwczovL21wLjRkZXguaW8vcHJlYmlkIixEPVttLmIsbS5jLG0uZF0sdz0iYWRhZ2lvU2NyaXB0Iix4PU9iamVjdChkLmIpKDYxNywiYWRhZ2lvIiksUz0iaHR0cHM6Ly9zY3JpcHQuNGRleC5pby9vdXRzdHJlYW0tcGxheWVyLmpzIixFPXttaW1lczpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfSkpfSxtaW5kdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sbWF4ZHVyYXRpb246ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LHByb3RvY29sczpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyLDMsNCw1LDYsNyw4LDksMTBdLmluZGV4T2YoZSl9KSl9LHc6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LGg6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LHN0YXJ0ZGVsYXk6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LHBsYWNlbWVudDpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyLDMsNCw1XS5pbmRleE9mKGUpfSkpfSxsaW5lYXJpdHk6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyXS5pbmRleE9mKGUpfSxza2lwOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzAsMV0uaW5kZXhPZihlKX0sc2tpcG1pbjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sc2tpcGFmdGVyOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxzZXF1ZW5jZTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sYmF0dHI6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09QXJyYXkuZnJvbSh7bGVuZ3RoOjE3fSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCsxfSkpLmluZGV4T2YoZSl9KSl9LG1heGV4dGVuZGVkOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxtaW5iaXRyYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxtYXhiaXRyYXRlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxib3hpbmdhbGxvd2VkOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzAsMV0uaW5kZXhPZihlKX0scGxheWJhY2ttZXRob2Q6ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMiwzLDQsNSw2XS5pbmRleE9mKGUpfSkpfSxwbGF5YmFja2VuZDpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsM10uaW5kZXhPZihlKX0sZGVsaXZlcnk6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyLDNdLmluZGV4T2YoZSl9LHBvczpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVswLDEsMiwzLDQsNSw2LDddLmluZGV4T2YoZSl9LGFwaTpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyLDMsNCw1LDZdLmluZGV4T2YoZSl9KSl9fSxrPShBPXt9LHtjbGVhckZlYXR1cmVzOmZ1bmN0aW9uKCl7Tz12b2lkIDB9LGNsZWFyRXhjaGFuZ2VEYXRhOmZ1bmN0aW9uKCl7QT17fX0sZ2V0T3JTZXRHbG9iYWxGZWF0dXJlczpmdW5jdGlvbigpe3JldHVybiBPfHwoTz17cGFnZV9kaW1lbnNpb25zOlYoKS50b1N0cmluZygpLHZpZXdwb3J0X2RpbWVuc2lvbnM6eigpLnRvU3RyaW5nKCksdXNlcl90aW1lc3RhbXA6KE1hdGguZmxvb3IoKG5ldyBEYXRlKS5nZXRUaW1lKCkvMWUzKS02MCoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCkpLnRvU3RyaW5nKCksZG9tX2xvYWRpbmc6TCgpLnRvU3RyaW5nKCl9KSxPfSxwcmVwYXJlRXhjaGFuZ2VEYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PUpTT04ucGFyc2UoZSwoZnVuY3Rpb24oZSx0KXtpZigiXyIhPT1lLmNoYXJBdCgwKXx8IiI9PT1lKXJldHVybiB0fSkpLHI9T2JqZWN0KGEuZGVlcEFjY2VzcykodCwic2Vzc2lvbi5ybmQiKSxuPSExO04uaXNOZXdTZXNzaW9uKHQpJiYobj0hMCxyPU1hdGgucmFuZG9tKCkpO3ZhciBpPXtzZXNzaW9uOntuZXc6bixybmQ6cn19O09iamVjdChhLm1lcmdlRGVlcCkoQSx0LGkpLE4uZW5xdWV1ZSh7YWN0aW9uOiJzZXNzaW9uIix0czpEYXRlLm5vdygpLGRhdGE6QX0pfSxnZXRFeGNoYW5nZURhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gQX19KTtmdW5jdGlvbiBVKGUpe3RyeXtpZighZSlyZXR1cm4gdm9pZCBPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIHNjcmlwdCBub3QgZm91bmQuIikpO3ZhciB0PS9eKFwvXC8gaGFzaDogKC4rKVxuKSguK1xuKSQvO2lmKHQudGVzdChlKSl7dmFyIHI9ZS5tYXRjaCh0KSxuPXJbMl0saT1yWzNdO09iamVjdCh1LnZlcmlmeSkoaSxuLCJBTDE2WFQ0NFNmcCs4U0hWRjFVZEM3aHlkUFNNVkxNaHNZa25LRGR3cXErMFRvRFNKclAwK1FoMGtpOUpKSTJ1WW0vNlZFWW84VEpFRDlXZk1raUo0dmYwMkNXM1J2U1d3YzM1YmlmMlNLMUw4Tm4vR2ZGWXIvMi9HRy9SbTB2VXN2K3ZCSGt5Nm51dVlsczIwT2cwSERoTWdhT2xYb1EvY3hNdWl5NVFTa3RwIiw2NTUzNyk/KE9iamVjdChhLmxvZ0luZm8pKCIiLmNvbmNhdChqLCIgc3RhcnQgc2NyaXB0LiIpKSxGdW5jdGlvbihlKSgpKTooT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGosIiBpbnZhbGlkIHNjcmlwdCBmb3VuZC4iKSkseC5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZSh3KSl9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIG5vIGhhc2ggZm91bmQuIikpLHgucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2Uodyl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKGosZSl9fWZ1bmN0aW9uIEMoKXt4LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHcsKGZ1bmN0aW9uKGUpe04uYWRhZ2lvU2NyaXB0RnJvbUxvY2FsU3RvcmFnZUNiKGUpfSkpLHgubG9jYWxTdG9yYWdlSXNFbmFibGVkKChmdW5jdGlvbihlKXtpZihlKU9iamVjdChjLmEpKCJodHRwczovL3NjcmlwdC40ZGV4LmlvL2xvY2Fsc3RvcmUuanMiLEkpO2Vsc2UgdHJ5e3dpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh3KSx3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImFkYWdpbyIpfWNhdGNoKGUpe09iamVjdChhLmxvZ0luZm8pKCIiLmNvbmNhdChqLCIgdW5hYmxlIHRvIGNsZWFyIEFkYWdpbyBzY3JpcHRzIGZyb20gbG9jYWxzdG9yYWdlLiIpKX19KSl9ZnVuY3Rpb24gUigpe3RyeXtpZihPYmplY3QoYS5nZXRXaW5kb3dUb3ApKCkubG9jYXRpb24uaHJlZilyZXR1cm4hMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gUCgpe3JldHVybiB2fHxPYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpfWZ1bmN0aW9uIFcoKXt2YXIgZT1PYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpO3JldHVybiEoIWUuJHNmfHwhZS4kc2YuZXh0KX1mdW5jdGlvbiBNKGUpe3ZhciB0PU4uaXNSZW5kZXJlclByZWZlcnJlZEZyb21QdWJsaXNoZXIoZSk/Im90aGVyIjoiYWRhZ2lvIjtyZXR1cm4ib3RoZXIiPT09dCYmT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGosIiByZW5kZXJlci5iYWNrdXBPbmx5IGhhcyBub3QgYmVlbiBzZXQuIEFkYWdpbyByZWNvbW1lbmRzIHRvIHVzZSBpdHMgb3duIHBsYXllciB0byBnZXQgZXhwZWN0ZWQgYmVoYXZpb3IuIikpLHR9dmFyIE49e2VucXVldWU6ZnVuY3Rpb24oZSl7dmFyIHQ9Ti5nZXRDdXJyZW50V2luZG93KCk7dC5BREFHSU89dC5BREFHSU98fHt9LHQuQURBR0lPLnF1ZXVlPXQuQURBR0lPLnF1ZXVlfHxbXSx0LkFEQUdJTy5xdWV1ZS5wdXNoKGUpfSxnZXRQYWdldmlld0lkOmZ1bmN0aW9uKCl7dmFyIGU9Ti5nZXRDdXJyZW50V2luZG93KCk7cmV0dXJuIGUuQURBR0lPPWUuQURBR0lPfHx7fSxlLkFEQUdJTy5wYWdldmlld0lkPWUuQURBR0lPLnBhZ2V2aWV3SWR8fE9iamVjdChhLmdlbmVyYXRlVVVJRCkoKSxlLkFEQUdJTy5wYWdldmlld0lkfSxnZXREZXZpY2U6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IubGFuZ3VhZ2U/Imxhbmd1YWdlIjoidXNlckxhbmd1YWdlIjtyZXR1cm57dXNlckFnZW50Om5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yW2VdLGRudDpPYmplY3QoYS5nZXRETlQpKCk/MTowLGdlbzp7fSxqczoxfX0sZ2V0U2l0ZTpmdW5jdGlvbihlKXt2YXIgdD0iIixyPSIiLG49IiIsaT1lLnJlZmVyZXJJbmZvO2lmKFIoKSl7dmFyIG89T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpO3Q9by5sb2NhdGlvbi5ob3N0bmFtZSxyPW8ubG9jYXRpb24uaHJlZixuPW8uZG9jdW1lbnQucmVmZXJyZXJ8fCIifWVsc2UgaWYoaS5yZWFjaGVkVG9wKXt0PU9iamVjdChhLnBhcnNlVXJsKShpLnJlZmVyZXIpLmhvc3RuYW1lLHI9aS5yZWZlcmVyfWVsc2UgaWYoaS5zdGFjayYmaS5zdGFjay5sZW5ndGgmJmkuc3RhY2tbMF0pe3Q9T2JqZWN0KGEucGFyc2VVcmwpKGkuc3RhY2tbMF0pLmhvc3RuYW1lfXJldHVybntkb21haW46dCxwYWdlOnIscmVmZXJyZXI6bn19LGdldEVsZW1lbnRGcm9tVG9wV2luZG93OmZ1bmN0aW9uIGUodCxyKXt0cnl7aWYoT2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpPT09cilyZXR1cm4gdC5nZXRBdHRyaWJ1dGUoImlkIil8fHQuc2V0QXR0cmlidXRlKCJpZCIsImFkZy0iLmNvbmNhdChPYmplY3QoYS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpKSksdDt2YXIgbj1yLmZyYW1lRWxlbWVudCxpPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiBpLndpZHRoPT09by53aWR0aCYmaS5oZWlnaHQ9PT1vLmhlaWdodCYmZShuLHIucGFyZW50KX1jYXRjaChlKXtyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGopLGUpLCExfX0sZ2V0UmVmZXJlckluZm86cC5hLGFkYWdpb1NjcmlwdEZyb21Mb2NhbFN0b3JhZ2VDYjpVLGdldEN1cnJlbnRXaW5kb3c6UCxjYW5BY2Nlc3NUb3BXaW5kb3c6Uixpc1JlbmRlcmVyUHJlZmVycmVkRnJvbVB1Ymxpc2hlcjpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJyZW5kZXJlciIpLHI9ISEodCYmdC51cmwmJnQucmVuZGVyKSxuPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSxpPSEhKG4mJm4udXJsJiZuLnJlbmRlcik7cmV0dXJuISEociYmITAhPT10LmJhY2t1cE9ubHl8fGkmJiEwIT09bi5iYWNrdXBPbmx5KX0saXNOZXdTZXNzaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PURhdGUubm93KCkscj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJzZXNzaW9uIix7fSksbj1yLmxhc3RBY3Rpdml0eVRpbWUsaT1yLnZ3U21wbGc7cmV0dXJuIU9iamVjdChhLmlzTnVtYmVyKShuKXx8IU9iamVjdChhLmlzTnVtYmVyKShpKXx8dC1uPjE4ZTV9fTtmdW5jdGlvbiBxKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXsiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LkFEQUdJTy5vdXRzdHJlYW1QbGF5ZXI/d2luZG93LkFEQUdJTy5vdXRzdHJlYW1QbGF5ZXIoZSk6T2JqZWN0KGEubG9nRXJyb3IpKCIiLmNvbmNhdChqLCIgQWRhZ2lvIG91dHN0cmVhbSBwbGF5ZXIgaXMgbm90IGRlZmluZWQiKSl9KSl9ZnVuY3Rpb24gQihlKXtpZihlLmFkbU5hdGl2ZSYmQXJyYXkuaXNBcnJheShlLmFkbU5hdGl2ZS5hc3NldHMpKXt2YXIgdD17fTtlLmFkbU5hdGl2ZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZS50aXRsZSl0LnRpdGxlPWUudGl0bGUudGV4dDtlbHNlIGlmKGUuZGF0YSlyPWUuZGF0YSwobj17MToic3BvbnNvcmVkQnkiLDI6ImJvZHkiLDM6InJhdGluZyIsNDoibGlrZXMiLDU6ImRvd25sb2FkcyIsNjoicHJpY2UiLDc6InNhbGVQcmljZSIsODoicGhvbmUiLDk6ImFkZHJlc3MiLDEwOiJib2R5MiIsMTE6ImRpc3BsYXlVcmwiLDEyOiJjdGEifSkuaGFzT3duUHJvcGVydHkoci50eXBlKSYmInN0cmluZyI9PXR5cGVvZiByLnZhbHVlJiYodFtuW3IudHlwZV1dPXIudmFsdWUpO2Vsc2UgaWYoZS5pbWcpc3dpdGNoKGUuaW1nLnR5cGUpe2Nhc2UgMTp0Lmljb249e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7ZGVmYXVsdDp0LmltYWdlPXt1cmw6ZS5pbWcudXJsLHdpZHRoOmUuaW1nLncsaGVpZ2h0OmUuaW1nLmh9fXZhciByLG59KSksZS5hZG1OYXRpdmUubGluayYmKGUuYWRtTmF0aXZlLmxpbmsudXJsJiYodC5jbGlja1VybD1lLmFkbU5hdGl2ZS5saW5rLnVybCksQXJyYXkuaXNBcnJheShlLmFkbU5hdGl2ZS5saW5rLmNsaWNrdHJhY2tlcnMpJiYodC5jbGlja1RyYWNrZXJzPWUuYWRtTmF0aXZlLmxpbmsuY2xpY2t0cmFja2VycykpLEFycmF5LmlzQXJyYXkoZS5hZG1OYXRpdmUuZXZlbnR0cmFja2Vycyk/KHQuaW1wcmVzc2lvblRyYWNrZXJzPVtdLGUuYWRtTmF0aXZlLmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoMT09PWUuZXZlbnQpc3dpdGNoKGUubWV0aG9kKXtjYXNlIDE6dC5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChlLnVybCk7YnJlYWs7Y2FzZSAyOnQuamF2YXNjcmlwdFRyYWNrZXJzPSc8c2NyaXB0IHNyYz0iJy5jb25jYXQoZS51cmwsJyI+PFwvc2NyaXB0PicpfX0pKSk6KHQuaW1wcmVzc2lvblRyYWNrZXJzPUFycmF5LmlzQXJyYXkoZS5hZG1OYXRpdmUuaW1wdHJhY2tlcnMpP2UuYWRtTmF0aXZlLmltcHRyYWNrZXJzOltdLGUuYWRtTmF0aXZlLmpzdHJhY2tlciYmKHQuamF2YXNjcmlwdFRyYWNrZXJzPWUuYWRtTmF0aXZlLmpzdHJhY2tlcikpLGUuYWRtTmF0aXZlLnByaXZhY3kmJih0LnByaXZhY3lMaW5rPWUuYWRtTmF0aXZlLnByaXZhY3kpLGUuYWRtTmF0aXZlLmV4dCYmKHQuZXh0PXt9LGUuYWRtTmF0aXZlLmV4dC5idncmJih0LmV4dC5hZGFnaW9fYnZ3PWUuYWRtTmF0aXZlLmV4dC5idncpKSxlLm5hdGl2ZT10fWVsc2UgT2JqZWN0KGEubG9nRXJyb3IpKCIiLmNvbmNhdChqLCIgSW52YWxpZCBuYXRpdmUgcmVzcG9uc2UiKSl9ZnVuY3Rpb24gRyhlLHQpe2lmKGUucGFyYW1zPWUucGFyYW1zfHx7fSwhZS5wYXJhbXNbdF0pe3ZhciByPW8uYi5nZXRDb25maWcoImFkYWdpbyIpfHx7fSxuPW8uYi5nZXRDb25maWcoIm9ydGIyIiksaT1yW3RdfHxPYmplY3QoYS5kZWVwQWNjZXNzKShuLCJzaXRlLmV4dC5kYXRhLiIuY29uY2F0KHQpLG51bGwpO2kmJihlLnBhcmFtc1t0XT1pKX19ZnVuY3Rpb24gRihlKXt2YXIgdD1vLmIuZ2V0Q29uZmlnKCJhZGFnaW8iKXx8e307ZS5wYXJhbXM9ZS5wYXJhbXN8fHt9LHQuc2l0ZUlkJiYoZS5wYXJhbXMub3JnYW5pemF0aW9uSWQ9dC5zaXRlSWQuc3BsaXQoIjoiKVswXSxlLnBhcmFtcy5zaXRlPXQuc2l0ZUlkLnNwbGl0KCI6IilbMV0pLCEwIT09dC51c2VBZFVuaXRDb2RlQXNQbGFjZW1lbnQmJiEwIT09ZS5wYXJhbXMudXNlQWRVbml0Q29kZUFzUGxhY2VtZW50fHwoZS5wYXJhbXMucGxhY2VtZW50PWUuYWRVbml0Q29kZSksZS5wYXJhbXMuYWRVbml0RWxlbWVudElkPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLmVsZW1lbnRJZCIsbnVsbCl8fGUucGFyYW1zLmFkVW5pdEVsZW1lbnRJZCxlLnBhcmFtcy5hZFVuaXRFbGVtZW50SWR8fCghMD09PXQudXNlQWRVbml0Q29kZUFzQWRVbml0RWxlbWVudElkfHwhMD09PWUucGFyYW1zLnVzZUFkVW5pdENvZGVBc0FkVW5pdEVsZW1lbnRJZD9lLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQ9ZS5hZFVuaXRDb2RlOmUucGFyYW1zLmFkVW5pdEVsZW1lbnRJZD1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGUpKGUpO2lmKHQmJnQuZGl2SWQpcmV0dXJuIHQuZGl2SWR9KGUuYWRVbml0Q29kZSkpLEcoZSwiZW52aXJvbm1lbnQiKSxHKGUsInBhZ2V0eXBlIiksRyhlLCJjYXRlZ29yeSIpLEcoZSwic3ViY2F0ZWdvcnkiKX1mdW5jdGlvbiBWKCl7aWYoVygpfHwhUigpKXJldHVybiIiO3ZhciBlPU9iamVjdChhLmdldFdpbmRvd1RvcCkoKSx0PWUuZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiYm9keSIpO2lmKCF0KXJldHVybiIiO3ZhciByPWUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG49TWF0aC5tYXgodC5zY3JvbGxXaWR0aCx0Lm9mZnNldFdpZHRoLHIuY2xpZW50V2lkdGgsci5zY3JvbGxXaWR0aCxyLm9mZnNldFdpZHRoKSxpPU1hdGgubWF4KHQuc2Nyb2xsSGVpZ2h0LHQub2Zmc2V0SGVpZ2h0LHIuY2xpZW50SGVpZ2h0LHIuc2Nyb2xsSGVpZ2h0LHIub2Zmc2V0SGVpZ2h0KTtyZXR1cm4iIi5jb25jYXQobiwieCIpLmNvbmNhdChpKX1mdW5jdGlvbiB6KCl7aWYoIVcoKSYmIVIoKSlyZXR1cm4iIjt2YXIgZT17dzowLGg6MH07aWYoVygpKXt2YXIgdD1PYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0LiRzZi5leHQuZ2VvbSlyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoaiwiVW5hYmxlIHRvIGNvbXB1dGUgZnJvbSBzYWZlZnJhbWUgYXBpLiIpLCIiO3ZhciByPXQuJHNmLmV4dC5nZW9tKCk7aWYoIXJ8fCFyLndpbilyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoaiwiVW5hYmxlIHRvIGNvbXB1dGUgZnJvbSBzYWZlZnJhbWUgYXBpLiBNaXNzaW5nIGBnZW9tKCkud2luYCBwcm9wZXJ0eSIpLCIiO2Uudz1NYXRoLnJvdW5kKHIudyksZS5oPU1hdGgucm91bmQoci5oKX1lbHNle3ZhciBuPU9iamVjdChhLmdldFdpbmRvd1RvcCkoKTtlLnc9bi5pbm5lcldpZHRoLGUuaD1uLmlubmVySGVpZ2h0fXJldHVybiIiLmNvbmNhdChlLncsIngiKS5jb25jYXQoZS5oKX1mdW5jdGlvbiBfKGUpe2lmKCFlKXJldHVybiIiO2lmKCFXKCkmJiFSKCkpcmV0dXJuIiI7dmFyIHQ9e3g6MCx5OjB9O2lmKFcoKSl7dmFyIHI9T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKTtpZigiZnVuY3Rpb24iIT10eXBlb2Ygci4kc2YuZXh0Lmdlb20pcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKGosIlVuYWJsZSB0byBjb21wdXRlIGZyb20gc2FmZWZyYW1lIGFwaS4iKSwiIjt2YXIgbj1yLiRzZi5leHQuZ2VvbSgpO2lmKCFufHwhbi5zZWxmKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKShqLCJVbmFibGUgdG8gY29tcHV0ZSBmcm9tIHNhZmVmcmFtZSBhcGkuIE1pc3NpbmcgYGdlb20oKS5zZWxmYCBwcm9wZXJ0eSIpLCIiO3QueD1NYXRoLnJvdW5kKG4udCksdC55PU1hdGgucm91bmQobi5sKX1lbHNle2lmKCFSKCkpcmV0dXJuIiI7dmFyIGksbz1PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCkscz1vLmRvY3VtZW50O2lmKCEwPT09T2JqZWN0KGEuaW5JZnJhbWUpKCkpe3ZhciBjPU9iamVjdChhLmdldFdpbmRvd1NlbGYpKCksdT1jLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2k9Ti5nZXRFbGVtZW50RnJvbVRvcFdpbmRvdyh1LGMpfWVsc2UgaT1vLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKCFpKXJldHVybiIiO3ZhciBkPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscD1zLmRvY3VtZW50RWxlbWVudCxmPXMuYm9keSxtPXMuY2xpZW50VG9wfHxmLmNsaWVudFRvcHx8MCxsPXMuY2xpZW50TGVmdHx8Zi5jbGllbnRMZWZ0fHwwLGg9by5wYWdlWU9mZnNldHx8cC5zY3JvbGxUb3B8fGYuc2Nyb2xsVG9wLGc9by5wYWdlWE9mZnNldHx8cC5zY3JvbGxMZWZ0fHxmLnNjcm9sbExlZnQseT1vLmdldENvbXB1dGVkU3R5bGUoaSxudWxsKS5kaXNwbGF5fHwiYmxvY2siOyJub25lIj09PXkmJihpLnN0eWxlPWkuc3R5bGV8fHt9LGkuc3R5bGUuZGlzcGxheT0iYmxvY2siLGQ9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpLnN0eWxlLmRpc3BsYXk9eSksdC54PU1hdGgucm91bmQoZC5sZWZ0K2ctbCksdC55PU1hdGgucm91bmQoZC50b3AraC1tKX1yZXR1cm4iIi5jb25jYXQodC54LCJ4IikuY29uY2F0KHQueSl9ZnVuY3Rpb24gSChlLHQpe3JldHVybiB0LmJpZHMmJnQuYmlkcy5sZW5ndGgmJmkoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpLmJpZFJlcXVlc3RzQ291bnR8fDF9ZnVuY3Rpb24gTCgpe3ZhciBlLHQ9LTE7aWYoKGU9UigpP09iamVjdChhLmdldFdpbmRvd1RvcCkoKS5wZXJmb3JtYW5jZTpPYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpLnBlcmZvcm1hbmNlKSYmZS50aW1pbmcmJmUudGltaW5nLm5hdmlnYXRpb25TdGFydD4wKXt2YXIgcj1lLnRpbWluZy5kb21Mb2FkaW5nLWUudGltaW5nLm5hdmlnYXRpb25TdGFydDtyPjAmJih0PXIpfXJldHVybiB0fWZ1bmN0aW9uIFooZSl7dmFyIHQscj1QKCk7ci5BREFHSU89ci5BREFHSU98fHt9LHIuQURBR0lPLnBianNBZFVuaXRzPXIuQURBR0lPLnBianNBZFVuaXRzLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuY29kZSE9PWUuYWRVbml0Q29kZX0pKSxlLmZlYXR1cmVzJiZlLmZlYXR1cmVzLnByaW50X251bWJlcj90PWUuZmVhdHVyZXMucHJpbnRfbnVtYmVyOmUucGFyYW1zLmZlYXR1cmVzJiZlLnBhcmFtcy5mZWF0dXJlcy5wcmludF9udW1iZXImJih0PWUucGFyYW1zLmZlYXR1cmVzLnByaW50X251bWJlciksci5BREFHSU8ucGJqc0FkVW5pdHMucHVzaCh7Y29kZTplLmFkVW5pdENvZGUsbWVkaWFUeXBlczplLm1lZGlhVHlwZXN8fHt9LHNpemVzOmUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKT9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsYmlkczpbe2JpZGRlcjplLmJpZGRlcixwYXJhbXM6ZS5wYXJhbXN9XSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWQscGFnZXZpZXdJZDpOLmdldFBhZ2V2aWV3SWQoKSxwcmludE51bWJlcjp0fSksci5BREFHSU8uYWRVbml0c1tlLmFkVW5pdENvZGVdPXthdWN0aW9uSWQ6ZS5hdWN0aW9uSWQscGFnZXZpZXdJZDpOLmdldFBhZ2V2aWV3SWQoKSxwcmludE51bWJlcjp0fX12YXIgSj17Y29kZTpJLGd2bGlkOjYxNyxzdXBwb3J0ZWRNZWRpYVR5cGVzOkQsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zPWUucGFyYW1zfHx7fSxGKGUpLE4uZ2V0UmVmZXJlckluZm8oKS5yZWFjaGVkVG9wPyEhKGUucGFyYW1zLm9yZ2FuaXphdGlvbklkJiZlLnBhcmFtcy5zaXRlJiZlLnBhcmFtcy5wbGFjZW1lbnQpfHwoT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KGosIiBhdCBsZWFzdCBvbmUgcmVxdWlyZWQgcGFyYW0gaXMgbWlzc2luZy4iKSksITEpOihPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIHRoZSBtYWluIHBhZ2UgdXJsIGlzIHVucmVhY2hhYmxlZC4iKSksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbj0iaHR0cHM6Ij09PWxvY2F0aW9uLnByb3RvY29sPzE6MCxpPU4uZ2V0RGV2aWNlKCkscz1OLmdldFNpdGUodCksYz1OLmdldFBhZ2V2aWV3SWQoKSx1PWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJnZHByQ29uc2VudCIpKXJldHVybiExO3ZhciB0PWUuZ2RwckNvbnNlbnQscj10LmFwaVZlcnNpb24sbj10LmdkcHJBcHBsaWVzLGk9dC5jb25zZW50U3RyaW5nLG89dC5hbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudDtyZXR1cm4gT2JqZWN0KGEuY2xlYW5PYmopKHthcGlWZXJzaW9uOnIsY29uc2VudFN0cmluZzppLGNvbnNlbnRSZXF1aXJlZDpuPzE6MCxhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudDpvPzE6MH0pfSh0KXx8e30sZD1mdW5jdGlvbihlKXtyZXR1cm4hIU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInVzcENvbnNlbnQiKSYme3VzcENvbnNlbnQ6ZS51c3BDb25zZW50fX0odCl8fHt9LHA9e3JlcXVpcmVkOiEwPT09by5iLmdldENvbmZpZygiY29wcGEiKT8xOjB9LGw9KHI9ZVswXSxPYmplY3QoYS5kZWVwQWNjZXNzKShyLCJzY2hhaW4iKSksZz1mdW5jdGlvbihlKXtpZihPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJ1c2VySWQiKSlyZXR1cm4gT2JqZWN0KGYuYikoZS51c2VySWQpfShlWzBdKXx8W10sYj1PYmplY3QoYS5fbWFwKShlLChmdW5jdGlvbihlKXt2YXIgcj15KHkoe30say5nZXRPclNldEdsb2JhbEZlYXR1cmVzKCkpLHt9LHtwcmludF9udW1iZXI6SChlLmFkVW5pdENvZGUsdCkudG9TdHJpbmcoKSxhZHVuaXRfcG9zaXRpb246XyhlLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQpfSk7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyIiPT09cltlXSYmZGVsZXRlIHJbZV19KSksZS5mZWF0dXJlcz1yLE4uZW5xdWV1ZSh7YWN0aW9uOiJmZWF0dXJlcyIsdHM6RGF0ZS5ub3coKSxkYXRhOntmZWF0dXJlczplLmZlYXR1cmVzLHBhcmFtczplLnBhcmFtcyxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX19KSxlLmZsb29ycz1mdW5jdGlvbihlKXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuITE7dmFyIHQ9W10scj1mdW5jdGlvbihyLG4pe3ZhciBpPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpyLHNpemU6W119KTt0LnB1c2goT2JqZWN0KGEuY2xlYW5PYmopKHttdDpyLHM6T2JqZWN0KGEuaXNBcnJheSkobik/IiIuY29uY2F0KG5bMF0sIngiKS5jb25jYXQoblsxXSk6dm9pZCAwLGY6aXNOYU4oaS5mbG9vcil8fCJVU0QiIT09aS5jdXJyZW5jeT8uMTppLmZsb29yfSkpfTtyZXR1cm4gT2JqZWN0LmtleXMoZS5tZWRpYVR5cGVzKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZigtMSE9PUQuaW5kZXhPZih0KSl7dmFyIG49dD09PW0uZD8icGxheWVyU2l6ZSI6InNpemVzIjtlLm1lZGlhVHlwZXNbdF1bbl0mJmUubWVkaWFUeXBlc1t0XVtuXS5sZW5ndGg/T2JqZWN0KGEuaXNBcnJheSkoZS5tZWRpYVR5cGVzW3RdW25dWzBdKT9lLm1lZGlhVHlwZXNbdF1bbl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cih0LFtlWzBdLGVbMV1dKX0pKTpyKHQsW2UubWVkaWFUeXBlc1t0XVtuXVswXSxlLm1lZGlhVHlwZXNbdF1bbl1bMV1dKTpyKHQsIioiKX19KSksdH0oZSksT2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpJiZmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIix7fSkscj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iLHt9KSxuPXt9O2lmKEFycmF5LmlzQXJyYXkodC5wbGF5ZXJTaXplKSl7dmFyIGk9QXJyYXkuaXNBcnJheSh0LnBsYXllclNpemVbMF0pP3QucGxheWVyU2l6ZVswXTp0LnBsYXllclNpemU7bi53PWlbMF0sbi5oPWlbMV19dmFyIG89eSh5KHkoe30sbiksdCkscik7by5jb250ZXh0JiZvLmNvbnRleHQ9PT1oLmImJihlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyTmFtZT1NKGUpKSxPYmplY3Qua2V5cyhFKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvLmhhc093blByb3BlcnR5KHQpJiYoRVt0XShvW3RdKT9lLm1lZGlhVHlwZXMudmlkZW9bdF09b1t0XTooZGVsZXRlIGUubWVkaWFUeXBlcy52aWRlb1t0XSxPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIFRoZSBPcGVuUlRCIHZpZGVvIHBhcmFtICIpLmNvbmNhdCh0LCIgaGFzIGJlZW4gc2tpcHBlZCBkdWUgdG8gbWlzZm9ybWF0aW5nLiBQbGVhc2UgcmVmZXIgdG8gT3BlblJUQiAyLjUgc3BlYy4iKSkpKX0pKX0oZSksWihlKSxlfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj1PYmplY3QoYS5kZWVwQ2xvbmUpKHQpO3JldHVybiByLnBhcmFtcy5vcmdhbml6YXRpb25JZD1yLnBhcmFtcy5vcmdhbml6YXRpb25JZC50b1N0cmluZygpLGRlbGV0ZSByLmZsb29yRGF0YSxkZWxldGUgci5wYXJhbXMuc2l0ZUlkLGVbci5wYXJhbXMub3JnYW5pemF0aW9uSWRdPWVbci5wYXJhbXMub3JnYW5pemF0aW9uSWRdfHxbXSxlW3IucGFyYW1zLm9yZ2FuaXphdGlvbklkXS5wdXNoKHIpLGV9KSx7fSk7cmV0dXJuIE9iamVjdChhLl9tYXApKE9iamVjdC5rZXlzKGIpLChmdW5jdGlvbihlKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6VCxkYXRhOntpZDpPYmplY3QoYS5nZW5lcmF0ZVVVSUQpKCksb3JnYW5pemF0aW9uSWQ6ZSxzZWN1cmU6bixkZXZpY2U6aSxzaXRlOnMscGFnZXZpZXdJZDpjLGFkVW5pdHM6YltlXSxkYXRhOmsuZ2V0RXhjaGFuZ2VEYXRhKCkscmVnczp7Z2Rwcjp1LGNvcHBhOnAsY2NwYTpkfSxzY2hhaW46bCx1c2VyOntlaWRzOmd9LHByZWJpZFZlcnNpb246IjUuMjAuMiIsZmVhdHVyZXNWZXJzaW9uOiIxIn0sb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4ifX19KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107dHJ5e3ZhciBuPWUuYm9keTtuJiYobi5kYXRhJiZOLmVucXVldWUoe2FjdGlvbjoic3NwLWRhdGEiLHRzOkRhdGUubm93KCksZGF0YTpuLmRhdGF9KSxuLmJpZHMmJm4uYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1pKCkodC5kYXRhLmFkVW5pdHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZElkPT09ZS5yZXF1ZXN0SWR9KSk7aWYobil7aWYoZS5tZXRhPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1ldGEiLHt9KSxlLm1ldGEubWVkaWFUeXBlPWUubWVkaWFUeXBlLGUubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1BcnJheS5pc0FycmF5KGUuYURvbWFpbikmJmUuYURvbWFpbi5sZW5ndGg/ZS5hRG9tYWluOltdLGUubWVkaWFUeXBlPT09bS5kKXt2YXIgbz1PYmplY3QoYS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTshZS52YXN0VXJsJiZlLnZhc3RYbWwmJihlLnZhc3RVcmw9ImRhdGE6dGV4dC94bWw7Y2hhcnNldD11dGYtODtiYXNlNjQsIitidG9hKGUudmFzdFhtbC5yZXBsYWNlKC9cXCIvZywnIicpKSksbz09PWguYiYmKGUucmVuZGVyZXI9bC5hLmluc3RhbGwoe2lkOmUucmVxdWVzdElkLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLHVybDplLnVybFJlbmRlcmVyfHxTLGNvbmZpZzp5KHkoe30sT2JqZWN0KGEuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpKSxPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJvdXRzdHJlYW0iLHt9KSl9KSxlLnJlbmRlcmVyLnNldFJlbmRlcihxKSl9ZS5tZWRpYVR5cGU9PT1tLmMmJkIoZSksZS5zaXRlPW4ucGFyYW1zLnNpdGUsZS5wbGFjZW1lbnQ9bi5wYXJhbXMucGxhY2VtZW50LGUucGFnZXR5cGU9bi5wYXJhbXMucGFnZXR5cGUsZS5jYXRlZ29yeT1uLnBhcmFtcy5jYXRlZ29yeSxlLnN1YmNhdGVnb3J5PW4ucGFyYW1zLnN1YmNhdGVnb3J5LGUuZW52aXJvbm1lbnQ9bi5wYXJhbXMuZW52aXJvbm1lbnR9ci5wdXNoKGUpfSkpKX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoZSl9cmV0dXJuIHJ9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3JldHVybiEoIXQubGVuZ3RofHwiIj09PXRbMF0uYm9keXx8IXRbMF0uYm9keS51c2VyU3luY3MpJiZ0WzBdLmJvZHkudXNlclN5bmNzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6InAiPT09ZS50PyJpbWFnZSI6ImlmcmFtZSIsdXJsOmUudX19KSl9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHQscixuKXt2YXIgbz1pKCkobiwoZnVuY3Rpb24oZSl7cmV0dXJuImFkYWdpbyI9PT1lLmJpZGRlckNvZGV9KSkscz1pKCkoby5iaWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09ci5jb2RlfSkpO2lmKHQpe0Yocykscy5wYXJhbXMuYXVjdGlvbklkPU9iamVjdChhLmRlZXBBY2Nlc3MpKG8sImF1Y3Rpb25JZCIpO3ZhciBjPWsuZ2V0T3JTZXRHbG9iYWxGZWF0dXJlcygpO3MucGFyYW1zLmZlYXR1cmVzPXkoeSh7fSxjKSx7fSx7cHJpbnRfbnVtYmVyOkgocy5hZFVuaXRDb2RlLG8pLnRvU3RyaW5nKCksYWR1bml0X3Bvc2l0aW9uOl8ocy5wYXJhbXMuYWRVbml0RWxlbWVudElkKX0pLHMucGFyYW1zLnBhZ2V2aWV3SWQ9Ti5nZXRQYWdldmlld0lkKCkscy5wYXJhbXMucHJlYmlkVmVyc2lvbj0iNS4yMC4yIixzLnBhcmFtcy5kYXRhPWsuZ2V0RXhjaGFuZ2VEYXRhKCksT2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1oLmImJihzLnBhcmFtcy5wbGF5ZXJOYW1lPU0ocykpLFoocyl9cmV0dXJuIHMucGFyYW1zfX07IWZ1bmN0aW9uKCl7UigpJiYodj1SKCk/T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpOk9iamVjdChhLmdldFdpbmRvd1NlbGYpKCkpO3ZhciBlPU4uZ2V0Q3VycmVudFdpbmRvdygpO2UuQURBR0lPPWUuQURBR0lPfHx7fSxlLkFEQUdJTy5hZFVuaXRzPWUuQURBR0lPLmFkVW5pdHN8fHt9LGUuQURBR0lPLnBianNBZFVuaXRzPWUuQURBR0lPLnBianNBZFVuaXRzfHxbXSxlLkFEQUdJTy5xdWV1ZT1lLkFEQUdJTy5xdWV1ZXx8W10sZS5BREFHSU8udmVyc2lvbnM9ZS5BREFHSU8udmVyc2lvbnN8fHt9LGUuQURBR0lPLnZlcnNpb25zLnBianM9IjUuMjAuMiIsZS5BREFHSU8uaXNTYWZlRnJhbWVXaW5kb3c9VygpLHguZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoImFkYWdpbyIsKGZ1bmN0aW9uKGUpe3RyeXtrLnByZXBhcmVFeGNoYW5nZURhdGEoZSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKGosZSl9fSkpLEMoKX0oKSxPYmplY3Qocy5yZWdpc3RlckJpZGRlcikoSil9LDc3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPXIoNzgpLGk9cig3OSk7dC52ZXJpZnk9ZnVuY3Rpb24oZSx0LHIsYSl7dmFyIG89bmV3IG4uQmlnSW50ZWdlcihuLmI2NHRvSGV4KHQpKSxzPW5ldyBuLkJpZ0ludGVnZXIobi5iNjR0b0hleChyKSksYz1vLm1vZFBvd0ludChhLHMpO3JldHVybiBuLnJlbW92ZUV4dHJhU3ltYm9scyhjLnRvSGV4U3RyaW5nKCkpPT09aS5TaGEyNTYuaGFzaChlKX19LDc4OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG47T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXtudWxsIT09ZSYmdGhpcy5mcm9tSGV4U3RyaW5nKGUpfXJldHVybiBlLnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvSGV4U3RyaW5nKCk7dmFyIGUsdD0hMSxyPSIiLG49dGhpcy50LGk9dGhpcy5EQi1uKnRoaXMuREIlNDtpZihuLS0gPjApZm9yKGk8dGhpcy5EQiYmKGU9dGhpc1tuXT4+aSk+MCYmKHQ9ITAscj1wKGUpKTtuPj0wOylpPDQ/KGU9KHRoaXNbbl0mKDE8PGkpLTEpPDw0LWksZXw9dGhpc1stLW5dPj4oaSs9dGhpcy5EQi00KSk6KGU9dGhpc1tuXT4+KGktPTQpJjE1LGk8PTAmJihpKz10aGlzLkRCLC0tbikpLGU+MCYmKHQ9ITApLHQmJihyKz1wKGUpKTtyZXR1cm4gdD9yOiIwIn0sZS5wcm90b3R5cGUuZnJvbUhleFN0cmluZz1mdW5jdGlvbih0KXtpZihudWxsIT09dCl7dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciByPXQubGVuZ3RoLG49ITEsaT0wOy0tcj49MDspe3ZhciBhPWQodCxyKTthPDA/Ii0iPT10LmNoYXJBdChyKSYmKG49ITApOihuPSExLDA9PWk/dGhpc1t0aGlzLnQrK109YTppKzQ+dGhpcy5EQj8odGhpc1t0aGlzLnQtMV18PShhJigxPDx0aGlzLkRCLWkpLTEpPDxpLHRoaXNbdGhpcy50KytdPWE+PnRoaXMuREItaSk6dGhpc1t0aGlzLnQtMV18PWE8PGksKGkrPTQpPj10aGlzLkRCJiYoaS09dGhpcy5EQikpfTAsdGhpcy5jbGFtcCgpLG4mJmUuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfX0sZS5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9YSgpO3JldHVybiBlLlpFUk8uc3ViVG8odGhpcyx0KSx0fSxlLnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSxlLnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24odCl7dmFyIHI9YSgpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKHQsbnVsbCxyKSx0aGlzLnM8MCYmci5jb21wYXJlVG8oZS5aRVJPKT4wJiZ0LnN1YlRvKHIscikscn0sZS5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnQtMTt0Pj0wOy0tdCllW3RdPXRoaXNbdF07ZS50PXRoaXMudCxlLnM9dGhpcy5zfSxlLnByb3RvdHlwZS5sU2hpZnRUbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lJXRoaXMuREIsbj10aGlzLkRCLXIsaT0oMTw8biktMSxhPU1hdGguZmxvb3IoZS90aGlzLkRCKSxvPXRoaXMuczw8ciZ0aGlzLkRNLHM9dGhpcy50LTE7cz49MDstLXMpdFtzK2ErMV09dGhpc1tzXT4+bnxvLG89KHRoaXNbc10maSk8PHI7Zm9yKHM9YS0xO3M+PTA7LS1zKXRbc109MDt0W2FdPW8sdC50PXRoaXMudCthKzEsdC5zPXRoaXMucyx0LmNsYW1wKCl9LGUucHJvdG90eXBlLmludkRpZ2l0PWZ1bmN0aW9uKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIGU9dGhpc1swXTtpZigwPT0oMSZlKSlyZXR1cm4gMDt2YXIgdD0zJmU7cmV0dXJuKHQ9KHQ9KHQ9KHQ9dCooMi0oMTUmZSkqdCkmMTUpKigyLSgyNTUmZSkqdCkmMjU1KSooMi0oKDY1NTM1JmUpKnQmNjU1MzUpKSY2NTUzNSkqKDItZSp0JXRoaXMuRFYpJXRoaXMuRFYpPjA/dGhpcy5EVi10Oi10fSxlLnByb3RvdHlwZS5kbFNoaWZ0VG89ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3Iocj10aGlzLnQtMTtyPj0wOy0tcil0W3IrZV09dGhpc1tyXTtmb3Iocj1lLTE7cj49MDstLXIpdFtyXT0wO3QudD10aGlzLnQrZSx0LnM9dGhpcy5zfSxlLnByb3RvdHlwZS5zcXVhcmVUbz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5hYnMoKSxyPWUudD0yKnQudDstLXI+PTA7KWVbcl09MDtmb3Iocj0wO3I8dC50LTE7KytyKXt2YXIgbj10LmFtKHIsdFtyXSxlLDIqciwwLDEpOyhlW3IrdC50XSs9dC5hbShyKzEsMip0W3JdLGUsMipyKzEsbix0LnQtci0xKSk+PXQuRFYmJihlW3IrdC50XS09dC5EVixlW3IrdC50KzFdPTEpfWUudD4wJiYoZVtlLnQtMV0rPXQuYW0ocix0W3JdLGUsMipyLDAsMSkpLGUucz0wLGUuY2xhbXAoKX0sZS5wcm90b3R5cGUubXVsdGlwbHlUbz1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuYWJzKCksaT10LmFicygpLGE9bi50O2ZvcihyLnQ9YStpLnQ7LS1hPj0wOylyW2FdPTA7Zm9yKGE9MDthPGkudDsrK2EpclthK24udF09bi5hbSgwLGlbYV0scixhLDAsbi50KTtyLnM9MCxyLmNsYW1wKCksdGhpcy5zIT10LnMmJmUuWkVSTy5zdWJUbyhyLHIpfSxlLnByb3RvdHlwZS5kaXZSZW1Ubz1mdW5jdGlvbih0LHIsbil7dmFyIGk9dC5hYnMoKTtpZighKGkudDw9MCkpe3ZhciBzPXRoaXMuYWJzKCk7aWYocy50PGkudClyZXR1cm4gbnVsbCE9ciYmci5mcm9tSGV4U3RyaW5nKCIwIiksdm9pZChudWxsIT1uJiZ0aGlzLmNvcHlUbyhuKSk7bnVsbD09biYmKG49YSgpKTt2YXIgYz1hKCksdT10aGlzLnMsZD10LnMscD10aGlzLkRCLW8oaVtpLnQtMV0pO3A+MD8oaS5sU2hpZnRUbyhwLGMpLHMubFNoaWZ0VG8ocCxuKSk6KGkuY29weVRvKGMpLHMuY29weVRvKG4pKTt2YXIgZj1jLnQsbT1jW2YtMV07aWYoMCE9bSl7dmFyIGw9bSooMTw8dGhpcy5GMSkrKGY+MT9jW2YtMl0+PnRoaXMuRjI6MCksaD10aGlzLkZWL2wsZz0oMTw8dGhpcy5GMSkvbCx5PTE8PHRoaXMuRjIsYj1uLnQsdj1iLWYsTz1udWxsPT1yP2EoKTpyO2ZvcihjLmRsU2hpZnRUbyh2LE8pLG4uY29tcGFyZVRvKE8pPj0wJiYobltuLnQrK109MSxuLnN1YlRvKE8sbikpLGUuT05FLmRsU2hpZnRUbyhmLE8pLE8uc3ViVG8oYyxjKTtjLnQ8ZjspY1tjLnQrK109MDtmb3IoOy0tdj49MDspe3ZhciBBPW5bLS1iXT09bT90aGlzLkRNOk1hdGguZmxvb3IobltiXSpoKyhuW2ItMV0reSkqZyk7aWYoKG5bYl0rPWMuYW0oMCxBLG4sdiwwLGYpKTxBKWZvcihjLmRsU2hpZnRUbyh2LE8pLG4uc3ViVG8oTyxuKTtuW2JdPC0tQTspbi5zdWJUbyhPLG4pfW51bGwhPXImJihuLmRyU2hpZnRUbyhmLHIpLHUhPWQmJmUuWkVSTy5zdWJUbyhyLHIpKSxuLnQ9ZixuLmNsYW1wKCkscD4wJiZuLnJTaGlmdFRvKHAsbiksdTwwJiZlLlpFUk8uc3ViVG8obixuKX19fSxlLnByb3RvdHlwZS5yU2hpZnRUbz1mdW5jdGlvbihlLHQpe3Qucz10aGlzLnM7dmFyIHI9TWF0aC5mbG9vcihlL3RoaXMuREIpO2lmKHI+PXRoaXMudCl0LnQ9MDtlbHNle3ZhciBuPWUldGhpcy5EQixpPXRoaXMuREItbixhPSgxPDxuKS0xO3RbMF09dGhpc1tyXT4+bjtmb3IodmFyIG89cisxO288dGhpcy50Oysrbyl0W28tci0xXXw9KHRoaXNbb10mYSk8PGksdFtvLXJdPXRoaXNbb10+Pm47bj4wJiYodFt0aGlzLnQtci0xXXw9KHRoaXMucyZhKTw8aSksdC50PXRoaXMudC1yLHQuY2xhbXAoKX19LGUucHJvdG90eXBlLmRyU2hpZnRUbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lO3I8dGhpcy50Oysrcil0W3ItZV09dGhpc1tyXTt0LnQ9TWF0aC5tYXgodGhpcy50LWUsMCksdC5zPXRoaXMuc30sZS5wcm90b3R5cGUuc3ViVG89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPTAsaT1NYXRoLm1pbihlLnQsdGhpcy50KTtyPGk7KW4rPXRoaXNbcl0tZVtyXSx0W3IrK109biZ0aGlzLkRNLG4+Pj10aGlzLkRCO2lmKGUudDx0aGlzLnQpe2ZvcihuLT1lLnM7cjx0aGlzLnQ7KW4rPXRoaXNbcl0sdFtyKytdPW4mdGhpcy5ETSxuPj49dGhpcy5EQjtuKz10aGlzLnN9ZWxzZXtmb3Iobis9dGhpcy5zO3I8ZS50OyluLT1lW3JdLHRbcisrXT1uJnRoaXMuRE0sbj4+PXRoaXMuREI7bi09ZS5zfXQucz1uPDA/LTE6MCxuPC0xP3RbcisrXT10aGlzLkRWK246bj4wJiYodFtyKytdPW4pLHQudD1yLHQuY2xhbXAoKX0sZS5wcm90b3R5cGUuY2xhbXA9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5zJnRoaXMuRE07dGhpcy50PjAmJnRoaXNbdGhpcy50LTFdPT1lOyktLXRoaXMudH0sZS5wcm90b3R5cGUubW9kUG93SW50PWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIHI9ZTwyNTZ8fHQuaXNFdmVuKCk/bmV3IGYodCk6bmV3IG0odCksdGhpcy5leHAoZSxyKX0sZS5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKHQscil7aWYodD40Mjk0OTY3Mjk1fHx0PDEpcmV0dXJuIGUuT05FO3ZhciBuPWEoKSxpPWEoKSxzPXIuY29udmVydCh0aGlzKSxjPW8odCktMTtmb3Iocy5jb3B5VG8obik7LS1jPj0wOylpZihyLnNxclRvKG4saSksKHQmMTw8Yyk+MClyLm11bFRvKGkscyxuKTtlbHNle3ZhciB1PW47bj1pLGk9dX1yZXR1cm4gci5yZXZlcnQobil9LGUucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMucyl9LGUucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnMtZS5zO2lmKDAhPXQpcmV0dXJuIHQ7dmFyIHI9dGhpcy50O2lmKDAhPSh0PXItZS50KSlyZXR1cm4gdGhpcy5zPDA/LXQ6dDtmb3IoOy0tcj49MDspaWYoMCE9KHQ9dGhpc1tyXS1lW3JdKSlyZXR1cm4gdDtyZXR1cm4gMH0sZS5wcm90b3R5cGUuYW0xPWZ1bmN0aW9uKGUsdCxyLG4saSxhKXtmb3IoOy0tYT49MDspe3ZhciBvPXQqdGhpc1tlKytdK3Jbbl0raTtpPU1hdGguZmxvb3Ioby82NzEwODg2NCkscltuKytdPTY3MTA4ODYzJm99cmV0dXJuIGl9LGUucHJvdG90eXBlLmFtMj1mdW5jdGlvbihlLHQscixuLGksYSl7Zm9yKHZhciBvPTMyNzY3JnQscz10Pj4xNTstLWE+PTA7KXt2YXIgYz0zMjc2NyZ0aGlzW2VdLHU9dGhpc1tlKytdPj4xNSxkPXMqYyt1Km87aT0oKGM9bypjKygoMzI3NjcmZCk8PDE1KStyW25dKygxMDczNzQxODIzJmkpKT4+PjMwKSsoZD4+PjE1KStzKnUrKGk+Pj4zMCkscltuKytdPTEwNzM3NDE4MjMmY31yZXR1cm4gaX0sZS5wcm90b3R5cGUuYW0zPWZ1bmN0aW9uKGUsdCxyLG4saSxhKXtmb3IodmFyIG89MTYzODMmdCxzPXQ+PjE0Oy0tYT49MDspe3ZhciBjPTE2MzgzJnRoaXNbZV0sdT10aGlzW2UrK10+PjE0LGQ9cypjK3UqbztpPSgoYz1vKmMrKCgxNjM4MyZkKTw8MTQpK3Jbbl0raSk+PjI4KSsoZD4+MTQpK3MqdSxyW24rK109MjY4NDM1NDU1JmN9cmV0dXJuIGl9LGV9KCk7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgaShudWxsKX1mdW5jdGlvbiBvKGUpe3ZhciB0LHI9MTtyZXR1cm4gMCE9KHQ9ZT4+PjE2KSYmKGU9dCxyKz0xNiksMCE9KHQ9ZT4+OCkmJihlPXQscis9OCksMCE9KHQ9ZT4+NCkmJihlPXQscis9NCksMCE9KHQ9ZT4+MikmJihlPXQscis9MiksMCE9KHQ9ZT4+MSkmJihlPXQscis9MSkscn10LkJpZ0ludGVnZXI9aSx0Lm5iaT1hLHQubmJpdHM9bzt2YXIgcyxjLHU9W107Zm9yKHM9IjAiLmNoYXJDb2RlQXQoMCksYz0wO2M8PTk7KytjKXVbcysrXT1jO2ZvcihzPSJhIi5jaGFyQ29kZUF0KDApLGM9MTA7YzwzNjsrK2MpdVtzKytdPWM7Zm9yKHM9IkEiLmNoYXJDb2RlQXQoMCksYz0xMDtjPDM2OysrYyl1W3MrK109YztmdW5jdGlvbiBkKGUsdCl7dmFyIHI9dVtlLmNoYXJDb2RlQXQodCldO3JldHVybiBudWxsPT1yPy0xOnJ9dC5pbnRBdD1kO2Z1bmN0aW9uIHAoZSl7cmV0dXJuIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIuY2hhckF0KGUpfXQuaW50MmNoYXI9cDt0LmI2NHRvSGV4PWZ1bmN0aW9uKGUpe3ZhciB0LHI9IiIsbj0wLGk9MDtmb3IodD0wO3Q8ZS5sZW5ndGgmJiI9IiE9ZS5jaGFyQXQodCk7Kyt0KXt2YXIgYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuaW5kZXhPZihlLmNoYXJBdCh0KSk7YTwwfHwoMD09bj8ocis9cChhPj4yKSxpPTMmYSxuPTEpOjE9PW4/KHIrPXAoaTw8MnxhPj40KSxpPTE1JmEsbj0yKToyPT1uPyhyKz1wKGkpLHIrPXAoYT4+MiksaT0zJmEsbj0zKToocis9cChpPDwyfGE+PjQpLHIrPXAoMTUmYSksbj0wKSl9cmV0dXJuIDE9PW4mJihyKz1wKGk8PDIpKSxyfSx0LnJlbW92ZUV4dHJhU3ltYm9scz1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC9eMWYrMDAvLCIiKS5yZXBsYWNlKCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCIsIiIpfTt2YXIgZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5tPWV9cmV0dXJuIGUucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuczwwfHxlLmNvbXBhcmVUbyh0aGlzLm0pPj0wP2UubW9kKHRoaXMubSk6ZX0sZS5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKGUpe3JldHVybiBlfSxlLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSl7ZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKX0sZS5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24oZSx0LHIpe2UubXVsdGlwbHlUbyh0LHIpLHRoaXMucmVkdWNlKHIpfSxlLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbihlLHQpe2Uuc3F1YXJlVG8odCksdGhpcy5yZWR1Y2UodCl9LGV9KCksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5tPWUsdGhpcy5tcD1lLmludkRpZ2l0KCksdGhpcy5tcGw9MzI3NjcmdGhpcy5tcCx0aGlzLm1waD10aGlzLm1wPj4xNSx0aGlzLnVtPSgxPDxlLkRCLTE1KS0xLHRoaXMubXQyPTIqZS50fXJldHVybiBlLnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKGUpe3ZhciB0PWEoKTtyZXR1cm4gZS5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsdCksdC5kaXZSZW1Ubyh0aGlzLm0sbnVsbCx0KSxlLnM8MCYmdC5jb21wYXJlVG8oaS5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8odCx0KSx0fSxlLnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YSgpO3JldHVybiBlLmNvcHlUbyh0KSx0aGlzLnJlZHVjZSh0KSx0fSxlLnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24oZSl7Zm9yKDtlLnQ8PXRoaXMubXQyOyllW2UudCsrXT0wO2Zvcih2YXIgdD0wO3Q8dGhpcy5tLnQ7Kyt0KXt2YXIgcj0zMjc2NyZlW3RdLG49cip0aGlzLm1wbCsoKHIqdGhpcy5tcGgrKGVbdF0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJmUuRE07Zm9yKGVbcj10K3RoaXMubS50XSs9dGhpcy5tLmFtKDAsbixlLHQsMCx0aGlzLm0udCk7ZVtyXT49ZS5EVjspZVtyXS09ZS5EVixlWysrcl0rK31lLmNsYW1wKCksZS5kclNoaWZ0VG8odGhpcy5tLnQsZSksZS5jb21wYXJlVG8odGhpcy5tKT49MCYmZS5zdWJUbyh0aGlzLm0sZSl9LGUucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKGUsdCxyKXtlLm11bHRpcGx5VG8odCxyKSx0aGlzLnJlZHVjZShyKX0sZS5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24oZSx0KXtlLnNxdWFyZVRvKHQpLHRoaXMucmVkdWNlKHQpfSxlfSgpO2Z1bmN0aW9uIGwoZSl7dmFyIHQ9YSgpO3JldHVybiB0LmZyb21IZXhTdHJpbmcoZS50b1N0cmluZygpKSx0fXQubmJ2PWwsaS5aRVJPPWwoMCksaS5PTkU9bCgxKSwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyIj09bmF2aWdhdG9yLmFwcE5hbWU/KGkucHJvdG90eXBlLmFtPWkucHJvdG90eXBlLmFtMixuPTMwKToiTmV0c2NhcGUiIT1uYXZpZ2F0b3IuYXBwTmFtZT8oaS5wcm90b3R5cGUuYW09aS5wcm90b3R5cGUuYW0xLG49MjYpOihpLnByb3RvdHlwZS5hbT1pLnByb3RvdHlwZS5hbTMsbj0yOCksaS5wcm90b3R5cGUuREI9bixpLnByb3RvdHlwZS5ETT0oMTw8biktMSxpLnByb3RvdHlwZS5EVj0xPDxuO2kucHJvdG90eXBlLkZWPU1hdGgucG93KDIsNTIpLGkucHJvdG90eXBlLkYxPTUyLW4saS5wcm90b3R5cGUuRjI9MipuLTUyfSw3OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuaGFzaD1mdW5jdGlvbih0KXt0PWUudXRmOEVuY29kZSh0fHwiIik7Zm9yKHZhciByPVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdLG49WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSxpPSh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCkpLmxlbmd0aC80KzIsYT1NYXRoLmNlaWwoaS8xNiksbz1uZXcgQXJyYXkoYSkscz0wO3M8YTtzKyspe29bc109bmV3IEFycmF5KDE2KTtmb3IodmFyIGM9MDtjPDE2O2MrKylvW3NdW2NdPXQuY2hhckNvZGVBdCg2NCpzKzQqYyk8PDI0fHQuY2hhckNvZGVBdCg2NCpzKzQqYysxKTw8MTZ8dC5jaGFyQ29kZUF0KDY0KnMrNCpjKzIpPDw4fHQuY2hhckNvZGVBdCg2NCpzKzQqYyszKTw8MH12YXIgdT04Kih0Lmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSxkPTgqKHQubGVuZ3RoLTEpPj4+MDtvW2EtMV1bMTRdPU1hdGguZmxvb3IodSksb1thLTFdWzE1XT1kO2ZvcihzPTA7czxhO3MrKyl7Zm9yKHZhciBwPW5ldyBBcnJheSg2NCksZj0wO2Y8MTY7ZisrKXBbZl09b1tzXVtmXTtmb3IoZj0xNjtmPDY0O2YrKylwW2ZdPWUucTEocFtmLTJdKStwW2YtN10rZS5xMChwW2YtMTVdKStwW2YtMTZdPj4+MDt2YXIgbT1uWzBdLGw9blsxXSxoPW5bMl0sZz1uWzNdLHk9bls0XSxiPW5bNV0sdj1uWzZdLE89bls3XTtmb3IoZj0wO2Y8NjQ7ZisrKXt2YXIgQT1PK2UuejEoeSkrZS5DaCh5LGIsdikrcltmXStwW2ZdLEk9ZS56MChtKStlLk1haihtLGwsaCk7Tz12LHY9YixiPXkseT1nK0E+Pj4wLGc9aCxoPWwsbD1tLG09QStJPj4+MH1uWzBdPW5bMF0rbT4+PjAsblsxXT1uWzFdK2w+Pj4wLG5bMl09blsyXStoPj4+MCxuWzNdPW5bM10rZz4+PjAsbls0XT1uWzRdK3k+Pj4wLG5bNV09bls1XStiPj4+MCxuWzZdPW5bNl0rdj4+PjAsbls3XT1uWzddK08+Pj4wfXZhciBqPW5ldyBBcnJheShuLmxlbmd0aCk7Zm9yKE89MDtPPG4ubGVuZ3RoO08rKylqW09dPSgiMDAwMDAwMDAiK25bT10udG9TdHJpbmcoMTYpKS5zbGljZSgtOCk7cmV0dXJuIGouam9pbigiIil9LGUudXRmOEVuY29kZT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZStTdHJpbmcuZnJvbUNoYXJDb2RlKHQpfSksIiIpfWNhdGNoKHQpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoZSkpfX0sZS5ST1RSPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ+Pj5lfHQ8PDMyLWV9LGUuejA9ZnVuY3Rpb24odCl7cmV0dXJuIGUuUk9UUigyLHQpXmUuUk9UUigxMyx0KV5lLlJPVFIoMjIsdCl9LGUuejE9ZnVuY3Rpb24odCl7cmV0dXJuIGUuUk9UUig2LHQpXmUuUk9UUigxMSx0KV5lLlJPVFIoMjUsdCl9LGUucTA9ZnVuY3Rpb24odCl7cmV0dXJuIGUuUk9UUig3LHQpXmUuUk9UUigxOCx0KV50Pj4+M30sZS5xMT1mdW5jdGlvbih0KXtyZXR1cm4gZS5ST1RSKDE3LHQpXmUuUk9UUigxOSx0KV50Pj4+MTB9LGUuQ2g9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlJnRefmUmcn0sZS5NYWo9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlJnReZSZyXnQmcn0sZX0oKTt0LlNoYTI1Nj1ufX0sWzE4Ml0pOwp1cGJqc0NodW5rKFszNzNdLHsxODg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDE4OSl9LDE4OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSk7dmFyIG49cigxKSxpPXIoMiksYT1yKDApLG89cigzKSxkPXIoMTMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHAoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHx1KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLGE9W10sbz0hMCxkPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShvPShuPXIubmV4dCgpKS5kb25lKSYmKGEucHVzaChuLnZhbHVlKSwhdHx8YS5sZW5ndGghPT10KTtvPSEwKTt9Y2F0Y2goZSl7ZD0hMCxpPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IGl9fXJldHVybiBhfShlLHQpfHx1KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB1KGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBwKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXJ8fCJTZXQiPT09cj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qocik/cChlLHQpOnZvaWQgMH19ZnVuY3Rpb24gcChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgbT1vLmIuZ2V0Q29uZmlnLGY9ezA6InRpdGxlIiwyOiJpY29uIiwzOiJpbWFnZSIsNToic3BvbnNvcmVkQnkiLDQ6ImJvZHkiLDE6ImN0YSJ9LHk9e3RpdGxlOntpZDowLG5hbWU6InRpdGxlIn0saWNvbjp7aWQ6Mix0eXBlOjEsbmFtZToiaW1nIn0saW1hZ2U6e2lkOjMsdHlwZTozLG5hbWU6ImltZyJ9LHNwb25zb3JlZEJ5OntpZDo1LG5hbWU6ImRhdGEiLHR5cGU6MX0sYm9keTp7aWQ6NCxuYW1lOiJkYXRhIix0eXBlOjJ9LGN0YTp7aWQ6MSx0eXBlOjEyLG5hbWU6ImRhdGEifX0sdj17Y29kZToiYWRmIixhbGlhc2VzOlt7Y29kZToiYWRmb3JtT3BlblJUQiIsZ3ZsaWQ6NTB9LHtjb2RlOiJhZGZvcm0iLGd2bGlkOjUwfV0sZ3ZsaWQ6NTAsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5jLGkuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zfHx7fSxyPXQubWlkLG49dC5pbnYsaT10Lm1uYW1lO3JldHVybiEhKHJ8fG4mJmkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbixpPW0oIm9ydGIyIil8fHt9LG89aS51c2VyOyJvYmplY3QiPT09bChtKCJhcHAiKSk/KHI9bSgiYXBwIil8fHt9LGkuYXBwJiZPYmplY3QoYS5tZXJnZURlZXApKHIsaS5hcHApKToobj1tKCJzaXRlIil8fHt9LGkuc2l0ZSYmT2JqZWN0KGEubWVyZ2VEZWVwKShuLGkuc2l0ZSksbi5wYWdlfHwobi5wYWdlPXQucmVmZXJlckluZm8ucmVmZXJlcikpO3ZhciBkPW0oImRldmljZSIpfHx7fTtkLnc9ZC53fHx3aW5kb3cuaW5uZXJXaWR0aCxkLmg9ZC5ofHx3aW5kb3cuaW5uZXJIZWlnaHQsZC51YT1kLnVhfHxuYXZpZ2F0b3IudXNlckFnZW50O3ZhciBzPWIoZSwicGFyYW1zLmFkeERvbWFpbiIpfHwiYWR4LmFkZm9ybS5uZXQiLHU9YihlLCJwYXJhbXMucHQiKXx8YihlLCJwYXJhbXMucHJpY2VUeXBlIil8fCJuZXQiLHA9ZVswXS50cmFuc2FjdGlvbklkLGY9YihlLCJwYXJhbXMudGVzdCIpLHY9bSgiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpLGg9diYmW3ZdLGo9YihlLCJ1c2VySWRBc0VpZHMiKSxTPWIoZSwic2NoYWluIiksdz1lLm1hcCgoZnVuY3Rpb24oZSx0KXtlLm5ldFJldmVudWU9dTt2YXIgcj1lLmdldEZsb29yP2UuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnZ8fCJVU0QifSk6e30sbj1yLmZsb29yLGk9ci5jdXJyZW5jeSxvPWUucGFyYW1zLGQ9e2lkOnQrMSx0YWdpZDpvLm1pZCxiaWRmbG9vcjpuLGJpZGZsb29yY3VyOmksZXh0OntiaWRkZXI6e2ludjpvLmludixtbmFtZTpvLm1uYW1lfX19LHM9T2JqZWN0KGEuX21hcCkoZS5uYXRpdmVQYXJhbXMsKGZ1bmN0aW9uKGUsdCl7dmFyIHI9eVt0XSxuPXtyZXF1aXJlZDoxJmUucmVxdWlyZWR9O2lmKHIpe3ZhciBpLGEsbyxkO24uaWQ9ci5pZDt2YXIgcz1lLmFzcGVjdF9yYXRpb3M7aWYocyYmc1swXSYmKGk9KHM9c1swXSkubWluX3dpZHRofHwwLGE9cy5yYXRpb19oZWlnaHQqaS9zLnJhdGlvX3dpZHRofDApLGUuc2l6ZXMpe3ZhciBjPWcoZS5zaXplcyk7bz1jWzBdLGQ9Y1sxXX1yZXR1cm4gbltyLm5hbWVdPXtsZW46ZS5sZW4sdHlwZTpyLnR5cGUsd21pbjppLGhtaW46YSx3Om8saDpkfSxufX0pKS5maWx0ZXIoQm9vbGVhbik7cy5sZW5ndGgmJihkLm5hdGl2ZT17cmVxdWVzdDp7YXNzZXRzOnN9fSk7dmFyIHA9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtpZihwJiZwLnNpemVzKXt2YXIgbD1PYmplY3QoYS5wYXJzZVNpemVzSW5wdXQpKHAuc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9YyhlLnNwbGl0KCJ4IiksMikscj10WzBdLG49dFsxXTtyZXR1cm57dzpwYXJzZUludChyLDEwKSxoOnBhcnNlSW50KG4sMTApfX0pKTtkLmJhbm5lcj17Zm9ybWF0Omx9fXZhciBtPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKTtyZXR1cm4gbSYmKGQudmlkZW89bSksZH0pKSxPPXtpZDp0LmF1Y3Rpb25JZCxzaXRlOm4sYXBwOnIsdXNlcjpvLGRldmljZTpkLHNvdXJjZTp7dGlkOnAsZmQ6MX0sZXh0OntwdDp1fSxjdXI6aCxpbXA6d307cmV0dXJuIGYmJihPLmlzX2RlYnVnPSEhZixPLnRlc3Q9MSksdm9pZCAwIT09T2JqZWN0KGEuZGVlcEFjY2VzcykodCwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSYmKE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoTywidXNlci5leHQuY29uc2VudCIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxPYmplY3QoYS5kZWVwU2V0VmFsdWUpKE8sInJlZ3MuZXh0LmdkcHIiLDEmdC5nZHByQ29uc2VudC5nZHByQXBwbGllcykpLHQudXNwQ29uc2VudCYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLGomJk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoTywidXNlci5leHQuZWlkcyIsaiksUyYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJzb3VyY2UuZXh0LnNjaGFpbiIsUykse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIrcysiL2FkeC9vcGVucnRiIixkYXRhOkpTT04uc3RyaW5naWZ5KE8pLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIn0sYmlkczplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZHM7aWYoZS5ib2R5KXt2YXIgbj1lLmJvZHksbz1uLnNlYXRiaWQscz1uLmN1cixjPWcoby5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZH0pKSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3QuaW1waWQtMV09dCxlfSksW10pO3JldHVybiByLm1hcCgoZnVuY3Rpb24oZSx0KXt2YXIgcj1jW3RdO2lmKHIpe3ZhciBuPU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsImV4dC5wcmViaWQudHlwZSIpLG89e3JlcXVlc3RJZDplLmJpZElkLGNwbTpyLnByaWNlLGNyZWF0aXZlSWQ6ci5jcmlkLHR0bDozNjAsbmV0UmV2ZW51ZToibmV0Ij09PWUubmV0UmV2ZW51ZSxjdXJyZW5jeTpzLG1lZGlhVHlwZTpuLHdpZHRoOnIudyxoZWlnaHQ6ci5oLGRlYWxJZDpyLmRlYWxpZCxtZXRhOnttZWRpYVR5cGU6bixhZHZlcnRpc2VyRG9tYWluczpyLmFkb21haW59fTtyZXR1cm4gci5uYXRpdmU/by5uYXRpdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5uYXRpdmUscj10LmFzc2V0cyxuPXQubGluayxpPXQuaW1wdHJhY2tlcnMsYT10LmpzdHJhY2tlcixvPXtjbGlja1VybDpuLnVybCxjbGlja1RyYWNrZXJzOm4uY2xpY2t0cmFja2Vyc3x8dm9pZCAwLGltcHJlc3Npb25UcmFja2VyczppfHx2b2lkIDAsamF2YXNjcmlwdFRyYWNrZXJzOmE/W2FdOnZvaWQgMH07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZltlLmlkXSxyPXQmJmVbeVt0XS5uYW1lXTtyJiYob1t0XT1yLnRleHR8fHIudmFsdWV8fHt1cmw6ci51cmwsd2lkdGg6ci53LGhlaWdodDpyLmh9KX0pKSxvfShyKTpvW249PT1pLmQ/InZhc3RYbWwiOiJhZCJdPXIuYWRtLGUucmVuZGVyZXJ8fG4hPT1pLmR8fCJvdXRzdHJlYW0iIT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil8fChvLnJlbmRlcmVyPWQuYS5pbnN0YWxsKHtpZDplLmJpZElkLHVybDoiaHR0cHM6Ly9zMi5hZGZvcm0ubmV0L2Jhbm5lcnMvc2NyaXB0cy92aWRlby9vdXRzdHJlYW0vcmVuZGVyLmpzIixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pLG8ucmVuZGVyZXIuc2V0UmVuZGVyKGgpKSxvfX0pKS5maWx0ZXIoQm9vbGVhbil9fX07ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgcixuPTA7bjxlLmxlbmd0aDtuKyspaWYocj1PYmplY3QoYS5kZWVwQWNjZXNzKShlW25dLHQpKXJldHVybiByfWZ1bmN0aW9uIGcoZSl7dmFyIHQ7cmV0dXJuKHQ9W10pLmNvbmNhdC5hcHBseSh0LHMoZSkpfWZ1bmN0aW9uIGgoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BZGZvcm0ucmVuZGVyT3V0c3RyZWFtKGUpfSkpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFsxODhdKTsKdXBianNDaHVuayhbMzQ2XSx7MjU5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgyNjApfSwyNjA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBsfSkpO3ZhciBuPXQoMCksaT10KDEpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGM9dCgyKTtmdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHU9IlVTRCIsZj17aW1hZ2U6e3JlcXVpcmVkOiEwfSx0aXRsZTp7cmVxdWlyZWQ6ITB9LHNwb25zb3JlZEJ5OntyZXF1aXJlZDohMH0sY2xpY2tVcmw6e3JlcXVpcmVkOiEwfSxib2R5OntyZXF1aXJlZDohMX0saWNvbjp7cmVxdWlyZWQ6ITF9LGN0YTp7cmVxdWlyZWQ6ITF9fSxsPXtjb2RlOiJhZHlvdWxpa2UiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmMsYy5kXSxhbGlhc2VzOlsiYXlsIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHI9Yih5KGUpKSx0PXIud2lkdGg+MCYmci5oZWlnaHQ+MDtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLnBsYWNlbWVudCYmKHR8fGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLm5hdGl2ZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD17VmVyc2lvbjoiMS4wIixCaWRzOmUucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSlyZXR1cm4gYy5kO2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpcmV0dXJuIGMuYjtpZihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKXJldHVybiBjLmN9KHIpLGk9eShyKSxhPWIoaSk7aWYoZVtyLmJpZElkXT17fSxlW3IuYmlkSWRdLlBsYWNlbWVudElEPXIucGFyYW1zLnBsYWNlbWVudCxlW3IuYmlkSWRdLlRyYW5zYWN0aW9uSUQ9ci50cmFuc2FjdGlvbklkLGVbci5iaWRJZF0uV2lkdGg9YS53aWR0aCxlW3IuYmlkSWRdLkhlaWdodD1hLmhlaWdodCxlW3IuYmlkSWRdLkF2YWlsYWJsZVNpemVzPWkuam9pbigiLCIpLCJmdW5jdGlvbiI9PXR5cGVvZiByLmdldEZsb29yJiYoZVtyLmJpZElkXS5QcmljaW5nPWZ1bmN0aW9uKGUscix0KXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeTp1LG1lZGlhVHlwZTp0LHNpemU6W3Iud2lkdGgsci5oZWlnaHRdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiZuLmN1cnJlbmN5PT09dSlyZXR1cm4gbi5mbG9vcn0ocixhLHQpKSx0PT09Yy5jKXt2YXIgbz1yLm1lZGlhVHlwZXMubmF0aXZlOyJpbWFnZSI9PT1vLnR5cGUmJihvPXAoe30sZixvKSksby5jbGlja1VybD17cmVxdWlyZWQ6ITB9LGVbci5iaWRJZF0uTmF0aXZlPW99aWYodD09PWMuZCl7ZVtyLmJpZElkXS5WaWRlbz1yLm1lZGlhVHlwZXMudmlkZW87dmFyIHM9ci5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemU7QXJyYXkuaXNBcnJheShzKSYmIUFycmF5LmlzQXJyYXkoc1swXSkmJihlW3IuYmlkSWRdLlZpZGVvLnBsYXllclNpemU9W3NdKX1yZXR1cm4gZX0pLHt9KSxQYWdlUmVmcmVzaGVkOm0oKX07ciYmci5nZHByQ29uc2VudCYmKHQuZ2RwckNvbnNlbnQ9e2NvbnNlbnRTdHJpbmc6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP3IuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM6bnVsbH0pLHImJnIudXNwQ29uc2VudCYmKHQudXNwQ29uc2VudD1yLnVzcENvbnNlbnQpO3ZhciBpPUpTT04uc3RyaW5naWZ5KHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDp2KGUsciksZGF0YTppLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9e307dHJ5e2k9SlNPTi5wYXJzZShyLmRhdGEpLkJpZHN9Y2F0Y2goZSl7fXJldHVybiBlLmJvZHkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXtpZighZXx8IWUuQWQmJiFlLk5hdGl2ZSYmIWUuVmFzdClyZXR1cm47dmFyIHQ9ciYmcltlLkJpZElEXTt0JiYoZS5XaWR0aCYmIjAiIT09ZS5XaWR0aHx8KGUuV2lkdGg9dC5XaWR0aCksZS5IZWlnaHQmJiIwIiE9PWUuSGVpZ2h0fHwoZS5IZWlnaHQ9dC5IZWlnaHQpKTt2YXIgaT17cmVxdWVzdElkOmUuQmlkSUQsdHRsOjM2MDAsY3JlYXRpdmVJZDplLkNyZWF0aXZlSUQsY3BtOmUuUHJpY2UsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeTp1LG1ldGE6ZS5NZXRhfHx7YWR2ZXJ0aXNlckRvbWFpbnM6W119fTtpZih0JiZ0Lk5hdGl2ZSlpLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKCJvYmplY3QiPT09ZChlLk5hdGl2ZSkpcmV0dXJuIGUuTmF0aXZlO3ZhciB0PXt9LGk9e30sYT17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpe2k9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxhPWkuQ29udGVudC5QcmV2aWV3LlRleHQ7dmFyIG89aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU1QUkVTU0lPTiZhdHRlbXB0PSIraS5BdHRlbXB0LHM9aS5UcmFja2luZ1ByZWZpeCsiL3BpeGVsP2V2ZW50X2tpbmQ9SU5TRVJUSU9OJmF0dGVtcHQ9IitpLkF0dGVtcHQ7aS5DYW1wYWlnbiYmKG8rPSImY2FtcGFpZ249IitpLkNhbXBhaWduLHMrPSImY2FtcGFpZ249IitpLkNhbXBhaWduKSx0LmNsaWNrVXJsPWkuVHJhY2tpbmdQcmVmaXgrIi9hcj9ldmVudF9raW5kPUNMSUNLJmF0dGVtcHQ9IitpLkF0dGVtcHQrIiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24rIiZ1cmw9IitlbmNvZGVVUklDb21wb25lbnQoaS5Db250ZW50LkxhbmRpbmcuVXJsKSxpLk9uRXZlbnRzPyh0LmNsaWNrVHJhY2tlcnM9QyhpLk9uRXZlbnRzLkNMSUNLKSx0LmltcHJlc3Npb25UcmFja2Vycz1DKGkuT25FdmVudHMuSU1QUkVTU0lPTiksdC5qYXZhc2NyaXB0VHJhY2tlcnM9QyhpLk9uRXZlbnRzLklNUFJFU1NJT04sITApKTp0LmltcHJlc3Npb25UcmFja2Vycz1bXSx0LmltcHJlc3Npb25UcmFja2Vycy5wdXNoKG8scyl9cmV0dXJuIE9iamVjdC5rZXlzKHIpLm1hcCgoZnVuY3Rpb24obyxzKXtzd2l0Y2gobyl7Y2FzZSJ0aXRsZSI6dFtvXT1hLlRJVExFO2JyZWFrO2Nhc2UiYm9keSI6dFtvXT1hLkRFU0NSSVBUSU9OO2JyZWFrO2Nhc2UiY3RhIjp0W29dPWEuQ0FMTFRPQUNUSU9OO2JyZWFrO2Nhc2Uic3BvbnNvcmVkQnkiOnRbb109aS5Db250ZW50LlByZXZpZXcuU3BvbnNvci5OYW1lO2JyZWFrO2Nhc2UiaW1hZ2UiOnZhciBjPXIuaW1hZ2Uuc2l6ZXN8fFtdO2MubGVuZ3RofHwoY1swXT1lLldpZHRofHwzMDAsY1sxXT1lLkhlaWdodHx8MjUwKTt2YXIgZD1JKGksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiQ29udGVudC5QcmV2aWV3LlRodW1ibmFpbC5JbWFnZSIpLGNbMF0sY1sxXSk7ZCYmKHRbb109e3VybDpkLHdpZHRoOmNbMF0saGVpZ2h0OmNbMV19KTticmVhaztjYXNlImljb24iOnZhciBwPXIuaWNvbi5zaXplc3x8W107cC5sZW5ndGh8fChwWzBdPTUwLHBbMV09NTApO3ZhciB1PUkoaSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJDb250ZW50LlByZXZpZXcuU3BvbnNvci5Mb2dvLlJlc291cmNlIikscFswXSxwWzFdKTtkJiYodFtvXT17dXJsOnUsd2lkdGg6cFswXSxoZWlnaHQ6cFsxXX0pO2JyZWFrO2Nhc2UicHJpdmFjeUljb24iOnRbb109SShpLE9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuTG9nby5SZXNvdXJjZSIpLDI1LDI1KTticmVhaztjYXNlInByaXZhY3lMaW5rIjp0W29dPU9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5DcmVkaXQuVXJsIil9fSkpLHR9KGUsdC5OYXRpdmUpLGkubWVkaWFUeXBlPSJuYXRpdmUiO2Vsc2UgaWYodCYmdC5WaWRlbyl7dmFyIGE9ZS5WYXN0fHxmdW5jdGlvbihlKXt2YXIgcj17fTtpZigic3RyaW5nIj09dHlwZW9mIGUuQWQpcmV0dXJuIHI9SlNPTi5wYXJzZShlLkFkLm1hdGNoKC9cL1wqUFJFQklEXCpcLyguKilcL1wqUFJFQklEXCpcLy8pWzFdKSxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJDb250ZW50Lk1haW5WaWRlby5WYXN0Iil9KGUpO2kudmFzdFhtbD1hP3dpbmRvdy5hdG9iKGEpOiIiLGkubWVkaWFUeXBlPSJ2aWRlbyJ9ZWxzZSBpLndpZHRoPWUuV2lkdGgsaS5oZWlnaHQ9ZS5IZWlnaHQsaS5hZD1lLkFkO3JldHVybiBpfShlLGkpO3ImJnQucHVzaChyKX0pKSx0fX07ZnVuY3Rpb24gbSgpe3RyeXtpZihwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubmF2aWdhdGlvbilyZXR1cm4gcGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlPT09cGVyZm9ybWFuY2UubmF2aWdhdGlvbi5UWVBFX1JFTE9BRH1jYXRjaChlKXt9cmV0dXJuITF9ZnVuY3Rpb24gdihlLHIpe3ZhciB0PWZ1bmN0aW9uKGUpe3ZhciByPXMoKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuREN9KSk7cmV0dXJuIHI/Ii0iK3IucGFyYW1zLkRDOiIifShlKTtyZXR1cm4gT2JqZWN0KG4uYnVpbGRVcmwpKHtwcm90b2NvbDoiaHR0cHMiLGhvc3Q6IiIuY29uY2F0KCJoYi1hcGkiKS5jb25jYXQodCwiLm9tbml0YWdqcy5jb20iKSxwYXRobmFtZToiL2hiLWFwaS9wcmViaWQvdjEiLHNlYXJjaDpoKHIpfSl9ZnVuY3Rpb24gaChlKXt2YXIgcj17fTtpZihlKXt2YXIgdD1lLnJlZmVyZXJJbmZvO3QmJihyLlJlZmVyZXJVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KHQucmVmZXJlciksdC5udW1JZnJhbWVzPjAmJihyLlNhZmVGcmFtZT0hMCkpfXZhciBuPWZ1bmN0aW9uKCl7dmFyIGU7aWYod2luZG93LnNlbGYhPT13aW5kb3cudG9wKXRyeXtlPXdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKX1jYXRjaChlKXt9ZWxzZSBlPWRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyk7cmV0dXJuIGU/ZS5ocmVmOiIifSgpO24mJihyLkNhbm9uaWNhbFVybD1lbmNvZGVVUklDb21wb25lbnQobikpO3ZhciBpPWEuYi5nZXRDb25maWcoInB1Ymxpc2hlckRvbWFpbiIpO3JldHVybiBpJiYoci5QdWJsaXNoZXJEb21haW49ZW5jb2RlVVJJQ29tcG9uZW50KGkpKSxyfWZ1bmN0aW9uIHkoZSl7dmFyIHI9ZS5zaXplc3x8W107cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8W10pLGUucGFyYW1zJiZBcnJheS5pc0FycmF5KGUucGFyYW1zLnNpemUpJiYocj1lLnBhcmFtcy5zaXplLEFycmF5LmlzQXJyYXkoclswXSl8fChyPVtyXSkpLE9iamVjdChuLnBhcnNlU2l6ZXNJbnB1dCkocil9ZnVuY3Rpb24gYihlKXt2YXIgcj17fSx0PWVbMF07aWYoInN0cmluZyIhPXR5cGVvZiB0KXJldHVybiByO3ZhciBuPXQudG9VcHBlckNhc2UoKS5zcGxpdCgiWCIpLGk9cGFyc2VJbnQoblswXSwxMCk7aSYmKHIud2lkdGg9aSk7dmFyIGE9cGFyc2VJbnQoblsxXSwxMCk7cmV0dXJuIGEmJihyLmhlaWdodD1hKSxyfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGU/Imh0dHBzOi8vYmxvYnMub21uaXRhZ2pzLmNvbS9ibG9icy8iK2Uuc3Vic3RyKDE2LDIpKyIvIitlLnN1YnN0cigxNikrIi8iK2U6IiJ9ZnVuY3Rpb24gSShlLHIsdCxuKXt2YXIgaT0iIjtpZihyJiZyLktpbmQpc3dpdGNoKHIuS2luZCl7Y2FzZSJJTlRFUk5BTCI6aT1nKHIuRGF0YS5JbnRlcm5hbC5CbG9iUmVmZXJlbmNlLlVpZCk7YnJlYWs7Y2FzZSJFWFRFUk5BTCI6dmFyIGE9ZS5EeW5hbWljUHJlZml4LG89ci5EYXRhLkV4dGVybmFsLlVybDtpZigobz0obz1vLnJlcGxhY2UoL1xbaGVpZ2h0XF0vaSwiIituKSkucmVwbGFjZSgvXFt3aWR0aFxdL2ksIiIrdCkpLmluZGV4T2YoYSk+PTApe3ZhciBzPS8uKnVybD0oW14mXSopL2dtLmV4ZWMobyk7KGk9cz9zWzFdOiIiKXx8KGk9ZygvLiprZXk9KFteJl0qKS9nbS5leGVjKG8pWzFdKSl9ZWxzZSBpPW99cmV0dXJuIGl9ZnVuY3Rpb24gQyhlLHIpe3ZhciB0PVtdO3JldHVybiBlPyhlLm1hcCgoZnVuY3Rpb24oZSxuKXsociYmIkpBVkFTQ1JJUFRfVVJMIj09PWUuS2luZHx8IXImJiJQSVhFTF9VUkwiPT09ZS5LaW5kKSYmdC5wdXNoKGUuVXJsKX0pKSx0KTp0fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShsKX19LFsyNTldKTsKdXBianNDaHVuayhbMzQwXSx7MjcxOmZ1bmN0aW9uKG4sdCxlKXtuLmV4cG9ydHM9ZSgyNzIpfSwyNzI6ZnVuY3Rpb24obix0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKHQsIkJJRERFUl9DT0RFIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxlLmQodCwiRU5HSU5FX0JBU0VfVVJMIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSxlLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7bT0hMX07ZSgwKTt2YXIgYT1lKDQ3KSxyPWUoMSksaT1lKDIpO2Z1bmN0aW9uIG8obix0LGUpe3JldHVybiB0IGluIG4/T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6ZSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOm5bdF09ZSxufXZhciBzPSJhbWF6b24iLGQ9Imh0dHBzOi8vYy5hbWF6b24tYWRzeXN0ZW0uY29tL2UvZHRiL2JpZCIsYz1bXSxtPSExLHA9WyJodHRwczovL2FheC1ldS5hbWF6b24tYWRzeXN0ZW0uY29tL3MvaXUzP2NtM3BwZD0xJmQ9ZHRiLXB1YiZjc2lmPXQiXTt2YXIgdT17Y29kZTpzLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24obix0KXtpZighd2luZG93LmFwc3RhZylyZXR1cm5bXTtmb3IodmFyIGU9MDtlPG4ubGVuZ3RoO2UrKyl7dmFyIGE9bltlXTtjLnB1c2goYSl9dmFyIHIsaT1bXTtyZXR1cm4gcj1mdW5jdGlvbihuLHQpe2Zvcih2YXIgZSxhPVtdLHI9dCYmdC5nZHByQ29uc2VudCxpPTA7aTxuLmxlbmd0aDtpKyspe2Zvcih2YXIgcz17fSxkPW5baV0uc2l6ZXMsYz1bXSxtPTA7bTxkLmxlbmd0aDttKyspYy5wdXNoKGRbbV1bMF0rIngiK2RbbV1bMV0pO3Muc2Q9bC50b1N0cmluZygpLHMucz1jLHMuc249bltpXS5wYXJhbXMuYWRVbml0R1BUUGF0aCxhLnB1c2gocyksbCsrfXZhciBwPW5bMF0ucGFyYW1zLnB1YklELmluZGV4T2YoIi0iKT4tMSx1PShvKGU9e30sInNyYyIscD8iNjAwIjpuWzBdLnBhcmFtcy5wdWJJRCksbyhlLCJwdWJpZCIsblswXS5wYXJhbXMucHViSUQpLG8oZSwidSIsd2luZG93LmxvY2F0aW9uLmhyZWYpLG8oZSwicGlkIixmdW5jdGlvbihuKXtmb3IodmFyIHQ9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5IixlPW5ldyBBcnJheShuKSxhPTA7YTxuO2ErKyllW2FdPXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnQubGVuZ3RoKV07cmV0dXJuIGUuam9pbigiIil9KDEzKSksbyhlLCJwciIsZG9jdW1lbnQucmVmZXJyZXIpLG8oZSwiY2IiLDApLG8oZSwid3MiLCh3aW5kb3cuaW5uZXJXaWR0aHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRofHxkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKSsieCIrKHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpKSxvKGUsInYiLCI3LjQ3LjAwIiksbyhlLCJzbG90cyIsSlNPTi5zdHJpbmdpZnkoYSkpLG8oZSwidCIsM2UzKSxlKTtyJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmIiIhPT1yLmNvbnNlbnRTdHJpbmc/ImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcz8odS5nZHByZT0iMSIsdS5nZHByYz0iIi5jb25jYXQoci5jb25zZW50U3RyaW5nKSx1LmdkcHJsPUpTT04uc3RyaW5naWZ5KHtsc1N0YXR1czoicHJlc2VudCIsc3RhdHVzOiJjbXAtc3VjY2VzcyIscnRpbWVzOlsxXSxjYzoiMCJ9KSk6dS5nZHBybD1KU09OLnN0cmluZ2lmeShvKHtzdGF0dXM6InByZXNlbnQifSwic3RhdHVzIiwiY21wLXN1Y2Nlc3MiKSk6dS5nZHBybD1KU09OLnN0cmluZ2lmeSh7c3RhdHVzOiJjbXAtZXJyb3IifSk7cmV0dXJuIHV9KG4sdCksaS5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOmQsZGF0YTpyfSksaX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obix0KXt2YXIgZT1bXSxyPW5ldyBSZWdFeHAoImFwc3RhZ1xcLlxcdytcXCgoLio/KVxcKSIsImdtIiksaT1uLmJvZHksbz1yLmV4ZWMoaSk7aWYobyYmby5sZW5ndGg+MCl0cnl7dmFyIHMsZD1KU09OLnBhcnNlKG9bMV0pO2lmKGQuY21wLCFkLnNsb3RzKXJldHVybiBlO3M9ZC5ob3N0O2Zvcih2YXIgbT1kLnNsb3RzLHA9MDtwPG0ubGVuZ3RoO3ArKyl7Zm9yKHZhciB1PXZvaWQgMCxsPW1bcF0sZz0wO2c8Yy5sZW5ndGg7ZysrKWlmKGcudG9TdHJpbmcoKT09PWwuc2xvdElEKXt1PWNbZ107YnJlYWt9aWYodm9pZCAwIT09dSl7dmFyIGY9MCx6PSJVU0QiLHc9IiIrTWF0aC5yb3VuZCgxZTEyKk1hdGgucmFuZG9tKCkpK0RhdGUubm93KCksaD1zKyIvZS9kdGIvYWRtaT9iPSIrbC5hbXpuaWlkKyImcm5kPSIrdysiJnBwPSIrbC5hbXpuYmlkKyImcD0iK2wuYW16bnArIiZjcmlkPSIrbC5jcmlkO3dpbmRvdy51cG9fYW16biYmKHdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydCYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W2wuYW16bmJpZF0mJihmPXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DaGFydFtsLmFtem5iaWRdKSx3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ3VycmVuY3kmJih6PXdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DdXJyZW5jeSkpO3ZhciBiPWwuY3JpZDtpZighbC5jcmlkKWlmKCJ4Y2V1NGciPT09bC5hbXpuYmlkKWI9InRlc3RDcmlkIjtlbHNle3ZhciB2PXtldmVudDoiYW1hem9uLW5vLWNyaWQiLHNlbmRQZXJjZW50YWdlOjEwMCxtZXRhOntkb21haW46d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lfX07YS5lKG51bGwsImFtYXpvbi1uby1jcmlkIixbXSx2KX1lLnB1c2goe3JlcXVlc3RJZDp1LmJpZElkLGNwbTpmLHdpZHRoOmwuYW16bnN6LnNwbGl0KCJ4IilbMF0saGVpZ2h0OmwuYW16bnN6LnNwbGl0KCJ4IilbMV0sYWRUYXJnZXRpbmc6J3siYW16bmlpZCI6IicrbC5hbXpuaWlkKyciLCJhbXpucCI6IicrbC5hbXpucCsnIiwiYW16bmJpZCI6IicrbC5hbXpuYmlkKyciLCJhbXpuc3oiOiInK2wuYW16bnN6KycifScsYWQ6IiIsYWRIdG1sOic8Ym9keSBsZWZ0bWFyZ2luPSIwIiB0b3BtYXJnaW49IjAiIG1hcmdpbndpZHRoPSIwIiBtYXJnaW5oZWlnaHQ9IjAiPjxpZnJhbWUgZnJhbWVib3JkZXI9IjAiIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiIHNjcm9sbGluZz0ibm8iIHdpZHRoPSInK2wuYW16bnN6LnNwbGl0KCJ4IilbMF0rJ3B4IiBoZWlnaHQ9IicrbC5hbXpuc3ouc3BsaXQoIngiKVsxXSsncHgiIGlkPSJhbXpuYWQ3MDM1MiIgc2FuZGJveD0iYWxsb3ctZm9ybXMgYWxsb3ctcG9pbnRlci1sb2NrIGFsbG93LXBvcHVwcyBhbGxvdy1wb3B1cHMtdG8tZXNjYXBlLXNhbmRib3ggYWxsb3ctc2FtZS1vcmlnaW4gYWxsb3ctc2NyaXB0cyBhbGxvdy10b3AtbmF2aWdhdGlvbi1ieS11c2VyLWFjdGl2YXRpb24iIHNyYz0iJytoKyciPjwvaWZyYW1lPjxzY3JpcHQ+dmFyIGFteiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO2Ftei5zcmMgPSAiLy9jLmFtYXpvbi1hZHN5c3RlbS5jb20vYmFvLWNzbS9kaXJlY3QvY3NtLmpzIjthbXouYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oKXt2YXIgY3NtRnVuYyA9IG51bGw7IGlmKHdpbmRvdy5hbXpuY3NtICYmIHdpbmRvdy5hbXpuY3NtLnJtRCl7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtLnJtRDt9IGVsc2UgaWYgKHdpbmRvdy5hbXpuY3NtKSB7Y3NtRnVuYyA9IHdpbmRvdy5hbXpuY3NtW09iamVjdC5rZXlzKHdpbmRvdy5hbXpuY3NtKVswXV19OyB2YXIgYWRJZnJhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwnaWZyYW1lW3NyYyo9ImFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYWRtaVwnKTtjc21GdW5jKGFkSWZyYW1lLCAiJytsLmFtem5paWQrJyIsIHdpbmRvdywgZG9jdW1lbnQsICInK3UucGFyYW1zLnB1YklEKyciKTt9KTsoZG9jdW1lbnQuYm9keXx8ZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChhbXopOzxcL3NjcmlwdD48L2JvZHk+JyxhZFVybDpoLHR0bDo5MDAsY3JlYXRpdmVJZDpifHwiIixuZXRSZXZlbnVlOiEwLGN1cnJlbmN5Onp9KX19fWNhdGNoKG4pe31yZXR1cm4gZX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKG4sdCxlKXtpZighbSl7ZSYmInN0cmluZyI9PXR5cGVvZiBlLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJBcHBsaWVzPyI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIoZS5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KGUuY29uc2VudFN0cmluZyk6Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQoZS5jb25zZW50U3RyaW5nKSksbT0hMDtmb3IodmFyIGE9W10scj0wO3I8cC5sZW5ndGg7cisrKWEucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6cFtyXX0pO3JldHVybiBhfX19O3ZhciBsPTA7T2JqZWN0KHIucmVnaXN0ZXJCaWRkZXIpKHUpfX0sWzI3MV0pOwp1cGJqc0NodW5rKFszMzldLHsyNzM6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDI3NCl9LDI3NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIHI9bigxKSxjPW4oMiksaT1uKDApLG89bigzKSxhPW4oNyk7ZnVuY3Rpb24gdShlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gcyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj91KE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZChlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6dShPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBkKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX1mdW5jdGlvbiBsKGUpe3JldHVybihsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHA9T2JqZWN0KGEuYikoNzM3LCJhbXgiKSxiPS9cLmNvbT9cLlx3ezIsNH0kLyxmPS9eXHMqPFw/Pyg/OnZhc3R8eG1sKS9pLG09Il9fYW11aWRwYiI7ZnVuY3Rpb24gZyhlLHQpe3JldHVybiBudWxsPT1lP1tdOmUubWFwKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9dCYmZS5jb25jYXQodCl9KSxbXSl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gbnVsbCE9KHQ9ZS5hZG0pJiZmLnRlc3QodCk/Yy5kOmMuYjt2YXIgdH12YXIgTz1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT1lfHxsKGUpPT09dH07ZnVuY3Rpb24geShlKXt2YXIgdD1lLmhvc3RuYW1lLnNwbGl0KCIuIiksbj10LnNsaWNlKHQubGVuZ3RoLShiLnRlc3QoZS5ob3N0bmFtZSk/MzoyKSkuam9pbigiLiIpO3JldHVybiBidG9hKG4pLnJlcGxhY2UoLz0rJC8sIiIpfXZhciBqPWVuY29kZVVSSUNvbXBvbmVudDtmdW5jdGlvbiB2KCl7dHJ5e3JldHVybiBwLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG0pfWNhdGNoKGUpe3JldHVybiBudWxsfX1mdW5jdGlvbiB3KGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dFtlLmJpZElkXT1mdW5jdGlvbihlKXt2YXIgdD0obD1lLnNpemVzLHA9ZS5tZWRpYVR5cGVzLGwuY29uY2F0KE9iamVjdChpLmRlZXBBY2Nlc3MpKHAsIiIuY29uY2F0KGMuYiwiLnNpemVzIiksW10pfHxbXSkuY29uY2F0KE9iamVjdChpLmRlZXBBY2Nlc3MpKHAsIiIuY29uY2F0KGMuZCwiLnNpemVzIiksW10pfHxbXSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdFswXSp0WzFdLWVbMF0qZVsxXX0pKVswXXx8WzAsMF0pLG49ZS5tZWRpYVR5cGU9PT1jLmR8fGMuZCBpbiBlLm1lZGlhVHlwZXMscj1ufHx0WzFdPjEwMCxvPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50YWdJZCIpLGE9bnVsbCE9ZS5wYXJhbXMmJiJzdHJpbmciPT10eXBlb2YgZS5wYXJhbXMuYWRVbml0SWQ/ZS5wYXJhbXMuYWRVbml0SWQ6ZS5hZFVuaXRDb2RlLHU9W2Uuc2l6ZXMsT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmIsIi5zaXplcyIpLFtdKXx8W10sT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmQsIi5zaXplcyIpLFtdKXx8W11dLHM9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmQpLHt9KXx8e30sZD17YXU6YSxhdjpyLHZkOnMsdnI6bixtczp1LGF3OnRbMF0sYWg6dFsxXSx0ZjowLHNjOmUuc2NoYWlufHx7fSxmOkkoQyhlKSl9O3ZhciBsLHA7InN0cmluZyI9PXR5cGVvZiBvJiZvLmxlbmd0aD4wJiYoZC5pPW8pO3JldHVybiBkfShlKX0pKSx0fXZhciBBPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChpLnRyaWdnZXJQaXhlbCkoIiIuY29uY2F0KCJodHRwczovLzF4MS5hLW1vLm5ldC9oYngvIiwiZ18iKS5jb25jYXQoZSwiPyIpLmNvbmNhdChPYmplY3QoaS5mb3JtYXRRUykocyhzKHt9LHQpLHt9LHt0czpEYXRlLm5vdygpLGVpZDpPYmplY3QoaS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpfSkpKSl9O2Z1bmN0aW9uIEkoZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmZT4wP2U6MH1mdW5jdGlvbiBDKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLmZsb29yIiwwKTt0cnl7cmV0dXJuIGUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiIsYmlkUmVxdWVzdDplfSkuZmxvb3J9Y2F0Y2goZSl7cmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiY2FsbCB0byBnZXRGbG9vciBmYWlsZWQ6ICIsZSksMH19dmFyIFM9e2NvZGU6ImFteCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE8oT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLmVuZHBvaW50IixudWxsKSwic3RyaW5nIikmJk8oT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnRhZ0lkIixudWxsKSwic3RyaW5nIil9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWZlcmVySW5mbztpZihudWxsPT10KXJldHVybiBPYmplY3QoaS5wYXJzZVVybCkobG9jYXRpb24uaHJlZik7aWYodC5pc0FtcCYmbnVsbCE9dC5yZWZlcmVyKXJldHVybiBPYmplY3QoaS5wYXJzZVVybCkodC5yZWZlcmVyKTt2YXIgbj10Lm51bUlmcmFtZXM+MCYmbnVsbCE9dC5zdGFja1swXT90LnN0YWNrWzBdOmxvY2F0aW9uLmhyZWY7cmV0dXJuIE9iamVjdChpLnBhcnNlVXJsKShuKX0odCksYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMudGFnSWQiLG51bGwpLHU9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLnRlc3RNb2RlIiwwKSxzPW51bGwhPWVbMF0/ZVswXTp7YmlkZGVyUmVxdWVzdHNDb3VudDowLGJpZGRlcldpbnNDb3VudDowLGJpZFJlcXVlc3RzQ291bnQ6MH07cmV0dXJue2RhdGE6e2E6dC5hdWN0aW9uSWQsQjowLGI6Yy5ob3N0LGJyYzpzLmJpZGRlclJlcXVlc3RzQ291bnR8fDAsYndjOnMuYmlkZGVyV2luc0NvdW50fHwwLHRyYzpzLmJpZFJlcXVlc3RzQ291bnR8fDAsdG06KHI9dSwhMD09PXJ8fDE9PT1yfHwidHJ1ZSI9PT1yKSxWOiI1LjIwLjIiLHZnOiJ1cGJqcyIsaTp1JiZudWxsIT1hP2E6eShjKSxsOnt9LGY6LjAxLGN2OiJwYmExLjMuMSIsc3Q6InByZWJpZCIsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGdzOk9iamVjdChpLmRlZXBBY2Nlc3MpKHQsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIiwiIiksZ2M6T2JqZWN0KGkuZGVlcEFjY2VzcykodCwiZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyIsIiIpLHU6T2JqZWN0KGkuZGVlcEFjY2VzcykodCwicmVmZXJlckluZm8uY2Fub25pY2FsVXJsIixjLmhyZWYpLGRvOmMuaG9zdG5hbWUscmU6T2JqZWN0KGkuZGVlcEFjY2VzcykodCwicmVmZXJlckluZm8ucmVmZXJlciIpLGFtOnYoKSx1c3A6dC51c3BDb25zZW50fHwiMS0tLSIsc210OjEsZDoiIixtOncoZSksY3BwOm8uYi5nZXRDb25maWcoImNvcHBhIik/MTowLGZwZDI6by5iLmdldENvbmZpZygib3J0YjIiKSx0bWF4Om8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxlaWRzOihuPWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT10fHxudWxsPT10LnVzZXJJZEFzRWlkc3x8T2JqZWN0KGkuX2VhY2gpKHQudXNlcklkQXNFaWRzLChmdW5jdGlvbih0KXtudWxsIT10JiYoZVt0LnNvdXJjZV09dCl9KSksZX0pLHt9KSxudWxsIT1PYmplY3QudmFsdWVzP09iamVjdC52YWx1ZXMobik6T2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXX0pKSl9LG1ldGhvZDoiUE9TVCIsdXJsOk9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5lbmRwb2ludCIsImh0dHBzOi8vcHJlYmlkLmEtbW8ubmV0L2EvYyIpLHdpdGhDcmVkZW50aWFsczohMH19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe2lmKG51bGw9PXR8fDA9PT10Lmxlbmd0aClyZXR1cm5bXTt2YXIgbj1bXTtyZXR1cm4gT2JqZWN0KGkuX2VhY2gpKHQsKGZ1bmN0aW9uKHQpe3ZhciByPXQuYm9keTtudWxsIT1yJiZudWxsIT1yLnAmJnIucC5ocmVxJiZPYmplY3QoaS5fZWFjaCkoci5wLmhyZXEsKGZ1bmN0aW9uKHQpe3ZhciByPS0xIT09dC5pbmRleE9mKCJfX3N0PWlmcmFtZSIpPyJpZnJhbWUiOiJpbWFnZSI7KGUuaWZyYW1lRW5hYmxlZHx8ImltYWdlIj09PXIpJiZuLnB1c2goe3VybDp0LHR5cGU6cn0pfSkpfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5ib2R5O3JldHVybiBudWxsPT1ufHwic3RyaW5nIj09dHlwZW9mIG4/W106KG4uYW0mJiJzdHJpbmciPT10eXBlb2Ygbi5hbSYmZnVuY3Rpb24oZSl7dHJ5e3Auc2V0RGF0YUluTG9jYWxTdG9yYWdlKG0sZSl9Y2F0Y2goZSl7fX0obi5hbSksZyhPYmplY3Qua2V5cyhuLnIpLChmdW5jdGlvbihlKXtyZXR1cm4gZyhuLnJbZV0sKGZ1bmN0aW9uKG4pe3JldHVybiBuLmIubWFwKChmdW5jdGlvbihuKXt2YXIgcixvPWgobiksYT1vPT09Yy5iP2Z1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5oaW1wIixbXSkuY29uY2F0KG51bGwhPWUubnVybD9bZS5udXJsXTpbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZS5sZW5ndGg+MH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybic8aW1nIHNyYz0iJy5jb25jYXQoZSwnIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIi8+Jyl9KSkuam9pbigiIik7cmV0dXJuIGUuYWRtK3R9KG4pOm4uYWRtO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7dmFyIHU9ZnVuY3Rpb24oZSx0LG4pe2lmKG51bGwhPWUudyYmZS53PjEmJm51bGwhPWUuaCYmZS5oPjEpcmV0dXJuW2UudyxlLmhdO3ZhciByPXQubVtuXTtyZXR1cm4gbnVsbD09cj9bMCwwXTpbci5hdyxyLmFoXX0obix0LmRhdGEsZSkscz1vPT09Yy5iPzI0MDozMDA7cmV0dXJuIGQocj17cmVxdWVzdElkOmUsY3BtOm4ucHJpY2Usd2lkdGg6dVswXSxoZWlnaHQ6dVsxXSxjcmVhdGl2ZUlkOm4uY3JpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwfSxvPT09Yy5kPyJ2YXN0WG1sIjoiYWQiLGEpLGQociwibWV0YSIse2FkdmVydGlzZXJEb21haW5zOm4uYWRvbWFpbixtZWRpYVR5cGU6b30pLGQociwibWVkaWFUeXBlIixvKSxkKHIsInR0bCIsIm51bWJlciI9PXR5cGVvZiBuLmV4cD9uLmV4cDpzKSxyfSkpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWV9KSl9KSkpfSxvblNldFRhcmdldGluZzpmdW5jdGlvbihlKXt2YXIgdCxuO251bGwhPWUmJkEoInBic3QiLHtBOmUuYmlkZGVyLHc6ZS53aWR0aCxoOmUuaGVpZ2h0LGJpZDplLmFkSWQsYzE6ZS5tZWRpYVR5cGUsbnA6ZS5jcG0sYXVkOmUucmVxdWVzdElkLGE6ZS5hZFVuaXRDb2RlLGMyOih0PWUuYWRzZXJ2ZXJUYXJnZXRpbmcsbj1bXSxPYmplY3Qua2V5cyh0fHx7fSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wdXNoKGooZSkrIj0iK2ooU3RyaW5nKHRbZV0pKSl9KSksaihuLmpvaW4oIiYiKSkpfSl9LG9uVGltZW91dDpmdW5jdGlvbihlKXtudWxsIT1lJiZBKCJwYnRvIix7QTplLmJpZGRlcixiaWQ6ZS5iaWRJZCxhOmUuYWRVbml0Q29kZSxjbjplLnRpbWVvdXQsYXVkOmUuYXVjdGlvbklkfSl9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe251bGwhPWUmJkEoInBid2luIix7QTplLmJpZGRlcix3OmUud2lkdGgsaDplLmhlaWdodCxiaWQ6ZS5hZElkLEM6ZS5tZWRpYVR5cGU9PT1jLmI/MDoxLG5wOmUuY3BtLGE6ZS5hZFVuaXRDb2RlfSl9fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoUyl9fSxbMjczXSk7CnVwYmpzQ2h1bmsoWzMzNl0sezI3OTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMjgwKX0sMjgwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcX0pKTt2YXIgbixpLGEsbz1yKDApLHM9cigxKSxjPXIoMik7ZnVuY3Rpb24gdSgpe3JldHVybih1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gZChlKXtyZXR1cm4oZD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHAoZSx0KXtyZXR1cm4gdHx8KHQ9ZS5zbGljZSgwKSksT2JqZWN0LmZyZWV6ZShPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtyYXc6e3ZhbHVlOk9iamVjdC5mcmVlemUodCl9fSkpfXZhciBsPSJhb2wiLG09InZlcml6b24iLGY9Im9uZW1vYmlsZSIsYj0ib25lZGlzcGxheSIsaD17R0VUOiJkaXNwbGF5LWdldCJ9LHY9e0dFVDoibW9iaWxlLWdldCIsUE9TVDoibW9iaWxlLXBvc3QifSxnPXtUQUc6ImlmcmFtZSIsVFlQRToiaWZyYW1lIn0seT17VEFHOiJpbWciLFRZUEU6ImltYWdlIn0sTz1bImFkc2VydmVyLm9yZyIsImNyaXRlby5jb20iLCJpZDUtc3luYy5jb20iLCJpbnRlbnRpcS5jb20iLCJsaXZlaW50ZW50LmNvbSIsInF1YW50Y2FzdC5jb20iLCJ2ZXJpem9ubWVkaWEuY29tIiwibGl2ZXJhbXAuY29tIiwieWFob28uY29tIl0sUD1DKG58fChuPXAoWyIiLCIvcHViYXBpLzMuMC8iLCIvIiwiLyIsIi8iLCIvQURURUNIO3Y9MjtjbWQ9YmlkO2NvcnM9eWVzO2FsaWFzPSIsIjttaXNjPSIsIjsiLCIiXSkpLCJob3N0IiwibmV0d29yayIsInBsYWNlbWVudCIsInBhZ2VpZCIsInNpemVpZCIsImFsaWFzIiwibWlzYyIsImR5bmFtaWNQYXJhbXMiKSxqPUMoaXx8KGk9cChbIiIsIi9iaWRSZXF1ZXN0PyJdKSksImhvc3QiKSxFPUMoYXx8KGE9cChbImRjbj0iLCImcG9zPSIsIiZjbWQ9YmlkIiwiIl0pKSwiZGNuIiwicG9zIiwiZHluYW1pY1BhcmFtcyIpLFM9e3VzOiJhZHNlcnZlci11cy5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixldToiYWRzZXJ2ZXItZXUuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSIsYXM6ImFkc2VydmVyLWFzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20ifSxUPSJodHRwcyIseD0xO2Z1bmN0aW9uIEMoZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkodD4xP3QtMTowKSxuPTE7bjx0O24rKylyW24tMV09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHQpLGk9MDtpPHQ7aSsrKW5baV09YXJndW1lbnRzW2ldO3ZhciBhPW5bbi5sZW5ndGgtMV18fHt9LHM9W2VbMF1dO3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHQscil7dmFyIGk9T2JqZWN0KG8uaXNJbnRlZ2VyKSh0KT9uW3RdOmFbdF07cy5wdXNoKGksZVtyKzFdKX0pKSxzLmpvaW4oIiIpfX1mdW5jdGlvbiBJKGUpe3JldHVybiBlPT09bHx8ZT09PW18fGU9PT1mfWZ1bmN0aW9uIFIoZSl7aWYoSShlLmJpZGRlcikmJmUucGFyYW1zLmlkJiZlLnBhcmFtcy5pbXAmJmUucGFyYW1zLmltcFswXSl7dmFyIHQ9ZS5wYXJhbXMuaW1wWzBdO3JldHVybiB0LmlkJiZ0LnRhZ2lkJiZ0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaH19ZnVuY3Rpb24gdyhlKXtyZXR1cm4gSShlLmJpZGRlcikmJmUucGFyYW1zLmRjbiYmZS5wYXJhbXMucG9zfWZ1bmN0aW9uIFUoZSl7cmV0dXJuKCh0PWUuYmlkZGVyKT09PWx8fHQ9PT1tfHx0PT09YikmJmUucGFyYW1zLnBsYWNlbWVudCYmZS5wYXJhbXMubmV0d29yazt2YXIgdH1mdW5jdGlvbiBrKGUpe3JldHVybiBlLnVzZXJJZEFzRWlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09Ty5pbmRleE9mKGUuc291cmNlKX0pKX12YXIgcT17Y29kZTpsLGd2bGlkOjI1LGFsaWFzZXM6W2YsYixtXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBVKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4gdyhlKXx8UihlKX0oZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49e307cmV0dXJuIHQmJihuLmdkcHI9dC5nZHByQ29uc2VudCxuLnVzcENvbnNlbnQ9dC51c3BDb25zZW50KSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk/di5HRVQ6UihlKT92LlBPU1Q6VShlKT9oLkdFVDp2b2lkIDB9KGUpO2lmKHQpcmV0dXJuIHIuZm9ybWF0QmlkUmVxdWVzdCh0LGUsbil9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5O2lmKHIpe3ZhciBuPXRoaXMuX3BhcnNlQmlkUmVzcG9uc2Uocix0KTtpZihuKXJldHVybiBufWVsc2UgT2JqZWN0KG8ubG9nRXJyb3IpKCJFbXB0eSBiaWQgcmVzcG9uc2UiLHQuYmlkZGVyQ29kZSxyKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9IU9iamVjdChvLmlzRW1wdHkpKHQpJiZ0WzBdLmJvZHk7cmV0dXJuIHImJnIuZXh0JiZyLmV4dC5waXhlbHM/dGhpcy5wYXJzZVBpeGVsSXRlbXMoci5leHQucGl4ZWxzKTpbXX0sZm9ybWF0QmlkUmVxdWVzdDpmdW5jdGlvbihlLHQscil7dmFyIG47c3dpdGNoKGUpe2Nhc2UgaC5HRVQ6bj17dXJsOnRoaXMuYnVpbGRNYXJrZXRwbGFjZVVybCh0LHIpLG1ldGhvZDoiR0VUIix0dGw6NjB9O2JyZWFrO2Nhc2Ugdi5HRVQ6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVHZXRVcmwodCxyKSxtZXRob2Q6IkdFVCIsdHRsOjM2MDB9O2JyZWFrO2Nhc2Ugdi5QT1NUOm49e3VybDp0aGlzLmJ1aWxkT25lTW9iaWxlQmFzZVVybCh0KSxtZXRob2Q6IlBPU1QiLHR0bDozNjAwLGRhdGE6dGhpcy5idWlsZE9wZW5SdGJSZXF1ZXN0RGF0YSh0LHIpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixjdXN0b21IZWFkZXJzOnsieC1vcGVucnRiLXZlcnNpb24iOiIyLjIifX19fXJldHVybiBuLmJpZGRlckNvZGU9dC5iaWRkZXIsbi5iaWRJZD10LmJpZElkLG4udXNlclN5bmNPbj10LnBhcmFtcy51c2VyU3luY09uLG59LGJ1aWxkTWFya2V0cGxhY2VVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPWUucGFyYW1zLGk9bi5zZXJ2ZXIsYT1uLnJlZ2lvbnx8InVzIjtyZXR1cm4gUy5oYXNPd25Qcm9wZXJ0eShhKXx8KE9iamVjdChvLmxvZ1dhcm4pKCJVbmtub3duIHJlZ2lvbiAnIi5jb25jYXQoYSwiJyBmb3IgQU9MIGJpZGRlci4iKSksYT0idXMiKSxyPWl8fFNbYV0sbi5yZWdpb249YSx0aGlzLmFwcGx5UHJvdG9jb2woUCh7aG9zdDpyLG5ldHdvcms6bi5uZXR3b3JrLHBsYWNlbWVudDpwYXJzZUludChuLnBsYWNlbWVudCkscGFnZWlkOm4ucGFnZUlkfHwwLHNpemVpZDpuLnNpemVJZHx8MCxhbGlhczpuLmFsaWFzfHxPYmplY3Qoby5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLG1pc2M6KG5ldyBEYXRlKS5nZXRUaW1lKCksZHluYW1pY1BhcmFtczp0aGlzLmZvcm1hdE1hcmtldHBsYWNlRHluYW1pY1BhcmFtcyhuLHQpfSkpfSxidWlsZE9uZU1vYmlsZUdldFVybDpmdW5jdGlvbihlLHQpe3ZhciByPWUucGFyYW1zLG49ci5kY24saT1yLnBvcyxhPXIuZXh0OyJvYmplY3QiPT09ZChlLnVzZXJJZCkmJihhPWF8fHt9LGsoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YVsiZWlkIitlLnNvdXJjZV09ZS51aWRzWzBdLmlkfSkpKTt2YXIgbz10aGlzLmJ1aWxkT25lTW9iaWxlQmFzZVVybChlKTtpZihuJiZpKXt2YXIgcz10aGlzLmZvcm1hdE9uZU1vYmlsZUR5bmFtaWNQYXJhbXMoYSx0KTtvKz1FKHtkY246bixwb3M6aSxkeW5hbWljUGFyYW1zOnN9KX1yZXR1cm4gb30sYnVpbGRPbmVNb2JpbGVCYXNlVXJsOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFwcGx5UHJvdG9jb2woaih7aG9zdDplLnBhcmFtcy5ob3N0fHwiYzJzaGIuc3NwLnlhaG9vLmNvbSJ9KSl9LGFwcGx5UHJvdG9jb2w6ZnVuY3Rpb24oZSl7cmV0dXJuL15odHRwcz86XC9cLy9pLnRlc3QoZSk/ZTowPT09ZS5pbmRleE9mKCIvLyIpPyIiLmNvbmNhdChULCI6IikuY29uY2F0KGUpOiIiLmNvbmNhdChULCI6Ly8iKS5jb25jYXQoZSl9LGZvcm1hdE1hcmtldHBsYWNlRHluYW1pY1BhcmFtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXt9O3Uocix0aGlzLmZvcm1hdEtleVZhbHVlcyhlLmtleVZhbHVlcykpLHUocix0aGlzLmZvcm1hdENvbnNlbnREYXRhKHQpKTt2YXIgbj0iIjtyZXR1cm4gT2JqZWN0KG8uX2VhY2gpKHIsKGZ1bmN0aW9uKGUsdCl7bis9IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpLCI7Iil9KSksbn0sZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtczpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTt0aGlzLmlzU2VjdXJlUHJvdG9jb2woKSYmKGUuc2VjdXJlPXgpLHUoZSx0aGlzLmZvcm1hdENvbnNlbnREYXRhKHQpKTt2YXIgcj0iIjtyZXR1cm4gT2JqZWN0KG8uX2VhY2gpKGUsKGZ1bmN0aW9uKGUsdCl7cis9IiYiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSl9KSkscn0sYnVpbGRPcGVuUnRiUmVxdWVzdERhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e2lkOmUucGFyYW1zLmlkLGltcDplLnBhcmFtcy5pbXB9O2lmKHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZCh0KSYmKE9iamVjdChvLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQuZ2RwciIseCksdC5nZHByLmNvbnNlbnRTdHJpbmcmJk9iamVjdChvLmRlZXBTZXRWYWx1ZSkociwidXNlci5leHQuY29uc2VudCIsdC5nZHByLmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJk9iamVjdChvLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KSwib2JqZWN0Ij09PWQoZS51c2VySWQpKXtyLnVzZXI9ci51c2VyfHx7fSxyLnVzZXIuZXh0PXIudXNlci5leHR8fHt9O3ZhciBuPWsoZSk7bi5sZW5ndGg+MCYmKHIudXNlci5leHQuZWlkcz1uKX1yZXR1cm4gcn0saXNFVUNvbnNlbnRSZXF1aXJlZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmdkcHImJmUuZ2Rwci5nZHByQXBwbGllcyl9LGZvcm1hdEtleVZhbHVlczpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0KG8uX2VhY2gpKGUsKGZ1bmN0aW9uKGUscil7dFsia3YiLmNvbmNhdChyKV09ZX0pKSx0fSxmb3JtYXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdGhpcy5pc0VVQ29uc2VudFJlcXVpcmVkKGUpJiYodC5nZHByPXgsZS5nZHByLmNvbnNlbnRTdHJpbmcmJih0LmV1Y29uc2VudD1lLmdkcHIuY29uc2VudFN0cmluZykpLGUudXNwQ29uc2VudCYmKHQudXNfcHJpdmFjeT1lLnVzcENvbnNlbnQpLHR9LHBhcnNlUGl4ZWxJdGVtczpmdW5jdGlvbihlKXt2YXIgdD0vXHcqKD89XHMpLyxyPS9zcmM9KCJ8JykoLio/KVwxLyxuPVtdO2lmKGUpe3ZhciBpPWUubWF0Y2goLyhpbWd8aWZyYW1lKVtcc1xTXSo/c3JjXHMqPVxzKigifCcpKC4qPylcMi9naSk7aSYmaS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgaT1lLm1hdGNoKHQpWzBdLGE9ZS5tYXRjaChyKVsyXTtpJiZhJiZuLnB1c2goe3R5cGU6aT09PXkuVEFHP3kuVFlQRTpnLlRZUEUsdXJsOmF9KX0pKX1yZXR1cm4gbn0sX3BhcnNlQmlkUmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcixuO3RyeXtyPWUuc2VhdGJpZFswXS5iaWRbMF19Y2F0Y2goZSl7cmV0dXJufWlmKHIuZXh0JiZyLmV4dC5lbmNwKW49ci5leHQuZW5jcDtlbHNlIGlmKG51bGw9PT0obj1yLnByaWNlKXx8aXNOYU4obikpcmV0dXJuIHZvaWQgT2JqZWN0KG8ubG9nRXJyb3IpKCJJbnZhbGlkIHByaWNlIGluIGJpZCByZXNwb25zZSIsbCxyKTtyZXR1cm57YmlkZGVyQ29kZTp0LmJpZGRlckNvZGUscmVxdWVzdElkOnQuYmlkSWQsYWQ6ci5hZG0sY3BtOm4sd2lkdGg6ci53LGhlaWdodDpyLmgsY3JlYXRpdmVJZDpyLmNyaWR8fDAscHViYXBpSWQ6ZS5pZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsZGVhbElkOnIuZGVhbGlkLG5ldFJldmVudWU6ITAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ciYmci5hZG9tYWluP3IuYWRvbWFpbjpbXX0sdHRsOnQudHRsfX0saXNPbmVNb2JpbGVCaWRkZXI6SSxpc1NlY3VyZVByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuImh0dHBzOiI9PT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH19O09iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShxKX19LFsyNzldKTsKdXBianNDaHVuayhbMzMzXSx7Mjg5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCgyOTApfSwyOTA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBFfSkpO3ZhciBhPXQoMCksbj10KDEzKSxpPXQoMykscz10KDEpLG89dCgyKSxkPXQoMjMpLGM9dCgxMSkscD10Lm4oYyksdT10KDEyKSxsPXQubih1KSxtPXQoMjIpLGY9dCg3KTtmdW5jdGlvbiBiKGUpe3JldHVybihiPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gdigpe3JldHVybih2PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGEgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSYmKGVbYV09dFthXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gZyhlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBnKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsYT1uZXcgQXJyYXkocik7dDxyO3QrKylhW3RdPWVbdF07cmV0dXJuIGF9dmFyIGg9ImFwcG5leHVzIixfPSJodHRwczovL2liLmFkbnhzLmNvbS91dC92My9wcmViaWQiLGs9Imh0dHBzOi8vaWIuYWRueHMtc2ltcGxlLmNvbS91dC92My9wcmViaWQiLE89WyJpZCIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwcGFibGUiLCJwbGF5YmFja19tZXRob2QiLCJmcmFtZXdvcmtzIiwiY29udGV4dCIsInNraXBvZmZzZXQiXSxqPVsibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInNraXAiLCJza2lwYWZ0ZXIiLCJwbGF5YmFja21ldGhvZCIsImFwaSJdLEk9WyJhZ2UiLCJleHRlcm5hbFVpZCIsInNlZ21lbnRzIiwiZ2VuZGVyIiwiZG50IiwibGFuZ3VhZ2UiXSxBPVsiZ2VvIiwiZGV2aWNlX2lkIl0sdz1bImVuYWJsZWQiLCJkb25nbGUiLCJtZW1iZXJfaWQiLCJkZWJ1Z190aW1lb3V0Il0seD17cGxheWJhY2tfbWV0aG9kOnt1bmtub3duOjAsYXV0b19wbGF5X3NvdW5kX29uOjEsYXV0b19wbGF5X3NvdW5kX29mZjoyLGNsaWNrX3RvX3BsYXk6Myxtb3VzZV9vdmVyOjQsYXV0b19wbGF5X3NvdW5kX3Vua25vd246NX0sY29udGV4dDp7dW5rbm93bjowLHByZV9yb2xsOjEsbWlkX3JvbGw6Mixwb3N0X3JvbGw6MyxvdXRzdHJlYW06NCwiaW4tYmFubmVyIjo1fX0sQz17Ym9keToiZGVzY3JpcHRpb24iLGJvZHkyOiJkZXNjMiIsY3RhOiJjdGF0ZXh0IixpbWFnZTp7c2VydmVyTmFtZToibWFpbl9pbWFnZSIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0saWNvbjp7c2VydmVyTmFtZToiaWNvbiIscmVxdWlyZWRQYXJhbXM6e3JlcXVpcmVkOiEwfX0sc3BvbnNvcmVkQnk6InNwb25zb3JlZF9ieSIscHJpdmFjeUxpbms6InByaXZhY3lfbGluayIsc2FsZVByaWNlOiJzYWxlcHJpY2UiLGRpc3BsYXlVcmw6ImRpc3BsYXl1cmwifSxTPS9cL1wvY2RuXC5hZG54c1wuY29tXC92fFwvXC9jZG5cLmFkbnhzXC1zaW1wbGVcLmNvbVwvdi8sVD1PYmplY3QoZi5iKSgzMixoKSxFPXtjb2RlOmgsZ3ZsaWQ6MzIsYWxpYXNlczpbe2NvZGU6ImFwcG5leHVzQXN0IixndmxpZDozMn0se2NvZGU6ImJyZWFsdGltZSJ9LHtjb2RlOiJlbXhkaWdpdGFsIixndmxpZDoxODN9LHtjb2RlOiJwYWdlc2NpZW5jZSJ9LHtjb2RlOiJkZWZ5bWVkaWEifSx7Y29kZToiZ291cm1ldGFkcyJ9LHtjb2RlOiJtYXRvbXkifSx7Y29kZToiZmVhdHVyZWZvcndhcmQifSx7Y29kZToib2Z0bWVkaWEifSx7Y29kZToiZGlzdHJpY3RtIixndmxpZDoxNDR9LHtjb2RlOiJhZGFzdGEifSx7Y29kZToiYmVpbnRvbyIsZ3ZsaWQ6NjE4fSx7Y29kZToidGFyZ2V0VmlkZW8ifV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uZCxvLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5tZW1iZXImJmUucGFyYW1zLmludkNvZGUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5tYXAocSksbj1wKCkoZSxNKSxzPXt9OyEwPT09aS5iLmdldENvbmZpZygiY29wcGEiKSYmKHM9e2NvcHBhOiEwfSksbiYmT2JqZWN0LmtleXMobi5wYXJhbXMudXNlcikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKEksZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KGEuY29udmVydENhbWVsVG9VbmRlcnNjb3JlKShlKTtpZigic2VnbWVudHMiPT09ZSYmT2JqZWN0KGEuaXNBcnJheSkobi5wYXJhbXMudXNlcltlXSkpe3ZhciB0PVtdO24ucGFyYW1zLnVzZXJbZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KGEuaXNOdW1iZXIpKGUpP3QucHVzaCh7aWQ6ZX0pOk9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUpJiZ0LnB1c2goZSl9KSksc1tyXT10fWVsc2Uic2VnbWVudHMiIT09ZSYmKHNbcl09bi5wYXJhbXMudXNlcltlXSl9KSk7dmFyIG8sZD1wKCkoZSxCKTtkJiZkLnBhcmFtcyYmZC5wYXJhbXMuYXBwJiYobz17fSxPYmplY3Qua2V5cyhkLnBhcmFtcy5hcHApLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShBLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBvW2VdPWQucGFyYW1zLmFwcFtlXX0pKSk7dmFyIGMsdT1wKCkoZSxWKTt1JiZ1LnBhcmFtcyYmZC5wYXJhbXMuYXBwJiZkLnBhcmFtcy5hcHAuaWQmJihjPXthcHBpZDp1LnBhcmFtcy5hcHAuaWR9KTt2YXIgbT17fSxmPXt9LGI9VC5nZXRDb29raWUoImFwbl9wcmViaWRfZGVidWciKXx8bnVsbDtpZihiKXRyeXttPUpTT04ucGFyc2UoYil9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIENvb2tpZSBFcnJvcjpcblxuIitlKX1lbHNle3ZhciB2PXAoKShlLEYpO3YmJnYuZGVidWcmJihtPXYuZGVidWcpfW0mJm0uZW5hYmxlZCYmT2JqZWN0LmtleXMobSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKHcsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZltlXT1tW2VdfSkpO3ZhciBnPXAoKShlLEQpLGg9Zz9wYXJzZUludChnLnBhcmFtcy5tZW1iZXIsMTApOjAsTz1lWzBdLnNjaGFpbixqPXAoKShlLFcpLHg9e3RhZ3M6eSh0KSx1c2VyOnMsc2RrOntzb3VyY2U6InBianMiLHZlcnNpb246IjUuMjAuMiJ9LHNjaGFpbjpPfTtpZihqJiYoeC5pYWJfc3VwcG9ydD17b21pZHBuOiJBcHBuZXh1cyIsb21pZHB2OiI1LjIwLjIifSksaD4wJiYoeC5tZW1iZXJfaWQ9aCksZCYmKHguZGV2aWNlPW8pLHUmJih4LmFwcD1jKSxpLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikmJih4LmJyYW5kX2NhdGVnb3J5X3VuaXF1ZW5lc3M9ITApLGYuZW5hYmxlZCYmKHguZGVidWc9ZixPYmplY3QoYS5sb2dJbmZvKSgiQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBTZXR0aW5nczpcblxuIitKU09OLnN0cmluZ2lmeShmLG51bGwsNCkpKSxyJiZyLmdkcHJDb25zZW50JiYoeC5nZHByX2NvbnNlbnQ9e2NvbnNlbnRfc3RyaW5nOnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50X3JlcXVpcmVkOnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9LHIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50JiYtMSE9PXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LmluZGV4T2YoIn4iKSkpe3ZhciBDPXIuZ2RwckNvbnNlbnQuYWRkdGxDb25zZW50LFM9Qy5zdWJzdHJpbmcoQy5pbmRleE9mKCJ+IikrMSk7eC5nZHByX2NvbnNlbnQuYWRkdGxfY29uc2VudD1TLnNwbGl0KCIuIikubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxMCl9KSl9aWYociYmci51c3BDb25zZW50JiYoeC51c19wcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyl7dmFyIEU9e3JkX3JlZjplbmNvZGVVUklDb21wb25lbnQoci5yZWZlcmVySW5mby5yZWZlcmVyKSxyZF90b3A6ci5yZWZlcmVySW5mby5yZWFjaGVkVG9wLHJkX2lmczpyLnJlZmVyZXJJbmZvLm51bUlmcmFtZXMscmRfc3RrOnIucmVmZXJlckluZm8uc3RhY2subWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpLmpvaW4oIiwiKX07eC5yZWZlcnJlcl9kZXRlY3Rpb249RX1pZihwKCkoZSxKKSYmZS5maWx0ZXIoSikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLm1lZGlhVHlwZXMudmlkZW8sbj10LmR1cmF0aW9uUmFuZ2VTZWMsaT10LnJlcXVpcmVFeGFjdER1cmF0aW9uLHM9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZFBvZER1cmF0aW9uU2VjLHQ9ZS5kdXJhdGlvblJhbmdlU2VjLG49ZS5yZXF1aXJlRXhhY3REdXJhdGlvbixpPU9iamVjdChhLmdldE1pblZhbHVlRnJvbUFycmF5KSh0KSxzPU1hdGguZmxvb3Ioci9pKTtyZXR1cm4gbj9NYXRoLm1heChzLHQubGVuZ3RoKTpzfShyLm1lZGlhVHlwZXMudmlkZW8pLG89T2JqZWN0KGEuZ2V0TWF4VmFsdWVGcm9tQXJyYXkpKG4pLGQ9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQ9PT1yLmJpZElkfSkpLGM9YS5maWxsLmFwcGx5KHZvaWQgMCx5KGQpLmNvbmNhdChbc10pKTtpZihpKXt2YXIgcD1NYXRoLmNlaWwocy9uLmxlbmd0aCksdT1PYmplY3QoYS5jaHVuaykoYyxwKTtuLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dVtyXS5tYXAoKGZ1bmN0aW9uKHIpe0gociwibWluZHVyYXRpb24iLGUpLEgociwibWF4ZHVyYXRpb24iLGUpfSkpfSkpfWVsc2UgYy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBIKGUsIm1heGR1cmF0aW9uIixvKX0pKTtyZXR1cm4gY30odCxlKSxuPXgudGFncy5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiByLnV1aWQhPT1lLmJpZElkfSkpO3gudGFncz1bXS5jb25jYXQoeShuKSx5KHIpKX0pKSxlWzBdLnVzZXJJZCl7dmFyIFI9W107SyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5mbG9jSWQuaWQiKSwiY2hyb21lLmNvbSIsbnVsbCksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5jcml0ZW9JZCIpLCJjcml0ZW8uY29tIixudWxsKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLm5ldElkIiksIm5ldGlkLmRlIixudWxsKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmlkbF9lbnYiKSwibGl2ZXJhbXAuY29tIixudWxsKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnRkaWQiKSwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpLEsoUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQudWlkMi5pZCIpLCJ1aWRhcGkuY29tIiwiVUlEMiIpLFIubGVuZ3RoJiYoeC5laWRzPVIpfXJldHVybiB0WzBdLnB1Ymxpc2hlcl9pZCYmKHgucHVibGlzaGVyX2lkPXRbMF0ucHVibGlzaGVyX2lkKSxmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e3dpdGhDcmVkZW50aWFsczohMH0scz1fO04ocil8fChzPWspOyJUUlVFIiE9PU9iamVjdChhLmdldFBhcmFtZXRlckJ5TmFtZSkoImFwbl90ZXN0IikudG9VcHBlckNhc2UoKSYmITAhPT1pLmIuZ2V0Q29uZmlnKCJhcG5fdGVzdCIpfHwobi5jdXN0b21IZWFkZXJzPXsiWC1Jcy1UZXN0IjoxfSk7aWYoZS50YWdzLmxlbmd0aD4xNSl7dmFyIG89T2JqZWN0KGEuZGVlcENsb25lKShlKTtPYmplY3QoYS5jaHVuaykoZS50YWdzLDE1KS5mb3JFYWNoKChmdW5jdGlvbihlKXtvLnRhZ3M9ZTt2YXIgYT1KU09OLnN0cmluZ2lmeShvKTt0LnB1c2goe21ldGhvZDoiUE9TVCIsdXJsOnMsZGF0YTphLGJpZGRlclJlcXVlc3Q6cixvcHRpb25zOm59KX0pKX1lbHNle3ZhciBkPUpTT04uc3RyaW5naWZ5KGUpO3Q9e21ldGhvZDoiUE9TVCIsdXJsOnMsZGF0YTpkLGJpZGRlclJlcXVlc3Q6cixvcHRpb25zOm59fXJldHVybiB0fSh4LHIpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXRoaXMsaT1yLmJpZGRlclJlcXVlc3Q7ZT1lLmJvZHk7dmFyIGQ9W107aWYoIWV8fGUuZXJyb3Ipe3ZhciBjPSJpbiByZXNwb25zZSBmb3IgIi5jb25jYXQoaS5iaWRkZXJDb2RlLCIgYWRhcHRlciIpO3JldHVybiBlJiZlLmVycm9yJiYoYys9IjogIi5jb25jYXQoZS5lcnJvcikpLE9iamVjdChhLmxvZ0Vycm9yKShjKSxkfWlmKGUudGFncyYmZS50YWdzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByLGM9KHI9ZSkmJnIuYWRzJiZyLmFkcy5sZW5ndGgmJnAoKShyLmFkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUucnRifSkpO2lmKGMmJjAhPT1jLmNwbSYmbCgpKHQuc3VwcG9ydGVkTWVkaWFUeXBlcyxjLmFkX3R5cGUpKXt2YXIgdT1mdW5jdGlvbihlLHIsdCl7dmFyIGk9T2JqZWN0KGEuZ2V0QmlkUmVxdWVzdCkoZS51dWlkLFt0XSksZD17cmVxdWVzdElkOmUudXVpZCxjcG06ci5jcG0sY3JlYXRpdmVJZDpyLmNyZWF0aXZlX2lkLGRlYWxJZDpyLmRlYWxfaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzAwLGFkVW5pdENvZGU6aS5hZFVuaXRDb2RlLGFwcG5leHVzOntidXllck1lbWJlcklkOnIuYnV5ZXJfbWVtYmVyX2lkLGRlYWxQcmlvcml0eTpyLmRlYWxfcHJpb3JpdHksZGVhbENvZGU6ci5kZWFsX2NvZGV9fTtyLmFkb21haW4mJihkLm1ldGE9dih7fSxkLm1ldGEse2FkdmVydGlzZXJEb21haW5zOltdfSkpO3IuYWR2ZXJ0aXNlcl9pZCYmKGQubWV0YT12KHt9LGQubWV0YSx7YWR2ZXJ0aXNlcklkOnIuYWR2ZXJ0aXNlcl9pZH0pKTtyLmJyYW5kX2lkJiYoZC5tZXRhPXYoe30sZC5tZXRhLHticmFuZElkOnIuYnJhbmRfaWR9KSk7aWYoci5ydGIudmlkZW8pe3N3aXRjaCh2KGQse3dpZHRoOnIucnRiLnZpZGVvLnBsYXllcl93aWR0aCxoZWlnaHQ6ci5ydGIudmlkZW8ucGxheWVyX2hlaWdodCx2YXN0SW1wVXJsOnIubm90aWZ5X3VybCx0dGw6MzYwMH0pLE9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXtjYXNlIG8uYTp2YXIgYz1PYmplY3Qocy5nZXRJYWJTdWJDYXRlZ29yeSkoaS5iaWRkZXIsci5icmFuZF9jYXRlZ29yeV9pZCk7ZC5tZXRhPXYoe30sZC5tZXRhLHtwcmltYXJ5Q2F0SWQ6Y30pO3ZhciB1PXIuZGVhbF9wcmlvcml0eTtkLnZpZGVvPXtjb250ZXh0Om8uYSxkdXJhdGlvblNlY29uZHM6TWF0aC5mbG9vcihyLnJ0Yi52aWRlby5kdXJhdGlvbl9tcy8xZTMpLGRlYWxUaWVyOnV9LGQudmFzdFVybD1yLnJ0Yi52aWRlby5hc3NldF91cmw7YnJlYWs7Y2FzZSBtLmI6aWYoZC5hZFJlc3BvbnNlPWUsZC5hZFJlc3BvbnNlLmFkPWQuYWRSZXNwb25zZS5hZHNbMF0sZC5hZFJlc3BvbnNlLmFkLnZpZGVvPWQuYWRSZXNwb25zZS5hZC5ydGIudmlkZW8sZC52YXN0WG1sPXIucnRiLnZpZGVvLmNvbnRlbnQsci5yZW5kZXJlcl91cmwpe3ZhciBsPXAoKSh0LmJpZHMsKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZS51dWlkfSkpLGY9T2JqZWN0KGEuZGVlcEFjY2VzcykobCwicmVuZGVyZXIub3B0aW9ucyIpO2QucmVuZGVyZXI9ZnVuY3Rpb24oZSxyKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30saT1uLmEuaW5zdGFsbCh7aWQ6ci5yZW5kZXJlcl9pZCx1cmw6ci5yZW5kZXJlcl91cmwsY29uZmlnOnQsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXtpLnNldFJlbmRlcihMKX1jYXRjaChlKXtPYmplY3QoYS5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gaS5zZXRFdmVudEhhbmRsZXJzKHtpbXByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChhLmxvZ01lc3NhZ2UpKCJBcHBOZXh1cyBvdXRzdHJlYW0gdmlkZW8gaW1wcmVzc2lvbiBldmVudCIpfSxsb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGEubG9nTWVzc2FnZSkoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoYS5sb2dNZXNzYWdlKSgiQXBwTmV4dXMgb3V0c3RyZWFtIHJlbmRlcmVyIHZpZGVvIGV2ZW50IiksZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiIyIuY29uY2F0KGUpKS5zdHlsZS5kaXNwbGF5PSJub25lIn19KSxpfShkLmFkVW5pdENvZGUscixmKX1icmVhaztjYXNlIG0uYTpkLnZhc3RVcmw9ci5ub3RpZnlfdXJsKyImcmVkaXI9IitlbmNvZGVVUklDb21wb25lbnQoci5ydGIudmlkZW8uYXNzZXRfdXJsKX19ZWxzZSBpZihyLnJ0YltvLmNdKXt2YXIgYj1yLnJ0YltvLmNdLHk9ci52aWV3YWJpbGl0eS5jb25maWcucmVwbGFjZSgic3JjPSIsImRhdGEtc3JjPSIpLGc9Yi5qYXZhc2NyaXB0X3RyYWNrZXJzO251bGw9PWc/Zz15Ok9iamVjdChhLmlzU3RyKShnKT9nPVtnLHldOmcucHVzaCh5KSxkW28uY109e3RpdGxlOmIudGl0bGUsYm9keTpiLmRlc2MsYm9keTI6Yi5kZXNjMixjdGE6Yi5jdGF0ZXh0LHJhdGluZzpiLnJhdGluZyxzcG9uc29yZWRCeTpiLnNwb25zb3JlZCxwcml2YWN5TGluazpiLnByaXZhY3lfbGluayxhZGRyZXNzOmIuYWRkcmVzcyxkb3dubG9hZHM6Yi5kb3dubG9hZHMsbGlrZXM6Yi5saWtlcyxwaG9uZTpiLnBob25lLHByaWNlOmIucHJpY2Usc2FsZVByaWNlOmIuc2FsZXByaWNlLGNsaWNrVXJsOmIubGluay51cmwsZGlzcGxheVVybDpiLmRpc3BsYXl1cmwsY2xpY2tUcmFja2VyczpiLmxpbmsuY2xpY2tfdHJhY2tlcnMsaW1wcmVzc2lvblRyYWNrZXJzOmIuaW1wcmVzc2lvbl90cmFja2VycyxqYXZhc2NyaXB0VHJhY2tlcnM6Z30sYi5tYWluX2ltZyYmKGQubmF0aXZlLmltYWdlPXt1cmw6Yi5tYWluX2ltZy51cmwsaGVpZ2h0OmIubWFpbl9pbWcuaGVpZ2h0LHdpZHRoOmIubWFpbl9pbWcud2lkdGh9KSxiLmljb24mJihkLm5hdGl2ZS5pY29uPXt1cmw6Yi5pY29uLnVybCxoZWlnaHQ6Yi5pY29uLmhlaWdodCx3aWR0aDpiLmljb24ud2lkdGh9KX1lbHNle3YoZCx7d2lkdGg6ci5ydGIuYmFubmVyLndpZHRoLGhlaWdodDpyLnJ0Yi5iYW5uZXIuaGVpZ2h0LGFkOnIucnRiLmJhbm5lci5jb250ZW50fSk7dHJ5e2lmKHIucnRiLnRyYWNrZXJzKWZvcih2YXIgaD0wO2g8ci5ydGIudHJhY2tlcnNbMF0uaW1wcmVzc2lvbl91cmxzLmxlbmd0aDtoKyspe3ZhciBfPXIucnRiLnRyYWNrZXJzWzBdLmltcHJlc3Npb25fdXJsc1toXSxrPU9iamVjdChhLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKShfKTtkLmFkKz1rfX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoIkVycm9yIGFwcGVuZGluZyB0cmFja2luZyBwaXhlbCIsZSl9fXJldHVybiBkfShlLGMsaSk7dS5tZWRpYVR5cGU9ZnVuY3Rpb24oZSl7dmFyIHI9ZS5hZF90eXBlO3JldHVybiByPT09by5kP28uZDpyPT09by5jP28uYzpvLmJ9KGMpLGQucHVzaCh1KX19KSksZS5kZWJ1ZyYmZS5kZWJ1Zy5kZWJ1Z19pbmZvKXt2YXIgdT0iQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBmb3IgUHJlYmlkXG5cbiIrZS5kZWJ1Zy5kZWJ1Z19pbmZvO3U9dS5yZXBsYWNlKC8oPHRkPnw8dGg+KS9nbSwiXHQiKS5yZXBsYWNlKC8oPFwvdGQ+fDxcL3RoPikvZ20sIlxuIikucmVwbGFjZSgvXjxicj4vZ20sIiIpLnJlcGxhY2UoLyg8YnI+XG58PGJyPikvZ20sIlxuIikucmVwbGFjZSgvPGgxPiguKik8XC9oMT4vZ20sIlxuXG49PT09PSAkMSA9PT09PVxuXG4iKS5yZXBsYWNlKC88aFsyLTZdPiguKik8XC9oWzItNl0+L2dtLCJcblxuKioqICQxICoqKlxuXG4iKS5yZXBsYWNlKC8oPChbXj5dKyk+KS9naW0sIiIpLE9iamVjdChhLmxvZ01lc3NhZ2UpKCJodHRwczovL2NvbnNvbGUuYXBwbmV4dXMuY29tL2RvY3MvdW5kZXJzdGFuZGluZy10aGUtZGVidWctYXVjdGlvbiIpLE9iamVjdChhLmxvZ01lc3NhZ2UpKHUpfXJldHVybiBkfSxnZXRNYXBwaW5nRmlsZUluZm86ZnVuY3Rpb24oKXtyZXR1cm57dXJsOiJodHRwczovL2FjZG4uYWRueHMtc2ltcGxlLmNvbS9wcmViaWQvYXBwbmV4dXMtbWFwcGluZy9tYXBwaW5ncy5qc29uIixyZWZyZXNoSW5EYXlzOjJ9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQpe2lmKGUuaWZyYW1lRW5hYmxlZCYmTih7Z2RwckNvbnNlbnQ6dH0pKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vZG1wL2FzeW5jX3VzZXJzeW5jLmh0bWwifV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBlPU9iamVjdChhLmNvbnZlcnRUeXBlcykoe21lbWJlcjoic3RyaW5nIixpbnZDb2RlOiJzdHJpbmciLHBsYWNlbWVudElkOiJudW1iZXIiLGtleXdvcmRzOmEudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyxwdWJsaXNoZXJJZDoibnVtYmVyIn0sZSksciYmKGUudXNlX3BtdF9ydWxlPSJib29sZWFuIj09dHlwZW9mIGUudXNlUGF5bWVudFJ1bGUmJmUudXNlUGF5bWVudFJ1bGUsZS51c2VQYXltZW50UnVsZSYmZGVsZXRlIGUudXNlUGF5bWVudFJ1bGUsUihlLmtleXdvcmRzKSYmZS5rZXl3b3Jkcy5mb3JFYWNoKFApLE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciB0PU9iamVjdChhLmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZSkocik7dCE9PXImJihlW3RdPWVbcl0sZGVsZXRlIGVbcl0pfSkpKSxlfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtlLm5hdGl2ZSYmZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI7aWYoT2JqZWN0KGEuaXNTdHIpKGUpJiZVKGUpKXI9ZTtlbHNlIGlmKE9iamVjdChhLmlzQXJyYXkpKGUpKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO1UobikmJihyPW4pfXJldHVybiByfShlLm5hdGl2ZS5qYXZhc2NyaXB0VHJhY2tlcnMpO2lmKHIpZm9yKHZhciB0PSJwYmpzX2FkaWQ9IitlLmFkSWQrIjtwYmpzX2F1Yz0iK2UuYWRVbml0Q29kZSxuPWZ1bmN0aW9uKGUpe3ZhciByPWUuaW5kZXhPZignc3JjPSInKSs1LHQ9ZS5pbmRleE9mKCciJyxyKTtyZXR1cm4gZS5zdWJzdHJpbmcocix0KX0ociksaT1uLnJlcGxhY2UoImRvbV9pZD0lbmF0aXZlX2RvbV9pZCUiLHQpLHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpLG89ITEsZD0wO2Q8cy5sZW5ndGgmJiFvO2QrKyl7dmFyIGM9c1tkXTt0cnl7dmFyIHA9Yy5jb250ZW50RG9jdW1lbnR8fGMuY29udGVudFdpbmRvdy5kb2N1bWVudDtpZihwKWZvcih2YXIgdT1wLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxsPTA7bDx1Lmxlbmd0aCYmIW87bCsrKXt2YXIgbT11W2xdO20uZ2V0QXR0cmlidXRlKCJkYXRhLXNyYyIpPT1uJiYobS5zZXRBdHRyaWJ1dGUoInNyYyIsaSksbS5zZXRBdHRyaWJ1dGUoImRhdGEtc3JjIiwiIiksbS5yZW1vdmVBdHRyaWJ1dGUmJm0ucmVtb3ZlQXR0cmlidXRlKCJkYXRhLXNyYyIpLG89ITApfX1jYXRjaChlKXtpZighKGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJiJTZWN1cml0eUVycm9yIj09PWUubmFtZSkpdGhyb3cgZX19fShlKX19O2Z1bmN0aW9uIFIoZSl7cmV0dXJuISEoT2JqZWN0KGEuaXNBcnJheSkoZSkmJmUubGVuZ3RoPjApfWZ1bmN0aW9uIFAoZSl7UihlLnZhbHVlKSYmIiI9PT1lLnZhbHVlWzBdJiZkZWxldGUgZS52YWx1ZX1mdW5jdGlvbiBVKGUpe3ZhciByPWUubWF0Y2goUyksdD1udWxsIT1yJiZyLmxlbmd0aD49MSxhPWUubWF0Y2goInRyay5qcyIpLG49bnVsbCE9YSYmYS5sZW5ndGg+PTE7cmV0dXJuIGUuc3RhcnRzV2l0aCgiPHNjcmlwdCIpJiZuJiZ0fWZ1bmN0aW9uIE4oZSl7dmFyIHI9ITA7cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJjI9PT1lLmdkcHJDb25zZW50LmFwaVZlcnNpb24mJihyPSEoITAhPT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLmdkcHJDb25zZW50LCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSkscn1mdW5jdGlvbiBxKGUpe3ZhciByPXt9O3Iuc2l6ZXM9eihlLnNpemVzKSxyLnByaW1hcnlfc2l6ZT1yLnNpemVzWzBdLHIuYWRfdHlwZXM9W10sci51dWlkPWUuYmlkSWQsZS5wYXJhbXMucGxhY2VtZW50SWQ/ci5pZD1wYXJzZUludChlLnBhcmFtcy5wbGFjZW1lbnRJZCwxMCk6ci5jb2RlPWUucGFyYW1zLmludkNvZGUsci5hbGxvd19zbWFsbGVyX3NpemVzPWUucGFyYW1zLmFsbG93U21hbGxlclNpemVzfHwhMSxyLnVzZV9wbXRfcnVsZT1lLnBhcmFtcy51c2VQYXltZW50UnVsZXx8ITEsci5wcmViaWQ9ITAsci5kaXNhYmxlX3BzYT0hMDt2YXIgdD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLnJlc2VydmU/ZS5wYXJhbXMucmVzZXJ2ZTpudWxsO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoYS5pc1BsYWluT2JqZWN0KShyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpO2lmKHQmJihyLnJlc2VydmU9dCksZS5wYXJhbXMucG9zaXRpb24mJihyLnBvc2l0aW9uPXthYm92ZToxLGJlbG93OjJ9W2UucGFyYW1zLnBvc2l0aW9uXXx8MCksZS5wYXJhbXMudHJhZmZpY1NvdXJjZUNvZGUmJihyLnRyYWZmaWNfc291cmNlX2NvZGU9ZS5wYXJhbXMudHJhZmZpY1NvdXJjZUNvZGUpLGUucGFyYW1zLnByaXZhdGVTaXplcyYmKHIucHJpdmF0ZV9zaXplcz16KGUucGFyYW1zLnByaXZhdGVTaXplcykpLGUucGFyYW1zLnN1cHBseVR5cGUmJihyLnN1cHBseV90eXBlPWUucGFyYW1zLnN1cHBseVR5cGUpLGUucGFyYW1zLnB1YkNsaWNrJiYoci5wdWJjbGljaz1lLnBhcmFtcy5wdWJDbGljayksZS5wYXJhbXMuZXh0SW52Q29kZSYmKHIuZXh0X2ludl9jb2RlPWUucGFyYW1zLmV4dEludkNvZGUpLGUucGFyYW1zLnB1Ymxpc2hlcklkJiYoci5wdWJsaXNoZXJfaWQ9cGFyc2VJbnQoZS5wYXJhbXMucHVibGlzaGVySWQsMTApKSxlLnBhcmFtcy5leHRlcm5hbEltcElkJiYoci5leHRlcm5hbF9pbXBfaWQ9ZS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCksIU9iamVjdChhLmlzRW1wdHkpKGUucGFyYW1zLmtleXdvcmRzKSl7dmFyIG49T2JqZWN0KGEudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcykoZS5wYXJhbXMua2V5d29yZHMpO24ubGVuZ3RoPjAmJm4uZm9yRWFjaChQKSxyLmtleXdvcmRzPW59dmFyIGkscyxjPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7aWYoYyYmKHIuZ3BpZD1jKSwoZS5tZWRpYVR5cGU9PT1vLmN8fE9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5jKSkpJiYoci5hZF90eXBlcy5wdXNoKG8uYyksMD09PXIuc2l6ZXMubGVuZ3RoJiYoci5zaXplcz16KFsxLDFdKSksZS5uYXRpdmVQYXJhbXMpKXt2YXIgdT0oaT1lLm5hdGl2ZVBhcmFtcyxzPXt9LE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPUNbZV0mJkNbZV0uc2VydmVyTmFtZXx8Q1tlXXx8ZSx0PUNbZV0mJkNbZV0ucmVxdWlyZWRQYXJhbXM7aWYoc1tyXT12KHt9LHQsaVtlXSksKHI9PT1DLmltYWdlLnNlcnZlck5hbWV8fHI9PT1DLmljb24uc2VydmVyTmFtZSkmJnNbcl0uc2l6ZXMpe3ZhciBuPXNbcl0uc2l6ZXM7KE9iamVjdChhLmlzQXJyYXlPZk51bXMpKG4pfHxPYmplY3QoYS5pc0FycmF5KShuKSYmbi5sZW5ndGg+MCYmbi5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzQXJyYXlPZk51bXMpKGUpfSkpKSYmKHNbcl0uc2l6ZXM9eihzW3JdLnNpemVzKSl9cj09PUMucHJpdmFjeUxpbmsmJihzLnByaXZhY3lfc3VwcG9ydGVkPSEwKX0pKSxzKTtyW28uY109e2xheW91dHM6W3VdfX12YXIgbT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KG8uZCkpLGY9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7ci5oYl9zb3VyY2U9bSYmImFkcG9kIj09PWY/NzoxLChlLm1lZGlhVHlwZT09PW8uZHx8bSkmJnIuYWRfdHlwZXMucHVzaChvLmQpLChlLm1lZGlhVHlwZT09PW8uZHx8bSYmIm91dHN0cmVhbSIhPT1mKSYmKHIucmVxdWlyZV9hc3NldF91cmw9ITApLGUucGFyYW1zLnZpZGVvJiYoci52aWRlbz17fSxPYmplY3Qua2V5cyhlLnBhcmFtcy52aWRlbykuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKE8sZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UiY29udGV4dCI6Y2FzZSJwbGF5YmFja19tZXRob2QiOnZhciBuPWUucGFyYW1zLnZpZGVvW3RdO249T2JqZWN0KGEuaXNBcnJheSkobik/blswXTpuLHIudmlkZW9bdF09eFt0XVtuXTticmVhaztjYXNlImZyYW1ld29ya3MiOmJyZWFrO2RlZmF1bHQ6ci52aWRlb1t0XT1lLnBhcmFtcy52aWRlb1t0XX19KSksZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkoZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykmJihyLnZpZGVvX2ZyYW1ld29ya3M9ZS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykpLG0mJihyLnZpZGVvPXIudmlkZW98fHt9LE9iamVjdC5rZXlzKG0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShqLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIm1pbmR1cmF0aW9uIjpjYXNlIm1heGR1cmF0aW9uIjoibnVtYmVyIiE9dHlwZW9mIHIudmlkZW9bZV0mJihyLnZpZGVvW2VdPW1bZV0pO2JyZWFrO2Nhc2Uic2tpcCI6ImJvb2xlYW4iIT10eXBlb2Ygci52aWRlby5za2lwcGFibGUmJihyLnZpZGVvLnNraXBwYWJsZT0xPT09bVtlXSk7YnJlYWs7Y2FzZSJza2lwYWZ0ZXIiOiJudW1iZXIiIT10eXBlb2Ygci52aWRlby5za2lwb2Zmc2V0JiYoci52aWRlby5za2lwcG9mZnNldD1tW2VdKTticmVhaztjYXNlInBsYXliYWNrbWV0aG9kIjppZigibnVtYmVyIiE9dHlwZW9mIHIudmlkZW8ucGxheWJhY2tfbWV0aG9kKXt2YXIgdD1tW2VdOyh0PU9iamVjdChhLmlzQXJyYXkpKHQpP3RbMF06dCk+PTEmJnQ8PTQmJihyLnZpZGVvLnBsYXliYWNrX21ldGhvZD10KX1icmVhaztjYXNlImFwaSI6aWYoIXIudmlkZW9fZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkobVtlXSkpe3ZhciBuPW1bZV0ubWFwKChmdW5jdGlvbihlKXt2YXIgcj00PT09ZT81OjU9PT1lPzQ6ZTtpZihyPj0xJiZyPD01KXJldHVybiByfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk7ci52aWRlb19mcmFtZXdvcmtzPW59fX0pKSksZS5yZW5kZXJlciYmKHIudmlkZW89dih7fSxyLnZpZGVvLHtjdXN0b21fcmVuZGVyZXJfcHJlc2VudDohMH0pKSxlLnBhcmFtcy5mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KShlLnBhcmFtcy5mcmFtZXdvcmtzKSYmKHIuYmFubmVyX2ZyYW1ld29ya3M9ZS5wYXJhbXMuZnJhbWV3b3Jrcyk7dmFyIGI9cCgpKGQuYS5nZXRBZFVuaXRzKCksKGZ1bmN0aW9uKHIpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yLnRyYW5zYWN0aW9uSWR9KSk7cmV0dXJuIGImJmIubWVkaWFUeXBlcyYmYi5tZWRpYVR5cGVzLmJhbm5lciYmci5hZF90eXBlcy5wdXNoKG8uYiksMD09PXIuYWRfdHlwZXMubGVuZ3RoJiZkZWxldGUgci5hZF90eXBlcyxyfWZ1bmN0aW9uIHooZSl7dmFyIHI9W10sdD17fTtpZihPYmplY3QoYS5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RoJiYhT2JqZWN0KGEuaXNBcnJheSkoZVswXSkpdC53aWR0aD1wYXJzZUludChlWzBdLDEwKSx0LmhlaWdodD1wYXJzZUludChlWzFdLDEwKSxyLnB1c2godCk7ZWxzZSBpZigib2JqZWN0Ij09PWIoZSkpZm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl07KHQ9e30pLndpZHRoPXBhcnNlSW50KGlbMF0sMTApLHQuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApLHIucHVzaCh0KX1yZXR1cm4gcn1mdW5jdGlvbiBNKGUpe3JldHVybiEhZS5wYXJhbXMudXNlcn1mdW5jdGlvbiBEKGUpe3JldHVybiEhcGFyc2VJbnQoZS5wYXJhbXMubWVtYmVyLDEwKX1mdW5jdGlvbiBCKGUpe2lmKGUucGFyYW1zKXJldHVybiEhZS5wYXJhbXMuYXBwfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGUucGFyYW1zJiZlLnBhcmFtcy5hcHA/ISFlLnBhcmFtcy5hcHAuaWQ6ISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gRihlKXtyZXR1cm4hIWUuZGVidWd9ZnVuY3Rpb24gSihlKXtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0PT09by5hfWZ1bmN0aW9uIFcoZSl7dmFyIHI9ITEsdD1lLnBhcmFtcyxuPWUucGFyYW1zLnZpZGVvO3JldHVybiB0LmZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKHQuZnJhbWV3b3JrcykmJihyPWwoKShlLnBhcmFtcy5mcmFtZXdvcmtzLDYpKSwhciYmbiYmbi5mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KShuLmZyYW1ld29ya3MpJiYocj1sKCkoZS5wYXJhbXMudmlkZW8uZnJhbWV3b3Jrcyw2KSkscn1mdW5jdGlvbiBIKGUscix0KXtPYmplY3QoYS5pc0VtcHR5KShlLnZpZGVvKSYmKGUudmlkZW89e30pLGUudmlkZW9bcl09dH1mdW5jdGlvbiBMKGUpe3ZhciByLHQ7cj1lLmFkVW5pdENvZGUsKHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocikucXVlcnlTZWxlY3RvckFsbCgiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpWzBdJiZ0WzBdLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3RyeXt2YXIgcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5xdWVyeVNlbGVjdG9yQWxsKCJzY3JpcHRbaWRePSdzYXNfc2NyaXB0J10iKTtyWzBdLm5leHRTaWJsaW5nJiYiaWZyYW1lIj09PXJbMF0ubmV4dFNpYmxpbmcubG9jYWxOYW1lJiZyWzBdLm5leHRTaWJsaW5nLnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpfWNhdGNoKGUpe319KGUuYWRVbml0Q29kZSksZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YWdJZDplLmFkUmVzcG9uc2UudGFnX2lkLHNpemVzOltlLmdldFNpemUoKS5zcGxpdCgieCIpXSx0YXJnZXRJZDplLmFkVW5pdENvZGUsdXVpZDplLmFkUmVzcG9uc2UudXVpZCxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZSxyZW5kZXJlck9wdGlvbnM6ZS5yZW5kZXJlci5nZXRDb25maWcoKX0sJC5iaW5kKG51bGwsZSkpfSkpfWZ1bmN0aW9uICQoZSxyLHQpe2UucmVuZGVyZXIuaGFuZGxlVmlkZW9FdmVudCh7aWQ6cixldmVudE5hbWU6dH0pfWZ1bmN0aW9uIEsoZSxyLHQsYSl7cmV0dXJuIHImJihhP2UucHVzaCh7c291cmNlOnQsaWQ6cixydGlfcGFydG5lcjphfSk6ZS5wdXNoKHtzb3VyY2U6dCxpZDpyfSkpLGV9T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKEUpfX0sWzI4OV0pOwp1cGJqc0NodW5rKFszMTNdLHszMzM6ZnVuY3Rpb24odCxlLHIpe3QuZXhwb3J0cz1yKDMzNCl9LDMzNDpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQoZSwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIGk9cigwKSxuPXIoMSksbz1yKDIpLGQ9cigzKTtmdW5jdGlvbiBhKHQpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKHQpe3JldHVybiB0eXBlb2YgdH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiB0fSkodCl9dmFyIHU9ImJyaWdodGNvbSIscz17Y29kZTp1LHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24odCl7aWYodC5iaWRkZXIhPT11fHx2b2lkIDA9PT10LnBhcmFtcylyZXR1cm4hMTtpZih2b2lkIDA9PT10LnBhcmFtcy5wdWJsaXNoZXJJZClyZXR1cm4hMTtyZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3RyeXt2YXIgcj0iIjtlJiZlLnJlZmVyZXJJbmZvJiYocj1lLnJlZmVyZXJJbmZvLnJlZmVyZXIpO3ZhciBuPVtdLG89T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJwdWJsaXNoZXJJZCIsdFswXS5wYXJhbXMpO09iamVjdChpLl9lYWNoKSh0LChmdW5jdGlvbih0KXt2YXIgZT10Lm1lZGlhVHlwZXMmJnQubWVkaWFUeXBlcy5iYW5uZXImJnQubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fHQuc2l6ZXMscj0oZT0oZT1PYmplY3QoaS5pc0FycmF5KShlKSYmT2JqZWN0KGkuaXNBcnJheSkoZVswXSk/ZTpbZV0pLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXkpKHQpfSkpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybnt3OnBhcnNlSW50KHRbMF0sMTApLGg6cGFyc2VJbnQodFsxXSwxMCl9fSkpLG89ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5hZFVuaXRDb2RlKSxkPXIucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiBlLmgqZS53PHQuaCp0Lnc/ZTp0fSkpLGE9ZnVuY3Rpb24odCl7cmV0dXJuIWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3QoaS5nZXRXaW5kb3dTZWxmKSgpIT09T2JqZWN0KGkuZ2V0V2luZG93VG9wKSgpfWNhdGNoKHQpe3JldHVybiEwfX0oKSYmbnVsbCE9PXR9KG8pP2Z1bmN0aW9uKHQsZSl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LG89ci5oO3JldHVybiJ2aXNpYmxlIj09PU9iamVjdChpLmdldFdpbmRvd1RvcCkoKS5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/aCh0LGUse3c6bixoOm99KTowfShvLE9iamVjdChpLmdldFdpbmRvd1RvcCkoKSxkKToibmEiLHU9aXNOYU4oYSk/YTpNYXRoLnJvdW5kKGEpLHM9e2lkOnQuYmlkSWQsYmFubmVyOntmb3JtYXQ6cixleHQ6e3ZpZXdhYmlsaXR5OnV9fSx0YWdpZDpTdHJpbmcodC5hZFVuaXRDb2RlKX0sYz1mdW5jdGlvbih0KXtpZighT2JqZWN0KGkuaXNGbikodC5nZXRGbG9vcikpcmV0dXJuIHQucGFyYW1zLmJpZEZsb29yP3QucGFyYW1zLmJpZEZsb29yOm51bGw7dmFyIGU9dC5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKGUpJiYhaXNOYU4oZS5mbG9vcikmJiJVU0QiPT09ZS5jdXJyZW5jeSlyZXR1cm4gZS5mbG9vcjtyZXR1cm4gbnVsbH0odCk7YyYmKHMuYmlkZmxvb3I9Yyksbi5wdXNoKHMpfSkpO3ZhciBhPXtpZDpPYmplY3QoaS5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGltcDpuLHNpdGU6e2RvbWFpbjpPYmplY3QoaS5wYXJzZVVybCkocikuaG9zdCxwYWdlOnIscHVibGlzaGVyOntpZDpvfX0sZGV2aWNlOntkZXZpY2V0eXBlOi8oaW9zfGlwb2R8aXBhZHxpcGhvbmV8YW5kcm9pZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpPzE6LyhzbWFydFstXT90dnxoYmJ0dnxhcHBsZXR2fGdvb2dsZXR2fGhkbWl8bmV0Y2FzdFwudHZ8dmllcmF8bmV0dHZ8cm9rdXxcYmR0dlxifHNvbnlkdHZ8aW5ldHR2YnJvd3NlcnxcYnR2XGIpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KT8zOjIsdzpzY3JlZW4ud2lkdGgsaDpzY3JlZW4uaGVpZ2h0fSx0bWF4OmQuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX07cmV0dXJuIGUmJmUuZ2RwckNvbnNlbnQmJihPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGEsInJlZ3MuZXh0LmdkcHIiLCtlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGEsInVzZXIuZXh0LmNvbnNlbnQiLGUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9icmlnaHRjb21iaWQubWFycGhlemlzLmNvbS9oYiIsZGF0YTpKU09OLnN0cmluZ2lmeShhKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiExfX19Y2F0Y2gocil7T2JqZWN0KGkubG9nRXJyb3IpKHIse2JpZFJlcXM6dCxiaWRkZXJSZXF1ZXN0OmV9KX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKHQpe2lmKCF0LmJvZHl8fCJvYmplY3QiIT1hKHQuYm9keSkpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJCcmlnaHRjb20gc2VydmVyIHJldHVybmVkIGVtcHR5L25vbi1qc29uIHJlc3BvbnNlOiAiK0pTT04uc3RyaW5naWZ5KHQuYm9keSkpLFtdO3ZhciBlPXQuYm9keSxyPWUuaWQsbj1lLnNlYXRiaWQ7dHJ5e3ZhciBkPVtdO3JldHVybiByJiZuJiZuLmxlbmd0aD4wJiZuWzBdLmJpZCYmblswXS5iaWQubGVuZ3RoPjAmJm5bMF0uYmlkLm1hcCgoZnVuY3Rpb24odCl7ZC5wdXNoKHtyZXF1ZXN0SWQ6dC5pbXBpZCxjcG06cGFyc2VGbG9hdCh0LnByaWNlKSx3aWR0aDpwYXJzZUludCh0LncpLGhlaWdodDpwYXJzZUludCh0LmgpLGNyZWF0aXZlSWQ6dC5jcmlkfHx0LmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOm8uYixhZDpjKHQpLHR0bDo2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczp0JiZ0LmFkb21haW4/dC5hZG9tYWluOltdfX0pfSkpLGR9Y2F0Y2godCl7T2JqZWN0KGkubG9nRXJyb3IpKHQse2lkOnIsc2VhdGJpZDpufSl9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24odCxlLHIpe3JldHVybltdfX07ZnVuY3Rpb24gYyh0KXt2YXIgZT10LmFkbTtyZXR1cm4ibnVybCJpbiB0JiYoZSs9T2JqZWN0KGkuY3JlYXRlVHJhY2tQaXhlbEh0bWwpKHQubnVybCkpLGV9ZnVuY3Rpb24gYih0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1lLncsaT1lLmgsbj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89bi53aWR0aCxkPW4uaGVpZ2h0LGE9bi5sZWZ0LHU9bi50b3Ascz1uLnJpZ2h0LGM9bi5ib3R0b207cmV0dXJuKDA9PT1vfHwwPT09ZCkmJnImJmkmJihvPXIsZD1pLHM9YStyLGM9dStpKSx7d2lkdGg6byxoZWlnaHQ6ZCxsZWZ0OmEsdG9wOnUscmlnaHQ6cyxib3R0b206Y319ZnVuY3Rpb24gcCh0KXtmb3IodmFyIGU9e2xlZnQ6dFswXS5sZWZ0LHJpZ2h0OnRbMF0ucmlnaHQsdG9wOnRbMF0udG9wLGJvdHRvbTp0WzBdLmJvdHRvbX0scj0xO3I8dC5sZW5ndGg7KytyKXtpZihlLmxlZnQ9TWF0aC5tYXgoZS5sZWZ0LHRbcl0ubGVmdCksZS5yaWdodD1NYXRoLm1pbihlLnJpZ2h0LHRbcl0ucmlnaHQpLGUubGVmdD49ZS5yaWdodClyZXR1cm4gbnVsbDtpZihlLnRvcD1NYXRoLm1heChlLnRvcCx0W3JdLnRvcCksZS5ib3R0b209TWF0aC5taW4oZS5ib3R0b20sdFtyXS5ib3R0b20pLGUudG9wPj1lLmJvdHRvbSlyZXR1cm4gbnVsbH1yZXR1cm4gZS53aWR0aD1lLnJpZ2h0LWUubGVmdCxlLmhlaWdodD1lLmJvdHRvbS1lLnRvcCxlfWZ1bmN0aW9uIGgodCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30saT1yLncsbj1yLmgsbz1iKHQse3c6aSxoOm59KSxkPXAoW3tsZWZ0OjAsdG9wOjAscmlnaHQ6ZS5pbm5lcldpZHRoLGJvdHRvbTplLmlubmVySGVpZ2h0fSxvXSk7cmV0dXJuIG51bGwhPT1kP2Qud2lkdGgqZC5oZWlnaHQvKG8ud2lkdGgqby5oZWlnaHQpKjEwMDowfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShzKX19LFszMzNdKTsKdXBianNDaHVuayhbMjk3XSx7Mzc2OmZ1bmN0aW9uKG4sdCxlKXtuLmV4cG9ydHM9ZSgzNzcpfSwzNzc6ZnVuY3Rpb24obix0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKHQsImFsbG93QXVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksZS5kKHQsInVzZXJDTVAiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLGUuZCh0LCJjb25zZW50VGltZW91dCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksZS5kKHQsImdkcHJTY29wZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSksZS5kKHQsInN0YXRpY0NvbnNlbnREYXRhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSx0LnJlcXVlc3RCaWRzSG9vaz1qLHQucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe209dm9pZCAwLGY9dm9pZCAwLHY9MCxpLmdkcHJEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShudWxsKX0sdC5zZXRDb25zZW50Q29uZmlnPUE7dmFyIG89ZSgwKSxhPWUoMyksaT1lKDgpLGM9ZSgxMikscj1lLm4oYykscz1lKDgyKSxkPWUubihzKTtmdW5jdGlvbiBsKG4pe3JldHVybihsPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbn06ZnVuY3Rpb24obil7cmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJm4uY29uc3RydWN0b3I9PT1TeW1ib2wmJm4hPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBufSkobil9ZnVuY3Rpb24gdShuLHQsZSl7cmV0dXJuIHQgaW4gbj9PYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHt2YWx1ZTplLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6blt0XT1lLG59dmFyIGYscCxnLGIsbSxDPXt2YWx1ZTp0cnVlLGRlZmluZWRJbkNvbmZpZzohMX0sdj0wLHk9ITEsdz17aWFiOmZ1bmN0aW9uKG4sdCxlKXtmdW5jdGlvbiBhKGEsaSl7T2JqZWN0KG8ubG9nSW5mbykoIlJlY2VpdmVkIGEgcmVzcG9uc2UgZnJvbSBDTVAiLGEpLGk/ITEhPT1hLmdkcHJBcHBsaWVzJiYidGNsb2FkZWQiIT09YS5ldmVudFN0YXR1cyYmInVzZXJhY3Rpb25jb21wbGV0ZSIhPT1hLmV2ZW50U3RhdHVzfHxuKGEsZSk6dCgiQ01QIHVuYWJsZSB0byByZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbi4gIFBsZWFzZSBjaGVjayBDTVAgc2V0dXAuIixlKX12YXIgaT1mdW5jdGlvbigpe3ZhciB0PXt9O2Z1bmN0aW9uIGEoKXt0LmdldENvbnNlbnREYXRhJiZ0LmdldFZlbmRvckNvbnNlbnRzJiYoT2JqZWN0KG8ubG9nSW5mbykoIlJlY2VpdmVkIGFsbCByZXF1ZXN0ZWQgcmVzcG9uc2VzIGZyb20gQ01QIix0KSxuKHQsZSkpfXJldHVybntjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0Q29uc2VudERhdGE9bixhKCl9LHZlbmRvckNvbnNlbnRzQ2FsbGJhY2s6ZnVuY3Rpb24obil7dC5nZXRWZW5kb3JDb25zZW50cz1uLGEoKX19fSgpLGM9e30scj1mdW5jdGlvbigpe2Zvcih2YXIgbix0LGU9d2luZG93OyFuOyl7dHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdGNmYXBpfHwiZnVuY3Rpb24iPT10eXBlb2YgZS5fX2NtcCl7ImZ1bmN0aW9uIj09dHlwZW9mIGUuX190Y2ZhcGk/KHY9Mix0PWUuX190Y2ZhcGkpOih2PTEsdD1lLl9fY21wKSxuPWU7YnJlYWt9fWNhdGNoKG4pe310cnl7aWYoZS5mcmFtZXMuX190Y2ZhcGlMb2NhdG9yKXt2PTIsbj1lO2JyZWFrfX1jYXRjaChuKXt9dHJ5e2lmKGUuZnJhbWVzLl9fY21wTG9jYXRvcil7dj0xLG49ZTticmVha319Y2F0Y2gobil7fWlmKGU9PT13aW5kb3cudG9wKWJyZWFrO2U9ZS5wYXJlbnR9cmV0dXJue2NtcEZyYW1lOm4sY21wRnVuY3Rpb246dH19KCkscz1yLmNtcEZyYW1lLGw9ci5jbXBGdW5jdGlvbjtpZighcylyZXR1cm4gdCgiQ01QIG5vdCBmb3VuZC4iLGUpO09iamVjdChvLmlzRm4pKGwpPyhPYmplY3Qoby5sb2dJbmZvKSgiRGV0ZWN0ZWQgQ01QIEFQSSBpcyBkaXJlY3RseSBhY2Nlc3NpYmxlLCBjYWxsaW5nIGl0IG5vdy4uLiIpLDE9PT12PyhsKCJnZXRDb25zZW50RGF0YSIsbnVsbCxpLmNvbnNlbnREYXRhQ2FsbGJhY2spLGwoImdldFZlbmRvckNvbnNlbnRzIixudWxsLGkudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOjI9PT12JiZsKCJhZGRFdmVudExpc3RlbmVyIix2LGEpKToxPT09diYmd2luZG93LiRzZiYmd2luZG93LiRzZi5leHQmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuJHNmLmV4dC5jbXA/KE9iamVjdChvLmxvZ0luZm8pKCJEZXRlY3RlZCBQcmViaWQuanMgaXMgZW5jYXNlZCBpbiBhIFNhZmVGcmFtZSBhbmQgQ01QIGlzIHJlZ2lzdGVyZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksZigiZ2V0Q29uc2VudERhdGEiLGkuY29uc2VudERhdGFDYWxsYmFjayksZigiZ2V0VmVuZG9yQ29uc2VudHMiLGkudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOihPYmplY3Qoby5sb2dJbmZvKSgiRGV0ZWN0ZWQgQ01QIGlzIG91dHNpZGUgdGhlIGN1cnJlbnQgaWZyYW1lIHdoZXJlIFByZWJpZC5qcyBpcyBsb2NhdGVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLDE9PT12PyhwKCJnZXRDb25zZW50RGF0YSIscyxpLmNvbnNlbnREYXRhQ2FsbGJhY2spLHAoImdldFZlbmRvckNvbnNlbnRzIixzLGkudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOjI9PT12JiZwKCJhZGRFdmVudExpc3RlbmVyIixzLGEpKTtmdW5jdGlvbiBmKG4sdCl7dmFyIGE9ZS5hZFVuaXRzLGk9MSxjPTE7aWYoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCl7dmFyIHI9T2JqZWN0KG8uZ2V0QWRVbml0U2l6ZXMpKGFbMF0pO2k9clswXVswXSxjPXJbMF1bMV19d2luZG93LiRzZi5leHQucmVnaXN0ZXIoaSxjLChmdW5jdGlvbihlLG8pe2lmKCJjbXBSZXR1cm4iPT09ZSl7dmFyIGE9ImdldENvbnNlbnREYXRhIj09PW4/by52ZW5kb3JDb25zZW50RGF0YTpvLnZlbmRvckNvbnNlbnRzO3QoYSl9fSkpLHdpbmRvdy4kc2YuZXh0LmNtcChuKX1mdW5jdGlvbiBwKG4sdCxlKXt2YXIgbz0yPT09dj8iX190Y2ZhcGkiOiJfX2NtcCIsYT0iIi5jb25jYXQobywiQ2FsbCIpO2Z1bmN0aW9uIGkobil7dmFyIHQ9IiIuY29uY2F0KG8sIlJldHVybiIpLGU9InN0cmluZyI9PXR5cGVvZiBuLmRhdGEmJmQoKShuLmRhdGEsdCk/SlNPTi5wYXJzZShuLmRhdGEpOm4uZGF0YTtpZihlW3RdJiZlW3RdLmNhbGxJZCl7dmFyIGE9ZVt0XTt2b2lkIDAhPT1jW2EuY2FsbElkXSYmY1thLmNhbGxJZF0oYS5yZXR1cm5WYWx1ZSxhLnN1Y2Nlc3MpfX0yPT09dj8od2luZG93W29dPWZ1bmN0aW9uKG4sZSxvLGkpe3ZhciByPU1hdGgucmFuZG9tKCkrIiIscz11KHt9LGEse2NvbW1hbmQ6bix2ZXJzaW9uOmUscGFyYW1ldGVyOmksY2FsbElkOnJ9KTtjW3JdPW8sdC5wb3N0TWVzc2FnZShzLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpLCExKSx3aW5kb3dbb10obix2LGUpKTood2luZG93W29dPWZ1bmN0aW9uKG4sZSxvKXt2YXIgaT1NYXRoLnJhbmRvbSgpKyIiLHI9dSh7fSxhLHtjb21tYW5kOm4scGFyYW1ldGVyOmUsY2FsbElkOml9KTtjW2ldPW8sdC5wb3N0TWVzc2FnZShyLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixpLCExKSx3aW5kb3dbb10obix2b2lkIDAsZSkpfX0sc3RhdGljOmZ1bmN0aW9uKG4sdCxlKXtuKGIsZSl9fTtmdW5jdGlvbiBqKG4sdCl7dmFyIGU9e2NvbnRleHQ6dGhpcyxhcmdzOlt0XSxuZXh0Rm46bixhZFVuaXRzOnQuYWRVbml0c3x8dXBianMuYWRVbml0cyxiaWRzQmFja0hhbmRsZXI6dC5iaWRzQmFja0hhbmRsZXIsaGF2ZUV4aXRlZDohMSx0aW1lcjpudWxsfTtyZXR1cm4gbT8oT2JqZWN0KG8ubG9nSW5mbykoIlVzZXIgY29uc2VudCBpbmZvcm1hdGlvbiBhbHJlYWR5IGtub3duLiAgUHVsbGluZyBpbnRlcm5hbGx5IHN0b3JlZCBpbmZvcm1hdGlvbi4uLiIpLGgobnVsbCxlKSk6cigpKE9iamVjdC5rZXlzKHcpLGYpPyh3W2ZdLmNhbGwodGhpcyxELGssZSksdm9pZChlLmhhdmVFeGl0ZWR8fCgwPT09cD9EKHZvaWQgMCxlKTplLnRpbWVyPXNldFRpbWVvdXQoTy5iaW5kKG51bGwsZSkscCkpKSk6KE9iamVjdChvLmxvZ1dhcm4pKCJDTVAgZnJhbWV3b3JrICgiLmNvbmNhdChmLCIpIGlzIG5vdCBhIHN1cHBvcnRlZCBmcmFtZXdvcmsuICBBYm9ydGluZyBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgYW5kIHJlc3VtaW5nIGF1Y3Rpb24uIikpLGUubmV4dEZuLmFwcGx5KGUuY29udGV4dCxlLmFyZ3MpKX1mdW5jdGlvbiBEKG4sdCl7InN0YXRpYyI9PT1mJiYyPT09KHY9bi5nZXRDb25zZW50RGF0YT8xOm4uZ2V0VENEYXRhPzI6MCkmJihuPW4uZ2V0VENEYXRhKTt2YXIgZT0xPT09dj9mdW5jdGlvbihuKXt2YXIgdD1uJiZuLmdldENvbnNlbnREYXRhJiZuLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzO3JldHVybiEoImJvb2xlYW4iPT10eXBlb2YgdCYmKCEwIT09dHx8T2JqZWN0KG8uaXNTdHIpKG4uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGEpJiZPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmdldFZlbmRvckNvbnNlbnRzKSYmT2JqZWN0LmtleXMobi5nZXRWZW5kb3JDb25zZW50cykubGVuZ3RoPjEpKX06Mj09PXY/ZnVuY3Rpb24oKXt2YXIgdD1uJiYiYm9vbGVhbiI9PXR5cGVvZiBuLmdkcHJBcHBsaWVzP24uZ2RwckFwcGxpZXM6ZyxlPW4mJm4udGNTdHJpbmc7cmV0dXJuISgiYm9vbGVhbiI9PXR5cGVvZiB0JiYoITAhPT10fHxPYmplY3Qoby5pc1N0cikoZSkpKX06bnVsbDtDLmRlZmluZWRJbkNvbmZpZyYmMj09PXY/T2JqZWN0KG8ubG9nV2FybikoIidhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgaWdub3JlZCBmb3IgVENGIDIiKTpDLmRlZmluZWRJbkNvbmZpZ3x8MSE9PXZ8fE9iamVjdChvLmxvZ0luZm8pKCInYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIHVzaW5nIHN5c3RlbSBkZWZhdWx0OiAoIi5jb25jYXQodHJ1ZSwiKS4iKSksT2JqZWN0KG8uaXNGbikoZSk/ZShuKT9rKCJDTVAgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIix0LG4pOihjbGVhclRpbWVvdXQodC50aW1lciksTShuKSxoKG51bGwsdCkpOmsoIlVuYWJsZSB0byBkZXJpdmUgQ01QIHZlcnNpb24gdG8gcHJvY2VzcyBkYXRhLiAgQ29uc2VudCBvYmplY3QgZG9lcyBub3QgY29uZm9ybSB0byBUQ0YgdjEgb3IgdjIgc3BlY3MuIix0LG4pfWZ1bmN0aW9uIE8obil7aygiQ01QIHdvcmtmbG93IGV4Y2VlZGVkIHRpbWVvdXQgdGhyZXNob2xkLiIsbil9ZnVuY3Rpb24gayhuLHQsZSl7Y2xlYXJUaW1lb3V0KHQudGltZXIpLEMudmFsdWUmJjE9PT12JiZNKHZvaWQgMCksaChuLHQsZSl9ZnVuY3Rpb24gTShuKXsxPT09dj9tPXtjb25zZW50U3RyaW5nOm4/bi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YTp2b2lkIDAsdmVuZG9yRGF0YTpuP24uZ2V0VmVuZG9yQ29uc2VudHM6dm9pZCAwLGdkcHJBcHBsaWVzOm4/bi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllczpnfToobT17Y29uc2VudFN0cmluZzpuP24udGNTdHJpbmc6dm9pZCAwLHZlbmRvckRhdGE6bnx8dm9pZCAwLGdkcHJBcHBsaWVzOm4mJiJib29sZWFuIj09dHlwZW9mIG4uZ2RwckFwcGxpZXM/bi5nZHByQXBwbGllczpnfSxuJiZuLmFkZHRsQ29uc2VudCYmT2JqZWN0KG8uaXNTdHIpKG4uYWRkdGxDb25zZW50KSYmKG0uYWRkdGxDb25zZW50PW4uYWRkdGxDb25zZW50KSksbS5hcGlWZXJzaW9uPXYsaS5nZHByRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobSl9ZnVuY3Rpb24gaChuLHQsZSl7aWYoITE9PT10LmhhdmVFeGl0ZWQpe3QuaGF2ZUV4aXRlZD0hMDt2YXIgYT10LmNvbnRleHQsaT10LmFyZ3MsYz10Lm5leHRGbjtuP0MudmFsdWUmJjE9PT12PyhPYmplY3Qoby5sb2dXYXJuKShuKyIgJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyBhY3RpdmF0ZWQuIixlKSxjLmFwcGx5KGEsaSkpOihPYmplY3Qoby5sb2dFcnJvcikobisiIENhbmNlbGluZyBhdWN0aW9uIGFzIHBlciBjb25zZW50TWFuYWdlbWVudCBjb25maWcuIixlKSwiZnVuY3Rpb24iPT10eXBlb2YgdC5iaWRzQmFja0hhbmRsZXI/dC5iaWRzQmFja0hhbmRsZXIoKTpPYmplY3Qoby5sb2dFcnJvcikoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiKSk6Yy5hcHBseShhLGkpfX1mdW5jdGlvbiBBKG4peyhuPW4mJihuLmdkcHJ8fG4udXNwP24uZ2RwcjpuKSkmJiJvYmplY3QiPT09bChuKT8oT2JqZWN0KG8uaXNTdHIpKG4uY21wQXBpKT9mPW4uY21wQXBpOihmPSJpYWIiLE9iamVjdChvLmxvZ0luZm8pKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGNtcC4gIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KCJpYWIiLCIpLiIpKSksT2JqZWN0KG8uaXNOdW1iZXIpKG4udGltZW91dCk/cD1uLnRpbWVvdXQ6KHA9MWU0LE9iamVjdChvLmxvZ0luZm8pKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IHRpbWVvdXQuICBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgxZTQsIikuIikpKSwiYm9vbGVhbiI9PXR5cGVvZiBuLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JiYoQy52YWx1ZT1uLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50LEMuZGVmaW5lZEluQ29uZmlnPSEwKSxnPSEwPT09bi5kZWZhdWx0R2RwclNjb3BlLE9iamVjdChvLmxvZ0luZm8pKCJjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgaGFzIGJlZW4gYWN0aXZhdGVkLi4uIiksInN0YXRpYyI9PT1mJiYoT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobi5jb25zZW50RGF0YSk/KGI9bi5jb25zZW50RGF0YSxwPTApOk9iamVjdChvLmxvZ0Vycm9yKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSx5fHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoaiw1MCkseT0hMCk6T2JqZWN0KG8ubG9nV2FybikoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBub3QgZGVmaW5lZCwgZXhpdGluZyBjb25zZW50IG1hbmFnZXIiKX1hLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudCIsKGZ1bmN0aW9uKG4pe3JldHVybiBBKG4uY29uc2VudE1hbmFnZW1lbnQpfSkpfX0sWzM3Nl0pOwp1cGJqc0NodW5rKFsyOTZdLHszODM6ZnVuY3Rpb24odCxuLGUpe3QuZXhwb3J0cz1lKDM4NCl9LDM4NDpmdW5jdGlvbih0LG4sZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQobiwiY29uc2VudEFQSSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSksZS5kKG4sImNvbnNlbnRUaW1lb3V0IiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxlLmQobiwic3RhdGljQ29uc2VudERhdGEiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4ucmVxdWVzdEJpZHNIb29rPWYsbi5yZXNldENvbnNlbnREYXRhPWZ1bmN0aW9uKCl7bD12b2lkIDAscz12b2lkIDAsaS51c3BEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShudWxsKX0sbi5zZXRDb25zZW50Q29uZmlnPVA7dmFyIGE9ZSgwKSxvPWUoMyksaT1lKDgpO2Z1bmN0aW9uIGModCl7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIHR9KSh0KX12YXIgcyxyLHUsbCxkPSExLHA9e2lhYjpmdW5jdGlvbih0LG4sZSl7dmFyIG89KHU9e30se2NvbnNlbnREYXRhQ2FsbGJhY2s6ZnVuY3Rpb24oYSxvKXtvJiZhLnVzcFN0cmluZyYmKHUudXNQcml2YWN5PWEudXNwU3RyaW5nKSx1LnVzUHJpdmFjeT90KHUsZSk6bigiVW5hYmxlIHRvIGdldCBVU1AgY29uc2VudCBzdHJpbmcuIixlKX19KSxpPXt9LGM9ZnVuY3Rpb24oKXtmb3IodmFyIHQsbixlPXdpbmRvdzshdDspe3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3VzcGFwaSl7bj1lLl9fdXNwYXBpLHQ9ZTticmVha319Y2F0Y2godCl7fXRyeXtpZihlLmZyYW1lcy5fX3VzcGFwaUxvY2F0b3Ipe3Q9ZTticmVha319Y2F0Y2godCl7fWlmKGU9PT13aW5kb3cudG9wKWJyZWFrO2U9ZS5wYXJlbnR9cmV0dXJue3VzcGFwaUZyYW1lOnQsdXNwYXBpRnVuY3Rpb246bn19KCkscz1jLnVzcGFwaUZyYW1lLHI9Yy51c3BhcGlGdW5jdGlvbjt2YXIgdTtpZighcylyZXR1cm4gbigiVVNQIENNUCBub3QgZm91bmQuIixlKTtPYmplY3QoYS5pc0ZuKShyKT8oT2JqZWN0KGEubG9nSW5mbykoIkRldGVjdGVkIFVTUCBDTVAgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSxyKCJnZXRVU1BEYXRhIiwxLG8uY29uc2VudERhdGFDYWxsYmFjaykpOihPYmplY3QoYS5sb2dJbmZvKSgiRGV0ZWN0ZWQgVVNQIENNUCBpcyBvdXRzaWRlIHRoZSBjdXJyZW50IGlmcmFtZSB3aGVyZSBQcmViaWQuanMgaXMgbG9jYXRlZCwgY2FsbGluZyBpdCBub3cuLi4iKSxmdW5jdGlvbih0LG4sZSl7ZnVuY3Rpb24gYSh0KXt2YXIgbj10JiZ0LmRhdGEmJnQuZGF0YS5fX3VzcGFwaVJldHVybjtuJiZuLmNhbGxJZCYmdm9pZCAwIT09aVtuLmNhbGxJZF0mJihpW24uY2FsbElkXShuLnJldHVyblZhbHVlLG4uc3VjY2VzcyksZGVsZXRlIGlbbi5jYWxsSWRdKX13aW5kb3cuX191c3BhcGk9ZnVuY3Rpb24odCxlLGEpe3ZhciBvPU1hdGgucmFuZG9tKCkrIiIsYz17X191c3BhcGlDYWxsOntjb21tYW5kOnQsdmVyc2lvbjplLGNhbGxJZDpvfX07aVtvXT1hLG4ucG9zdE1lc3NhZ2UoYywiKiIpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsYSwhMSksd2luZG93Ll9fdXNwYXBpKHQsMSxlKX0oImdldFVTUERhdGEiLHMsby5jb25zZW50RGF0YUNhbGxiYWNrKSl9LHN0YXRpYzpmdW5jdGlvbih0LG4sZSl7dCh1LGUpfX07ZnVuY3Rpb24gZih0LG4pe3ZhciBlPXtjb250ZXh0OnRoaXMsYXJnczpbbl0sbmV4dEZuOnQsYWRVbml0czpuLmFkVW5pdHN8fHVwYmpzLmFkVW5pdHMsYmlkc0JhY2tIYW5kbGVyOm4uYmlkc0JhY2tIYW5kbGVyLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07aWYoIXBbc10pcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKCJVU1AgZnJhbWV3b3JrICgiLmNvbmNhdChzLCIpIGlzIG5vdCBhIHN1cHBvcnRlZCBmcmFtZXdvcmsuIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncyk7cFtzXS5jYWxsKHRoaXMsZyxtLGUpLGUuaGF2ZUV4aXRlZHx8KDA9PT1yP2codm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChiLmJpbmQobnVsbCxlKSxyKSl9ZnVuY3Rpb24gZyh0LG4peyF0fHwhdC51c1ByaXZhY3k/bSgiVVNQQVBJIHJldHVybmVkIHVuZXhwZWN0ZWQgdmFsdWUgZHVyaW5nIGxvb2t1cCBwcm9jZXNzLiIsbix0KTooY2xlYXJUaW1lb3V0KG4udGltZXIpLGZ1bmN0aW9uKHQpe3QmJnQudXNQcml2YWN5JiYobD10LnVzUHJpdmFjeSxpLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKGwpKX0odCkseShudWxsLG4pKX1mdW5jdGlvbiBiKHQpe20oIlVTUEFQSSB3b3JrZmxvdyBleGNlZWRlZCB0aW1lb3V0IHRocmVzaG9sZC4iLHQpfWZ1bmN0aW9uIG0odCxuLGUpe2NsZWFyVGltZW91dChuLnRpbWVyKSx5KHQsbixlKX1mdW5jdGlvbiB5KHQsbixlKXtpZighMT09PW4uaGF2ZUV4aXRlZCl7bi5oYXZlRXhpdGVkPSEwO3ZhciBvPW4uY29udGV4dCxpPW4uYXJncyxjPW4ubmV4dEZuO3QmJk9iamVjdChhLmxvZ1dhcm4pKHQrIiBSZXN1bWluZyBhdWN0aW9uIHdpdGhvdXQgY29uc2VudCBkYXRhIGFzIHBlciBjb25zZW50TWFuYWdlbWVudCBjb25maWcuIixlKSxjLmFwcGx5KG8saSl9fWZ1bmN0aW9uIFAodCl7KHQ9dCYmdC51c3ApJiYib2JqZWN0Ij09PWModCk/KE9iamVjdChhLmlzU3RyKSh0LmNtcEFwaSk/cz10LmNtcEFwaToocz0iaWFiIixPYmplY3QoYS5sb2dJbmZvKSgiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgY21wQXBpLiBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCgiaWFiIiwiKS4iKSkpLE9iamVjdChhLmlzTnVtYmVyKSh0LnRpbWVvdXQpP3I9dC50aW1lb3V0OihyPTUwLE9iamVjdChhLmxvZ0luZm8pKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdCg1MCwiKS4iKSkpLE9iamVjdChhLmxvZ0luZm8pKCJVU1BBUEkgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09cyYmKE9iamVjdChhLmlzUGxhaW5PYmplY3QpKHQuY29uc2VudERhdGEpJiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KSh0LmNvbnNlbnREYXRhLmdldFVTUERhdGEpPyh0LmNvbnNlbnREYXRhLmdldFVTUERhdGEudXNwU3RyaW5nJiYodT17dXNQcml2YWN5OnQuY29uc2VudERhdGEuZ2V0VVNQRGF0YS51c3BTdHJpbmd9KSxyPTApOk9iamVjdChhLmxvZ0Vycm9yKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSxkfHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoZiw1MCksZD0hMCk6T2JqZWN0KGEubG9nV2FybikoImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgdXNwIGNvbnNlbnQgbWFuYWdlciIpfW8uYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50IiwoZnVuY3Rpb24odCl7cmV0dXJuIFAodC5jb25zZW50TWFuYWdlbWVudCl9KSl9fSxbMzgzXSk7CnVwYmpzQ2h1bmsoWzI5NV0sezM4NTpmdW5jdGlvbihlLHIsbil7ZS5leHBvcnRzPW4oMzg2KX0sMzg2OmZ1bmN0aW9uKGUscixuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgdD1uKDApLGk9bigxKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIG49YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHQpJiYoZVt0XT1uW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYT0wLGQ9ImNvbnN1bWFibGUiLHU9e2NvZGU6ImNvbnN1bWFibGUiLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLm5ldHdvcmtJZCYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy51bml0SWQmJmUucGFyYW1zLnVuaXROYW1lKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBuPXttZXRob2Q6IlBPU1QiLHVybDoiIixkYXRhOiIiLGJpZFJlcXVlc3Q6W119O2lmKGUubGVuZ3RoPDEpcmV0dXJuIG47YT1lWzBdLnBhcmFtcy5zaXRlSWQsZD1lWzBdLmJpZGRlcjt2YXIgdD1zKHtwbGFjZW1lbnRzOltdLHRpbWU6RGF0ZS5ub3coKSx1cmw6ci5yZWZlcmVySW5mby5yZWZlcmVyLHJlZmVycmVyOmRvY3VtZW50LnJlZmVycmVyLHNvdXJjZTpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI1LjIwLjIifV19LGVbMF0ucGFyYW1zKTtyZXR1cm4gciYmci5nZHByQ29uc2VudCYmKHQuZ2Rwcj17Y29uc2VudDpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsYXBwbGllczoiYm9vbGVhbiIhPXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksciYmci51c3BDb25zZW50JiYodC5jY3BhPXIudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplc3x8W10sbj1zKHtkaXZOYW1lOmUuYmlkSWQsYWRUeXBlczplLmFkVHlwZXN8fHAocil9LGUucGFyYW1zKTtuLm5ldHdvcmtJZCYmbi5zaXRlSWQmJm4udW5pdElkJiZuLnVuaXROYW1lJiZ0LnBsYWNlbWVudHMucHVzaChuKX0pKSxuLmRhdGE9SlNPTi5zdHJpbmdpZnkodCksbi5iaWRSZXF1ZXN0PWUsbi5iaWRkZXJSZXF1ZXN0PXIsbi51cmw9Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiIsbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgbix0LGkscyxhPVtdO3Q9ci5iaWRSZXF1ZXN0LGU9KGV8fHt9KS5ib2R5O2Zvcih2YXIgZD0wO2Q8dC5sZW5ndGg7ZCsrKWlmKG49e30saT0ocz10W2RdKS5iaWRJZCxlKXt2YXIgdT1lLmRlY2lzaW9ucyYmZS5kZWNpc2lvbnNbaV0sbz11JiZ1LnByaWNpbmcmJnUucHJpY2luZy5jbGVhclByaWNlO3UmJm8mJihuLnJlcXVlc3RJZD1pLG4uY3BtPW8sbi53aWR0aD11LndpZHRoLG4uaGVpZ2h0PXUuaGVpZ2h0LG4udW5pdElkPXMucGFyYW1zLnVuaXRJZCxuLnVuaXROYW1lPXMucGFyYW1zLnVuaXROYW1lLG4uYWQ9Yyh1LG4udW5pdElkLG4udW5pdE5hbWUpLG4uY3VycmVuY3k9IlVTRCIsbi5jcmVhdGl2ZUlkPXUuYWRJZCxuLnR0bD0zMCxuLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOnUuYWRvbWFpbj91LmFkb21haW46W119LG4ubmV0UmV2ZW51ZT0hMCxuLnJlZmVycmVyPXIuYmlkZGVyUmVxdWVzdC5yZWZlcmVySW5mby5yZWZlcmVyLGEucHVzaChuKSl9cmV0dXJuIGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9zeW5jLnNlcnZlcmJpZC5jb20vc3MvIithKyIuaHRtbCJ9XTplLnBpeGVsRW5hYmxlZCYmci5sZW5ndGg+MD9yWzBdLmJvZHkucGl4ZWxzOnZvaWQgT2JqZWN0KHQubG9nV2FybikoZCsiOiBQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmNpbmcuIil9fSxvPVtudWxsLCIxMjB4OTAiLCIxMjB4OTAiLCI0Njh4NjAiLCI3Mjh4OTAiLCIzMDB4MjUwIiwiMTYweDYwMCIsIjEyMHg2MDAiLCIzMDB4MTAwIiwiMTgweDE1MCIsIjMzNngyODAiLCIyNDB4NDAwIiwiMjM0eDYwIiwiODh4MzEiLCIxMjB4NjAiLCIxMjB4MjQwIiwiMTI1eDEyNSIsIjIyMHgyNTAiLCIyNTB4MjUwIiwiMjUweDkwIiwiMHgwIiwiMjAweDkwIiwiMzAweDUwIiwiMzIweDUwIiwiMzIweDQ4MCIsIjE4NXgxODUiLCI2MjB4NDUiLCIzMDB4MTI1IiwiODAweDI1MCJdO2Z1bmN0aW9uIHAoZSl7dmFyIHI9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49by5pbmRleE9mKGVbMF0rIngiK2VbMV0pO24+PTAmJnIucHVzaChuKX0pKSxyfWZ1bmN0aW9uIGMoZSxyLG4pe3JldHVybiBlLmNvbnRlbnRzJiZlLmNvbnRlbnRzWzBdJiZlLmNvbnRlbnRzWzBdLmJvZHkrT2JqZWN0KHQuY3JlYXRlVHJhY2tQaXhlbEh0bWwpKGUuaW1wcmVzc2lvblVybCl9b1s3N109Ijk3MHg5MCIsb1sxMjNdPSI5NzB4MjUwIixvWzQzXT0iMzAweDYwMCIsb1syODZdPSI5NzB4NjYiLG9bMzIzMF09Ijk3MHgyODAiLG9bNDI5XT0iNDg2eDYwIixvWzM3NF09IjcwMHg1MDAiLG9bOTM0XT0iMzAweDEwNTAiLG9bMTU3OF09IjMyMHgxMDAiLG9bMzMxXT0iMzIweDI1MCIsb1szMzAxXT0iMzIweDI2NyIsb1syNzMwXT0iNzI4eDI1MCIsT2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHUpfX0sWzM4NV0pOwp1cGJqc0NodW5rKFsyOTNdLHszODk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDM5MCl9LDM5MDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBwfSkpO3ZhciBuPXQoMCksYT10KDEpLGk9dCgyKSxvPXQoNyk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gYyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gYyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gYyhlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBjKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59dmFyIGQ9T2JqZWN0KG8uYikoMjQpLHU9ImNvbnZlcnNhbnQiLHA9e2NvZGU6dSxndmxpZDoyNCxhbGlhc2VzOlsiY252ciJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2kuYixpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5wYXJhbXMpcmV0dXJuIE9iamVjdChuLmxvZ1dhcm4pKCJjb252ZXJzYW50OiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIiksITE7aWYoIU9iamVjdChuLmlzU3RyKShlLnBhcmFtcy5zaXRlX2lkKSlyZXR1cm4gT2JqZWN0KG4ubG9nV2FybikoImNvbnZlcnNhbnQ6IHNpdGVfaWQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmciKSwhMTtpZihsKGUpKXt2YXIgcj1lLnBhcmFtcy5taW1lc3x8T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5taW1lcyIpO2lmKHIpe2lmKCFPYmplY3Qobi5pc0FycmF5KShyKXx8IXIuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc1N0cikoZSl9KSkpcmV0dXJuIE9iamVjdChuLmxvZ1dhcm4pKCJjb252ZXJzYW50OiBtaW1lcyBtdXN0IGJlIGFuIGFycmF5IG9mIHN0cmluZ3MiKSwhMX1lbHNlIE9iamVjdChuLmxvZ1dhcm4pKCJjb252ZXJzYW50OiBtaW1lcyBzaG91bGQgYmUgc3BlY2lmaWVkIGZvciB2aWRlb3MiKX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0LGE9ciYmci5yZWZlcmVySW5mbz9yLnJlZmVyZXJJbmZvLnJlZmVyZXI6IiIsaT0iIixvPSIiLHM9bnVsbCxjPSJfcHViY2lkIix1PSJodHRwczovL3dlYi5oYi5hZC5jcGUuZG90b21pLmNvbS9jdngvY2xpZW50L2hiL29ydGIvMjUiLHA9ZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChuLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkZmxvb3IiLGUucGFyYW1zKTtpZighciYmT2JqZWN0KG4uaXNGbikoZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtPYmplY3Qobi5pc1BsYWluT2JqZWN0KSh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3kmJihyPXQuZmxvb3IpfXJldHVybiByfShlKTtpPU9iamVjdChuLmdldEJpZElkUGFyYW1ldGVyKSgic2l0ZV9pZCIsZS5wYXJhbXMpfHxpLGM9T2JqZWN0KG4uZ2V0QmlkSWRQYXJhbWV0ZXIpKCJwdWJjaWRfbmFtZSIsZS5wYXJhbXMpfHxjLG89ZS5hdWN0aW9uSWQ7dmFyIHQ9e2lkOmUuYmlkSWQsc2VjdXJlOjEsYmlkZmxvb3I6cnx8MCxkaXNwbGF5bWFuYWdlcjoiUHJlYmlkLmpzIixkaXNwbGF5bWFuYWdlcnZlcjoiNS4yMC4yIn07aWYoYihlLnBhcmFtcy50YWdfaWQsdCwidGFnaWQiKSxsKGUpKXt2YXIgYT1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9LGQ9bShhLnBsYXllclNpemV8fGUuc2l6ZXMpLHA9e307ZCYmZFswXSYmKGIoZFswXS53LHAsInciKSxiKGRbMF0uaCxwLCJoIikpLGIoZS5wYXJhbXMucG9zaXRpb24scCwicG9zIiksYihlLnBhcmFtcy5taW1lc3x8YS5taW1lcyxwLCJtaW1lcyIpLGIoZS5wYXJhbXMubWF4ZHVyYXRpb258fGEubWF4ZHVyYXRpb24scCwibWF4ZHVyYXRpb24iKSxiKGUucGFyYW1zLnByb3RvY29sc3x8YS5wcm90b2NvbHMscCwicHJvdG9jb2xzIiksYihlLnBhcmFtcy5hcGl8fGEuYXBpLHAsImFwaSIpLHQudmlkZW89cH1lbHNle3ZhciBmPXtmb3JtYXQ6bSgoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8e30pLnNpemVzfHxlLnNpemVzKX07YihlLnBhcmFtcy5wb3NpdGlvbixmLCJwb3MiKSx0LmJhbm5lcj1mfXJldHVybiBlLnVzZXJJZCYmZS51c2VySWQucHViY2lkP3M9ZS51c2VySWQucHViY2lkOmUuY3J1bWJzJiZlLmNydW1icy5wdWJjaWQmJihzPWUuY3J1bWJzLnB1YmNpZCksZS5wYXJhbXMud2hpdGVfbGFiZWxfdXJsJiYodT1lLnBhcmFtcy53aGl0ZV9sYWJlbF91cmwpLHR9KSksZj17aWQ6byxpbXA6cCxzaXRlOntpZDppLG1vYmlsZTpudWxsIT09ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPSJ2aWV3cG9ydCJdW2NvbnRlbnQqPSJ3aWR0aD1kZXZpY2Utd2lkdGgiXScpPzE6MCxwYWdlOmF9LGRldmljZToodD1uYXZpZ2F0b3IubGFuZ3VhZ2U/Imxhbmd1YWdlIjoidXNlckxhbmd1YWdlIix7aDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGRudDoiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09d2luZG93LmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm9UcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFjaz8xOjAsbGFuZ3VhZ2U6bmF2aWdhdG9yW3RdLnNwbGl0KCItIilbMF0sbWFrZTpuYXZpZ2F0b3IudmVuZG9yP25hdmlnYXRvci52ZW5kb3I6IiIsdWE6bmF2aWdhdG9yLnVzZXJBZ2VudH0pLGF0OjF9LGc9e307ciYmKHIuZ2RwckNvbnNlbnQmJihnLmNvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkoZiwicmVncy5leHQuZ2RwciIsci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApKSxyLnVzcENvbnNlbnQmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkoZiwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSksc3x8KHM9ZnVuY3Rpb24oZSl7dmFyIHI7dHJ5e2lmKCEocj1kLmdldENvb2tpZShlKSkpe3ZhciB0PWQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSk7KCIiPT09dHx8dCYmbmV3IERhdGUodCkuZ2V0VGltZSgpLURhdGUubm93KCk+MCkmJihyPShyPWQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSkpP2RlY29kZVVSSUNvbXBvbmVudChyKTpyKX1PYmplY3Qobi5pc1N0cikocikmJiJ7Ij09PXIuY2hhckF0KDApJiYocj1KU09OLnBhcnNlKHIpKX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoZSl9cmV0dXJuIHJ9KGMpKSxzJiYoZy5mcGM9cyk7dmFyIHY9ZnVuY3Rpb24oZSl7dmFyIHI9ZVswXSx0PVtdO2lmKE9iamVjdChuLmlzQXJyYXkpKHIudXNlcklkQXNFaWRzKSYmci51c2VySWRBc0VpZHMubGVuZ3RoPjApe3ZhciBhPXsiZXBzaWxvbi5jb20iOjEsImFkc2VydmVyLm9yZyI6MSwibGl2ZXJhbXAuY29tIjoxLCJjcml0ZW8uY29tIjoxLCJpZDUtc3luYy5jb20iOjEsInBhcnJhYmxlLmNvbSI6MSwibGl2ZWludGVudC5jb20iOjF9O3IudXNlcklkQXNFaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2EuaGFzT3duUHJvcGVydHkoZS5zb3VyY2UpJiZ0LnB1c2goZSl9KSl9cmV0dXJuIHR9KGUpO3JldHVybiB2Lmxlbmd0aD4wJiYoZy5laWRzPXYpLE9iamVjdChuLmlzRW1wdHkpKGcpfHwoZi51c2VyPXtleHQ6Z30pLHttZXRob2Q6IlBPU1QiLHVybDp1LGRhdGE6Zn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sYT17fTtyZXR1cm4gZT1lLmJvZHksciYmci5kYXRhJiZyLmRhdGEuaW1wJiZPYmplY3Qobi5fZWFjaCkoci5kYXRhLmltcCwoZnVuY3Rpb24oZSl7cmV0dXJuIGFbZS5pZF09ZX0pKSxlJiZPYmplY3Qobi5pc0FycmF5KShlLnNlYXRiaWQpJiZPYmplY3Qobi5fZWFjaCkoZS5zZWF0YmlkLChmdW5jdGlvbihyKXtPYmplY3Qobi5fZWFjaCkoci5iaWQsKGZ1bmN0aW9uKHIpe3ZhciBuPXBhcnNlRmxvYXQoci5wcmljZSk7aWYobj4wJiZyLmltcGlkKXt2YXIgaT1yLmFkbXx8IiIsbz1yLm51cmx8fCIiLHM9YVtyLmltcGlkXSxjPXtyZXF1ZXN0SWQ6ci5pbXBpZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsY3BtOm4sY3JlYXRpdmVJZDpyLmNyaWR8fCIiLHR0bDozMDAsbmV0UmV2ZW51ZTohMCxtZXRhOnt9fTtyLmFkb21haW4mJnIuYWRvbWFpbi5sZW5ndGg+MCYmKGMubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1yLmFkb21haW4pLHMudmlkZW8/KCI8Ij09PWkuY2hhckF0KDApP2MudmFzdFhtbD1pOmMudmFzdFVybD1pLGMubWVkaWFUeXBlPSJ2aWRlbyIsYy53aWR0aD1zLnZpZGVvLncsYy5oZWlnaHQ9cy52aWRlby5oKTooYy5hZD1pKyc8aW1nIHNyYz0iJytvKyciIC8+JyxjLndpZHRoPXIudyxjLmhlaWdodD1yLmgpLHQucHVzaChjKX19KSl9KSksdH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdChuLmNvbnZlcnRUeXBlcykoe3NpdGVfaWQ6InN0cmluZyIsc2VjdXJlOiJudW1iZXIiLG1vYmlsZToibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxhKXt2YXIgaT17fSxvPVtdO2lmKHQmJihpLmdkcHI9dC5nZHByQXBwbGllcz8xOjAsaS5nZHByX2NvbnNlbnQ9ZW5jb2RlVVJJQ29tcG9uZW50KHQuY29uc2VudFN0cmluZ3x8IiIpKSxhJiYoaS51c19wcml2YWN5PWVuY29kZVVSSUNvbXBvbmVudChhKSksciYmci5leHQpe3ZhciBjPVt7dXJsczpyLmV4dC5mc3luY3MsdHlwZToiaWZyYW1lIn0se3VybHM6ci5leHQucHN5bmNzLHR5cGU6ImltYWdlIn1dLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIudXJscyYmKCJpZnJhbWUiPT09ci50eXBlJiZlLmlmcmFtZUVuYWJsZWR8fCJpbWFnZSI9PT1yLnR5cGUmJmUucGl4ZWxFbmFibGVkKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnVybHMubWFwKChmdW5jdGlvbihyKXt2YXIgdD1PYmplY3Qobi5wYXJzZVVybCkocik7cmV0dXJuIE9iamVjdChuLm1lcmdlRGVlcCkodC5zZWFyY2gsaSksMD09PU9iamVjdC5rZXlzKHQuc2VhcmNoKS5sZW5ndGgmJmRlbGV0ZSB0LnNlYXJjaCx7dHlwZTplLnR5cGUsdXJsOk9iamVjdChuLmJ1aWxkVXJsKSh0KX19KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdChyKX0pLFtdKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0KHIpfSksW10pO28ucHVzaC5hcHBseShvLHMoYykpfXJldHVybiBvfX07ZnVuY3Rpb24gbShlKXt2YXIgcjtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKHI9Mj09PWUubGVuZ3RoJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXT9be3c6ZVswXSxoOmVbMV19XTpPYmplY3Qobi5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSkpLHJ9ZnVuY3Rpb24gbChlKXtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fCEhT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpfWZ1bmN0aW9uIGIoZSxyLHQpe2UmJihyW3RdPWUpfU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShwKX19LFszODldKTsKdXBianNDaHVuayhbMl0sezM5NTpmdW5jdGlvbih0LGUscil7dC5leHBvcnRzPXIoMzk2KX0sMzk2OmZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkFEQVBURVJfVkVSU0lPTiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEFEQVBURVJfVkVSU0lPTn0pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiUFJPRklMRV9JRF9QVUJMSVNIRVJUQUciLChmdW5jdGlvbigpe3JldHVybiBQUk9GSUxFX0lEX1BVQkxJU0hFUlRBR30pKSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UIiwoZnVuY3Rpb24oKXtyZXR1cm4gRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc3BlY30pKSxfX3dlYnBhY2tfZXhwb3J0c19fLmNhbkZhc3RCaWQ9Y2FuRmFzdEJpZCxfX3dlYnBhY2tfZXhwb3J0c19fLmdldEZhc3RCaWRVcmw9Z2V0RmFzdEJpZFVybCxfX3dlYnBhY2tfZXhwb3J0c19fLnRyeUdldENyaXRlb0Zhc3RCaWQ9dHJ5R2V0Q3JpdGVvRmFzdEJpZDt2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkbG9hZGVyX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygzNSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfY29uZmlnX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygzKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygyKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfX19kZWZhdWx0PV9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfXyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fPV9fd2VicGFja19yZXF1aXJlX18oNzcpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfX19kZWZhdWx0PV9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX18pLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fc3JjX3N0b3JhZ2VNYW5hZ2VyX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtmdW5jdGlvbiBfZXh0ZW5kcygpe3JldHVybihfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgcj1hcmd1bWVudHNbZV07Zm9yKHZhciBpIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsaSkmJih0W2ldPXJbaV0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBHVkxJRD05MSxBREFQVEVSX1ZFUlNJT049MzQsQklEREVSX0NPREU9ImNyaXRlbyIsQ0RCX0VORFBPSU5UPSJodHRwczovL2JpZGRlci5jcml0ZW8uY29tL2NkYiIsUFJPRklMRV9JRF9JTkxJTkU9MjA3LFBST0ZJTEVfSURfUFVCTElTSEVSVEFHPTE4NSxzdG9yYWdlPU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX3NyY19zdG9yYWdlTWFuYWdlcl9qc19fLmIpKEdWTElEKSxMT0dfUFJFRklYPSJDcml0ZW86ICIsRkFTVF9CSURfVkVSU0lPTl9QTEFDRUhPTERFUj0iJUZBU1RfQklEX1ZFUlNJT04lIixGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlQ9MTEzLEZBU1RfQklEX1ZFUlNJT05fTEFURVNUPSJsYXRlc3QiLEZBU1RfQklEX1ZFUlNJT05fTk9ORT0ibm9uZSIsUFVCTElTSEVSX1RBR19VUkxfVEVNUExBVEU9Imh0dHBzOi8vc3RhdGljLmNyaXRlby5uZXQvanMvbGQvcHVibGlzaGVydGFnLnByZWJpZCIrRkFTVF9CSURfVkVSU0lPTl9QTEFDRUhPTERFUisiLmpzIixGQVNUX0JJRF9QVUJLRVlfRT02NTUzNyxGQVNUX0JJRF9QVUJLRVlfTj0ienRRWXdDRTVCVTdUOUNETTVoZTZyS29hYnN0WFJta3p4NTR6RlBaa1diSzUzMGR3dExCRGVhV0JNeEhCVVQ1NUNZeWJvUi9FWjRlZmdoUGkzQ29OR2ZHV2V6cGprbzlQNnAyRXdHQXJ0SEVlUzRzbGh1L1NwU0lGTWpHNmZkcnBSb051SUFNaHExWitQci8rSE9kMXBUaEZLZUdGcjIvTmh0QWcrVFhBemFVPSIsc3BlYz17Y29kZTpCSURERVJfQ09ERSxndmxpZDpHVkxJRCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uYixfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uZCxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY19tZWRpYVR5cGVzX2pzX18uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXQucGFyYW1zfHwhdC5wYXJhbXMuem9uZUlkJiYhdC5wYXJhbXMubmV0d29ya0lkKSYmIShoYXNWaWRlb01lZGlhVHlwZSh0KSYmIWhhc1ZhbGlkVmlkZW9NZWRpYVR5cGUodCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxzPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fLmIuZ2V0TGVnYWN5RnBkKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJvcnRiMiIpKXx8e307X2V4dGVuZHMoZSx7cHVibGlzaGVyRXh0OnMuY29udGV4dCx1c2VyRXh0OnMudXNlcixjZWg6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoImNyaXRlby5jZWgiKX0pO3ZhciBhPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uZmFzdEJpZFZlcnNpb24iKSxfPWNhbkZhc3RCaWQoYSk7aWYoIXB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZfKXt3aW5kb3cuQ3JpdGVvPXdpbmRvdy5Dcml0ZW98fHt9LHdpbmRvdy5Dcml0ZW8udXNlUHJlYmlkRXZlbnRzPSExLHRyeUdldENyaXRlb0Zhc3RCaWQoKTt2YXIgbz1nZXRGYXN0QmlkVXJsKGEpO3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkbG9hZGVyX2pzX18uYSkobyxCSURERVJfQ09ERSl9KSxlLnRpbWVvdXQpfWlmKHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpKXt2YXIgbj1uZXcgQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQoUFJPRklMRV9JRF9QVUJMSVNIRVJUQUcsQURBUFRFUl9WRVJTSU9OLHQsZSwiNS4yMC4yIik7cj1uLmJ1aWxkQ2RiVXJsKCksaT1uLmJ1aWxkQ2RiUmVxdWVzdCgpfWVsc2V7dmFyIGM9YnVpbGRDb250ZXh0KHQsZSk7cj1idWlsZENkYlVybChjKSxpPWJ1aWxkQ2RiUmVxdWVzdChjLHQsZSl9aWYoaSlyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6cixkYXRhOmksYmlkUmVxdWVzdHM6dH19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5ib2R5fHx0O2lmKHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpKXt2YXIgaT1Dcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKGUpO2lmKGkpcmV0dXJuIGkuaW50ZXJwcmV0UmVzcG9uc2UocixlKX12YXIgcz1bXTtyZXR1cm4gciYmci5zbG90cyYmT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uaXNBcnJheSkoci5zbG90cykmJnIuc2xvdHMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X2NvcmVfanNfcHVyZV9mZWF0dXJlc19hcnJheV9maW5kX2pzX19fZGVmYXVsdCgpKGUuYmlkUmVxdWVzdHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT10LmltcGlkJiYoIWUucGFyYW1zLnpvbmVJZHx8cGFyc2VJbnQoZS5wYXJhbXMuem9uZUlkKT09PXQuem9uZWlkKX0pKSxpPXIuYmlkSWQsYT17cmVxdWVzdElkOmksYWRJZDp0LmJpZElkfHxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGNwbTp0LmNwbSxjdXJyZW5jeTp0LmN1cnJlbmN5LG5ldFJldmVudWU6ITAsdHRsOnQudHRsfHw2MCxjcmVhdGl2ZUlkOnQuY3JlYXRpdmVjb2RlLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LGRlYWxJZDp0LmRlYWxDb2RlfTt0LmFkb21haW4mJihhLm1ldGE9X2V4dGVuZHMoe30sYS5tZXRhLHthZHZlcnRpc2VyRG9tYWluczp0LmFkb21haW59KSksdC5uYXRpdmU/ci5wYXJhbXMubmF0aXZlQ2FsbGJhY2s/YS5hZD1jcmVhdGVOYXRpdmVBZChpLHQubmF0aXZlLHIucGFyYW1zLm5hdGl2ZUNhbGxiYWNrKTooYS5uYXRpdmU9Y3JlYXRlUHJlYmlkTmF0aXZlQWQodC5uYXRpdmUpLGEubWVkaWFUeXBlPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX21lZGlhVHlwZXNfanNfXy5jKTp0LnZpZGVvPyhhLnZhc3RVcmw9dC5kaXNwbGF5dXJsLGEubWVkaWFUeXBlPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX21lZGlhVHlwZXNfanNfXy5kKTphLmFkPXQuY3JlYXRpdmUscy5wdXNoKGEpfSkpLHN9LG9uVGltZW91dDpmdW5jdGlvbih0KXtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQXJyYXkuaXNBcnJheSh0KSl7dmFyIGU9W107dC5mb3JFYWNoKChmdW5jdGlvbih0KXstMT09PWUuaW5kZXhPZih0LmF1Y3Rpb25JZCkmJihlLnB1c2godC5hdWN0aW9uSWQpLENyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIodC5hdWN0aW9uSWQpLmhhbmRsZUJpZFRpbWVvdXQoKSl9KSl9fSxvbkJpZFdvbjpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmdCYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlQmlkV29uKHQpfSxvblNldFRhcmdldGluZzpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlU2V0VGFyZ2V0aW5nKHQpfX07ZnVuY3Rpb24gcHVibGlzaGVyVGFnQXZhaWxhYmxlKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBDcml0ZW8mJkNyaXRlby5QdWJUYWcmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkfWZ1bmN0aW9uIGJ1aWxkQ29udGV4dCh0LGUpe3ZhciByPSIiO2UmJmUucmVmZXJlckluZm8mJihyPWUucmVmZXJlckluZm8ucmVmZXJlcik7dmFyIGk9T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ucGFyc2VVcmwpKHIpLnNlYXJjaCxzPXt1cmw6cixkZWJ1ZzoiMSI9PT1pLnBidF9kZWJ1Zyxub0xvZzoiMSI9PT1pLnBidF9ub2xvZyxhbXA6ITF9O3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpeyJhbXAiPT09dC5wYXJhbXMuaW50ZWdyYXRpb25Nb2RlJiYocy5hbXA9ITApfSkpLHN9ZnVuY3Rpb24gYnVpbGRDZGJVcmwodCl7dmFyIGU9Q0RCX0VORFBPSU5UO3JldHVybiBlKz0iP3Byb2ZpbGVJZD0iK1BST0ZJTEVfSURfSU5MSU5FLGUrPSImYXY9IitTdHJpbmcoQURBUFRFUl9WRVJTSU9OKSxlKz0iJnd2PSIrZW5jb2RlVVJJQ29tcG9uZW50KCI1LjIwLjIiKSxlKz0iJmNiPSIrU3RyaW5nKE1hdGguZmxvb3IoOTk5OTk5OTk5OTkqTWF0aC5yYW5kb20oKSkpLHQuYW1wJiYoZSs9IiZpbT0xIiksdC5kZWJ1ZyYmKGUrPSImZGVidWc9MSIpLHQubm9Mb2cmJihlKz0iJm5vbG9nPTEiKSxlfWZ1bmN0aW9uIGNoZWNrTmF0aXZlU2VuZElkKHQpe3JldHVybiEodC5uYXRpdmVQYXJhbXMmJih0Lm5hdGl2ZVBhcmFtcy5pbWFnZSYmKCEwIT09dC5uYXRpdmVQYXJhbXMuaW1hZ2Uuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmltYWdlLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuaWNvbiYmKCEwIT09dC5uYXRpdmVQYXJhbXMuaWNvbi5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuaWNvbi5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmNsaWNrVXJsJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5jbGlja1VybC5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5kaXNwbGF5VXJsJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5kaXNwbGF5VXJsLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5kaXNwbGF5VXJsLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsmJighMCE9PXQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluay5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbi5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24uc2VuZFRhcmdldGluZ0tleXMpKSl9ZnVuY3Rpb24gYnVpbGRDZGJSZXF1ZXN0KHQsZSxyKXt2YXIgaSxzPXtwdWJsaXNoZXI6e3VybDp0LnVybCxleHQ6ci5wdWJsaXNoZXJFeHR9LHNsb3RzOmUubWFwKChmdW5jdGlvbih0KXtpPXQucGFyYW1zLm5ldHdvcmtJZHx8aTt2YXIgZT17aW1waWQ6dC5hZFVuaXRDb2RlLHRyYW5zYWN0aW9uaWQ6dC50cmFuc2FjdGlvbklkLGF1Y3Rpb25JZDp0LmF1Y3Rpb25JZH07aWYodC5wYXJhbXMuem9uZUlkJiYoZS56b25laWQ9dC5wYXJhbXMuem9uZUlkKSxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJvcnRiMkltcC5leHQiKSYmKGUuZXh0PXQub3J0YjJJbXAuZXh0KSx0LnBhcmFtcy5leHQmJihlLmV4dD1fZXh0ZW5kcyh7fSxlLmV4dCx0LnBhcmFtcy5leHQpKSx0LnBhcmFtcy5wdWJsaXNoZXJTdWJJZCYmKGUucHVibGlzaGVyc3ViaWQ9dC5wYXJhbXMucHVibGlzaGVyU3ViSWQpLHQucGFyYW1zLm5hdGl2ZUNhbGxiYWNrfHxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLiIuY29uY2F0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX21lZGlhVHlwZXNfanNfXy5jKSk/KGUubmF0aXZlPSEwLGNoZWNrTmF0aXZlU2VuZElkKHQpfHxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKShMT0dfUFJFRklYKyJhbGwgbmF0aXZlIGFzc2V0cyBjb250YWluaW5nIFVSTCBzaG91bGQgYmUgc2VudCBhcyBwbGFjZWhvbGRlcnMgd2l0aCBzZW5kSWQoaWNvbiwgaW1hZ2UsIGNsaWNrVXJsLCBkaXNwbGF5VXJsLCBwcml2YWN5TGluaywgcHJpdmFjeUljb24pIiksZS5zaXplcz1wYXJzZVNpemVzKHJldHJpZXZlQmFubmVyU2l6ZXModCkscGFyc2VOYXRpdmVTaXplKSk6ZS5zaXplcz1wYXJzZVNpemVzKHJldHJpZXZlQmFubmVyU2l6ZXModCkscGFyc2VTaXplKSxoYXNWaWRlb01lZGlhVHlwZSh0KSl7dmFyIHI9e3BsYXllcnNpemVzOnBhcnNlU2l6ZXMoT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikscGFyc2VTaXplKSxtaW1lczp0Lm1lZGlhVHlwZXMudmlkZW8ubWltZXMscHJvdG9jb2xzOnQubWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMsbWF4ZHVyYXRpb246dC5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9uLGFwaTp0Lm1lZGlhVHlwZXMudmlkZW8uYXBpLHNraXA6dC5tZWRpYVR5cGVzLnZpZGVvLnNraXAscGxhY2VtZW50OnQubWVkaWFUeXBlcy52aWRlby5wbGFjZW1lbnQsbWluZHVyYXRpb246dC5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9uLHBsYXliYWNrbWV0aG9kOnQubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZCxzdGFydGRlbGF5OnQubWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5fSxzPXQucGFyYW1zLnZpZGVvO3ZvaWQgMCE9PXMmJihyLnNraXA9ci5za2lwfHxzLnNraXB8fDAsci5wbGFjZW1lbnQ9ci5wbGFjZW1lbnR8fHMucGxhY2VtZW50LHIubWluZHVyYXRpb249ci5taW5kdXJhdGlvbnx8cy5taW5kdXJhdGlvbixyLnBsYXliYWNrbWV0aG9kPXIucGxheWJhY2ttZXRob2R8fHMucGxheWJhY2ttZXRob2Qsci5zdGFydGRlbGF5PXIuc3RhcnRkZWxheXx8cy5zdGFydGRlbGF5fHwwKSxlLnZpZGVvPXJ9cmV0dXJuIGV9KSl9O3JldHVybiBpJiYocy5wdWJsaXNoZXIubmV0d29ya2lkPWkpLHMudXNlcj17ZXh0OnIudXNlckV4dH0sciYmci5jZWgmJihzLnVzZXIuY2VoPXIuY2VoKSxyJiZyLmdkcHJDb25zZW50JiYocy5nZHByQ29uc2VudD17fSx2b2lkIDAhPT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocy5nZHByQ29uc2VudC5nZHByQXBwbGllcz0hIXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLHMuZ2RwckNvbnNlbnQudmVyc2lvbj1yLmdkcHJDb25zZW50LmFwaVZlcnNpb24sdm9pZCAwIT09ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5nZHByQ29uc2VudC5jb25zZW50RGF0YT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxyJiZyLnVzcENvbnNlbnQmJihzLnVzZXIudXNwSWFiPXIudXNwQ29uc2VudCksc31mdW5jdGlvbiByZXRyaWV2ZUJhbm5lclNpemVzKHQpe3JldHVybiBPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHx0LnNpemVzfWZ1bmN0aW9uIHBhcnNlU2l6ZXModCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0WzBdKT90Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9KSk6W2UodCldfWZ1bmN0aW9uIHBhcnNlU2l6ZSh0KXtyZXR1cm4gdFswXSsieCIrdFsxXX1mdW5jdGlvbiBwYXJzZU5hdGl2ZVNpemUodCl7cmV0dXJuIHZvaWQgMD09PXRbMF0mJnZvaWQgMD09PXRbMV0/IjJ4MiI6dFswXSsieCIrdFsxXX1mdW5jdGlvbiBoYXNWaWRlb01lZGlhVHlwZSh0KXtyZXR1cm4gdm9pZCAwIT09T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy52aWRlbyIpfWZ1bmN0aW9uIGhhc1ZhbGlkVmlkZW9NZWRpYVR5cGUodCl7dmFyIGU9ITA7aWYoWyJtaW1lcyIsInBsYXllclNpemUiLCJtYXhkdXJhdGlvbiIsInByb3RvY29scyIsImFwaSIsInNraXAiLCJwbGFjZW1lbnQiLCJwbGF5YmFja21ldGhvZCJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZvaWQgMD09PU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMudmlkZW8uIityKSYmdm9pZCAwPT09T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwicGFyYW1zLnZpZGVvLiIrcikmJihlPSExLE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmxvZ0Vycm9yKSgiQ3JpdGVvIEJpZCBBZGFwdGVyOiBtZWRpYVR5cGVzLnZpZGVvLiIrcisiIGlzIHJlcXVpcmVkIikpfSkpLGUpe3ZhciByPXQubWVkaWFUeXBlcy52aWRlby5wbGFjZW1lbnR8fHQucGFyYW1zLnZpZGVvLnBsYWNlbWVudDtpZigiaW5zdHJlYW0iPT10Lm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmMT09PXIpcmV0dXJuITA7aWYoIm91dHN0cmVhbSI9PXQubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYxIT09cilyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBjcmVhdGVQcmViaWROYXRpdmVBZCh0KXtyZXR1cm57c2VuZFRhcmdldGluZ0tleXM6ITEsdGl0bGU6dC5wcm9kdWN0c1swXS50aXRsZSxib2R5OnQucHJvZHVjdHNbMF0uZGVzY3JpcHRpb24sc3BvbnNvcmVkQnk6dC5hZHZlcnRpc2VyLmRlc2NyaXB0aW9uLGljb246dC5hZHZlcnRpc2VyLmxvZ28saW1hZ2U6dC5wcm9kdWN0c1swXS5pbWFnZSxjbGlja1VybDp0LnByb2R1Y3RzWzBdLmNsaWNrX3VybCxwcml2YWN5TGluazp0LnByaXZhY3kub3B0b3V0X2NsaWNrX3VybCxwcml2YWN5SWNvbjp0LnByaXZhY3kub3B0b3V0X2ltYWdlX3VybCxjdGE6dC5wcm9kdWN0c1swXS5jYWxsX3RvX2FjdGlvbixwcmljZTp0LnByb2R1Y3RzWzBdLnByaWNlLGltcHJlc3Npb25UcmFja2Vyczp0LmltcHJlc3Npb25fcGl4ZWxzLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudXJsfSkpfX1mdW5jdGlvbiBjcmVhdGVOYXRpdmVBZCh0LGUscil7dmFyIGk9ImNyaXRlb19wcmViaWRfbmF0aXZlX3Nsb3RzIjtyZXR1cm4gd2luZG93W2ldPXdpbmRvd1tpXXx8e30sd2luZG93W2ldW3RdPXtjYWxsYmFjazpyLHBheWxvYWQ6ZX0sJ1xuPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPlxuZm9yICh2YXIgaSA9IDA7IGkgPCAxMDsgKytpKSB7XG4gdmFyIHNsb3RzID0gd2luZG93LnBhcmVudC4nLmNvbmNhdChpLCc7XG4gIGlmKCFzbG90cyl7Y29udGludWU7fVxuICB2YXIgcmVzcG9uc2VTbG90ID0gc2xvdHNbIicpLmNvbmNhdCh0LCciXTtcbiAgcmVzcG9uc2VTbG90LmNhbGxiYWNrKHJlc3BvbnNlU2xvdC5wYXlsb2FkKTtcbiAgYnJlYWs7XG59XG48XC9zY3JpcHQ+Jyl9ZnVuY3Rpb24gY2FuRmFzdEJpZCh0KXtyZXR1cm4gdCE9PUZBU1RfQklEX1ZFUlNJT05fTk9ORX1mdW5jdGlvbiBnZXRGYXN0QmlkVXJsKHQpe3ZhciBlO2lmKHQ9PT1GQVNUX0JJRF9WRVJTSU9OX0xBVEVTVCllPSIiO2Vsc2UgaWYodCl7U3RyaW5nKHQpLnNwbGl0KCIuIilbMF08MTAyJiZPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKSgiU3BlY2lmeWluZyBhIEZhc3RiaWQgdmVyc2lvbiB3aGljaCBpcyBub3Qgc3VwcG9ydGluZyB2ZXJzaW9uIHNlbGVjdGlvbi4iKSxlPSIuIit0fWVsc2UgZT0iLiIrRkFTVF9CSURfVkVSU0lPTl9DVVJSRU5UO3JldHVybiBQVUJMSVNIRVJfVEFHX1VSTF9URU1QTEFURS5yZXBsYWNlKEZBU1RfQklEX1ZFUlNJT05fUExBQ0VIT0xERVIsZSl9ZnVuY3Rpb24gdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpe3RyeXt2YXIgZmFzdEJpZFN0b3JhZ2VLZXk9ImNyaXRlb19mYXN0X2JpZCIsaGFzaFByZWZpeD0iLy8gSGFzaDogIixmYXN0QmlkRnJvbVN0b3JhZ2U9c3RvcmFnZS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSk7aWYobnVsbCE9PWZhc3RCaWRGcm9tU3RvcmFnZSl7dmFyIGZpcnN0TGluZUVuZFBvc2l0aW9uPWZhc3RCaWRGcm9tU3RvcmFnZS5pbmRleE9mKCJcbiIpLGZpcnN0TGluZT1mYXN0QmlkRnJvbVN0b3JhZ2Uuc3Vic3RyKDAsZmlyc3RMaW5lRW5kUG9zaXRpb24pLnRyaW0oKTtpZihmaXJzdExpbmUuc3Vic3RyKDAsaGFzaFByZWZpeC5sZW5ndGgpIT09aGFzaFByZWZpeClPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKSgiTm8gaGFzaCBmb3VuZCBpbiBGYXN0QmlkIiksc3RvcmFnZS5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSk7ZWxzZXt2YXIgcHVibGlzaGVyVGFnSGFzaD1maXJzdExpbmUuc3Vic3RyKGhhc2hQcmVmaXgubGVuZ3RoKSxwdWJsaXNoZXJUYWc9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cihmaXJzdExpbmVFbmRQb3NpdGlvbisxKTtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fLnZlcmlmeSkocHVibGlzaGVyVGFnLHB1Ymxpc2hlclRhZ0hhc2gsRkFTVF9CSURfUFVCS0VZX04sRkFTVF9CSURfUFVCS0VZX0UpPyhPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dJbmZvKSgiVXNpbmcgQ3JpdGVvIEZhc3RCaWQiKSxldmFsKHB1Ymxpc2hlclRhZykpOihPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKSgiSW52YWxpZCBDcml0ZW8gRmFzdEJpZCBmb3VuZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpKX19fWNhdGNoKHQpe319T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXy5yZWdpc3RlckJpZGRlcikoc3BlYyl9LDc3OmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPXIoNzgpLHM9cig3OSk7ZS52ZXJpZnk9ZnVuY3Rpb24odCxlLHIsYSl7dmFyIF89bmV3IGkuQmlnSW50ZWdlcihpLmI2NHRvSGV4KGUpKSxvPW5ldyBpLkJpZ0ludGVnZXIoaS5iNjR0b0hleChyKSksbj1fLm1vZFBvd0ludChhLG8pO3JldHVybiBpLnJlbW92ZUV4dHJhU3ltYm9scyhuLnRvSGV4U3RyaW5nKCkpPT09cy5TaGEyNTYuaGFzaCh0KX19LDc4OmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtudWxsIT09dCYmdGhpcy5mcm9tSGV4U3RyaW5nKHQpfXJldHVybiB0LnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvSGV4U3RyaW5nKCk7dmFyIHQsZT0hMSxyPSIiLGk9dGhpcy50LHM9dGhpcy5EQi1pKnRoaXMuREIlNDtpZihpLS0gPjApZm9yKHM8dGhpcy5EQiYmKHQ9dGhpc1tpXT4+cyk+MCYmKGU9ITAscj1kKHQpKTtpPj0wOylzPDQ/KHQ9KHRoaXNbaV0mKDE8PHMpLTEpPDw0LXMsdHw9dGhpc1stLWldPj4ocys9dGhpcy5EQi00KSk6KHQ9dGhpc1tpXT4+KHMtPTQpJjE1LHM8PTAmJihzKz10aGlzLkRCLC0taSkpLHQ+MCYmKGU9ITApLGUmJihyKz1kKHQpKTtyZXR1cm4gZT9yOiIwIn0sdC5wcm90b3R5cGUuZnJvbUhleFN0cmluZz1mdW5jdGlvbihlKXtpZihudWxsIT09ZSl7dGhpcy50PTAsdGhpcy5zPTA7Zm9yKHZhciByPWUubGVuZ3RoLGk9ITEscz0wOy0tcj49MDspe3ZhciBhPXAoZSxyKTthPDA/Ii0iPT1lLmNoYXJBdChyKSYmKGk9ITApOihpPSExLDA9PXM/dGhpc1t0aGlzLnQrK109YTpzKzQ+dGhpcy5EQj8odGhpc1t0aGlzLnQtMV18PShhJigxPDx0aGlzLkRCLXMpLTEpPDxzLHRoaXNbdGhpcy50KytdPWE+PnRoaXMuREItcyk6dGhpc1t0aGlzLnQtMV18PWE8PHMsKHMrPTQpPj10aGlzLkRCJiYocy09dGhpcy5EQikpfTAsdGhpcy5jbGFtcCgpLGkmJnQuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfX0sdC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIGU9YSgpO3JldHVybiB0LlpFUk8uc3ViVG8odGhpcyxlKSxlfSx0LnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSx0LnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24oZSl7dmFyIHI9YSgpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKGUsbnVsbCxyKSx0aGlzLnM8MCYmci5jb21wYXJlVG8odC5aRVJPKT4wJiZlLnN1YlRvKHIscikscn0sdC5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnQtMTtlPj0wOy0tZSl0W2VdPXRoaXNbZV07dC50PXRoaXMudCx0LnM9dGhpcy5zfSx0LnByb3RvdHlwZS5sU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10JXRoaXMuREIsaT10aGlzLkRCLXIscz0oMTw8aSktMSxhPU1hdGguZmxvb3IodC90aGlzLkRCKSxfPXRoaXMuczw8ciZ0aGlzLkRNLG89dGhpcy50LTE7bz49MDstLW8pZVtvK2ErMV09dGhpc1tvXT4+aXxfLF89KHRoaXNbb10mcyk8PHI7Zm9yKG89YS0xO28+PTA7LS1vKWVbb109MDtlW2FdPV8sZS50PXRoaXMudCthKzEsZS5zPXRoaXMucyxlLmNsYW1wKCl9LHQucHJvdG90eXBlLmludkRpZ2l0PWZ1bmN0aW9uKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIHQ9dGhpc1swXTtpZigwPT0oMSZ0KSlyZXR1cm4gMDt2YXIgZT0zJnQ7cmV0dXJuKGU9KGU9KGU9KGU9ZSooMi0oMTUmdCkqZSkmMTUpKigyLSgyNTUmdCkqZSkmMjU1KSooMi0oKDY1NTM1JnQpKmUmNjU1MzUpKSY2NTUzNSkqKDItdCplJXRoaXMuRFYpJXRoaXMuRFYpPjA/dGhpcy5EVi1lOi1lfSx0LnByb3RvdHlwZS5kbFNoaWZ0VG89ZnVuY3Rpb24odCxlKXt2YXIgcjtmb3Iocj10aGlzLnQtMTtyPj0wOy0tcillW3IrdF09dGhpc1tyXTtmb3Iocj10LTE7cj49MDstLXIpZVtyXT0wO2UudD10aGlzLnQrdCxlLnM9dGhpcy5zfSx0LnByb3RvdHlwZS5zcXVhcmVUbz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5hYnMoKSxyPXQudD0yKmUudDstLXI+PTA7KXRbcl09MDtmb3Iocj0wO3I8ZS50LTE7KytyKXt2YXIgaT1lLmFtKHIsZVtyXSx0LDIqciwwLDEpOyh0W3IrZS50XSs9ZS5hbShyKzEsMiplW3JdLHQsMipyKzEsaSxlLnQtci0xKSk+PWUuRFYmJih0W3IrZS50XS09ZS5EVix0W3IrZS50KzFdPTEpfXQudD4wJiYodFt0LnQtMV0rPWUuYW0ocixlW3JdLHQsMipyLDAsMSkpLHQucz0wLHQuY2xhbXAoKX0sdC5wcm90b3R5cGUubXVsdGlwbHlUbz1mdW5jdGlvbihlLHIpe3ZhciBpPXRoaXMuYWJzKCkscz1lLmFicygpLGE9aS50O2ZvcihyLnQ9YStzLnQ7LS1hPj0wOylyW2FdPTA7Zm9yKGE9MDthPHMudDsrK2EpclthK2kudF09aS5hbSgwLHNbYV0scixhLDAsaS50KTtyLnM9MCxyLmNsYW1wKCksdGhpcy5zIT1lLnMmJnQuWkVSTy5zdWJUbyhyLHIpfSx0LnByb3RvdHlwZS5kaXZSZW1Ubz1mdW5jdGlvbihlLHIsaSl7dmFyIHM9ZS5hYnMoKTtpZighKHMudDw9MCkpe3ZhciBvPXRoaXMuYWJzKCk7aWYoby50PHMudClyZXR1cm4gbnVsbCE9ciYmci5mcm9tSGV4U3RyaW5nKCIwIiksdm9pZChudWxsIT1pJiZ0aGlzLmNvcHlUbyhpKSk7bnVsbD09aSYmKGk9YSgpKTt2YXIgbj1hKCksYz10aGlzLnMscD1lLnMsZD10aGlzLkRCLV8oc1tzLnQtMV0pO2Q+MD8ocy5sU2hpZnRUbyhkLG4pLG8ubFNoaWZ0VG8oZCxpKSk6KHMuY29weVRvKG4pLG8uY29weVRvKGkpKTt2YXIgdT1uLnQsbD1uW3UtMV07aWYoMCE9bCl7dmFyIGg9bCooMTw8dGhpcy5GMSkrKHU+MT9uW3UtMl0+PnRoaXMuRjI6MCksZj10aGlzLkZWL2gsRT0oMTw8dGhpcy5GMSkvaCx2PTE8PHRoaXMuRjIsbT1pLnQsVD1tLXUsYj1udWxsPT1yP2EoKTpyO2ZvcihuLmRsU2hpZnRUbyhULGIpLGkuY29tcGFyZVRvKGIpPj0wJiYoaVtpLnQrK109MSxpLnN1YlRvKGIsaSkpLHQuT05FLmRsU2hpZnRUbyh1LGIpLGIuc3ViVG8obixuKTtuLnQ8dTspbltuLnQrK109MDtmb3IoOy0tVD49MDspe3ZhciBEPWlbLS1tXT09bD90aGlzLkRNOk1hdGguZmxvb3IoaVttXSpmKyhpW20tMV0rdikqRSk7aWYoKGlbbV0rPW4uYW0oMCxELGksVCwwLHUpKTxEKWZvcihuLmRsU2hpZnRUbyhULGIpLGkuc3ViVG8oYixpKTtpW21dPC0tRDspaS5zdWJUbyhiLGkpfW51bGwhPXImJihpLmRyU2hpZnRUbyh1LHIpLGMhPXAmJnQuWkVSTy5zdWJUbyhyLHIpKSxpLnQ9dSxpLmNsYW1wKCksZD4wJiZpLnJTaGlmdFRvKGQsaSksYzwwJiZ0LlpFUk8uc3ViVG8oaSxpKX19fSx0LnByb3RvdHlwZS5yU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Uucz10aGlzLnM7dmFyIHI9TWF0aC5mbG9vcih0L3RoaXMuREIpO2lmKHI+PXRoaXMudCllLnQ9MDtlbHNle3ZhciBpPXQldGhpcy5EQixzPXRoaXMuREItaSxhPSgxPDxpKS0xO2VbMF09dGhpc1tyXT4+aTtmb3IodmFyIF89cisxO188dGhpcy50OysrXyllW18tci0xXXw9KHRoaXNbX10mYSk8PHMsZVtfLXJdPXRoaXNbX10+Pmk7aT4wJiYoZVt0aGlzLnQtci0xXXw9KHRoaXMucyZhKTw8cyksZS50PXRoaXMudC1yLGUuY2xhbXAoKX19LHQucHJvdG90eXBlLmRyU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10O3I8dGhpcy50OysrcillW3ItdF09dGhpc1tyXTtlLnQ9TWF0aC5tYXgodGhpcy50LXQsMCksZS5zPXRoaXMuc30sdC5wcm90b3R5cGUuc3ViVG89ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxpPTAscz1NYXRoLm1pbih0LnQsdGhpcy50KTtyPHM7KWkrPXRoaXNbcl0tdFtyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2lmKHQudDx0aGlzLnQpe2ZvcihpLT10LnM7cjx0aGlzLnQ7KWkrPXRoaXNbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpKz10aGlzLnN9ZWxzZXtmb3IoaSs9dGhpcy5zO3I8dC50OylpLT10W3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aS09dC5zfWUucz1pPDA/LTE6MCxpPC0xP2VbcisrXT10aGlzLkRWK2k6aT4wJiYoZVtyKytdPWkpLGUudD1yLGUuY2xhbXAoKX0sdC5wcm90b3R5cGUuY2xhbXA9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5zJnRoaXMuRE07dGhpcy50PjAmJnRoaXNbdGhpcy50LTFdPT10OyktLXRoaXMudH0sdC5wcm90b3R5cGUubW9kUG93SW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI7cmV0dXJuIHI9dDwyNTZ8fGUuaXNFdmVuKCk/bmV3IHUoZSk6bmV3IGwoZSksdGhpcy5leHAodCxyKX0sdC5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKGUscil7aWYoZT40Mjk0OTY3Mjk1fHxlPDEpcmV0dXJuIHQuT05FO3ZhciBpPWEoKSxzPWEoKSxvPXIuY29udmVydCh0aGlzKSxuPV8oZSktMTtmb3Ioby5jb3B5VG8oaSk7LS1uPj0wOylpZihyLnNxclRvKGkscyksKGUmMTw8bik+MClyLm11bFRvKHMsbyxpKTtlbHNle3ZhciBjPWk7aT1zLHM9Y31yZXR1cm4gci5yZXZlcnQoaSl9LHQucHJvdG90eXBlLmlzRXZlbj1mdW5jdGlvbigpe3JldHVybiAwPT0odGhpcy50PjA/MSZ0aGlzWzBdOnRoaXMucyl9LHQucHJvdG90eXBlLmNvbXBhcmVUbz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnMtdC5zO2lmKDAhPWUpcmV0dXJuIGU7dmFyIHI9dGhpcy50O2lmKDAhPShlPXItdC50KSlyZXR1cm4gdGhpcy5zPDA/LWU6ZTtmb3IoOy0tcj49MDspaWYoMCE9KGU9dGhpc1tyXS10W3JdKSlyZXR1cm4gZTtyZXR1cm4gMH0sdC5wcm90b3R5cGUuYW0xPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IoOy0tYT49MDspe3ZhciBfPWUqdGhpc1t0KytdK3JbaV0rcztzPU1hdGguZmxvb3IoXy82NzEwODg2NCkscltpKytdPTY3MTA4ODYzJl99cmV0dXJuIHN9LHQucHJvdG90eXBlLmFtMj1mdW5jdGlvbih0LGUscixpLHMsYSl7Zm9yKHZhciBfPTMyNzY3JmUsbz1lPj4xNTstLWE+PTA7KXt2YXIgbj0zMjc2NyZ0aGlzW3RdLGM9dGhpc1t0KytdPj4xNSxwPW8qbitjKl87cz0oKG49XypuKygoMzI3NjcmcCk8PDE1KStyW2ldKygxMDczNzQxODIzJnMpKT4+PjMwKSsocD4+PjE1KStvKmMrKHM+Pj4zMCkscltpKytdPTEwNzM3NDE4MjMmbn1yZXR1cm4gc30sdC5wcm90b3R5cGUuYW0zPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IodmFyIF89MTYzODMmZSxvPWU+PjE0Oy0tYT49MDspe3ZhciBuPTE2MzgzJnRoaXNbdF0sYz10aGlzW3QrK10+PjE0LHA9bypuK2MqXztzPSgobj1fKm4rKCgxNjM4MyZwKTw8MTQpK3JbaV0rcyk+PjI4KSsocD4+MTQpK28qYyxyW2krK109MjY4NDM1NDU1Jm59cmV0dXJuIHN9LHR9KCk7ZnVuY3Rpb24gYSgpe3JldHVybiBuZXcgcyhudWxsKX1mdW5jdGlvbiBfKHQpe3ZhciBlLHI9MTtyZXR1cm4gMCE9KGU9dD4+PjE2KSYmKHQ9ZSxyKz0xNiksMCE9KGU9dD4+OCkmJih0PWUscis9OCksMCE9KGU9dD4+NCkmJih0PWUscis9NCksMCE9KGU9dD4+MikmJih0PWUscis9MiksMCE9KGU9dD4+MSkmJih0PWUscis9MSkscn1lLkJpZ0ludGVnZXI9cyxlLm5iaT1hLGUubmJpdHM9Xzt2YXIgbyxuLGM9W107Zm9yKG89IjAiLmNoYXJDb2RlQXQoMCksbj0wO248PTk7KytuKWNbbysrXT1uO2ZvcihvPSJhIi5jaGFyQ29kZUF0KDApLG49MTA7bjwzNjsrK24pY1tvKytdPW47Zm9yKG89IkEiLmNoYXJDb2RlQXQoMCksbj0xMDtuPDM2OysrbiljW28rK109bjtmdW5jdGlvbiBwKHQsZSl7dmFyIHI9Y1t0LmNoYXJDb2RlQXQoZSldO3JldHVybiBudWxsPT1yPy0xOnJ9ZS5pbnRBdD1wO2Z1bmN0aW9uIGQodCl7cmV0dXJuIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIuY2hhckF0KHQpfWUuaW50MmNoYXI9ZDtlLmI2NHRvSGV4PWZ1bmN0aW9uKHQpe3ZhciBlLHI9IiIsaT0wLHM9MDtmb3IoZT0wO2U8dC5sZW5ndGgmJiI9IiE9dC5jaGFyQXQoZSk7KytlKXt2YXIgYT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuaW5kZXhPZih0LmNoYXJBdChlKSk7YTwwfHwoMD09aT8ocis9ZChhPj4yKSxzPTMmYSxpPTEpOjE9PWk/KHIrPWQoczw8MnxhPj40KSxzPTE1JmEsaT0yKToyPT1pPyhyKz1kKHMpLHIrPWQoYT4+Mikscz0zJmEsaT0zKToocis9ZChzPDwyfGE+PjQpLHIrPWQoMTUmYSksaT0wKSl9cmV0dXJuIDE9PWkmJihyKz1kKHM8PDIpKSxyfSxlLnJlbW92ZUV4dHJhU3ltYm9scz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eMWYrMDAvLCIiKS5yZXBsYWNlKCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCIsIiIpfTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tPXR9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuczwwfHx0LmNvbXBhcmVUbyh0aGlzLm0pPj0wP3QubW9kKHRoaXMubSk6dH0sdC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3JldHVybiB0fSx0LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7dC5kaXZSZW1Ubyh0aGlzLm0sbnVsbCx0KX0sdC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpLHRoaXMucmVkdWNlKHIpfSx0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LHR9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5tPXQsdGhpcy5tcD10LmludkRpZ2l0KCksdGhpcy5tcGw9MzI3NjcmdGhpcy5tcCx0aGlzLm1waD10aGlzLm1wPj4xNSx0aGlzLnVtPSgxPDx0LkRCLTE1KS0xLHRoaXMubXQyPTIqdC50fXJldHVybiB0LnByb3RvdHlwZS5jb252ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWEoKTtyZXR1cm4gdC5hYnMoKS5kbFNoaWZ0VG8odGhpcy5tLnQsZSksZS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxlKSx0LnM8MCYmZS5jb21wYXJlVG8ocy5aRVJPKT4wJiZ0aGlzLm0uc3ViVG8oZSxlKSxlfSx0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9YSgpO3JldHVybiB0LmNvcHlUbyhlKSx0aGlzLnJlZHVjZShlKSxlfSx0LnByb3RvdHlwZS5yZWR1Y2U9ZnVuY3Rpb24odCl7Zm9yKDt0LnQ8PXRoaXMubXQyOyl0W3QudCsrXT0wO2Zvcih2YXIgZT0wO2U8dGhpcy5tLnQ7KytlKXt2YXIgcj0zMjc2NyZ0W2VdLGk9cip0aGlzLm1wbCsoKHIqdGhpcy5tcGgrKHRbZV0+PjE1KSp0aGlzLm1wbCZ0aGlzLnVtKTw8MTUpJnQuRE07Zm9yKHRbcj1lK3RoaXMubS50XSs9dGhpcy5tLmFtKDAsaSx0LGUsMCx0aGlzLm0udCk7dFtyXT49dC5EVjspdFtyXS09dC5EVix0Wysrcl0rK310LmNsYW1wKCksdC5kclNoaWZ0VG8odGhpcy5tLnQsdCksdC5jb21wYXJlVG8odGhpcy5tKT49MCYmdC5zdWJUbyh0aGlzLm0sdCl9LHQucHJvdG90eXBlLm11bFRvPWZ1bmN0aW9uKHQsZSxyKXt0Lm11bHRpcGx5VG8oZSxyKSx0aGlzLnJlZHVjZShyKX0sdC5wcm90b3R5cGUuc3FyVG89ZnVuY3Rpb24odCxlKXt0LnNxdWFyZVRvKGUpLHRoaXMucmVkdWNlKGUpfSx0fSgpO2Z1bmN0aW9uIGgodCl7dmFyIGU9YSgpO3JldHVybiBlLmZyb21IZXhTdHJpbmcodC50b1N0cmluZygpKSxlfWUubmJ2PWgscy5aRVJPPWgoMCkscy5PTkU9aCgxKSwiTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyIj09bmF2aWdhdG9yLmFwcE5hbWU/KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMixpPTMwKToiTmV0c2NhcGUiIT1uYXZpZ2F0b3IuYXBwTmFtZT8ocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0xLGk9MjYpOihzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTMsaT0yOCkscy5wcm90b3R5cGUuREI9aSxzLnByb3RvdHlwZS5ETT0oMTw8aSktMSxzLnByb3RvdHlwZS5EVj0xPDxpO3MucHJvdG90eXBlLkZWPU1hdGgucG93KDIsNTIpLHMucHJvdG90eXBlLkYxPTUyLWkscy5wcm90b3R5cGUuRjI9MippLTUyfSw3OTpmdW5jdGlvbih0LGUscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQuaGFzaD1mdW5jdGlvbihlKXtlPXQudXRmOEVuY29kZShlfHwiIik7Zm9yKHZhciByPVsxMTE2MzUyNDA4LDE4OTk0NDc0NDEsMzA0OTMyMzQ3MSwzOTIxMDA5NTczLDk2MTk4NzE2MywxNTA4OTcwOTkzLDI0NTM2MzU3NDgsMjg3MDc2MzIyMSwzNjI0MzgxMDgwLDMxMDU5ODQwMSw2MDcyMjUyNzgsMTQyNjg4MTk4NywxOTI1MDc4Mzg4LDIxNjIwNzgyMDYsMjYxNDg4ODEwMywzMjQ4MjIyNTgwLDM4MzUzOTA0MDEsNDAyMjIyNDc3NCwyNjQzNDcwNzgsNjA0ODA3NjI4LDc3MDI1NTk4MywxMjQ5MTUwMTIyLDE1NTUwODE2OTIsMTk5NjA2NDk4NiwyNTU0MjIwODgyLDI4MjE4MzQzNDksMjk1Mjk5NjgwOCwzMjEwMzEzNjcxLDMzMzY1NzE4OTEsMzU4NDUyODcxMSwxMTM5MjY5OTMsMzM4MjQxODk1LDY2NjMwNzIwNSw3NzM1Mjk5MTIsMTI5NDc1NzM3MiwxMzk2MTgyMjkxLDE2OTUxODM3MDAsMTk4NjY2MTA1MSwyMTc3MDI2MzUwLDI0NTY5NTYwMzcsMjczMDQ4NTkyMSwyODIwMzAyNDExLDMyNTk3MzA4MDAsMzM0NTc2NDc3MSwzNTE2MDY1ODE3LDM2MDAzNTI4MDQsNDA5NDU3MTkwOSwyNzU0MjMzNDQsNDMwMjI3NzM0LDUwNjk0ODYxNiw2NTkwNjA1NTYsODgzOTk3ODc3LDk1ODEzOTU3MSwxMzIyODIyMjE4LDE1MzcwMDIwNjMsMTc0Nzg3Mzc3OSwxOTU1NTYyMjIyLDIwMjQxMDQ4MTUsMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdLGk9WzE3NzkwMzM3MDMsMzE0NDEzNDI3NywxMDEzOTA0MjQyLDI3NzM0ODA3NjIsMTM1OTg5MzExOSwyNjAwODIyOTI0LDUyODczNDYzNSwxNTQxNDU5MjI1XSxzPShlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDEyOCkpLmxlbmd0aC80KzIsYT1NYXRoLmNlaWwocy8xNiksXz1uZXcgQXJyYXkoYSksbz0wO288YTtvKyspe19bb109bmV3IEFycmF5KDE2KTtmb3IodmFyIG49MDtuPDE2O24rKylfW29dW25dPWUuY2hhckNvZGVBdCg2NCpvKzQqbik8PDI0fGUuY2hhckNvZGVBdCg2NCpvKzQqbisxKTw8MTZ8ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKzIpPDw4fGUuY2hhckNvZGVBdCg2NCpvKzQqbiszKTw8MH12YXIgYz04KihlLmxlbmd0aC0xKS9NYXRoLnBvdygyLDMyKSxwPTgqKGUubGVuZ3RoLTEpPj4+MDtfW2EtMV1bMTRdPU1hdGguZmxvb3IoYyksX1thLTFdWzE1XT1wO2ZvcihvPTA7bzxhO28rKyl7Zm9yKHZhciBkPW5ldyBBcnJheSg2NCksdT0wO3U8MTY7dSsrKWRbdV09X1tvXVt1XTtmb3IodT0xNjt1PDY0O3UrKylkW3VdPXQucTEoZFt1LTJdKStkW3UtN10rdC5xMChkW3UtMTVdKStkW3UtMTZdPj4+MDt2YXIgbD1pWzBdLGg9aVsxXSxmPWlbMl0sRT1pWzNdLHY9aVs0XSxtPWlbNV0sVD1pWzZdLGI9aVs3XTtmb3IodT0wO3U8NjQ7dSsrKXt2YXIgRD1iK3QuejEodikrdC5DaCh2LG0sVCkrclt1XStkW3VdLHk9dC56MChsKSt0Lk1haihsLGgsZik7Yj1ULFQ9bSxtPXYsdj1FK0Q+Pj4wLEU9ZixmPWgsaD1sLGw9RCt5Pj4+MH1pWzBdPWlbMF0rbD4+PjAsaVsxXT1pWzFdK2g+Pj4wLGlbMl09aVsyXStmPj4+MCxpWzNdPWlbM10rRT4+PjAsaVs0XT1pWzRdK3Y+Pj4wLGlbNV09aVs1XSttPj4+MCxpWzZdPWlbNl0rVD4+PjAsaVs3XT1pWzddK2I+Pj4wfXZhciBPPW5ldyBBcnJheShpLmxlbmd0aCk7Zm9yKGI9MDtiPGkubGVuZ3RoO2IrKylPW2JdPSgiMDAwMDAwMDAiK2lbYl0udG9TdHJpbmcoMTYpKS5zbGljZSgtOCk7cmV0dXJuIE8uam9pbigiIil9LHQudXRmOEVuY29kZT1mdW5jdGlvbih0KXt0cnl7cmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpLnJlZHVjZSgoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtTdHJpbmcuZnJvbUNoYXJDb2RlKGUpfSksIiIpfWNhdGNoKGUpe3JldHVybiB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQodCkpfX0sdC5ST1RSPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGU+Pj50fGU8PDMyLXR9LHQuejA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUigyLGUpXnQuUk9UUigxMyxlKV50LlJPVFIoMjIsZSl9LHQuejE9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUig2LGUpXnQuUk9UUigxMSxlKV50LlJPVFIoMjUsZSl9LHQucTA9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuUk9UUig3LGUpXnQuUk9UUigxOCxlKV5lPj4+M30sdC5xMT1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDE3LGUpXnQuUk9UUigxOSxlKV5lPj4+MTB9LHQuQ2g9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0JmVefnQmcn0sdC5NYWo9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB0JmVedCZyXmUmcn0sdH0oKTtlLlNoYTI1Nj1pfX0sWzM5NV0pOwp1cGJqc0NodW5rKFsyODldLHszOTk6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDQwMCl9LDQwMDpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwiY3VycmVuY3lTdXBwb3J0RW5hYmxlZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGh9KSksbi5kKHIsImN1cnJlbmN5UmF0ZXMiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLHIuc2V0Q29uZmlnPUMsci5hZGRCaWRSZXNwb25zZUhvb2s9RDt2YXIgbz1uKDApLGM9bigxNCksdD1uKDQzKSxpPW4oNSksYT0obi5uKGkpLG4oNCkpLHU9bigzKSxzPW4oOSk7ZnVuY3Rpb24gZihlKXtyZXR1cm4oZj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBkLGw9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9wcmViaWQvY3VycmVuY3ktZmlsZUAxL2xhdGVzdC5qc29uP2RhdGU9JCRUT0RBWSQkIix5PVtdLGI9e30sZz0hMSx2PSEwLHA9IlVTRCIsaD0hMSxPPXt9LGo9e307ZnVuY3Rpb24gQyhlKXt2YXIgcj1sO2lmKCJvYmplY3QiPT09ZihlLnJhdGVzKSYmKE8uY29udmVyc2lvbnM9ZS5yYXRlcyxnPSEwLHY9ITEpLCJvYmplY3QiPT09ZihlLmRlZmF1bHRSYXRlcykmJihkPWUuZGVmYXVsdFJhdGVzLE8uY29udmVyc2lvbnM9ZCxnPSEwKSwic3RyaW5nIj09dHlwZW9mIGUuYWRTZXJ2ZXJDdXJyZW5jeSl7T2JqZWN0KG8ubG9nSW5mbykoImVuYWJsaW5nIGN1cnJlbmN5IHN1cHBvcnQiLGFyZ3VtZW50cykscD1lLmFkU2VydmVyQ3VycmVuY3ksZS5jb252ZXJzaW9uUmF0ZUZpbGUmJihPYmplY3Qoby5sb2dJbmZvKSgiY3VycmVuY3kgdXNpbmcgb3ZlcnJpZGUgY29udmVyc2lvblJhdGVGaWxlOiIsZS5jb252ZXJzaW9uUmF0ZUZpbGUpLHI9ZS5jb252ZXJzaW9uUmF0ZUZpbGUpO3ZhciBuPXIuaW5kZXhPZigiJCRUT0RBWSQkIik7aWYoLTEhPT1uKXt2YXIgYz1uZXcgRGF0ZSx0PSIiLmNvbmNhdChjLmdldE1vbnRoKCkrMSksaT0iIi5jb25jYXQoYy5nZXREYXRlKCkpO3QubGVuZ3RoPDImJih0PSIwIi5jb25jYXQodCkpLGkubGVuZ3RoPDImJihpPSIwIi5jb25jYXQoaSkpO3ZhciBhPSIiLmNvbmNhdChjLmdldEZ1bGxZZWFyKCkpLmNvbmNhdCh0KS5jb25jYXQoaSk7cj0iIi5jb25jYXQoci5zdWJzdHJpbmcoMCxuKSkuY29uY2F0KGEpLmNvbmNhdChyLnN1YnN0cmluZyhuKzksci5sZW5ndGgpKX1tKHIpfWVsc2UgT2JqZWN0KG8ubG9nSW5mbykoImRpc2FibGluZyBjdXJyZW5jeSBzdXBwb3J0IiksUigpOyJvYmplY3QiPT09ZihlLmJpZGRlckN1cnJlbmN5RGVmYXVsdCkmJihqPWUuYmlkZGVyQ3VycmVuY3lEZWZhdWx0KX1mdW5jdGlvbiBTKGUpe2Q/KE9iamVjdChvLmxvZ1dhcm4pKGUpLE9iamVjdChvLmxvZ1dhcm4pKCJDdXJyZW5jeSBmYWlsZWQgbG9hZGluZyByYXRlcywgZmFsbGluZyBiYWNrIHRvIGN1cnJlbmN5LmRlZmF1bHRSYXRlcyIpKTpPYmplY3Qoby5sb2dFcnJvcikoZSl9ZnVuY3Rpb24gbShlKXtiPXt9LGg9ITAsT2JqZWN0KG8ubG9nSW5mbykoIkluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KGMuYSkoKS5jb252ZXJ0Q3VycmVuY3k9ZnVuY3Rpb24oZSxyLG4pe3JldHVybiBwYXJzZUZsb2F0KGUpKncocixuKX0sT2JqZWN0KHMuYSkoImFkZEJpZFJlc3BvbnNlIikuYmVmb3JlKEQsMTAwKSx2JiYodj0hMSxPYmplY3QoYS5hKShlLHtzdWNjZXNzOmZ1bmN0aW9uKGUpe3RyeXtPPUpTT04ucGFyc2UoZSksT2JqZWN0KG8ubG9nSW5mbykoImN1cnJlbmN5UmF0ZXMgc2V0IHRvICIrSlNPTi5zdHJpbmdpZnkoTykpLGc9ITAsSSgpfWNhdGNoKHIpe1MoIkZhaWxlZCB0byBwYXJzZSBjdXJyZW5jeVJhdGVzIHJlc3BvbnNlOiAiK2UpfX0sZXJyb3I6U30pKX1mdW5jdGlvbiBSKCl7T2JqZWN0KG8ubG9nSW5mbykoIlVuaW5zdGFsbGluZyBhZGRCaWRSZXNwb25zZSBkZWNvcmF0b3IgZm9yIGN1cnJlbmN5IG1vZHVsZSIsYXJndW1lbnRzKSxPYmplY3Qocy5hKSgiYWRkQmlkUmVzcG9uc2UiKS5nZXRIb29rcyh7aG9vazpEfSkucmVtb3ZlKCksZGVsZXRlIE9iamVjdChjLmEpKCkuY29udmVydEN1cnJlbmN5LHA9IlVTRCIsYj17fSxoPSExLGc9ITEsdj0hMCxPPXt9LGo9e319ZnVuY3Rpb24gRChlLHIsbil7aWYoIW4pcmV0dXJuIGUuY2FsbCh0aGlzLHIpO3ZhciBjPW4uYmlkZGVyQ29kZXx8bi5iaWRkZXI7aWYoaltjXSl7dmFyIGE9altjXTtuLmN1cnJlbmN5JiZhIT09bi5jdXJyZW5jeT9PYmplY3Qoby5sb2dXYXJuKSgiQ3VycmVuY3kgZGVmYXVsdCAnIi5jb25jYXQoYywiOiAiKS5jb25jYXQoYSwiJyBpZ25vcmVkLiBhZGFwdGVyIHNwZWNpZmllZCAnIikuY29uY2F0KG4uY3VycmVuY3ksIiciKSk6bi5jdXJyZW5jeT1hfWlmKG4uY3VycmVuY3l8fChPYmplY3Qoby5sb2dXYXJuKSgnQ3VycmVuY3kgbm90IHNwZWNpZmllZCBvbiBiaWQuICBEZWZhdWx0ZWQgdG8gIlVTRCInKSxuLmN1cnJlbmN5PSJVU0QiKSxuLmdldENwbUluTmV3Q3VycmVuY3k9ZnVuY3Rpb24oZSl7cmV0dXJuKHBhcnNlRmxvYXQodGhpcy5jcG0pKncodGhpcy5jdXJyZW5jeSxlKSkudG9GaXhlZCgzKX0sbi5jdXJyZW5jeT09PXApcmV0dXJuIGUuY2FsbCh0aGlzLHIsbik7eS5wdXNoKGZ1bmN0aW9uKGUscixuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYz1uWzFdO2lmKHZvaWQgMCE9PWMmJiJjdXJyZW5jeSJpbiBjJiYiY3BtImluIGMpe3ZhciBhPWMuY3VycmVuY3k7dHJ5e3ZhciB1PXcoYSk7MSE9PXUmJihjLmNwbT0ocGFyc2VGbG9hdChjLmNwbSkqdSkudG9GaXhlZCg0KSxjLmN1cnJlbmN5PXApfWNhdGNoKGUpe09iamVjdChvLmxvZ1dhcm4pKCJSZXR1cm5pbmcgTk9fQklELCBnZXRDdXJyZW5jeUNvbnZlcnNpb24gdGhyZXcgZXJyb3I6ICIsZSksblsxXT1PYmplY3QodC5hKShpLlNUQVRVUy5OT19CSUQse2JpZGRlcjpjLmJpZGRlckNvZGV8fGMuYmlkZGVyLGJpZElkOmMucmVxdWVzdElkfSl9fXJldHVybiBlLmFwcGx5KHIsbil9fShlLHRoaXMsW3Isbl0pKSxoJiYhZ3x8SSgpfWZ1bmN0aW9uIEkoKXtmb3IoO3kubGVuZ3RoPjA7KXkuc2hpZnQoKSgpfWZ1bmN0aW9uIHcoZSl7dmFyIHIsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06cCxjPW51bGwsdD0iIi5jb25jYXQoZSwiLT4iKS5jb25jYXQobik7aWYodCBpbiBiKWM9Ylt0XSxPYmplY3Qoby5sb2dNZXNzYWdlKSgiVXNpbmcgY29udmVyc2lvbkNhY2hlIHZhbHVlICIrYysiIGZvciAiK3QpO2Vsc2UgaWYoITE9PT1oKXtpZigiVVNEIiE9PWUpdGhyb3cgbmV3IEVycm9yKCJQcmViaWQgY3VycmVuY3kgc3VwcG9ydCBoYXMgbm90IGJlZW4gZW5hYmxlZCBhbmQgZnJvbUN1cnJlbmN5IGlzIG5vdCBVU0QiKTtjPTF9ZWxzZSBpZihlPT09biljPTE7ZWxzZSBpZihlIGluIE8uY29udmVyc2lvbnMpe2lmKCEobiBpbihyPU8uY29udmVyc2lvbnNbZV0pKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBhZFNlcnZlckN1cnJlbmN5IGluIGNvbmZpZyAnIituKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO2M9cltuXSxPYmplY3Qoby5sb2dJbmZvKSgiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIGRpcmVjdCAiK2UrIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK2MpfWVsc2UgaWYobiBpbiBPLmNvbnZlcnNpb25zKXtpZighKGUgaW4ocj1PLmNvbnZlcnNpb25zW25dKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgZnJvbUN1cnJlbmN5ICciK2UrIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7Yz1GKDEvcltlXSw0KSxPYmplY3Qoby5sb2dJbmZvKSgiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIHJlY2lwcm9jYWwgIitlKyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitjKX1lbHNle3ZhciBpPU9iamVjdC5rZXlzKE8uY29udmVyc2lvbnMpWzBdO2lmKCEoZSBpbiBPLmNvbnZlcnNpb25zW2ldKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBmcm9tQ3VycmVuY3kgJyIrZSsiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTt2YXIgYT0xL08uY29udmVyc2lvbnNbaV1bZV07aWYoIShuIGluIE8uY29udmVyc2lvbnNbaV0pKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGFkU2VydmVyQ3VycmVuY3kgaW4gY29uZmlnICciK24rIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7dmFyIHU9Ty5jb252ZXJzaW9uc1tpXVtuXTtjPUYoYSp1LDQpLE9iamVjdChvLmxvZ0luZm8pKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgaW50ZXJtZWRpYXRlICIrZSsiIHRocnUgIitpKyIgdG8gIituKyIgY29udmVyc2lvblJhdGUgIitjKX1yZXR1cm4gdCBpbiBifHwoT2JqZWN0KG8ubG9nTWVzc2FnZSkoIkFkZGluZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitjKyIgZm9yICIrdCksYlt0XT1jKSxjfWZ1bmN0aW9uIEYoZSxyKXtmb3IodmFyIG49MSxvPTA7bzxyO28rKyluKz0iMCI7cmV0dXJuIE1hdGgucm91bmQoZSpuKS9ufXUuYi5nZXRDb25maWcoImN1cnJlbmN5IiwoZnVuY3Rpb24oZSl7cmV0dXJuIEMoZS5jdXJyZW5jeSl9KSl9fSxbMzk5XSk7CnVwYmpzQ2h1bmsoWzI4MV0sezQxNzpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNDE4KX0sNDE4OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxyLmdldEZsb29yPWgsci5jbGVhblNpemVzPXYsci5zaHVmZmxlPU8sci5yZW1vdmVEdXBsaWNhdGU9QSxyLnVwdG81PUksci5tYXRjaFJlcXVlc3Q9aixyLmNoZWNrRGVlcEFycmF5PVMsci5kZWZhdWx0U2l6ZT14LHIuYmluZFVzZXJJZD13LHIuZ2V0QXBpPVQsci5nZXRQbGF5YmFja21ldGhvZD1mdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wKXJldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIucGxheWJhY2tfbWV0aG9kW2VdfSkpO3JldHVyblsyXX0sci5nZXRQcm90b2NvbHM9eixyLmNsZWFuVmFzdD1fO3ZhciBuPXQoMCksaT10KDEpLG89dCgzKSxzPXQoMik7ZnVuY3Rpb24gYShlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXt2YXIgdD1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXQpcmV0dXJuO3ZhciBuLGksbz1bXSxzPSEwLGE9ITE7dHJ5e2Zvcih0PXQuY2FsbChlKTshKHM9KG49dC5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKG4udmFsdWUpLCFyfHxvLmxlbmd0aCE9PXIpO3M9ITApO31jYXRjaChlKXthPSEwLGk9ZX1maW5hbGx5e3RyeXtzfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKGEpdGhyb3cgaX19cmV0dXJuIG99KGUscil8fHUoZSxyKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGQoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHx1KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGQoZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT9kKGUscik6dm9pZCAwfX1mdW5jdGlvbiBkKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsbj1uZXcgQXJyYXkocik7dDxyO3QrKyluW3RdPWVbdF07cmV0dXJuIG59ZnVuY3Rpb24gcChlKXtyZXR1cm4ocD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGwoZSxyKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3ImJihuPW4uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHIpLmVudW1lcmFibGV9KSkpLHQucHVzaC5hcHBseSh0LG4pfXJldHVybiB0fWZ1bmN0aW9uIG0oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/bChPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe2YoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmwoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9dmFyIHk9Imh0dHBzOi8vZG14LmRpc3RyaWN0bS5pby9iL3YxIixiPXtwbGF5YmFja19tZXRob2Q6e2F1dG9fcGxheV9zb3VuZF9vbjoxLGF1dG9fcGxheV9zb3VuZF9vZmY6MixjbGlja190b19wbGF5OjMsbW91c2Vfb3Zlcjo0LHZpZXdwb3J0X3NvdW5kX29uOjUsdmlld3BvcnRfc291bmRfb2ZmOjZ9fSxnPXtjb2RlOiJkaXN0cmljdG1ETVgiLGd2bGlkOjE0NCxhbGlhc2VzOlsiZG14Il0sc3VwcG9ydGVkRm9ybWF0OltzLmIscy5kXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmQscy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLm1lbWJlcmlkfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3JldHVybihlPWUuYm9keXx8e30pLnNlYXRiaWQmJk9iamVjdChuLmlzQXJyYXkpKGUuc2VhdGJpZCk/ZS5zZWF0YmlkLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJpZC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoZS5wcmljZTx0LnByaWNlKXt2YXIgbj1qKHQuaW1waWQsciksaT14KG4pLG89aS53aWR0aCxzPWkuaGVpZ2h0O3JldHVybiB0LmNwbT1wYXJzZUZsb2F0KHQucHJpY2UpLnRvRml4ZWQoMiksdC5iaWRJZD10LmltcGlkLHQucmVxdWVzdElkPXQuaW1waWQsdC53aWR0aD10Lnd8fG8sdC5oZWlnaHQ9dC5ofHxzLHQudHRsPTMwMCx0Lm1lZGlhVHlwZT1uLm1lZGlhVHlwZXMmJm4ubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJiYW5uZXIiLCJ2aWRlbyI9PT10Lm1lZGlhVHlwZSYmKHQudmFzdFhtbD1fKHQuYWRtLHQubnVybCksdC50dGw9MzYwMCksdC5kZWFsaWQmJih0LmRlYWxJZD10LmRlYWxpZCksdC51dWlkPXQuYmlkSWQsdC5hZD10LmFkbSx0Lm5ldFJldmVudWU9ITAsdC5jcmVhdGl2ZUlkPXQuY3JpZCx0LmN1cnJlbmN5PSJVU0QiLHQubWV0YT10Lm1ldGF8fHt9LHQuYWRvbWFpbiYmdC5hZG9tYWluLmxlbmd0aD4wJiYodC5tZXRhLmFkdmVydGlzZXJEb21haW5zPXQuYWRvbWFpbiksdH1yZXR1cm4gZS5jcG09ZS5wcmljZSxlfSkse3ByaWNlOjB9KTtyZXR1cm4gbi5hZG0mJmUucHVzaChuKSxlfSksW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuISFlLmJpZElkfSkpOltdfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGk9bnVsbCxzPXtpZDpPYmplY3Qobi5nZW5lcmF0ZVVVSUQpKCksY3VyOlsiVVNEIl0sdG1heDp0LTMwMCx0ZXN0OnRoaXMudGVzdCgpfHwwLHNpdGU6e3B1Ymxpc2hlcjp7aWQ6U3RyaW5nKGVbMF0ucGFyYW1zLm1lbWJlcmlkKXx8bnVsbH19fTt0cnl7dmFyIGE9by5iLmdldENvbmZpZygiZG14Iik7cy51c2VyPWEudXNlcnx8e307dmFyIGM9YS5zaXRlfHx7fTtzLnNpdGU9bShtKHt9LHMuc2l0ZSksYyl9Y2F0Y2goZSl7fXZhciB1PVtdO2VbMF0mJmVbMF0udXNlcklkJiYodyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5pZGxfZW52IiksImxpdmVyYW1wLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5pZDVpZC51aWQiKSwiaWQ1LXN5bmMuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnB1YmNpZCIpLCJwdWJjaWQub3JnIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLnRkaWQiKSwiYWRzZXJ2ZXIub3JnIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmNyaXRlb0lkIiksImNyaXRlby5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuYnJpdGVwb29saWQiKSwiYnJpdGVwb29sLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5saXBiLmxpcGJpZCIpLCJsaXZlaW50ZW50LmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5pbnRlbnRpcWlkIiksImludGVudGlxLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5sb3RhbWVQYW5vcmFtYUlkIiksImxvdGFtZS5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQucGFycmFibGVJZCIpLCJwYXJyYWJsZS5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQubmV0SWQiKSwibmV0aWQuZGUiLDEpLHMudXNlcj1zLnVzZXJ8fHt9LHMudXNlci5leHQ9cy51c2VyLmV4dHx8e30scy51c2VyLmV4dC5laWRzPXUpLHMudGVzdHx8ZGVsZXRlIHMudGVzdCxyLmdkcHJDb25zZW50JiYocy5yZWdzPXt9LHMucmVncy5leHQ9e30scy5yZWdzLmV4dC5nZHByPSEwPT09ci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjAsITA9PT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocy51c2VyPXt9LHMudXNlci5leHQ9e30scy51c2VyLmV4dC5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHMucmVncz1zLnJlZ3N8fHt9LHMucmVncy5jb3BwYT0hMD09PW8uYi5nZXRDb25maWcoImNvcHBhIik/MTowLHImJnIudXNwQ29uc2VudCYmKHMucmVncz1zLnJlZ3N8fHt9LHMucmVncy5leHQ9cy5yZWdzLmV4dHx8e30scy5yZWdzLmV4dC51c19wcml2YWN5PXIudXNwQ29uc2VudCk7dHJ5e2k9ZVswXS5zY2hhaW4scy5zb3VyY2U9e30scy5zb3VyY2UuZXh0PXt9LHMuc291cmNlLmV4dC5zY2hhaW49aXx8e319Y2F0Y2goZSl7fXZhciBkPWUubWFwKChmdW5jdGlvbihlKXt2YXIgcj17fTtyZXR1cm4gci5pZD1lLmJpZElkLHIudGFnaWQ9U3RyaW5nKGUucGFyYW1zLmRteGlkfHxlLmFkVW5pdENvZGUpLHIuc2VjdXJlPTEsci5iaWRmbG9vcj1oKGUpLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvP3IudmlkZW89e3RvcGZyYW1lOjEsc2tpcDplLm1lZGlhVHlwZXMudmlkZW8uc2tpcHx8MCxsaW5lYXJpdHk6ZS5tZWRpYVR5cGVzLnZpZGVvLmxpbmVhcml0eXx8MSxtaW5kdXJhdGlvbjplLm1lZGlhVHlwZXMudmlkZW8ubWluZHVyYXRpb258fDUsbWF4ZHVyYXRpb246ZS5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9ufHw2MCxwbGF5YmFja21ldGhvZDplLm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2R8fFsyXSxhcGk6VChlLm1lZGlhVHlwZXMudmlkZW8pLG1pbWVzOmUubWVkaWFUeXBlcy52aWRlby5taW1lc3x8WyJ2aWRlby9tcDQiXSxwcm90b2NvbHM6eihlLm1lZGlhVHlwZXMudmlkZW8pLGg6ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0sdzplLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXX06ci5iYW5uZXI9e3RvcGZyYW1lOjEsdzp2KGUuc2l6ZXMsInciKSxoOnYoZS5zaXplcywiaCIpLGZvcm1hdDp2KGUuc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBlLncmJiJudW1iZXIiPT10eXBlb2YgZS5ofSkpfSxyfSkpO3JldHVybiBkLmxlbmd0aDw9NT8ocy5pbXA9ZCx7bWV0aG9kOiJQT1NUIix1cmw6eSxkYXRhOkpTT04uc3RyaW5naWZ5KHMpLGJpZGRlclJlcXVlc3Q6cn0pOkkoZCxzLHIseSl9LHRlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PXdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoImRtVGVzdD10cnVlIik/MTowfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsbil7dmFyIGk9W10sbz0iaHR0cHM6Ly9jZG4uZGlzdHJpY3RtLmlvL2lkcy9pbmRleC5odG1sIjtpZih0JiZ0LmdkcHJBcHBsaWVzJiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmaS5wdXNoKFsiZ2RwciIsdC5jb25zZW50U3RyaW5nXSksbiYmaS5wdXNoKFsiY2NwYSIsbl0pLGkubGVuZ3RoPjAmJihvKz0iPyIraS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4oIj0iKX0pKS5qb2luKCImIikpLGUuaWZyYW1lRW5hYmxlZClyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOm99XX19O2Z1bmN0aW9uIGgoZSl7dmFyIHI9bnVsbDtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcil7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJiYW5uZXIiLHNpemU6ZS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0pOyJvYmplY3QiIT09cCh0KXx8IlVTRCIhPT10LmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KHQuZmxvb3IpKXx8KHI9cGFyc2VGbG9hdCh0LmZsb29yKSl9cmV0dXJuIG51bGwhPT1yP3I6ZS5wYXJhbXMuZmxvb3J9ZnVuY3Rpb24gdihlLHIpe3ZhciB0PU8oZSxbe3NpemU6WzMwMCwyNTBdLHM6MTAwfSx7c2l6ZTpbNzI4LDkwXSxzOjk1fSx7c2l6ZTpbMzIwLDUwXSxzOjkwfSx7c2l6ZTpbMTYwLDYwMF0sczo4OH0se3NpemU6WzMwMCw2MDBdLHM6ODV9LHtzaXplOlszMDAsNTBdLHM6ODB9LHtzaXplOls5NzAsMjUwXSxzOjc1fSx7c2l6ZTpbOTcwLDkwXSxzOjYwfV0pO3N3aXRjaChyKXtjYXNlInciOnJldHVybiB0WzBdWzBdfHwwO2Nhc2UiaCI6cmV0dXJuIHRbMF1bMV18fDA7Y2FzZSJzaXplIjpkZWZhdWx0OnJldHVybiB0fX1mdW5jdGlvbiBPKGUscil7dmFyIHQ9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlLnNpemVbMF0sIngiKS5jb25jYXQoZS5zaXplWzFdKX0pKS5pbmRleE9mKCIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pKX0pKSxuPWUucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiAwPT09ZS5sZW5ndGg/KGUucHVzaCh0KSxlKTooZS5wdXNoKHQpLChlPShlPXIuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4tMSE9PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKX0pKS5pbmRleE9mKCIiLmNvbmNhdChyLnNpemVbMF0sIngiKS5jb25jYXQoci5zaXplWzFdKSl9KSkpLnNvcnQoKGZ1bmN0aW9uKGUscil7cmV0dXJuIHIucy1lLnN9KSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2l6ZX0pKSl9KSxbXSk7cmV0dXJuIEEoW10uY29uY2F0KGMobiksYyh0KSkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihyLHQpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSl9KSkuaW5kZXhPZigiIi5jb25jYXQoclswXSwieCIpLmNvbmNhdChyWzFdKSk9PT10fSkpfWZ1bmN0aW9uIEkoZSxyLHQsbil7Zm9yKHZhciBpPVtdOzAhPT1lLmxlbmd0aDspZS5sZW5ndGg+PTU/aS5wdXNoKGUuc3BsaWNlKDAsNSkpOmkucHVzaChlLnNwbGljZSgwLGUubGVuZ3RoKSk7cmV0dXJuIGkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gci5pbXA9ZSx7bWV0aG9kOiJQT1NUIix1cmw6bixkYXRhOkpTT04uc3RyaW5naWZ5KHIpLGJpZGRlclJlcXVlc3Q6dH19KSl9ZnVuY3Rpb24gaihlLHIpe3JldHVybiBhKHIuYmlkZGVyUmVxdWVzdC5iaWRzLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIuYmlkSWQ9PT1lfSkpLDEpWzBdfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJkFycmF5LmlzQXJyYXkoZVswXSk/ZVswXTplfWZ1bmN0aW9uIHgoZSl7dmFyIHI9ZS5zaXplcyx0PXt9O3JldHVybiB0LndpZHRoPVMocilbMF0sdC5oZWlnaHQ9UyhyKVsxXSx0fWZ1bmN0aW9uIHcoZSxyLHQsaSl7T2JqZWN0KG4uaXNTdHIpKHIpJiZBcnJheS5pc0FycmF5KGUpJiZlLnB1c2goe3NvdXJjZTp0LHVpZHM6W3tpZDpyLGF0eXBlOml9XX0pfWZ1bmN0aW9uIFQoZSl7dmFyIHI9ZS5hcGk7cmV0dXJuIHImJkFycmF5LmlzQXJyYXkocikmJnIubGVuZ3RoPjA/cjpbMl19ZnVuY3Rpb24geihlKXt2YXIgcj1lLnByb3RvY29scztyZXR1cm4gciYmQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGg+MD9yOlsyLDMsNSw2LDcsOF19ZnVuY3Rpb24gXyhlLHIpe3RyeXt2YXIgdD0vPGltZ1xzW14+XSo/c3JjXHMqPVxzKlsnXCJdKFteJ1wiXSo/KVsnXCJdW14+XSo/Pi8sbj1hKGUubWF0Y2godCksMiksaT1uWzBdLG89blsxXTtpZihlPWUucmVwbGFjZSh0LCIiKSxpJiZvKXt2YXIgcz0iPEltcHJlc3Npb24+PCFbQ0RBVEFbIi5jb25jYXQobywiXV0+PC9JbXByZXNzaW9uPiIpO2U9ZS5yZXBsYWNlKCI8L0ltcHJlc3Npb24+IiwiPC9JbXByZXNzaW9uPiIuY29uY2F0KHMpKX1yZXR1cm4gZX1jYXRjaCh0KXtpZighcilyZXR1cm4gZTt2YXIgYz0iPEltcHJlc3Npb24+PCFbQ0RBVEFbIi5jb25jYXQociwiXV0+PC9JbXByZXNzaW9uPiIpO3JldHVybiBlPWUucmVwbGFjZSgiPC9JbXByZXNzaW9uPiIsIjwvSW1wcmVzc2lvbj4iLmNvbmNhdChjKSl9fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShnKX19LFs0MTddKTsKdXBianNDaHVuayhbMjc2XSx7NDI3OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg0MjgpfSw0Mjg6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsImVteEFkYXB0ZXIiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgaT10KDApLG49dCgxKSxhPXQoMiksZD10KDEzKSxvPXQoMTIpLHM9dC5uKG8pLHU9dCgxMSksYz10Lm4odSk7ZnVuY3Rpb24gcCgpe3JldHVybihwPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGkgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmKGVbaV09dFtpXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGw9ImVteF9kaWdpdGFsIixnPSJodHRwczovL2pzLmJyZWFsdGltZS5jb20vb3V0c3RyZWFtLzEuMzAuMC9idW5kbGUuanMiLG09IlVTRCIsYj1be2tleToiaWRsX2VudiIsc291cmNlOiJsaXZlcmFtcC5jb20iLHJ0aVBhcnRuZXI6ImlkbCIscXVlcnlQYXJhbToiaWRsIn0se2tleToidWlkMi5pZCIsc291cmNlOiJ1aWRhcGkuY29tIixydGlQYXJ0bmVyOiJVSUQyIixxdWVyeVBhcmFtOiJ1aWQyIn1dLGY9e3ZhbGlkYXRlU2l6ZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXkpKGUpJiZ2b2lkIDAhPT1lWzBdP2UuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RofSkpOihPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IFNpemVzIHNob3VsZCBiZSBhbiBhcnJheSIpLCExKX0sY2hlY2tWaWRlb0NvbnRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmKCJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8Im91dHN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCl9LGJ1aWxkQmFubmVyOmZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiByPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXMsZi52YWxpZGF0ZVNpemVzKHIpfHwoT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBjb3VsZCBub3QgZGV0ZWN0IG1lZGlhVHlwZSBiYW5uZXIgc2l6ZXMuIEFzc2lnbmluZyB0byBiaWQgc2l6ZXMgaW5zdGVhZCIpLHI9ZS5zaXplcykse2Zvcm1hdDpyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLHc6clswXVswXSxoOnJbMF1bMV19fSxmb3JtYXRWaWRlb1Jlc3BvbnNlOmZ1bmN0aW9uKGUscix0KXsoZS52YXN0WG1sPXIuYWRtLHQuYmlkZGVyUmVxdWVzdCYmdC5iaWRkZXJSZXF1ZXN0LmJpZHMmJnQuYmlkZGVyUmVxdWVzdC5iaWRzLmxlbmd0aD4wKSYmKGMoKSh0LmJpZGRlclJlcXVlc3QuYmlkcywoZnVuY3Rpb24ocil7cmV0dXJuIGUucmVxdWVzdElkJiZyLmJpZElkJiZlLnJlcXVlc3RJZD09PXIuYmlkSWQmJnIubWVkaWFUeXBlcyYmci5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIj09PXIubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fSkpJiYoZS5yZW5kZXJlcj1mLmNyZWF0ZVJlbmRlcmVyKGUse2lkOnIuaWQsdXJsOmd9KSkpO3JldHVybiBlfSxpc01vYmlsZTpmdW5jdGlvbigpe3JldHVybi8oaW9zfGlwb2R8aXBhZHxpcGhvbmV8YW5kcm9pZCkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxpc0Nvbm5lY3RlZFRWOmZ1bmN0aW9uKCl7cmV0dXJuLyhzbWFydFstXT90dnxoYmJ0dnxhcHBsZXR2fGdvb2dsZXR2fGhkbWl8bmV0Y2FzdFwudHZ8dmllcmF8bmV0dHZ8cm9rdXxcYmR0dlxifHNvbnlkdHZ8aW5ldHR2YnJvd3NlcnxcYnR2XGIpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sZ2V0RGV2aWNlOmZ1bmN0aW9uKCl7cmV0dXJue3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxkZXZpY2V0eXBlOmYuaXNNb2JpbGUoKT8xOmYuaXNDb25uZWN0ZWRUVigpPzM6MixsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX19LGNsZWFuUHJvdG9jb2xzOmZ1bmN0aW9uKGUpe3JldHVybiBlLnByb3RvY29scyYmcygpKGUucHJvdG9jb2xzLDcpJiYoT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBWQVNUIDQuMCBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC4gVGhpcyBwcm90b2NvbCBoYXMgYmVlbiBmaWx0ZXJlZCBvdXQgb2YgdGhlIHJlcXVlc3QuIiksZS5wcm90b2NvbHM9ZS5wcm90b2NvbHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gNyE9PWV9KSkpLGV9LG91dHN0cmVhbVJlbmRlcjpmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9ZSYmZS5wYXJhbXMmJmUucGFyYW1zWzBdJiZlLnBhcmFtc1swXS52aWRlbz9lLnBhcmFtc1swXS52aWRlbzp7fTt3aW5kb3cuZW14VmlkZW9RdWV1ZT13aW5kb3cuZW14VmlkZW9RdWV1ZXx8W10sd2luZG93LnF1ZXVlRW14VmlkZW8oe2lkOmUuYWRVbml0Q29kZSxhZHNSZXNwb25zZXM6ZS52YXN0WG1sLG9wdGlvbnM6cn0pLHdpbmRvdy5lbXhWaWRlb1JlYWR5JiZ3aW5kb3cudmlkZW9qcyYmd2luZG93LmVteFZpZGVvUmVhZHkoKX0pKX0sY3JlYXRlUmVuZGVyZXI6ZnVuY3Rpb24oZSxyKXt2YXIgdD1kLmEuaW5zdGFsbCh7aWQ6ci5pZCx1cmw6Zyxsb2FkZWQ6ITF9KTt0cnl7dC5zZXRSZW5kZXIoZi5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiB0fSxidWlsZFZpZGVvOmZ1bmN0aW9uKGUpe3ZhciByPXAoZS5tZWRpYVR5cGVzLnZpZGVvLGUucGFyYW1zLnZpZGVvKTtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pPyhyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdKTooci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVsxXSksZi5jbGVhblByb3RvY29scyhyKX0scGFyc2VSZXNwb25zZTpmdW5jdGlvbihlKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoLyUoPyFbMC05XVswLTlhLWZBLUZdKykvZywiJTI1IikpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiZXJyb3IiLGUpfX0sZ2V0UmVmZXJyZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0sZ2V0U2l0ZTpmdW5jdGlvbihlKXtyZXR1cm57ZG9tYWluOk9iamVjdChpLnBhcnNlVXJsKShlLnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6ZS5yZWZlcmVyLHJlZjpmLmdldFJlZmVycmVyKCl9fSxnZXRHZHByOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZ2RwckNvbnNlbnQmJihyLnJlZ3M9e2V4dDp7Z2RwcjohMD09PWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowfX0pLGUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihyLnVzZXI9e2V4dDp7Y29uc2VudDplLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9fSkscn0sZ2V0U3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5iaWRzWzBdJiZlLmJpZHNbMF0uc2NoYWluJiYoci5zb3VyY2U9e2V4dDp7c2NoYWluOmUuYmlkc1swXS5zY2hhaW59fSkscn0sZ2V0RWlkczpmdW5jdGlvbihlKXtyZXR1cm4gYi5tYXAoZi5nZXRVc2VySWQoZSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSl9LGdldFVzZXJJZDpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIHQ9ci5rZXksbj1yLnNvdXJjZSxhPXIucnRpUGFydG5lcixkPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC4iLmNvbmNhdCh0KSk7cmV0dXJuIGQ/Zi5mb3JtYXRFaWQoZCxuLGEpOm51bGx9fSxmb3JtYXRFaWQ6ZnVuY3Rpb24oZSxyLHQpe3JldHVybntzb3VyY2U6cix1aWRzOlt7aWQ6ZSxleHQ6e3J0aVBhcnRuZXI6dH19XX19fSx2PXtjb2RlOmwsZ3ZsaWQ6MTgzLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5wYXJhbXMpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogTWlzc2luZyBiaWQgb3IgYmlkIHBhcmFtcy4iKSwhMTtpZihlLmJpZGRlciE9PWwpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCdlbXhfZGlnaXRhbDogTXVzdCB1c2UgImVteF9kaWdpdGFsIiBhcyBiaWRkZXIgY29kZS4nKSwhMTtpZighZS5wYXJhbXMudGFnaWR8fCFPYmplY3QoaS5pc1N0cikoZS5wYXJhbXMudGFnaWQpKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3NpbmcgdGFnaWQgcGFyYW0gb3IgdGFnaWQgcHJlc2VudCBhbmQgbm90IHR5cGUgU3RyaW5nLiIpLCExO3ZhciByO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcil7aWYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcywhZi52YWxpZGF0ZVNpemVzKHIpKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IE1pc3Npbmcgc2l6ZXMgaW4gYmlkIiksITF9ZWxzZSBpZihlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyl7aWYoIWYuY2hlY2tWaWRlb0NvbnRleHQoZSkpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogTWlzc2luZyB2aWRlbyBjb250ZXh0OiBpbnN0cmVhbSBvciBvdXRzdHJlYW0iKSwhMTtpZighZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogTWlzc2luZyB2aWRlbyBwbGF5ZXJTaXplIiksITF9cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPSJodHRwczovL2hiLmVteGRndC5jb20/dD0iKyhyLnRpbWVvdXR8fCIiKSsiJnRzPSIrRGF0ZS5ub3coKSsiJnNyYz1wYmpzIixhPWxvY2F0aW9uLnByb3RvY29sLmluZGV4T2YoImh0dHBzIik+LTE/MTowLGQ9Zi5nZXREZXZpY2UoKSxvPWYuZ2V0U2l0ZShyLnJlZmVyZXJJbmZvKTtPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJ0YWdpZCIsZS5wYXJhbXMpLG49cGFyc2VGbG9hdChmdW5jdGlvbihlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIHBhcnNlRmxvYXQoT2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRmbG9vciIsZS5wYXJhbXMpKTt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeTptLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9KTtpZihPYmplY3QoaS5pc1BsYWluT2JqZWN0KShyKSYmIWlzTmFOKHIuZmxvb3IpJiYiVVNEIj09PXIuY3VycmVuY3kpcmV0dXJuIHIuZmxvb3I7cmV0dXJuIG51bGx9KGUpKXx8MCxkPSEhZS5tZWRpYVR5cGVzLnZpZGVvLG89cCh7aWQ6ZS5iaWRJZCx0aWQ6ZS50cmFuc2FjdGlvbklkLHRhZ2lkOnIsc2VjdXJlOmF9LGQ/e3ZpZGVvOmYuYnVpbGRWaWRlbyhlKX06e2Jhbm5lcjpmLmJ1aWxkQmFubmVyKGUpfSxuPjA/e2JpZGZsb29yOm4sYmlkZmxvb3JjdXI6bX06e30pO3QucHVzaChvKX0pKTt2YXIgcz17aWQ6ci5hdWN0aW9uSWQsaW1wOnQsZGV2aWNlOmQsc2l0ZTpvLGN1cjptLHZlcnNpb246IjEuNS4xIn07aWYocz1mLmdldEdkcHIocixwKHt9LHMpKSxzPWYuZ2V0U3VwcGx5Q2hhaW4ocixwKHt9LHMpKSxyJiZyLnVzcENvbnNlbnQmJihzLnVzX3ByaXZhY3k9ci51c3BDb25zZW50KSxyLnVzZXJJZCl7dmFyIHU9Zi5nZXRFaWRzKHIpO3UubGVuZ3RoPjAmJihzLnVzZXImJnMudXNlci5leHQ/cy51c2VyLmV4dC5laWRzPXU6cy51c2VyPXtleHQ6e2VpZHM6dX19KX1yZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bixkYXRhOkpTT04uc3RyaW5naWZ5KHMpLG9wdGlvbnM6e3dpdGhDcmVkZW50aWFsczohMH0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxpPWUuYm9keXx8e307cmV0dXJuIGkuc2VhdGJpZCYmaS5zZWF0YmlkLmxlbmd0aD4wJiZpLnNlYXRiaWRbMF0uYmlkJiZpLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZT1lLmJpZFswXTt2YXIgaT0hMSxuPWYucGFyc2VSZXNwb25zZShlLmFkbSl8fCIiLGQ9e3JlcXVlc3RJZDplLmlkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDplLnR0bCxhZDpufTtlLmFkbSYmZS5hZG0uaW5kZXhPZigiPD94bWwgdmVyc2lvbj0iKT4tMSYmKGk9ITAsZD1mLmZvcm1hdFZpZGVvUmVzcG9uc2UoZCxwKHt9LGUpLHIpKSxkLm1lZGlhVHlwZT1pP2EuZDphLmIsZS5hZG9tYWluJiZlLmFkb21haW4ubGVuZ3RoJiYoZC5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59KSx0LnB1c2goZCl9KSksdH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LGkpe3ZhciBuPVtdO2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGE9Imh0dHBzOi8vYmlkZHIuYnJlYWx0aW1lLmNvbS9jaGVjay5odG1sIjt0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/YSs9Ij9nZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKTphKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSxuLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOmF9KX1yZXR1cm4gbn19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFs0MjddKTsKdXBianNDaHVuayhbMjczXSx7NDM1OmZ1bmN0aW9uKG4sdCxlKXtuLmV4cG9ydHM9ZSg0MzYpfSw0MzY6ZnVuY3Rpb24obix0LGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZS5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLGUuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKTt2YXIgcj1lKDApLG89ZSgxNCksaT1lKDEpLGE9ZSg3KTtmdW5jdGlvbiBjKG4pe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKG4pe3JldHVybiB0eXBlb2Ygbn06ZnVuY3Rpb24obil7cmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJm4uY29uc3RydWN0b3I9PT1TeW1ib2wmJm4hPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBufSkobil9dmFyIHU9T2JqZWN0KGEuYikoKSxkPU1hdGgucmFuZG9tKCkscz0iaS5lLXBsYW5uaW5nLm5ldCIsZj1bImNpIiwic3YiLCJ0IiwibWwiLCJzbiJdLHA9InBic3JfIixtPSJwYnZpXyIsbD13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKG1vYmlsZSl8KGlwKGhvbmV8YWQpKXwoYW5kcm9pZCl8KGJsYWNrYmVycnkpfChub2tpYSl8KHBob25lKXwob3BlcmFcc21pbmkpL2kpLGg9WyIxeDEiLCIzMDB4NTAiLCIzMjB4NTAiLCIzMDB4MjUwIl0sdj1bIjF4MSIsIjk3MHg5MCIsIjk3MHgyNTAiLCIxNjB4NjAwIiwiMzAweDYwMCIsIjcyOHg5MCIsIjMwMHgyNTAiXSxiPXtjb2RlOiJlcGxhbm5pbmciLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKG4pe3JldHVybiBCb29sZWFuKG4ucGFyYW1zLmNpKXx8Qm9vbGVhbihuLnBhcmFtcy50KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihuLHQpe3ZhciBlLHIsaSxhLGwsaD1mdW5jdGlvbihuKXtpZihmdW5jdGlvbihuKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdLnBhcmFtcy50KXJldHVybiEwO3JldHVybiExfShuKSlyZXR1cm4gZnVuY3Rpb24obil7dmFyIHQ7cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24obil7cmV0dXJuIHQ9dHx8bi5wYXJhbXMuaXN2fSkpLHt0OiEwLGlzdjp0fHxzfX0obi5maWx0ZXIoKGZ1bmN0aW9uKG4pe3JldHVybiBuLnBhcmFtcy50fSkpKTt2YXIgdD17fTtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihuKXtmLmZvckVhY2goKGZ1bmN0aW9uKGUpe24ucGFyYW1zW2VdJiYhdFtlXSYmKHRbZV09bi5wYXJhbXNbZV0pfSkpfSkpLHR9KG4pLHY9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQuY2hhcnNldHx8d2luZG93LnRvcC5kb2N1bWVudC5jaGFyYWN0ZXJTZXR9Y2F0Y2gobil7cmV0dXJuIGRvY3VtZW50LmNoYXJzZXR8fGRvY3VtZW50LmNoYXJhY3RlclNldH19KCksYj1mdW5jdGlvbihuLHQpe3ZhciBlPShvPW4saT17fSxvLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciB0PXcobiwhMCk7aVt0XT1pW3RdP2lbdF06W10saVt0XS5wdXNoKG4pfSkpLGkpLHI9e3N0cjoiIix2czoiIixtYXA6e319O3ZhciBvLGk7cmV0dXJuIHIuc3RyPU9iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuIGVbbl0ubWFwKChmdW5jdGlvbihuLGUpe3ZhciBvO3JldHVybiByLnZzKz1mdW5jdGlvbihuKXt2YXIgdCxlPSIiO3UuaGFzTG9jYWxTdG9yYWdlKCk/ZSs9KHQ9ZnVuY3Rpb24obil7dmFyIHQ9dS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShwK24uYWRVbml0Q29kZSl8fDAsZT11LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG0rbi5hZFVuaXRDb2RlKXx8MCxyPXQ+MD9lL3Q6MDtyZXR1cm57cmVuZGVyOnQscmF0aW86d2luZG93LnBhcnNlSW50KDEwKnIsMTApfX0obikpLnJlbmRlcj49ND90LnJhdGlvLnRvU3RyaW5nKDE2KToiRiI6ZSs9IkYiO3JldHVybiBlfShuKSxvPXQ/ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvX3xcLnwtfFwvL2csIiIpLnJlcGxhY2UoL1wpXCh8XCh8XCl8Oi9nLCJfIikucmVwbGFjZSgvXl8rfF8rJC9nLCIiKX0obi5hZFVuaXRDb2RlKTpuLnBhcmFtcyYmbi5wYXJhbXMuc258fHcobiwhMCkrIl8iK2Usci5tYXBbb109bi5iaWRJZCxvKyI6Iit3KG4pfSkpLmpvaW4oIisiKX0pKS5qb2luKCIrIikscn0obixoLm1sKSxnPXQucmVmZXJlckluZm8ucmVmZXJlcjtpZihoLnQpZT0iaHR0cHM6Ly8iK2guaXN2KyIvbGF5ZXJzL3RfcGJqc18yLmpzb24iLHI9e307ZWxzZXtlPSJodHRwczovLyIrKGguc3Z8fCJwYmpzLmUtcGxhbm5pbmcubmV0IikrIi9wYmpzLzEvIitoLmNpKyIvMS8iK2Z1bmN0aW9uKG4pe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gdC5ocmVmPW4sdC5ob3N0bmFtZX0oZykrIi9ST1MiO3ZhciB5PXQucmVmZXJlckluZm8ucmVmZXJlci5yZWFjaGVkVG9wP3dpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXI6dC5yZWZlcmVySW5mby5yZWZlcmVyO2lmKHUuaGFzTG9jYWxTdG9yYWdlKCkmJihpPVtdLG4uZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobi5hZFVuaXRDb2RlKTt0P2oodCk6aS5wdXNoKG4uYWRVbml0Q29kZSl9KSksaS5sZW5ndGgmJihhPWksbD1uZXcgTXV0YXRpb25PYnNlcnZlcigoZnVuY3Rpb24obix0KXtuJiZBcnJheS5pc0FycmF5KG4pJiZuLmZvckVhY2goKGZ1bmN0aW9uKG4pe24mJm4uYWRkZWROb2RlcyYmQXJyYXkuaXNBcnJheShuLmFkZGVkTm9kZXMpJiZuLmFkZGVkTm9kZXMuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIGU9YS5pbmRleE9mKG4uaWQpO2U+PTAmJihqKG4pLGEuc3BsaWNlKGUsMSksYS5sZW5ndGh8fHQuZGlzY29ubmVjdCgpKX0pKX0pKX0pKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIiwoZnVuY3Rpb24obil7dmFyIHQ9e2NoaWxkTGlzdDohMCxzdWJ0cmVlOiEwLGNoYXJhY3RlckRhdGE6ITB9O2wub2JzZXJ2ZShkb2N1bWVudC5ib2R5LHQpfSkpKSkscj17cm5kOmQsZTpiLnN0cix1cjpnfHwiZmlsZSIscGJ2OiI1LjIwLjIiLG5jYjoiMSIsdnM6Yi52c30sdiYmKHIuY3JzPXYpLHkmJihyLmZyPXkpLHQmJnQuZ2RwckNvbnNlbnQmJnZvaWQgMCE9PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihyLmdkcHI9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8iMSI6IjAiLHZvaWQgMCE9PXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHIuZ2RwcmNzPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHQmJnQudXNwQ29uc2VudCYmKHIuY2NwYT10LnVzcENvbnNlbnQpLE9iamVjdChvLmEpKCkuZ2V0VXNlcklkcyYmImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdChvLmEpKCkuZ2V0VXNlcklkcyl7dmFyIEU9T2JqZWN0KG8uYSkoKS5nZXRVc2VySWRzKCk7Zm9yKHZhciBTIGluIEUpclsiZV8iK1NdPSJvYmplY3QiPT09YyhFW1NdKT9lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoRVtTXSkpOmVuY29kZVVSSUNvbXBvbmVudChFW1NdKX19cmV0dXJue21ldGhvZDoiR0VUIix1cmw6ZSxkYXRhOnIsYWRVbml0VG9CaWRJZDpiLm1hcH19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKG4sdCl7dmFyIGU9bi5ib2R5LG89W107cmV0dXJuIGUmJiFPYmplY3Qoci5pc0VtcHR5KShlLnNwKSYmZS5zcC5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qoci5pc0VtcHR5KShuLmEpfHxuLmEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9e3JlcXVlc3RJZDp0LmFkVW5pdFRvQmlkSWRbbi5rXSxjcG06ZS5wcix3aWR0aDplLncsaGVpZ2h0OmUuaCxhZDplLmFkbSx0dGw6MTIwLGNyZWF0aXZlSWQ6ZS5jcmlkLG5ldFJldmVudWU6dHJ1ZSxjdXJyZW5jeToiVVNEIn07ZS5hZG9tJiYoci5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb219KSxvLnB1c2gocil9KSl9KSksb30sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKG4sdCl7dmFyIGU9W10sbz0hT2JqZWN0KHIuaXNFbXB0eSkodCkmJnRbMF0uYm9keTtvJiYhT2JqZWN0KHIuaXNFbXB0eSkoby5jcykmJm8uY3MuZm9yRWFjaCgoZnVuY3Rpb24odCl7InN0cmluZyI9PXR5cGVvZiB0JiZuLnBpeGVsRW5hYmxlZD9lLnB1c2goe3R5cGU6ImltYWdlIix1cmw6dH0pOiJvYmplY3QiPT09Yyh0KSYmdC5pZnImJm4uaWZyYW1lRW5hYmxlZCYmZS5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDp0LnV9KX0pKTtyZXR1cm4gZX19O2Z1bmN0aW9uIGcoKXtyZXR1cm4gT2JqZWN0KHIuZ2V0V2luZG93U2VsZikoKS5pbm5lcldpZHRoPD0xMDI0fHx3aW5kb3cub3JpZW50YXRpb258fGx9ZnVuY3Rpb24geShuLHQpe3ZhciBlPWcoKT9oOnYscj1lLmluZGV4T2Yobiksbz1lLmluZGV4T2YodCk7cmV0dXJuIHI+LTE/bz4tMSYmcjxvPzE6LTE6bz4tMT8xOjB9ZnVuY3Rpb24gdyhuLHQpe3ZhciBlLG89bi5zaXplcyYmbi5zaXplcy5sZW5ndGg/KGU9bi5zaXplcyxPYmplY3Qoci5wYXJzZVNpemVzSW5wdXQpKGUpLnNvcnQoeSkpOltdO3JldHVybiBvLmxlbmd0aD90P29bMF06by5qb2luKCIsIik6IjF4MSJ9ZnVuY3Rpb24gaihuKXt2YXIgdDsodD17bmFtZTpuLmlkLGRpdjpufSkuZGl2JiYoRShwK3QubmFtZSksZnVuY3Rpb24oKXt2YXIgbix0PTUsZT0xZTMscj0uNTtmdW5jdGlvbiBvKG4sdCxlKXtyZXR1cm4gdD5ufHxlPDB9ZnVuY3Rpb24gaShuKXtyZXR1cm4gbjwwfWZ1bmN0aW9uIGEobix0KXtyZXR1cm4gdDxufWZ1bmN0aW9uIGMobix0LGUpe3ZhciByPTA7cmV0dXJuIG8obix0LGUpfHwocj1pKHQpP2UvKGUtdCk6YShuLGUpPzE6KG4tdCkvKGUtdCkpLHJ9ZnVuY3Rpb24gdSgpe3RyeXtyZXR1cm4gd2luZG93PT09d2luZG93LnRvcHx8d2luZG93LmZyYW1lRWxlbWVudH1jYXRjaChuKXt9fWZ1bmN0aW9uIGQodCl7dHJ5e249dCYmd2luZG93LmRvY3VtZW50LmJvZHkuY29udGFpbnModCk/d2luZG93OndpbmRvdy50b3AuZG9jdW1lbnQuYm9keS5jb250YWlucyh0KT90b3A6dm9pZCAwfWNhdGNoKG4pe31yZXR1cm4gbn1mdW5jdGlvbiBzKHQpe3JldHVybiBufWZ1bmN0aW9uIGYobil7cmV0dXJuIGMocygpLmlubmVySGVpZ2h0LG4udG9wLG4uYm90dG9tKX1mdW5jdGlvbiBwKG4pe3JldHVybiBjKHMoKS5pbm5lcldpZHRoLG4ubGVmdCxuLnJpZ2h0KX1mdW5jdGlvbiBtKG4pe3ZhciB0PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIGYodCkqcCh0KT5yfWZ1bmN0aW9uIGwobil7cmV0dXJuIG4ub2Zmc2V0SGVpZ2h0PjAmJm4ub2Zmc2V0V2lkdGg+MH1mdW5jdGlvbiBoKG4pe3ZhciB0PW4uc3R5bGUsZT1uLnBhcmVudE5vZGU7cmV0dXJuISh0JiYwPT09cGFyc2VGbG9hdCh0Lm9wYWNpdHkpKSYmKCFlfHxoKGUpKX1mdW5jdGlvbiB2KG4pe3JldHVybiJoaWRkZW4iIT09cygpLmdldENvbXB1dGVkU3R5bGUobikudmlzaWJpbGl0eX1mdW5jdGlvbiBiKCl7dHJ5e3JldHVybiBzKCkudG9wLmRvY3VtZW50Lmhhc0ZvY3VzKCl9Y2F0Y2gobil7fX1mdW5jdGlvbiBnKG4pe3JldHVybiBudWxsIT1ufWZ1bmN0aW9uIHkoKXtyZXR1cm4gZyhzKCkpfWZ1bmN0aW9uIHcoKXtyZXR1cm4gZyhzKCkuZnJhbWVFbGVtZW50KX1mdW5jdGlvbiBqKG4scixvKXt2YXIgaT1FKHIpP24rMTowO2k9PT10P28oKTpzZXRUaW1lb3V0KGouYmluZCh0aGlzLGkscixvKSxlL3QpfWZ1bmN0aW9uIEUobil7cmV0dXJuIGQobiksdSgpJiZ5KCkmJmIoKSYmbChuKSYmdihuKSYmaChuKSYmbShuKSYmKCF3KCl8fEUocygpLmZyYW1lRWxlbWVudCkpfXJldHVybntpc1Zpc2libGU6RSxvblZpZXc6ai5iaW5kKHRoaXMsMCl9fSgpLm9uVmlldyh0LmRpdixFLmJpbmQodm9pZCAwLG0rdC5uYW1lKSkpfWZ1bmN0aW9uIEUobil7dmFyIHQ7dHJ5e3Q9KHQ9dS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShuKSk/d2luZG93LnBhcnNlSW50KHQsMTApKzE6MSx1LnNldERhdGFJbkxvY2FsU3RvcmFnZShuLHQpfWNhdGNoKG4pe3JldHVybiExfXJldHVybiEwfU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShiKX19LFs0MzVdKTsKdXBianNDaHVuayhbMjUwXSx7NDg2OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig0ODcpfSw0ODc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiB2fSkpLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKSx0LnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtJPSExfSx0LmdldFN5bmNVcmw9ZnVuY3Rpb24oKXtyZXR1cm4gYn07dmFyIG49cigwKSxvPXIoMSksaT1yKDEzKSxhPXIoMikscz1yKDMpLGQ9cig3KTtmdW5jdGlvbiB1KGUpe3JldHVybih1PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLG8saT1bXSxhPSEwLHM9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKG4udmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtzPSEwLG89ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgb319cmV0dXJuIGl9KGUsdCl8fHAoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxwKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHAoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGYoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09cnx8IlNldCI9PT1yP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9mKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBmKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59dmFyIGc9ImdyaWQiLGI9Imh0dHBzOi8veC5iaWRzd2l0Y2gubmV0L3N5bmM/c3NwPXRoZW1lZGlhZ3JpZCIsbT0idG1ndWlkIix5PSJodHRwczovL2FjZG4uYWRueHMuY29tL3ZpZGVvL291dHN0cmVhbS9BTk91dHN0cmVhbVZpZGVvLmpzIix2PU9iamVjdChkLmIpKDY4NixnKSxoPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYXVpZCBwYXJhbWV0ZXIgLSAiLFM9IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhZG0gcGFyYW1ldGVyIC0gIixqPSJBcnJheSBvZiBiaWQgb2JqZWN0cyBpcyBlbXB0eSIseD0iU2VhdGJpZCBhcnJheSBmcm9tIHJlc3BvbnNlIGhhcyBlbXB0eSBpdGVtIix3PSJSZXNwb25zZSBpcyBlbXB0eSIsTz0iUmVzcG9uc2UgaGFzIGVtcHR5IHNlYXRiaWQgYXJyYXkiLEE9IlNlYXRiaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYXJyYXkgb2YgYmlkIG9iamVjdHMgLSAiLEk9ITEsVD17Y29kZTpnLGFsaWFzZXM6WyJwbGF5d2lyZSJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMudWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoIWUubGVuZ3RoKXJldHVybiBudWxsO3ZhciByPW51bGwsbz1udWxsLGk9bnVsbCxkPW51bGwscD1udWxsLGY9bnVsbCxnPW51bGwsYj10fHx7fSx5PWIuYmlkZGVyUmVxdWVzdElkLGg9Yi5hdWN0aW9uSWQsUz1iLmdkcHJDb25zZW50LGo9Yi51c3BDb25zZW50LHg9Yi50aW1lb3V0LHc9Yi5yZWZlcmVySW5mbyxPPXc/ZW5jb2RlVVJJQ29tcG9uZW50KHcucmVmZXJlcik6IiIsQT1bXSxJPXt9O2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7eXx8KHk9ZS5iaWRkZXJSZXF1ZXN0SWQpLGh8fChoPWUuYXVjdGlvbklkKSxkfHwoZD1lLnNjaGFpbikscHx8KHA9ZS51c2VySWRBc0VpZHMpO3ZhciB0PWUucGFyYW1zLHM9dC51aWQsbD10LmtleXdvcmRzLGY9ZS5tZWRpYVR5cGVzLGc9ZS5iaWRJZCxiPWUuYWRVbml0Q29kZSxtPWUucnRkLHY9ZS5vcnRiMkltcDtJW2ddPWU7dmFyIFM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsbj10LnBhcmFtcy5iaWRGbG9vcnx8MDtpZigiZnVuY3Rpb24iPT10eXBlb2YgdC5nZXRGbG9vcil7dmFyIG89dC5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnIsc2l6ZTp0LnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9YyhlLDIpO3JldHVybnt3OnRbMF0saDp0WzFdfX0pKX0pOyJvYmplY3QiIT09dShvKXx8IlVTRCIhPT1vLmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KG8uZmxvb3IpKXx8KG49TWF0aC5tYXgobixwYXJzZUZsb2F0KG8uZmxvb3IpKSl9cmV0dXJuIG59KGZ8fHt9LGUpLGo9bSYmbS5qd3BsYXllciYmbS5qd3BsYXllci50YXJnZXRpbmc7aiYmKCFvJiZqLnNlZ21lbnRzJiYobz1qLnNlZ21lbnRzKSwhaSYmai5jb250ZW50JiYoaT1qLmNvbnRlbnQpKTt2YXIgeD17aWQ6Zy50b1N0cmluZygpLHRhZ2lkOnMudG9TdHJpbmcoKSxleHQ6e2RpdmlkOmIudG9TdHJpbmcoKX19O2lmKHYmJnYuZXh0JiZ2LmV4dC5kYXRhJiYoeC5leHQuZGF0YT12LmV4dC5kYXRhLHguZXh0LmRhdGEuYWRzZXJ2ZXImJnguZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90P3guZXh0LmdwaWQ9eC5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3QudG9TdHJpbmcoKTp4LmV4dC5ncGlkPXYuZXh0LmRhdGEucGJhZHNsb3QmJnYuZXh0LmRhdGEucGJhZHNsb3QudG9TdHJpbmcoKSksT2JqZWN0KG4uaXNFbXB0eSkobCl8fChyfHwocj1sKSx4LmV4dC5iaWRkZXI9e2tleXdvcmRzOmx9KSxTJiYoeC5iaWRmbG9vcj1TKSwhZnx8ZlthLmJdKXt2YXIgdz1mdW5jdGlvbihlLHQpe3ZhciByPXQuc2l6ZXN8fGUuc2l6ZXM7aWYoIXJ8fCFyLmxlbmd0aClyZXR1cm47dmFyIG89ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoZSl9KSksaT1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoclswXSk7by5sZW5ndGgmJihpLmZvcm1hdD1vKTtyZXR1cm4gaX0oZSxmP2ZbYS5iXTp7fSk7dyYmKHguYmFubmVyPXcpfWlmKGYmJmZbYS5kXSl7dmFyIE89ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnBsYXllclNpemUsbz10Lm1pbWVzLGk9dC5kdXJhdGlvblJhbmdlU2VjLGE9dC5wcm90b2NvbHMscz0ocnx8ZS5zaXplc3x8W10pWzBdO2lmKCFzKXJldHVybjt2YXIgZD1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkocyk7byYmKGQubWltZXM9byk7aSYmMj09PWkubGVuZ3RoJiYoZC5taW5kdXJhdGlvbj1pWzBdLGQubWF4ZHVyYXRpb249aVsxXSk7YSYmYS5sZW5ndGgmJihkLnByb3RvY29scz1hKTtyZXR1cm4gZH0oZSxmW2EuZF0pO08mJih4LnZpZGVvPU8pfSh4LmJhbm5lcnx8eC52aWRlbykmJkEucHVzaCh4KX0pKTt2YXIgVD17dGlkOmgmJmgudG9TdHJpbmcoKSxleHQ6e3dyYXBwZXI6IlByZWJpZF9qcyIsd3JhcHBlcl92ZXJzaW9uOiI1LjIwLjIifX07ZCYmKFQuZXh0LnNjaGFpbj1kKTt2YXIgRT1zLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil8fHgsUj14P01hdGgubWluKEUseCk6RSxrPXtpZDp5JiZ5LnRvU3RyaW5nKCksc2l0ZTp7cGFnZTpPfSx0bWF4OlIsc291cmNlOlQsaW1wOkF9O2kmJihrLnNpdGUuY29udGVudD1pKSxvJiZvLmxlbmd0aCYmKGY9e2RhdGE6W3tuYW1lOiJpb3dfbGFic19wdWJfZGF0YSIsc2VnbWVudDpvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue25hbWU6Imp3cHNlZyIsdmFsdWU6ZX19KSl9XX0pLFMmJlMuY29uc2VudFN0cmluZyYmKGc9e2NvbnNlbnQ6Uy5jb25zZW50U3RyaW5nfSkscCYmcC5sZW5ndGgmJigoZz1nfHx7fSkuZWlkcz1sKHApKSxnJiZPYmplY3Qua2V5cyhnKS5sZW5ndGgmJigoZj1mfHx7fSkuZXh0PWcpO3ZhciBVPXYuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UobSl8fGZ1bmN0aW9uKCl7aWYocy5iLmdldENvbmZpZygibG9jYWxTdG9yYWdlV3JpdGVBbGxvd2VkIikpe3ZhciBlPU9iamVjdChuLmdlbmVyYXRlVVVJRCkoKS5yZXBsYWNlKC8tL2csIiIpO3JldHVybiB2LnNldERhdGFJbkxvY2FsU3RvcmFnZShtLGUpLGV9cmV0dXJuIG51bGx9KCk7VSYmKChmPWZ8fHt9KS5pZD1VLnRvU3RyaW5nKCkpLGYmJihrLnVzZXI9Zik7dmFyIF89T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIudXNlciIpLCJrZXl3b3JkcyIpfHxudWxsLHo9T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIuc2l0ZSIpLCJrZXl3b3JkcyIpfHxudWxsO3JldHVybiBfJiYoKHI9cnx8e30pLnVzZXI9ci51c2VyfHx7fSxyLnVzZXIub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6Xy5zcGxpdCgiLCIpfV0pLHomJigocj1yfHx7fSkuc2l0ZT1yLnNpdGV8fHt9LHIuc2l0ZS5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3Jkczp6LnNwbGl0KCIsIil9XSksciYmKHI9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07aWYobilpZigic2l0ZSI9PT1yfHwidXNlciI9PT1yKXt2YXIgbz17fTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KG5bZV0pKXt2YXIgdD1bXTtuW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09dShlKSYmZS5uYW1lKXt2YXIgcj17bmFtZTplLm5hbWUsc2VnbWVudHM6W119O09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkoZVt0XSkmJmVbdF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKCJzdHJpbmciPT10eXBlb2YgZT9yLnNlZ21lbnRzLnB1c2goe25hbWU6dCx2YWx1ZTplfSk6InNlZ21lbnRzIj09PXQmJiJzdHJpbmciPT10eXBlb2YgZS5uYW1lJiYic3RyaW5nIj09dHlwZW9mIGUudmFsdWUmJnIuc2VnbWVudHMucHVzaChlKSl9KSl9KSksci5zZWdtZW50cy5sZW5ndGgmJnQucHVzaChyKX19KSksdC5sZW5ndGgmJihvW2VdPXQpfX0pKSx0W3JdPW99ZWxzZSB0W3JdPW59KSksT2JqZWN0LmtleXModCkubGVuZ3RoJiZ0fShyKSkmJihrLmV4dD17a2V5d29yZHM6cn0pLFMmJlMuZ2RwckFwcGxpZXMmJihrLnJlZ3M9e2V4dDp7Z2RwcjpTLmdkcHJBcHBsaWVzPzE6MH19KSxqJiYoay5yZWdzfHwoay5yZWdzPXtleHQ6e319KSxrLnJlZ3MuZXh0LnVzX3ByaXZhY3k9aiksITA9PT1zLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYoay5yZWdzfHwoay5yZWdzPXt9KSxrLnJlZ3MuY29wcGE9MSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2dyaWQuYmlkc3dpdGNoLm5ldC9oYmpzb24iLGRhdGE6SlNPTi5zdHJpbmdpZnkoayksbmV3Rm9ybWF0OiEwLGJpZHNNYXA6SX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7ZT1lJiZlLmJvZHk7dmFyIHIsbz1bXTtyZXR1cm4gZT9lLnNlYXRiaWQmJiFlLnNlYXRiaWQubGVuZ3RoJiYocj1PKTpyPXcsIXImJmUuc2VhdGJpZCYmZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlLHQscil7aWYoIWUpcmV0dXJuO3ZhciBvO2UuYXVpZHx8KG89aCtKU09OLnN0cmluZ2lmeShlKSk7aWYob3x8ZS5hZG18fGUubnVybCl7dmFyIHM9dC5iaWRzTWFwW2UuaW1waWRdO2lmKHMpe3ZhciBkPXtyZXF1ZXN0SWQ6cy5iaWRJZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuYXVpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWluP2UuYWRvbWFpbjpbXX0sZGVhbElkOmUuZGVhbGlkfTtlLmV4dCYmZS5leHQuYmlkZGVyJiZlLmV4dC5iaWRkZXIuZ3JpZCYmZS5leHQuYmlkZGVyLmdyaWQuZGVtYW5kU291cmNlJiYoZC5hZHNlcnZlclRhcmdldGluZz17aGJfZHM6ZS5leHQuYmlkZGVyLmdyaWQuZGVtYW5kU291cmNlfSxkLm1ldGEuZGVtYW5kU291cmNlPWUuZXh0LmJpZGRlci5ncmlkLmRlbWFuZFNvdXJjZSksInZpZGVvIj09PWUuY29udGVudF90eXBlPyhlLmFkbT8oZC52YXN0WG1sPWUuYWRtLGQuYWRSZXNwb25zZT17Y29udGVudDpkLnZhc3RYbWx9KTplLm51cmwmJihkLnZhc3RVcmw9ZS5udXJsKSxkLm1lZGlhVHlwZT1hLmQscy5yZW5kZXJlcnx8cy5tZWRpYVR5cGVzJiZzLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iIT09cy5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fChkLnJlbmRlcmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5hLmluc3RhbGwoe2lkOnQuaWQsdXJsOnQudXJsLGxvYWRlZDohMX0pO3RyeXtyLnNldFJlbmRlcihFKX1jYXRjaChlKXtPYmplY3Qobi5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn0oMCx7aWQ6cy5iaWRJZCx1cmw6eX0pKSk6KGQuYWQ9ZS5hZG0sZC5tZWRpYVR5cGU9YS5iKSxyLnB1c2goZCl9fWVsc2Ugbz1TK0pTT04uc3RyaW5naWZ5KGUpO28mJk9iamVjdChuLmxvZ0Vycm9yKShvKX0oZnVuY3Rpb24oZSl7ZT9lLmJpZD9lLmJpZFswXXx8T2JqZWN0KG4ubG9nRXJyb3IpKGopOk9iamVjdChuLmxvZ0Vycm9yKShBK0pTT04uc3RyaW5naWZ5KGUpKTpPYmplY3Qobi5sb2dFcnJvcikoeCk7cmV0dXJuIGUmJmUuYmlkJiZlLmJpZFswXX0oZSksdCxvKX0pKSxyJiZPYmplY3Qobi5sb2dFcnJvcikociksb30sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKCFJJiZlLnBpeGVsRW5hYmxlZCl7dmFyIG89IiI7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcz9vKz0iJmdkcHI9Ii5jb25jYXQoTnVtYmVyKHIuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpOm8rPSImZ2Rwcl9jb25zZW50PSIuY29uY2F0KHIuY29uc2VudFN0cmluZykpLG4mJihvKz0iJnVzX3ByaXZhY3k9Ii5jb25jYXQobikpLEk9ITAse3R5cGU6ImltYWdlIix1cmw6YitvfX19fTtmdW5jdGlvbiBFKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7dGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlfSl9KSl9T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKFQpfX0sWzQ4Nl0pOwp1cGJqc0NodW5rKFsyNDddLHs0OTI6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDQ5Myl9LDQ5MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxmdW5jdGlvbihlKXtuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIHI9bigyKSxpPW4oMCksbz1uKDMpLGE9big3KSxjPW4oMTIpLHU9bi5uKGMpLGQ9bigxKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBwKGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBsKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3AoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtmKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpwKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGYoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIG0oZSl7cmV0dXJuKG09ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB5KGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiB5KGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIHY9T2JqZWN0KGEuYikoKSxnPXt0OjAscnE6OCxwYnY6IjUuMjAuMiJ9LGg9W3IuYixyLmRdLE89e30sdz17fSxJPW51bGw7ZnVuY3Rpb24gaih0KXt2YXIgbixyLG8sYSxjLHUsZCxzO2lmKHcudncpcmV0dXJuIHc7dHJ5e3I9KG49ZS50b3ApLnNjcmVlbixvPXR8fCIifWNhdGNoKGUpe3JldHVybiBPYmplY3QoaS5sb2dFcnJvcikoZSksd31yZXR1cm4gdz17dnc6bi5pbm5lcldpZHRoLHZoOm4uaW5uZXJIZWlnaHQsc3c6ci53aWR0aCxzaDpyLmhlaWdodCxwdTpvLGNlOnYuY29va2llc0FyZUVuYWJsZWQoKSxkcHI6bi5kZXZpY2VQaXhlbFJhdGlvfHwxLGpjc2k6SlNPTi5zdHJpbmdpZnkoZyksb2d1Oih1PShkb2N1bWVudCYmZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSkucXVlcnlTZWxlY3RvcigibWV0YVtwcm9wZXJ0eT0nb2c6dXJsJ10iKSx1P3UuY29udGVudDpudWxsKX0sZD13aW5kb3cubmF2aWdhdG9yJiYod2luZG93Lm5hdmlnYXRvci5jb25uZWN0aW9ufHx3aW5kb3cubmF2aWdhdG9yLm1vekNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3Iud2Via2l0Q29ubmVjdGlvbiksKGM9KHM9ZCYmKGQuZG93bmxpbmt8fGQuYmFuZHdpZHRoKSk/TWF0aC5yb3VuZCgxMDI0KnMpOm51bGwpJiYody5ucz1jKSwoYT0oby5tYXRjaCgvI2dnYWQ9KFx3KykkLyl8fFswLDBdKVsxXSkmJih3W2lzTmFOKGEpPyJlQWRCdXlJZCI6ImFkQnV5SWQiXT1hKSx3fWZ1bmN0aW9uIFMoZSx0KXtyZXR1cm4gZS5yZXBsYWNlKCJBRF9KU09OIix3aW5kb3cuYnRvYShKU09OLnN0cmluZ2lmeSh0KSkpfWZ1bmN0aW9uIHgoZSl7dmFyIHQ9ZS5kaWdpdHJ1c3RpZCYmZS5kaWdpdHJ1c3RpZC5kYXRhO3JldHVybiF0fHx0LnByaXZhY3kmJnQucHJpdmFjeS5vcHRvdXQ/e306e2R0OnQuaWR9fWZ1bmN0aW9uIFAoZSl7dmFyIHQ9MCxuPTAscj0wO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPWIoZSwyKSxvPWlbMF0sYT1pWzFdLGM9bz5hP286YTsoYz5yfHxjPT09ciYmbz49dCYmYT49bikmJihyPWMsdD1vLG49YSl9KSksW3Qsbl19dmFyIEM9e2NvZGU6Imd1bWd1bSIsYWxpYXNlczpbImdnIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXMsbj1lLmFkVW5pdENvZGUscj10LmluU2NyZWVufHx0LmluU2NyZWVuUHViSUR8fHQuaW5TbG90fHx0LklDVnx8dC52aWRlb3x8dC5pblZpZGVvfHx0LnNsb3R8fHQubmF0aXZlfHx0LnpvbmV8fHQucHViSUQ7aWYoT1tyXSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIltHdW1HdW1dIFBsZWFzZSBjaGVjayB0aGUgaW1wbGVtZW50YXRpb24gZm9yICIuY29uY2F0KHIsIiBmb3IgdGhlIHBsYWNlbWVudCAiKS5jb25jYXQobikpLCExO3N3aXRjaCghMCl7Y2FzZSEhdC56b25lOmNhc2UhIXQucHViSWQ6Y2FzZSEhdC5pblNjcmVlbjpjYXNlISF0LmluU2NyZWVuUHViSUQ6Y2FzZSEhdC5pblNsb3Q6Y2FzZSEhdC5JQ1Y6Y2FzZSEhdC52aWRlbzpjYXNlISF0LmluVmlkZW86Y2FzZSEhdC52aWRlb1B1YklEOmJyZWFrO2RlZmF1bHQ6cmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJbR3VtR3VtXSBObyBwcm9kdWN0IHNlbGVjdGVkIGZvciB0aGUgcGxhY2VtZW50ICIuY29uY2F0KG4sIiwgcGxlYXNlIGNoZWNrIHlvdXIgaW1wbGVtZW50YXRpb24uIikpLCExfXJldHVybiEodC5iaWRmbG9vciYmKCJudW1iZXIiIT10eXBlb2YgdC5iaWRmbG9vcnx8IWlzRmluaXRlKHQuYmlkZmxvb3IpKSl8fChPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gYmlkZmxvb3IgbXVzdCBiZSBhIE51bWJlciIpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9dCYmdC5nZHByQ29uc2VudCxhPXQmJnQudXNwQ29uc2VudCxjPW8uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSx1PXQmJnQucmVmZXJlckluZm8mJnQucmVmZXJlckluZm8ucmVmZXJlcjtyZXR1cm4gT2JqZWN0KGkuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe3ZhciB0LG8sZD1lLmJpZElkLHA9ZS5tZWRpYVR5cGVzLGY9dm9pZCAwPT09cD97fTpwLHk9ZS5wYXJhbXMsdj12b2lkIDA9PT15P3t9OnksZz1lLnNjaGFpbixoPWUudHJhbnNhY3Rpb25JZCxPPWUudXNlcklkLHc9dm9pZCAwPT09Tz97fTpPLFM9ZS5vcnRiMkltcCxDPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1PYmplY3Qua2V5cyhlKVswXXx8ImJhbm5lciIsaT17Zmxvb3I6MCxjdXJyZW5jeToiVVNEIn07aWYoImZ1bmN0aW9uIj09dHlwZW9mIG4uZ2V0Rmxvb3Ipe3ZhciBvPW4uZ2V0Rmxvb3Ioe21lZGlhVHlwZTpyLHNpemU6IioifSksYT1vLmN1cnJlbmN5LGM9by5mbG9vcjtjJiYoaS5mbG9vcj1jKSxhJiYoaS5jdXJyZW5jeT1hKSx0JiZjJiYiVVNEIj09PWEmJihpLmZsb29yPU1hdGgubWF4KHQscGFyc2VGbG9hdChjKSkpfWVsc2UgdCYmKGkuZmxvb3I9dCk7cmV0dXJuIGl9KGYsdi5iaWRmbG9vcixlKSx6PUMuY3VycmVuY3ksRD1DLmZsb29yLEE9ZnVuY3Rpb24oZSl7dmFyIHQ9WyJ1aWQiLCJlaWQiLCJsaXBiaWQiXTtyZXR1cm4gT2JqZWN0LmtleXMoZSkucmVkdWNlKChmdW5jdGlvbihuLHIpe3ZhciBpPWVbcl07c3dpdGNoKG0oaSkpe2Nhc2Uic3RyaW5nIjpuW3JdPWk7YnJlYWs7Y2FzZSJvYmplY3QiOnZhciBvPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaS5oYXNPd25Qcm9wZXJ0eShlKX0pKTtvLmxlbmd0aCYmKG5bcl09aVtvWzBdXSl9cmV0dXJuIG59KSx7fSl9KHcpLFQ9WzEsMV0saz17fSxSPSIiLFU9bmV3IERhdGUsRz1VJiZVLmdldFRpbWUoKSxWPVUmJlUuZ2V0VGltZXpvbmVPZmZzZXQoKTtmb3IodmFyIEUgaW4gViYmKEcmJihrLmx0PUcpLGsudG89ViksQSlrW0VdPUFbRV07aWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoUywiZXh0LmRhdGEucGJhZHNsb3QiKT9SPU9iamVjdChpLmRlZXBBY2Nlc3MpKFMsImV4dC5kYXRhLnBiYWRzbG90Iik6T2JqZWN0KGkuZGVlcEFjY2VzcykoUywiZXh0LmRhdGEuYWRzZXJ2ZXIubmFtZSIpJiYoUj1TLmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdCksZi5iYW5uZXI/VD1mLmJhbm5lci5zaXplczpmLnZpZGVvJiYoVD1mLnZpZGVvLnBsYXllclNpemUsaz1mdW5jdGlvbihlKXt2YXIgdD1lLm1pbmR1cmF0aW9uLG49ZS5tYXhkdXJhdGlvbixyPWUubGluZWFyaXR5LG89ZS5zdGFydGRlbGF5LGE9ZS5wbGFjZW1lbnQsYz1lLnByb3RvY29scyx1PXZvaWQgMD09PWM/W106YyxkPWUucGxheWVyU2l6ZSxzPXZvaWQgMD09PWQ/W106ZCxwPU9iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkocyksbD1iKHBbMF0mJnBbMF0uc3BsaXQoIngiKSwyKSxmPWxbMF0sbT1sWzFdLHk9IiI7cmV0dXJuIHUubGVuZ3RoJiYoeT11LmpvaW4oIiwiKSkse21pbmQ6dCxtYXhkOm4sbGk6cixzZDpvLHB0OmEscHI6eSx2aXc6Zix2aWg6bX19KGYudmlkZW8pKSxJJiYoay5wdj1JKSxEJiYoay5mcD1ELGsuZnBjPXopLHYuaXJpc2NhdCYmInN0cmluZyI9PXR5cGVvZiB2LmlyaXNjYXQmJihrLmlyaXNjYXQ9di5pcmlzY2F0KSx2LmlyaXNpZCYmInN0cmluZyI9PXR5cGVvZiB2LmlyaXNpZCYmKGsuaXJpc2lkPXYuaXJpc2lkKSx2LnpvbmV8fHYucHViSWQpaWYodi56b25lP2sudD12LnpvbmU6ay5wdWJJZD12LnB1YklkLGsucGk9Mix2LnNsb3Qpe3ZhciBOPWIoUChUKSwyKSxxPU5bMF0sQj1OWzFdO2subWF4dz1xLGsubWF4aD1CLGsuc2k9di5zbG90LGsucGk9MyxrLmJmPVQucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiIiLmNvbmNhdChlKS5jb25jYXQoZSYmIiwiKS5jb25jYXQodFswXSwieCIpLmNvbmNhdCh0WzFdKX0pLCIiKX1lbHNlIHYubmF0aXZlPyhrLm5pPXYubmF0aXZlLGsucGk9NSk6Zi52aWRlbyYmKGsucGk9Mj09PWYudmlkZW8ubGluZWFyaXR5PzY6Nyk7ZWxzZSBrPWwobCh7fSxrKSxmdW5jdGlvbihlLHQpe3ZhciBuPXt9O2UuaW5TY3JlZW5QdWJJRCYmKG4ucHViSWQ9ZS5pblNjcmVlblB1YklELG4ucGk9Mik7ZS5pblNjcmVlbiYmKG4udD1lLmluU2NyZWVuLG4ucGk9Mik7aWYoZS5pblNsb3Qpe3ZhciByPWIoUCh0KSwyKSxpPXJbMF0sbz1yWzFdO24ubWF4dz1pLG4ubWF4aD1vLG4uc2k9ZS5pblNsb3Qsbi5waT0zLG4uYmY9dC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiIuY29uY2F0KGUpLmNvbmNhdChlJiYiLCIpLmNvbmNhdCh0WzBdLCJ4IikuY29uY2F0KHRbMV0pfSksIiIpfWUuSUNWJiYobi5uaT1lLklDVixuLnBpPTUpO2UudmlkZW9QdWJJRCYmKG4ucHViSWQ9ZS52aWRlb1B1YklELG4ucGk9Nyk7ZS52aWRlbyYmKG4udD1lLnZpZGVvLG4ucGk9Nyk7ZS5pblZpZGVvJiYobi50PWUuaW5WaWRlbyxuLnBpPTYpO3JldHVybiBufSh2LFQpKTtyJiYoay5nZHByQXBwbGllcz1yLmdkcHJBcHBsaWVzPzE6MCksay5nZHByQXBwbGllcyYmKGsuZ2RwckNvbnNlbnQ9ci5jb25zZW50U3RyaW5nKSxhJiYoay51c3BDb25zZW50PWEpLGcmJmcubm9kZXMmJihrLnNjaGFpbj0obz0iIi5jb25jYXQoKHQ9ZykudmVyLCIsIikuY29uY2F0KHQuY29tcGxldGUpLHQubm9kZXMubWFwKChmdW5jdGlvbihlKXtvKz0iISIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmFzaXx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLnNpZHx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmhwfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUucmlkfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUubmFtZXx8IiIpLCIsIiksbys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLmRvbWFpbnx8IiIpKX0pKSxvKSksbi5wdXNoKHtpZDpkLHRtYXg6Yyx0SWQ6aCxwaTprLnBpLHNlbGVjdG9yOnYuc2VsZWN0b3Isc2l6ZXM6VCx1cmw6Imh0dHBzOi8vZzIuZ3VtZ3VtLmNvbS9oYmlkL2ltcCIsbWV0aG9kOiJHRVQiLGRhdGE6cyhrLGoodSkseCh3KSx7Z3BpZDpSfSl9KX0pKSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtdLG89ZS5ib2R5O2lmKCFvfHxvLmVycil7dmFyIGE9dC5kYXRhfHx7fSxjPWEuc2l8fGEubml8fGEudHx8YS5wdWJJZCxkPW8/by5lcnIuZHJ0OjE4ZTU7T1tjXT17cHJvZHVjdElkOmEucGksdGltZXN0YW1wOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSxzZXRUaW1lb3V0KChmdW5jdGlvbigpe09bY10mJmRlbGV0ZSBPW2NdfSksZCksT2JqZWN0KGkubG9nV2FybikoIltHdW1HdW1dIFBsZWFzZSBjaGVjayB0aGUgaW1wbGVtZW50YXRpb24gZm9yICIuY29uY2F0KGMpKX12YXIgcD1zKHthZDp7cHJpY2U6MCxpZDowLG1hcmt1cDoiIix3aWR0aDowLGhlaWdodDowfSxwYWc6e3B2aWQ6MH0sbWV0YTp7YWRvbWFpbjpbXSxtZWRpYVR5cGU6IiJ9fSxvKSxmPXAuYWQsbT1mLnByaWNlLHk9Zi5pZCx2PWYubWFya3VwLGg9Zi5jdXIsdz1mLndpZHRoLGo9Zi5oZWlnaHQseD1mLm1heHcsUD1mLm1heGgsQz1wLmN3LHo9cC5wYWcucHZpZCxEPXAuamNzaSxBPXAubWV0YSxUPUEuYWRvbWFpbixrPUEubWVkaWFUeXBlLFI9dC5kYXRhfHx7fSxVPVIucGksRz02PT09VXx8Nz09PVU/ci5kOnIuYixWPTM9PT1VJiY5PT09Ui5zaSxFPXthZHZlcnRpc2VyRG9tYWluczpUfHxbXSxtZWRpYVR5cGU6a3x8R30sTj1PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKHQuc2l6ZXMpO2lmKHgmJlApTj1bIiIuY29uY2F0KHgsIngiKS5jb25jYXQoUCldO2Vsc2UgaWYoNT09PVUmJnUoKShOLCIxeDEiKSlOPVsiMXgxIl07ZWxzZSBpZigyPT09VSYmdSgpKE4sIjF4MSIpKXt2YXIgcT10LnNpemVzJiZ0LnNpemVzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj1iKHQsMikscj1uWzBdLGk9blsxXTtyZXR1cm4gdyE9PXImJmohPT1pfHxlLnB1c2godC5qb2luKCJ4IikpLGV9KSxbXSl8fFtdO049cS5sZW5ndGg/cTpPYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKHQuc2l6ZXMpfXZhciBCPWIoTlswXS5zcGxpdCgieCIpLDIpLE09QlswXSxXPUJbMV07cmV0dXJuIEQmJihvLmpjc2k9ZyksST16LHkmJm4ucHVzaChsKGwoe2FkOkM/UyhDLHMoe30sbyx7YmlkUmVxdWVzdDp0fSkpOnZ9LEc9PT1yLmQmJnthZDp2LHZhc3RYbWw6dn0pLHt9LHttZWRpYVR5cGU6RyxjcG06Vj8uMTptLGNyZWF0aXZlSWQ6eSxjdXJyZW5jeTpofHwiVVNEIixoZWlnaHQ6VyxuZXRSZXZlbnVlOiEwLHJlcXVlc3RJZDp0LmlkLHR0bDo2MCx3aWR0aDpNLG1ldGE6RX0pKSxufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkmJmUuYm9keS5weHMmJmUuYm9keS5weHMuc2NyfHxbXX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfSksW10pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImYiPT09ZS50PyJpZnJhbWUiOiJpbWFnZSIsdXJsOmUudX19KSl9LHN1cHBvcnRlZE1lZGlhVHlwZXM6aH07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKEMpfS5jYWxsKHQsbig0MCkpfX0sWzQ5Ml0pOwp1cGJqc0NodW5rKFsyNDFdLHs1MDY6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDUwNyl9LDUwNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwiSUQ1X1NUT1JBR0VfTkFNRSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSksci5kKHQsIklENV9QUklWQUNZX1NUT1JBR0VfTkFNRSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksci5kKHQsImlkNUlkU3VibW9kdWxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSx0LmV4cERheXNTdHI9Tyx0Lm5iQ2FjaGVOYW1lPWosdC5zdG9yZU5iSW5DYWNoZT12LHQuZ2V0TmJGcm9tQ2FjaGU9SSx0LmdldEZyb21Mb2NhbFN0b3JhZ2U9Uyx0LnN0b3JlSW5Mb2NhbFN0b3JhZ2U9Xzt2YXIgbz1yKDApLG49cig0KSxhPXIoOSksYz1yKDE5KSxpPXIoNykscz1yKDgpLHA9ImlkNWlkIix1PSIiLmNvbmNhdChwLCJfcHJpdmFjeSIpLGQ9Imh0bWw1IixnPSJVc2VyIElEIC0gSUQ1IHN1Ym1vZHVsZTogIixiPVsicGJqcy1pZDVpZCIsImlkNWlkLjFzdCIsImlkNWlkIl0sbD1PYmplY3QoaS5iKSgxMzEsImlkNUlkIiksbT17bmFtZToiaWQ1SWQiLGd2bGlkOjEzMSxkZWNvZGU6ZnVuY3Rpb24oZSx0KXt2YXIgcj0wO2lmKGUmJiJzdHJpbmciPT10eXBlb2YgZS51bml2ZXJzYWxfdWlkKXt2YXIgbj17aWQ1aWQ6e3VpZDplLnVuaXZlcnNhbF91aWQsZXh0OntsaW5rVHlwZTpyPWUubGlua190eXBlfHxyfX19O3N3aXRjaChPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJhYl90ZXN0aW5nLnJlc3VsdCIpKXtjYXNlImNvbnRyb2wiOk9iamVjdChvLmxvZ0luZm8pKGcrIkEvQiBUZXN0aW5nIC0gdXNlciBpcyBpbiB0aGUgQ29udHJvbCBHcm91cDogSUQ1IElEIGlzIE5PVCBleHBvc2VkIiksT2JqZWN0KG8uZGVlcFNldFZhbHVlKShuLCJpZDVpZC5leHQuYWJUZXN0aW5nQ29udHJvbEdyb3VwIiwhMCk7YnJlYWs7Y2FzZSJlcnJvciI6T2JqZWN0KG8ubG9nRXJyb3IpKGcrIkEvQiBUZXN0aW5nIEVSUk9SISBjb250cm9sR3JvdXBQY3QgbXVzdCBiZSBhIG51bWJlciA+PSAwIGFuZCA8PSAxIik7YnJlYWs7Y2FzZSJub3JtYWwiOk9iamVjdChvLmxvZ0luZm8pKGcrIkEvQiBUZXN0aW5nIC0gdXNlciBpcyBOT1QgaW4gdGhlIENvbnRyb2wgR3JvdXAiKSxPYmplY3Qoby5kZWVwU2V0VmFsdWUpKG4sImlkNWlkLmV4dC5hYlRlc3RpbmdDb250cm9sR3JvdXAiLCExKX1yZXR1cm4gT2JqZWN0KG8ubG9nSW5mbykoZysiRGVjb2RlZCBJRCIsbiksbn19LGdldElkOmZ1bmN0aW9uKGUsdCxyKXtpZihmKGUpKXt2YXIgYSxpPSJodHRwczovL2lkNS1zeW5jLmNvbS9nL3YyLyIuY29uY2F0KGUucGFyYW1zLnBhcnRuZXIsIi5qc29uIikscD10JiYiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzJiZ0LmdkcHJBcHBsaWVzPzE6MCxtPXMudXNwRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSxqPU9iamVjdChjLmEpKCksST1yJiZyLnNpZ25hdHVyZT9yLnNpZ25hdHVyZTooYi5mb3JFYWNoKChmdW5jdGlvbihlKXtsLmdldENvb2tpZShlKSYmKGE9SlNPTi5wYXJzZShsLmdldENvb2tpZShlKSl8fGEpfSkpLGEmJmEuc2lnbmF0dXJlfHwiIiksUz17cGFydG5lcjplLnBhcmFtcy5wYXJ0bmVyLGdkcHI6cCxuYlBhZ2U6eShlLnBhcmFtcy5wYXJ0bmVyKSxvOiJwYmpzIixyZjpqLnJlZmVyZXIsdG9wOmoucmVhY2hlZFRvcD8xOjAsdTpqLnN0YWNrWzBdfHx3aW5kb3cubG9jYXRpb24uaHJlZix2OiI1LjIwLjIifTshcHx8dm9pZCAwPT09dC5jb25zZW50U3RyaW5nfHxPYmplY3Qoby5pc0VtcHR5KSh0LmNvbnNlbnRTdHJpbmcpfHxPYmplY3Qoby5pc0VtcHR5U3RyKSh0LmNvbnNlbnRTdHJpbmcpfHwoUy5nZHByX2NvbnNlbnQ9dC5jb25zZW50U3RyaW5nKSx2b2lkIDA9PT1tfHxPYmplY3Qoby5pc0VtcHR5KShtKXx8T2JqZWN0KG8uaXNFbXB0eVN0cikobSl8fChTLnVzX3ByaXZhY3k9bSksdm9pZCAwPT09SXx8T2JqZWN0KG8uaXNFbXB0eVN0cikoSSl8fChTLnM9SSksdm9pZCAwPT09ZS5wYXJhbXMucGR8fE9iamVjdChvLmlzRW1wdHlTdHIpKGUucGFyYW1zLnBkKXx8KFMucGQ9ZS5wYXJhbXMucGQpLHZvaWQgMD09PWUucGFyYW1zLnByb3ZpZGVyfHxPYmplY3Qoby5pc0VtcHR5U3RyKShlLnBhcmFtcy5wcm92aWRlcil8fChTLnByb3ZpZGVyPWUucGFyYW1zLnByb3ZpZGVyKTt2YXIgaD1mdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwicGFyYW1zLmFiVGVzdGluZyIse2VuYWJsZWQ6ITF9KX0oZSk7ITA9PT1oLmVuYWJsZWQmJihTLmFiX3Rlc3Rpbmc9e2VuYWJsZWQ6ITAsY29udHJvbF9ncm91cF9wY3Q6aC5jb250cm9sR3JvdXBQY3R9KTtyZXR1cm57Y2FsbGJhY2s6ZnVuY3Rpb24odCl7dmFyIHI9e3N1Y2Nlc3M6ZnVuY3Rpb24ocil7dmFyIG47aWYocil0cnl7bj1KU09OLnBhcnNlKHIpLE9iamVjdChvLmxvZ0luZm8pKGcrInJlc3BvbnNlIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciIsbiksdihlLnBhcmFtcy5wYXJ0bmVyLDApLG4ucHJpdmFjeSYmXyh1LEpTT04uc3RyaW5naWZ5KG4ucHJpdmFjeSksMzApLGUuc3RvcmFnZS50eXBlPT09ZCYmZnVuY3Rpb24oZSl7T2JqZWN0KG8ubG9nSW5mbykoZysicmVtb3ZpbmcgbGVnYWN5IGNvb2tpZXMiKSxiLmZvckVhY2goKGZ1bmN0aW9uKHQpe2wuc2V0Q29va2llKCIiLmNvbmNhdCh0KSwiICIsTygtMSkpLGwuc2V0Q29va2llKCIiLmNvbmNhdCh0LCJfbmIiKSwiICIsTygtMSkpLGwuc2V0Q29va2llKCIiLmNvbmNhdCh0LCJfIikuY29uY2F0KGUsIl9uYiIpLCIgIixPKC0xKSksbC5zZXRDb29raWUoIiIuY29uY2F0KHQsIl9sYXN0IiksIiAiLE8oLTEpKX0pKX0oZS5wYXJhbXMucGFydG5lcil9Y2F0Y2goZSl7T2JqZWN0KG8ubG9nRXJyb3IpKGcrZSl9dChuKX0sZXJyb3I6ZnVuY3Rpb24oZSl7T2JqZWN0KG8ubG9nRXJyb3IpKGcrImdldElkIGZldGNoIGVuY291bnRlcmVkIGFuIGVycm9yIixlKSx0KCl9fTtPYmplY3Qoby5sb2dJbmZvKShnKyJyZXF1ZXN0aW5nIGFuIElEIGZyb20gdGhlIHNlcnZlciIsUyksT2JqZWN0KG4uYSkoaSxyLEpTT04uc3RyaW5naWZ5KFMpLHttZXRob2Q6IlBPU1QiLHdpdGhDcmVkZW50aWFsczohMH0pfX19fSxleHRlbmRJZDpmdW5jdGlvbihlLHQscil7cmV0dXJuIGYoZSkseShlJiZlLnBhcmFtcyYmZS5wYXJhbXMucGFydG5lcnx8MCksT2JqZWN0KG8ubG9nSW5mbykoZysidXNpbmcgY2FjaGVkIElEIixyKSxyfX07ZnVuY3Rpb24gZihlKXtyZXR1cm4gZSYmZS5wYXJhbXMmJmUucGFyYW1zLnBhcnRuZXImJiJudW1iZXIiPT10eXBlb2YgZS5wYXJhbXMucGFydG5lcj9lLnN0b3JhZ2UmJmUuc3RvcmFnZS50eXBlJiZlLnN0b3JhZ2UubmFtZT8oZS5zdG9yYWdlLnR5cGUhPT1kJiZPYmplY3Qoby5sb2dXYXJuKShnKyJzdG9yYWdlIHR5cGUgcmVjb21tZW5kZWQgdG8gYmUgJyIuY29uY2F0KGQsIicuIEluIGEgZnV0dXJlIHJlbGVhc2UgdGhpcyBtYXkgYmVjb21lIGEgc3RyaWN0IHJlcXVpcmVtZW50IikpLGUuc3RvcmFnZS5uYW1lIT09cCYmT2JqZWN0KG8ubG9nV2FybikoZysic3RvcmFnZSBuYW1lIHJlY29tbWVuZGVkIHRvIGJlICciLmNvbmNhdChwLCInLiBJbiBhIGZ1dHVyZSByZWxlYXNlIHRoaXMgbWF5IGJlY29tZSBhIHN0cmljdCByZXF1aXJlbWVudCIpKSwhMCk6KE9iamVjdChvLmxvZ0Vycm9yKShnKyJzdG9yYWdlIHJlcXVpcmVkIHRvIGJlIHNldCIpLCExKTooT2JqZWN0KG8ubG9nRXJyb3IpKGcrInBhcnRuZXIgcmVxdWlyZWQgdG8gYmUgZGVmaW5lZCBhcyBhIG51bWJlciIpLCExKX1mdW5jdGlvbiBPKGUpe3JldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1KmUpLnRvVVRDU3RyaW5nKCl9ZnVuY3Rpb24gaihlKXtyZXR1cm4iIi5jb25jYXQocCwiXyIpLmNvbmNhdChlLCJfbmIiKX1mdW5jdGlvbiB2KGUsdCl7XyhqKGUpLHQsMzApfWZ1bmN0aW9uIEkoZSl7dmFyIHQ9UyhqKGUpKTtyZXR1cm4gdD9wYXJzZUludCh0KTowfWZ1bmN0aW9uIHkoZSl7dmFyIHQ9SShlKSsxO3JldHVybiB2KGUsdCksdH1mdW5jdGlvbiBTKGUpe3ZhciB0PWwuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSk7cmV0dXJuIiI9PT10fHx0JiZuZXcgRGF0ZSh0KS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wP2wuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSk6KGwucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZSksbnVsbCl9ZnVuY3Rpb24gXyhlLHQscil7bC5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSxPKHIpKSxsLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSksdCl9T2JqZWN0KGEuZSkoInVzZXJJZCIsbSl9fSxbNTA2XSk7CnVwYmpzQ2h1bmsoWzUxXSx7MTc6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtyLmI9ZnVuY3Rpb24oZSl7dmFyIHI9W107Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSlpZigicHViUHJvdmlkZWRJZCI9PT10KXI9ci5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBpPW4oZVt0XSx0KTtpJiZyLnB1c2goaSl9cmV0dXJuIHJ9LHIuYT1mdW5jdGlvbihlKXt2YXIgcj1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdChpLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChpLmRlZXBBY2Nlc3MpKGEsdCsiLnNvdXJjZSIpJiZyLnB1c2goe3NvdXJjZTphW3RdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSxyfTt2YXIgaT10KDApLGE9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoaS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyhyKS5sZW5ndGgpcmV0dXJuIHJ9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIG4oZSxyKXt2YXIgdD1hW3JdO2lmKHQmJmUpe3ZhciBuPXt9O24uc291cmNlPXQuc291cmNlO3ZhciBzPU9iamVjdChpLmlzRm4pKHQuZ2V0VmFsdWUpP3QuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoaS5pc1N0cikocykpe3ZhciBjPXtpZDpzLGF0eXBlOnQuYXR5cGV9O2lmKE9iamVjdChpLmlzRm4pKHQuZ2V0VWlkRXh0KSl7dmFyIGQ9dC5nZXRVaWRFeHQoZSk7ZCYmKGMuZXh0PWQpfWlmKG4udWlkcz1bY10sT2JqZWN0KGkuaXNGbikodC5nZXRFaWRFeHQpKXt2YXIgbz10LmdldEVpZEV4dChlKTtvJiYobi5leHQ9byl9cmV0dXJuIG59fXJldHVybiBudWxsfX0sNTE5OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1MjApfSw1MjA6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHIuSW1wcm92ZURpZ2l0YWxBZFNlcnZlckpTQ2xpZW50PXY7dmFyIGk9dCgwKSxhPXQoMSksbj10KDMpLHM9dCgyKSxjPXQoMTMpLGQ9dCgxNyksbz10KDEyKSx1PXQubihvKTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyIsYj1bInNraXAiLCJza2lwbWluIiwic2tpcGFmdGVyIl0sbT17dmVyc2lvbjoiNy40LjAiLGNvZGU6ImltcHJvdmVkaWdpdGFsIixndmxpZDoyNTMsYWxpYXNlczpbImlkIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuYyxzLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiYoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLnBsYWNlbWVudEtleSYmZS5wYXJhbXMucHVibGlzaGVySWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJhZFVuaXRDb2RlIixlKXx8bnVsbCx0PU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicGxhY2VtZW50SWQiLGUucGFyYW1zKXx8bnVsbCxhPW51bGwsYz1udWxsO251bGw9PT10JiYoYT1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInB1Ymxpc2hlcklkIixlLnBhcmFtcyl8fG51bGwsYz1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInBsYWNlbWVudEtleSIsZS5wYXJhbXMpfHxudWxsKTt2YXIgZD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImtleVZhbHVlcyIsZS5wYXJhbXMpfHxudWxsLG89T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJzaXplIixlLnBhcmFtcyl8fG51bGwscD1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImJpZElkIixlKSxsPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgidHJhbnNhY3Rpb25JZCIsZSksbT1uLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksZz17fTtmKGUpJiYoZy5hZFR5cGVzPVtzLmRdKTsoZihlKXx8eShlKSkmJihnLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyhPYmplY3QoZS5tZWRpYVR5cGVzLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKGIsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLm1lZGlhVHlwZXMudmlkZW9bdF19KSksT2JqZWN0LmtleXMoT2JqZWN0KGUucGFyYW1zLnZpZGVvKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gdSgpKGIsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7clt0XT1lLnBhcmFtcy52aWRlb1t0XX0pKSxyfShlKSk7dD9nLnBsYWNlbWVudElkPXQ6KGEmJihnLnB1Ymxpc2hlcklkPWEpLGMmJihnLnBsYWNlbWVudEtleT1jKSk7ZCYmKGcua2V5VmFsdWVzPWQpOyEwPT09bi5iLmdldENvbmZpZygiaW1wcm92ZWRpZ2l0YWwudXNlUHJlYmlkU2l6ZXMiKSYmIWYoZSkmJiF5KGUpJiZlLnNpemVzJiZlLnNpemVzLmxlbmd0aD4wP2cuZm9ybWF0PWUuc2l6ZXM6byYmby53JiZvLmgmJihnLnNpemU9e30sZy5zaXplLmg9by5oLGcuc2l6ZS53PW8udyk7cCYmKGcuaWQ9cCk7ciYmKGcuYWRVbml0SWQ9cik7bCYmKGcudHJhbnNhY3Rpb25JZD1sKTttJiYoZy5jdXJyZW5jeT1tKTt2YXIgaD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIG51bGw7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHIpJiYhaXNOYU4oci5mbG9vcikmJiJVU0QiPT09ci5jdXJyZW5jeSlyZXR1cm4gci5mbG9vcjtyZXR1cm4gbnVsbH0oZSksdj1udWxsO2h8fChoPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkRmxvb3IiLGUucGFyYW1zKSx2PU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkRmxvb3JDdXIiLGUucGFyYW1zKSk7aCYmKGcuYmlkRmxvb3I9aCxnLmJpZEZsb29yQ3VyPXY/di50b1VwcGVyQ2FzZSgpOiJVU0QiKTtyZXR1cm4gZ30oZSl9KSksYT1uZXcgdigiaGIiKSxjPXtzaW5nbGVSZXF1ZXN0TW9kZTohMD09PW4uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnNpbmdsZVJlcXVlc3QiKSxyZXR1cm5PYmpUeXBlOmEuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElULGxpYlZlcnNpb246dGhpcy52ZXJzaW9ufTtpZihyJiZyLmdkcHJDb25zZW50JiZyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihjLmdkcHI9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxyJiZyLnVzcENvbnNlbnQmJihjLnVzUHJpdmFjeT1yLnVzcENvbnNlbnQpLHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8ucmVmZXJlciYmKGMucmVmZXJyZXI9ci5yZWZlcmVySW5mby5yZWZlcmVyKSxjLnNjaGFpbj1lWzBdLnNjaGFpbixlWzBdLnVzZXJJZCl7dmFyIG89T2JqZWN0KGQuYikoZVswXS51c2VySWQpO28ubGVuZ3RoJiZPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGMsInVzZXIuZXh0LmVpZHMiLG8pfXZhciBwPWEuY3JlYXRlUmVxdWVzdCh0LGMpO3JldHVybiBwLmVycm9ycyYmcC5lcnJvcnMubGVuZ3RoPjAmJk9iamVjdChpLmxvZ0Vycm9yKSgiSUQgV0FSTklORyAweDAxIikscC5yZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0PXJ9KSkscC5yZXF1ZXN0c30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1yLmJpZGRlclJlcXVlc3QsYT1bXTtyZXR1cm4gT2JqZWN0KGkuX2VhY2gpKGUuYm9keS5iaWQsKGZ1bmN0aW9uKGUpe2lmKGUucHJpY2UmJm51bGwhPT1lLnByaWNlJiYhZS5oYXNPd25Qcm9wZXJ0eSgiZXJyb3JDb2RlIikmJihlLmFkbXx8ZS5uYXRpdmUpKXt2YXIgcj1PYmplY3QoaS5nZXRCaWRSZXF1ZXN0KShlLmlkLFt0XSksbj17fTtpZihlLm5hdGl2ZSluLm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgcj17fTtpZighZXx8IU9iamVjdChpLmlzQXJyYXkpKGUuYXNzZXRzKSlyZXR1cm4gbnVsbDtlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXIudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXN3aXRjaChlLmRhdGEudHlwZSl7Y2FzZSAxOnIuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMjpyLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMzpyLnJhdGluZz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA0OnIubGlrZXM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTpyLmRvd25sb2Fkcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnIucHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNzpyLnNhbGVQcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA4OnIucGhvbmU9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgOTpyLmFkZHJlc3M9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTA6ci5ib2R5Mj1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMTpyLmRpc3BsYXlVcmw9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTI6ci5jdGE9ZS5kYXRhLnZhbHVlfWVsc2UgaWYoZS5pbWcpc3dpdGNoKGUuaW1nLnR5cGUpe2Nhc2UgMjpyLmljb249e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSAzOnIuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19fSkpLGUuZXZlbnR0cmFja2Vycz8oci5pbXByZXNzaW9uVHJhY2tlcnM9W10sZS5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKDE9PT1lLmV2ZW50KXN3aXRjaChlLm1ldGhvZCl7Y2FzZSAxOnIuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2goZS51cmwpO2JyZWFrO2Nhc2UgMjpyLmphdmFzY3JpcHRUcmFja2Vycz0nPHNjcmlwdCBzcmM9IicuY29uY2F0KGUudXJsLCciPjxcL3NjcmlwdD4nKX19KSkpOihyLmltcHJlc3Npb25UcmFja2Vycz1lLmltcHRyYWNrZXJzfHxbXSxyLmphdmFzY3JpcHRUcmFja2Vycz1lLmpzdHJhY2tlcik7ZS5saW5rJiYoci5jbGlja1VybD1lLmxpbmsudXJsLHIuY2xpY2tUcmFja2Vycz1lLmxpbmsuY2xpY2t0cmFja2Vycyk7ZS5wcml2YWN5JiYoci5wcml2YWN5TGluaz1lLnByaXZhY3kpO3JldHVybiByfShlLm5hdGl2ZSksbi5vcnRiTmF0aXZlPWUubmF0aXZlLGUubnVybCYmbi5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLnVuc2hpZnQoZS5udXJsKSxuLm1lZGlhVHlwZT1zLmM7ZWxzZSBpZihlLmFkX3R5cGUmJiJ2aWRlbyI9PT1lLmFkX3R5cGUpbi52YXN0WG1sPWUuYWRtLG4ubWVkaWFUeXBlPXMuZCx5KHIpJiYobi5hZFJlc3BvbnNlPXtjb250ZW50Om4udmFzdFhtbCxoZWlnaHQ6ZS5oLHdpZHRoOmUud30sbi5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgcj1jLmEuaW5zdGFsbCh7aWQ6ZS5hZFVuaXRDb2RlLHVybDpsLGxvYWRlZDohMSxjb25maWc6T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicmVuZGVyZXIub3B0aW9ucyIpLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Iuc2V0UmVuZGVyKGcpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiByfShyKSk7ZWxzZXt2YXIgZD0iIjtlLm51cmwmJmUubnVybC5sZW5ndGg+MCYmKGQ9JzxpbWcgc3JjPSInLmNvbmNhdChlLm51cmwsJyIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+JykpLG4uYWQ9IiIuY29uY2F0KGQsIjxzY3JpcHQ+IikuY29uY2F0KGUuYWRtLCI8XC9zY3JpcHQ+Iiksbi5tZWRpYVR5cGU9cy5ifWlmKG4uY3BtPXBhcnNlRmxvYXQoZS5wcmljZSksbi5jcmVhdGl2ZUlkPWUuY3JpZCxuLmN1cnJlbmN5PWUuY3VycmVuY3k/ZS5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpOiJVU0QiLE9iamVjdChpLmlzTnVtYmVyKShlLmxpZCkmJmUuYnV5aW5nX3R5cGUmJiJydGIiIT09ZS5idXlpbmdfdHlwZSluLmRlYWxJZD1lLmxpZDtlbHNlIGlmKEFycmF5LmlzQXJyYXkoZS5saWQpJiZBcnJheS5pc0FycmF5KGUuYnV5aW5nX3R5cGUpJiZlLmxpZC5sZW5ndGg9PT1lLmJ1eWluZ190eXBlLmxlbmd0aCl7dmFyIG89ITE7ZS5idXlpbmdfdHlwZS5mb3JFYWNoKChmdW5jdGlvbihyLHQpe298fHImJiJydGIiIT09ciYmKG89ITAsbi5kZWFsSWQ9ZS5saWRbdF0pfSkpfW4uaGVpZ2h0PWUuaCxuLm5ldFJldmVudWU9ISFlLmlzTmV0JiZlLmlzTmV0LG4ucmVxdWVzdElkPWUuaWQsbi50dGw9MzAwLG4ud2lkdGg9ZS53LG4ud2lkdGgmJm4uaGVpZ2h0fHwobi53aWR0aD0xLG4uaGVpZ2h0PTEpLGUuYWRvbWFpbiYmKG4ubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSksYS5wdXNoKG4pfX0pKSxhfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtpZihlLnBpeGVsRW5hYmxlZCl7dmFyIHQ9W107cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5ib2R5LmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoaS5pc0FycmF5KShlLnN5bmMpJiZlLnN5bmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT10LmluZGV4T2YoZSkmJnQucHVzaChlKX0pKX0pKX0pKSx0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImltYWdlIix1cmw6ZX19KSl9cmV0dXJuW119fTtmdW5jdGlvbiBmKGUpe3ZhciByPU9iamVjdC5rZXlzKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMiLHt9KSksdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fDE9PT1yLmxlbmd0aCYmdCYmIm91dHN0cmVhbSIhPT1hfWZ1bmN0aW9uIHkoZSl7dmFyIHI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7cmV0dXJuIHImJiJvdXRzdHJlYW0iPT09dH1mdW5jdGlvbiBnKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cuQU5PdXRzdHJlYW1WaWRlby5yZW5kZXJBZCh7c2l6ZXM6W2Uud2lkdGgsZS5oZWlnaHRdLHRhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZSxyZW5kZXJlck9wdGlvbnM6ZS5yZW5kZXJlci5nZXRDb25maWcoKX0saC5iaW5kKG51bGwsZSkpfSkpfWZ1bmN0aW9uIGgoZSxyLHQpe2UucmVuZGVyZXIuaGFuZGxlVmlkZW9FdmVudCh7aWQ6cixldmVudE5hbWU6dH0pfWZ1bmN0aW9uIHYoZSl7dGhpcy5DT05TVEFOVFM9e0FEX1NFUlZFUl9CQVNFX1VSTDoiaWNlLjM2MHlpZWxkLmNvbSIsRU5EX1BPSU5UOmV8fCJoYiIsQURfU0VSVkVSX1VSTF9QQVJBTToianNvbnA9IixDTElFTlRfVkVSU0lPTjoiSlMtNi40LjAiLE1BWF9VUkxfTEVOR1RIOjIwODMsRVJST1JfQ09ERVM6e01JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUzoyLExJQl9WRVJTSU9OX01JU1NJTkc6M30sUkVUVVJOX09CSl9UWVBFOntERUZBVUxUOjAsVVJMX1BBUkFNU19TUExJVDoxfX0sdGhpcy5nZXRFcnJvclJldHVybj1mdW5jdGlvbihlKXtyZXR1cm57aWRNYXBwaW5nczp7fSxyZXF1ZXN0czp7fSxlcnJvckNvZGU6ZX19LHRoaXMuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLHIsdCl7aWYoIXIubGliVmVyc2lvbilyZXR1cm4gdGhpcy5nZXRFcnJvclJldHVybih0aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5MSUJfVkVSU0lPTl9NSVNTSU5HKTtyLnJldHVybk9ialR5cGU9ci5yZXR1cm5PYmpUeXBlfHx0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuREVGQVVMVCxyLmFkU2VydmVyQmFzZVVybD0iaHR0cHM6Ly8iKyhyLmFkU2VydmVyQmFzZVVybHx8dGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX0JBU0VfVVJMKTt2YXIgYSxuPVtdO2lmKE9iamVjdChpLmlzQXJyYXkpKGUpKWZvcih2YXIgcz0wO3M8ZS5sZW5ndGg7cysrKWE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGVbc10pLG4ucHVzaChhKTtlbHNlIGE9dGhpcy5jcmVhdGVJbXByZXNzaW9uT2JqZWN0KGUpLG4ucHVzaChhKTt2YXIgYz0hMDtyLnJldHVybk9ialR5cGU9PT10aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCYmKGM9ITEpO3ZhciBkPXtyZXF1ZXN0czpbXX07YyYmKGQuaWRNYXBwaW5ncz1bXSk7Zm9yKHZhciBvPW51bGwsdT0iIi5jb25jYXQoci5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9LGw9MDtsPG4ubGVuZ3RoO2wrKylpZigoYT1uW2xdKS5lcnJvckNvZGUpKG89b3x8W10pLnB1c2goe2Vycm9yQ29kZTphLmVycm9yQ29kZSxhZFVuaXRJZDphLmFkVW5pdElkfSk7ZWxzZXtjJiZkLmlkTWFwcGluZ3MucHVzaCh7YWRVbml0SWQ6YS5hZFVuaXRJZCxpZDphLmltcHJlc3Npb25PYmplY3QuaWR9KSxwLmJpZF9yZXF1ZXN0LmltcD1wLmJpZF9yZXF1ZXN0LmltcHx8W10scC5iaWRfcmVxdWVzdC5pbXAucHVzaChhLmltcHJlc3Npb25PYmplY3QpO3ZhciBiPSExOyh1K2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShwKSkpLmxlbmd0aD50aGlzLkNPTlNUQU5UUy5NQVhfVVJMX0xFTkdUSCYmKGI9ITAscC5iaWRfcmVxdWVzdC5pbXAubGVuZ3RoPjEmJihwLmJpZF9yZXF1ZXN0LmltcC5wb3AoKSxjJiZkLmlkTWFwcGluZ3MucG9wKCksbC0tKSksIWImJnIuc2luZ2xlUmVxdWVzdE1vZGUmJmwhPT1uLmxlbmd0aC0xfHwoZC5yZXF1ZXN0cy5wdXNoKHRoaXMuZm9ybWF0UmVxdWVzdChyLHApKSxwPXtiaWRfcmVxdWVzdDp0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdChyLHQpfSl9cmV0dXJuIG8mJihkLmVycm9ycz1vKSxkfSx0aGlzLmZvcm1hdFJlcXVlc3Q9ZnVuY3Rpb24oZSxyKXtzd2l0Y2goZS5yZXR1cm5PYmpUeXBlKXtjYXNlIHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUOnJldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQpLGRhdGE6IiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKX07ZGVmYXVsdDpyZXR1cm57dXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpKyIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKX19fSx0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdD1mdW5jdGlvbihlLHIpe3ZhciB0PXtzZWN1cmU6MX07aWYoZS5yZXF1ZXN0SWQ/dC5pZD1lLnJlcXVlc3RJZDp0LmlkPU9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksZS5kb21haW4mJih0LmRvbWFpbj1lLmRvbWFpbiksZS5wYWdlJiYodC5wYWdlPWUucGFnZSksZS5yZWYmJih0LnJlZj1lLnJlZiksZS5jYWxsYmFjayYmKHQuY2FsbGJhY2s9ZS5jYWxsYmFjayksZS5saWJWZXJzaW9uJiYodC52ZXJzaW9uPWUubGliVmVyc2lvbisiLSIrdGhpcy5DT05TVEFOVFMuQ0xJRU5UX1ZFUlNJT04pLGUucmVmZXJyZXImJih0LnJlZmVycmVyPWUucmVmZXJyZXIpLChlLmdkcHJ8fDA9PT1lLmdkcHIpJiYodC5nZHByPWUuZ2RwciksZS51c1ByaXZhY3kmJih0LnVzX3ByaXZhY3k9ZS51c1ByaXZhY3kpLGUuc2NoYWluJiYodC5zY2hhaW49ZS5zY2hhaW4pLGUudXNlciYmKHQudXNlcj1lLnVzZXIpLHIpZm9yKHZhciBhIGluIHIpdFthXT1yW2FdO3JldHVybiB0fSx0aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHI9e30sdD17fTtpZihyLmltcHJlc3Npb25PYmplY3Q9dCxlLmlkP3QuaWQ9ZS5pZDp0LmlkPU9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksZS5hZFR5cGVzJiYodC5hZF90eXBlcz1lLmFkVHlwZXMpLGUuYWRVbml0SWQmJihyLmFkVW5pdElkPWUuYWRVbml0SWQpLGUuY3VycmVuY3kmJih0LmN1cnJlbmN5PWUuY3VycmVuY3kudG9VcHBlckNhc2UoKSksZS5iaWRGbG9vciYmKHQuYmlkZmxvb3I9ZS5iaWRGbG9vciksZS5iaWRGbG9vckN1ciYmKHQuYmlkZmxvb3JjdXI9ZS5iaWRGbG9vckN1ci50b1VwcGVyQ2FzZSgpKSxlLnBsYWNlbWVudElkJiYodC5waWQ9ZS5wbGFjZW1lbnRJZCksZS5wdWJsaXNoZXJJZCYmKHQucHViaWQ9ZS5wdWJsaXNoZXJJZCksZS5wbGFjZW1lbnRLZXkmJih0LnBrZXk9ZS5wbGFjZW1lbnRLZXkpLGUudHJhbnNhY3Rpb25JZCYmKHQudGlkPWUudHJhbnNhY3Rpb25JZCksIU9iamVjdChpLmlzRW1wdHkpKGUudmlkZW8pKXt2YXIgYT1wKHt9LGUudmlkZW8pOzEhPT1hLnNraXAmJihkZWxldGUgYS5za2lwbWluLGRlbGV0ZSBhLnNraXBhZnRlciwwIT09YS5za2lwJiYoT2JqZWN0KGkubG9nV2FybikoInZpZGVvLnNraXA6IGludmFsaWQgdmFsdWUgJyIuY29uY2F0KGEuc2tpcCwiJy4gRXhwZWN0ZWQgMCBvciAxIikpLGRlbGV0ZSBhLnNraXApKSxPYmplY3QoaS5pc0VtcHR5KShhKXx8KHQudmlkZW89YSl9aWYoZS5rZXlWYWx1ZXMpZm9yKHZhciBuIGluIGUua2V5VmFsdWVzKWZvcih2YXIgcz0wO3M8ZS5rZXlWYWx1ZXNbbl0ubGVuZ3RoO3MrKyl0Lmt2dz10Lmt2d3x8e30sdC5rdndbbl09dC5rdndbbl18fFtdLHQua3Z3W25dLnB1c2goZS5rZXlWYWx1ZXNbbl1bc10pO2lmKHQuYmFubmVyPXt9LGUuc2l6ZSYmZS5zaXplLncmJmUuc2l6ZS5oJiYodC5iYW5uZXIudz1lLnNpemUudyx0LmJhbm5lci5oPWUuc2l6ZS5oKSxlLmZvcm1hdCYmT2JqZWN0KGkuaXNBcnJheSkoZS5mb3JtYXQpKXt2YXIgYz1lLmZvcm1hdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAyPT09ZS5sZW5ndGgmJk9iamVjdChpLmlzSW50ZWdlcikoZVswXSkmJk9iamVjdChpLmlzSW50ZWdlcikoZVsxXSkmJmVbMF0+PTAmJmVbMV0+PTB9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSk7Yy5sZW5ndGg+MCYmKHQuYmFubmVyLmZvcm1hdD1jKX1yZXR1cm4gdC5waWR8fHQucHViaWR8fHQucGtleXx8dC5iYW5uZXImJnQuYmFubmVyLncmJnQuYmFubmVyLmh8fChyLmltcHJlc3Npb25PYmplY3Q9bnVsbCxyLmVycm9yQ29kZT10aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BMQUNFTUVOVF9QQVJBTVMpLHJ9fU9iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShtKX19LFs1MTldKTsKdXBianNDaHVuayhbMjIzXSx7NTUxOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1NTIpfSw1NTI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiAkfSkpO3ZhciBpPXQoMCksbj10KDIpLGE9dCgzKSxvPXQoMTEpLHM9dC5uKG8pLGQ9dCgxKSxjPXQoMjIpLHA9dCgxMiksdT10Lm4ocCksbD10KDEzKTtmdW5jdGlvbiBmKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBPKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8aChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBtKGUpe3JldHVybihtPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYihlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsaSl9cmV0dXJuIHR9ZnVuY3Rpb24geShlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9iKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dihlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6YihPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiB2KGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiBnKGUscil7dmFyIHQ9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCF0KXtpZihBcnJheS5pc0FycmF5KGUpfHwodD1oKGUpKXx8ciYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7dCYmKGU9dCk7dmFyIGk9MCxuPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpuLG46ZnVuY3Rpb24oKXtyZXR1cm4gaT49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbaSsrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpufX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsbz0hMCxzPSExO3JldHVybntzOmZ1bmN0aW9uKCl7dD10LmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT10Lm5leHQoKTtyZXR1cm4gbz1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtzPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtvfHxudWxsPT10LnJldHVybnx8dC5yZXR1cm4oKX1maW5hbGx5e2lmKHMpdGhyb3cgYX19fX1mdW5jdGlvbiBoKGUscil7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBPKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PXR8fCJTZXQiPT09dD9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCk/TyhlLHIpOnZvaWQgMH19ZnVuY3Rpb24gTyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLGk9bmV3IEFycmF5KHIpO3Q8cjt0KyspaVt0XT1lW3RdO3JldHVybiBpfXZhciBqPSJyb3VuZGVsIix4PVtuLmIsbi5kXSxJPThlMyx3PXtKUFk6MX0sQT0icCIsUD0ieCIsUz17U0lURTpbImlkIiwibmFtZSIsImRvbWFpbiIsImNhdCIsInNlY3Rpb25jYXQiLCJwYWdlY2F0IiwicGFnZSIsInJlZiIsInNlYXJjaCIsIm1vYmlsZSIsInByaXZhY3lwb2xpY3kiLCJwdWJsaXNoZXIiLCJjb250ZW50Iiwia2V5d29yZHMiLCJleHQiXSxVU0VSOlsiaWQiLCJidXllcnVpZCIsInlvYiIsImdlbmRlciIsImtleXdvcmRzIiwiY3VzdG9tZGF0YSIsImdlbyIsImRhdGEiLCJleHQiXX0sej17ImxpdmVyYW1wLmNvbSI6ImlkbCIsIm5ldGlkLmRlIjoiTkVUSUQiLCJuZXVzdGFyLmJpeiI6ImZhYnJpY2tJZCIsInplb3RhcC5jb20iOiJ6ZW90YXBJZFBsdXMiLCJ1aWRhcGkuY29tIjoiVUlEMiIsImFkc2VydmVyLm9yZyI6IlRESUQifSxUPVsiYnJpdGVwb29saWQiLCJpZDVpZCIsImxpcGJpZCIsImhhbG9JZCIsImNyaXRlb0lkIiwibG90YW1lUGFub3JhbWFJZCIsIm1lcmtsZUlkIiwicGFycmFibGVJZCIsImNvbm5lY3RpZCIsInRhcGFkSWQiLCJxdWFudGNhc3RJZCIsInB1YmNpZCIsIlRESUQiLCJmbG9jSWQiXSxDPVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIl0saz1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInByb3RvY29scyIsInByb3RvY29sIiwic3RhcnRkZWxheSIsInBsYWNlbWVudCIsImxpbmVhcml0eSIsInNraXAiLCJza2lwbWluIiwic2tpcGFmdGVyIiwic2VxdWVuY2UiLCJiYXR0ciIsIm1heGV4dGVuZGVkIiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiLCJib3hpbmdhbGxvd2VkIiwicGxheWJhY2ttZXRob2QiLCJwbGF5YmFja2VuZCIsImRlbGl2ZXJ5IiwicG9zIiwiY29tcGFuaW9uYWQiLCJhcGkiLCJjb21wYW5pb250eXBlIiwiZXh0IiwicGxheWVyU2l6ZSIsInciLCJoIl07ZnVuY3Rpb24gRShlKXt2YXIgcj17fTtyLmlkPWUuYmlkSWQsci5leHQ9e30sci5leHQuc2l0ZUlEPWUucGFyYW1zLnNpdGVJZCwhZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImlkIil8fCJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuaWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuaWR8fChyLmV4dC5zaWQ9U3RyaW5nKGUucGFyYW1zLmlkKSk7dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90Iik7cmV0dXJuIHQmJihyLmV4dC5kZnBfYWRfdW5pdF9jb2RlPXQpLHJ9ZnVuY3Rpb24gRChlLHIsdCl7dmFyIG49bnVsbCxhPW51bGw7aWYoZS5wYXJhbXMuYmlkRmxvb3ImJmUucGFyYW1zLmJpZEZsb29yQ3VyJiYobj17Zmxvb3I6ZS5wYXJhbXMuYmlkRmxvb3IsY3VycmVuY3k6ZS5wYXJhbXMuYmlkRmxvb3JDdXJ9KSxPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSl7dmFyIG89IioiLHM9IioiO2lmKHQmJk9iamVjdChpLmNvbnRhaW5zKSh4LHQpKXt2YXIgZD1yW3RdO289dCxzPVtkLncsZC5oXX10cnl7YT1lLmdldEZsb29yKHttZWRpYVR5cGU6byxzaXplOnN9KX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgicHJpY2VGbG9vcnMgbW9kdWxlIGNhbGwgZ2V0Rmxvb3IgZmFpbGVkLCBlcnJvciA6ICIsZSl9fWE/KHIuYmlkZmxvb3I9YS5mbG9vcixyLmJpZGZsb29yY3VyPWEuY3VycmVuY3ksci5leHQuZmw9QSk6biYmKHIuYmlkZmxvb3I9bi5mbG9vcixyLmJpZGZsb29yY3VyPW4uY3VycmVuY3ksci5leHQuZmw9UCl9ZnVuY3Rpb24gXyhlLHIsdCl7dmFyIGE9e30sbz0hKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHAiKXx8IU9iamVjdChpLmlzSW50ZWdlcikoZS5leHApKSxzPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImRlYWxpZCIpfHxPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuZGVhbGlkIik7cmV0dXJuIHcuaGFzT3duUHJvcGVydHkocik/YS5jcG09ZS5wcmljZS93W3JdOmEuY3BtPWUucHJpY2UvMTAwLGEucmVxdWVzdElkPWUuaW1waWQscyYmKGEuZGVhbElkPXMpLGEubmV0UmV2ZW51ZT10cnVlLGEuY3VycmVuY3k9cixhLmNyZWF0aXZlSWQ9ZS5oYXNPd25Qcm9wZXJ0eSgiY3JpZCIpP2UuY3JpZDoiLSIsT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LnZhc3R1cmwiKT8oYS52YXN0VXJsPWUuZXh0LnZhc3R1cmwsYS53aWR0aD10LnZpZGVvLncsYS5oZWlnaHQ9dC52aWRlby5oLGEubWVkaWFUeXBlPW4uZCxhLm1lZGlhVHlwZXM9dC5tZWRpYVR5cGVzLGEudHRsPW8/ZS5leHA6MzYwMCk6KGEuYWQ9ZS5hZG0sYS53aWR0aD1lLncsYS5oZWlnaHQ9ZS5oLGEubWVkaWFUeXBlPW4uYixhLnR0bD1vP2UuZXhwOjMwMCksYS5tZXRhPXt9LGEubWV0YS5uZXR3b3JrSWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmRzcGlkIiksYS5tZXRhLmJyYW5kSWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmFkdmJyYW5kaWQiKSxhLm1ldGEuYnJhbmROYW1lPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5hZHZicmFuZCIpLGUuYWRvbWFpbiYmZS5hZG9tYWluLmxlbmd0aD4wJiYoYS5tZXRhLmFkdmVydGlzZXJEb21haW5zPWUuYWRvbWFpbiksYX1mdW5jdGlvbiBGKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGgmJk9iamVjdChpLmlzSW50ZWdlcikoZVswXSkmJk9iamVjdChpLmlzSW50ZWdlcikoZVsxXSl9ZnVuY3Rpb24gUigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXSxyPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpbXTtpZihGKGUpKXJldHVybiBlWzBdPT09clswXSYmZVsxXT09PXJbMV07Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XVswXT09PXJbMF0mJmVbdF1bMV09PT1yWzFdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHEoZSxyKXt2YXIgdD1bXTtlfHxPYmplY3QoaS5sb2dXYXJuKSgiSVggQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8gaXMgdGhlIHByZWZlcnJlZCBsb2NhdGlvbiBmb3IgdmlkZW8gcGFyYW1zIGluIGFkIHVuaXQiKTt2YXIgbixhPWcoQyk7dHJ5e2ZvcihhLnMoKTshKG49YS5uKCkpLmRvbmU7KXt2YXIgbz1uLnZhbHVlLHM9ZSYmZS5oYXNPd25Qcm9wZXJ0eShvKSxkPXImJnIuaGFzT3duUHJvcGVydHkobyk7c3x8ZHx8dC5wdXNoKCJJWCBCaWQgQWRhcHRlcjogIi5jb25jYXQobywiIGlzIG5vdCBpbmNsdWRlZCBpbiBlaXRoZXIgdGhlIGFkdW5pdCBvciBwYXJhbXMgbGV2ZWwiKSl9fWNhdGNoKGUpe2EuZShlKX1maW5hbGx5e2EuZigpfXZhciBjPWUmJmUuaGFzT3duUHJvcGVydHkoInByb3RvY29sIikscD1lJiZlLmhhc093blByb3BlcnR5KCJwcm90b2NvbHMiKSx1PXImJnIuaGFzT3duUHJvcGVydHkoInByb3RvY29sIiksbD1yJiZyLmhhc093blByb3BlcnR5KCJwcm90b2NvbHMiKTtyZXR1cm4gY3x8cHx8dXx8bHx8dC5wdXNoKCJJWCBCaWQgQWRhcHRlcjogcHJvdG9jb2wvcHJvdGNvbHMgaXMgbm90IGluY2x1ZGVkIGluIGVpdGhlciB0aGUgYWR1bml0IG9yIHBhcmFtcyBsZXZlbCIpLHR9ZnVuY3Rpb24gQigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpbXTtyZXR1cm4gRihlKT9lOiEhRihlWzBdKSYmZVswXX1mdW5jdGlvbiBVKGUscix0KXtpZihlKXJldHVybiB5KHkoe30scygpKHQsKGZ1bmN0aW9uKHIpe3JldHVybiByLmJpZElkPT09ZX0pKSkscygpKHIsKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkPT09ZX0pKSl9ZnVuY3Rpb24gTihlLHIsdCxvKXt2YXIgcz0iaHR0cHM6Ly9odGxiLmNhc2FsZW1lZGlhLmNvbS9jeWdudXMiLGQ9ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPXt9O2lmKE9iamVjdChpLmlzQXJyYXkpKGUpKXt2YXIgYSxvPWcoZSk7dHJ5e2ZvcihvLnMoKTshKGE9by5uKCkpLmRvbmU7KXt2YXIgcz1hLnZhbHVlO3pbcy5zb3VyY2VdJiZPYmplY3QoaS5kZWVwQWNjZXNzKShzLCJ1aWRzLjAiKSYmKG5bcy5zb3VyY2VdPSEwLHMudWlkc1swXS5leHQ9e3J0aVBhcnRuZXI6eltzLnNvdXJjZV19LGRlbGV0ZSBzLnVpZHNbMF0uYXR5cGUsdC5wdXNoKHMpKX19Y2F0Y2goZSl7by5lKGUpfWZpbmFsbHl7by5mKCl9fWlmKHImJnIuaWQmJnIudmVyc2lvbil7dmFyIGQ9e3NvdXJjZToiY2hyb21lLmNvbSIsdWlkczpbe2lkOnIuaWQsZXh0OntydGlQYXJ0bmVyOiJmbG9jSWQiLHZlcjpyLnZlcnNpb259fV19O3QucHVzaChkKSxuWyJjaHJvbWUuY29tIl09ITB9cmV0dXJue3RvU2VuZDp0LHNlZW5Tb3VyY2VzOm59fShPYmplY3QoaS5kZWVwQWNjZXNzKShlLCIwLnVzZXJJZEFzRWlkcyIpLE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIjAudXNlcklkLmZsb2NJZCIpKSxjPWQudG9TZW5kO2lmKHdpbmRvdy5oZWFkZXJ0YWcmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbyl7dmFyIHA9d2luZG93LmhlYWRlcnRhZy5nZXRJZGVudGl0eUluZm8oKTtpZihwJiYib2JqZWN0Ij09PW0ocCkpZm9yKHZhciB1IGluIHApaWYocC5oYXNPd25Qcm9wZXJ0eSh1KSl7dmFyIGw9cFt1XTshbC5yZXNwb25zZVBlbmRpbmcmJmwuZGF0YSYmIm9iamVjdCI9PT1tKGwuZGF0YSkmJk9iamVjdC5rZXlzKGwuZGF0YSkubGVuZ3RoJiYhZC5zZWVuU291cmNlc1tsLmRhdGEuc291cmNlXSYmYy5wdXNoKGwuZGF0YSl9fWlmKHImJnIuYmlkZGVyQ29kZT09PWomJiFkLnNlZW5Tb3VyY2VzWyJsaXZlcmFtcC5jb20iXSlyZXR1cm5bXTt2YXIgYj17fTtiLmlkPWVbMF0uYmlkZGVyUmVxdWVzdElkLnRvU3RyaW5nKCksYi5zaXRlPXt9LGIuZXh0PXt9LGIuZXh0LnNvdXJjZT0icHJlYmlkIixiLmV4dC5peGRpYWc9e30sYi5leHQuaXhkaWFnLm1zZD0wLGIuZXh0Lml4ZGlhZy5tc2k9MCxiLmltcD1bXSxiLmF0PTE7dmFyIHY9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPWUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe3JldHVybiB0LmluZGV4T2YoZSk9PT1yfSkpLHQ9e21mdTowLGJ1OjAsaXU6MCxudTowLG91OjAsYWxsdTowLHJlbjohMSx2ZXJzaW9uOiI1LjIwLjIiLHVzZXJJZHM6SihlWzBdKX0sbj1mdW5jdGlvbihuKXtpZihvPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmFuc2FjdGlvbklkPT09cltuXX0pKVswXSxPYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzIikpe2lmKE9iamVjdC5rZXlzKG8ubWVkaWFUeXBlcykubGVuZ3RoPjEmJnQubWZ1KyssT2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy5uYXRpdmUiKSYmdC5udSsrLE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMuYmFubmVyIikmJnQuYnUrKywib3V0c3RyZWFtIj09PU9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpKXt0Lm91Kys7dmFyIGE9Im9iamVjdCI9PT1tKE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sInJlbmRlcmVyIil8fE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSk7dC5yZW49dC5yZW4mJmE/T2JqZWN0KGkuZGVlcEFjY2VzcykodCwicmVuIik6YX0iaW5zdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJnQuaXUrKyx0LmFsbHUrK319LGE9MDthPHIubGVuZ3RoO2ErKyl7dmFyIG87bihhKX1yZXR1cm4gdH0oZSk7Zm9yKHZhciBoIGluIHYpYi5leHQuaXhkaWFnW2hdPXZbaF07aWYoZVswXS5zY2hhaW4mJihiLnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksYy5sZW5ndGg+MCYmKGIudXNlcj17fSxiLnVzZXIuZWlkcz1jKSxkb2N1bWVudC5yZWZlcnJlciYmIiIhPT1kb2N1bWVudC5yZWZlcnJlciYmKGIuc2l0ZS5yZWY9ZG9jdW1lbnQucmVmZXJyZXIpLHIpe2lmKHIuZ2RwckNvbnNlbnQpe3ZhciBPPXIuZ2RwckNvbnNlbnQ7Ty5oYXNPd25Qcm9wZXJ0eSgiZ2RwckFwcGxpZXMiKSYmKGIucmVncz17ZXh0OntnZHByOk8uZ2RwckFwcGxpZXM/MTowfX0pLE8uaGFzT3duUHJvcGVydHkoImNvbnNlbnRTdHJpbmciKSYmKGIudXNlcj1iLnVzZXJ8fHt9LGIudXNlci5leHQ9e2NvbnNlbnQ6Ty5jb25zZW50U3RyaW5nfHwiIn0sTy5oYXNPd25Qcm9wZXJ0eSgiYWRkdGxDb25zZW50IikmJk8uYWRkdGxDb25zZW50JiYoYi51c2VyLmV4dC5jb25zZW50ZWRfcHJvdmlkZXJzX3NldHRpbmdzPXtjb25zZW50ZWRfcHJvdmlkZXJzOk8uYWRkdGxDb25zZW50fSkpfXIudXNwQ29uc2VudCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLHIucmVmZXJlckluZm8mJihiLnNpdGUucGFnZT1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpfWEuYi5nZXRDb25maWcoImNvcHBhIikmJk9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwicmVncy5jb3BwYSIsMSk7dmFyIHg9e307eC5zPWVbMF0ucGFyYW1zLnNpdGVJZCx4LnY9byx4LmFjPSJqIix4LnNkPTEsOC4xPT09byYmKHgubmY9MSk7dmFyIHc9ciYmci5iaWRkZXJDb2RlfHwiaXgiLEE9YS5iLmdldENvbmZpZyh3KSxQPVtdLFQ9MCxDPU9iamVjdC5rZXlzKHQpLGs9IiIuY29uY2F0KHMpLmNvbmNhdChPYmplY3QoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycykoeSh5KHt9LHgpLHt9LHtyOkpTT04uc3RyaW5naWZ5KGIpfSkpKS5sZW5ndGg7aWYoaz5JKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlcjogQmFzZSByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpLFA7dmFyIEU9ayxEPTAsXz0hMTtpZihBKXtpZigib2JqZWN0Ij09PW0oQS5maXJzdFBhcnR5RGF0YSkpe3ZhciBGPUEuZmlyc3RQYXJ0eURhdGEsUj0iPyI7Zm9yKHZhciBxIGluIEYpRi5oYXNPd25Qcm9wZXJ0eShxKSYmKFIrPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocSksIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KEZbcV0pLCImIikpO1I9Ui5zbGljZSgwLC0xKSwoRD1lbmNvZGVVUklDb21wb25lbnQoUikubGVuZ3RoKTxJPygicGFnZSJpbiBiLnNpdGU/Yi5zaXRlLnBhZ2UrPVI6Yi5zaXRlLnBhZ2U9UixFKz1EKTpPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlcjogSVggY29uZmlnIEZQRCByZXF1ZXN0IHNpemUgaGFzIGV4Y2VlZGVkIG1heGltdW0gcmVxdWVzdCBzaXplLiIpfSJudW1iZXIiPT10eXBlb2YgQS50aW1lb3V0JiYoeC50PUEudGltZW91dCksImJvb2xlYW4iPT10eXBlb2YgQS5kZXRlY3RNaXNzaW5nU2l6ZXM/Yi5leHQuaXhkaWFnLmRtcz1BLmRldGVjdE1pc3NpbmdTaXplczpiLmV4dC5peGRpYWcuZG1zPSEwfWZvcih2YXIgQj1mdW5jdGlvbihyKXtpZihFPj1JfHxQLmxlbmd0aD49NClyZXR1cm4iYnJlYWsiO2Zvcih2YXIgbz10W0Nbcl1dLGQ9by5taXNzaW5nQ291bnQsYz12b2lkIDA9PT1kPzA6ZCxwPW8ubWlzc2luZ0ltcHMsdT12b2lkIDA9PT1wP1tdOnAsbD1vLml4SW1wcyxtPSExLHY9SS1FLGc9e2l4SW1wczp2b2lkIDA9PT1sP1tdOmwsbWlzc2luZ0Jhbm5lckltcHJlc3Npb25zOnV9LGg9T2JqZWN0LmtleXMoZykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZ1tlXX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQuYXBwbHkoZSxmKHIpKX0pLFtdKSxPPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh7aW1wcmVzc2lvbk9iamVjdHM6aH0pKS5sZW5ndGg7aC5sZW5ndGgmJk8+djspbT0hMCxoLnBvcCgpLE89ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtpbXByZXNzaW9uT2JqZWN0czpofSkpLmxlbmd0aDtpZihoLmxlbmd0aCYmbi5iIGluIGhbMF0pe3ZhciBqPWhbMF0sdz1qLmlkLEE9ai5iYW5uZXIudG9wZnJhbWUsej1qLmV4dCxEPXtpZDp3LGJhbm5lcjp7dG9wZnJhbWU6QSxmb3JtYXQ6aC5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWUuYmFubmVyO3JldHVybnt3OnIudyxoOnIuaCxleHQ6ZS5leHR9fSkpfX07ei5kZnBfYWRfdW5pdF9jb2RlJiYoRC5leHQ9e2RmcF9hZF91bml0X2NvZGU6ei5kZnBfYWRfdW5pdF9jb2RlfSksImJpZGZsb29yImluIGhbMF0mJihELmJpZGZsb29yPWhbMF0uYmlkZmxvb3IpLCJiaWRmbG9vcmN1ciJpbiBoWzBdJiYoRC5iaWRmbG9vcmN1cj1oWzBdLmJpZGZsb29yY3VyKSxiLmltcC5wdXNoKEQpLGIuZXh0Lml4ZGlhZy5tc2QrPWMsYi5leHQuaXhkaWFnLm1zaSs9dS5sZW5ndGh9ZWxzZXt2YXIgRjsoRj1iLmltcCkucHVzaC5hcHBseShGLGYoaCkpfUUrPU87dmFyIFI9YS5iLmdldENvbmZpZygib3J0YjIiKXx8e307aWYoIU9iamVjdChpLmlzRW1wdHkpKFIpJiYhXyl7Yi5leHQuaXhkaWFnLmZwZD0hMDt2YXIgcT15KHt9LFIuc2l0ZXx8Ui5jb250ZXh0KTtPYmplY3Qua2V5cyhxKS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PVMuU0lURS5pbmRleE9mKGUpJiZkZWxldGUgcVtlXX0pKTt2YXIgQj15KHt9LFIudXNlcik7T2JqZWN0LmtleXMoQikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7LTE9PT1TLlVTRVIuaW5kZXhPZihlKSYmZGVsZXRlIEJbZV19KSk7dmFyIFU9T2JqZWN0KGkuZGVlcENsb25lKShiKTtpZihVLnNpdGU9T2JqZWN0KGkubWVyZ2VEZWVwKSh7fSxVLnNpdGUscSksVS51c2VyPU9iamVjdChpLm1lcmdlRGVlcCkoe30sVS51c2VyLEIpLCIiLmNvbmNhdChzKS5jb25jYXQoT2JqZWN0KGkucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKHkoeSh7fSx4KSx7fSx7cjpKU09OLnN0cmluZ2lmeShVKX0pKSkubGVuZ3RoPEkpe2Iuc2l0ZT1PYmplY3QoaS5tZXJnZURlZXApKHt9LGIuc2l0ZSxxKSxiLnVzZXI9T2JqZWN0KGkubWVyZ2VEZWVwKSh7fSxiLnVzZXIsQiksXz0hMDt2YXIgTj1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoeSh5KHt9LHEpLEIpKSkubGVuZ3RoO0UrPU59ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlcjogRlBEIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIil9dmFyIEo9cj09PUMubGVuZ3RoLTE7aWYobXx8Sil7dmFyIE09T2JqZWN0KGkuZGVlcENsb25lKSh4KTtKJiYhVHx8KGIuZXh0Lml4ZGlhZy5zbj1ULE0uc249VCksVCsrLE0ucj1KU09OLnN0cmluZ2lmeShiKSxQLnB1c2goe21ldGhvZDoiR0VUIix1cmw6cyxkYXRhOk0sdmFsaWRCaWRSZXF1ZXN0czplfSksRT1rLGIuaW1wPVtdLGIuZXh0Lml4ZGlhZy5tc2Q9MCxiLmV4dC5peGRpYWcubXNpPTAsXz0hMX19LFU9MDtVPEMubGVuZ3RoO1UrKyl7aWYoImJyZWFrIj09PUIoVSkpYnJlYWt9cmV0dXJuIFB9ZnVuY3Rpb24gSihlKXt2YXIgcj1lLnVzZXJJZHx8e307cmV0dXJuIFQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0pKX1mdW5jdGlvbiBNKGUscil7aWYocilmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIGk9ZVt0XTtpZihyWzBdPT09aVswXSYmclsxXT09PWlbMV0pe2Uuc3BsaWNlKHQsMSk7YnJlYWt9fX1mdW5jdGlvbiBYKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHI9RShlKSx0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpO2lmKHEodCxhKS5sZW5ndGgpcmV0dXJue307Zm9yKHZhciBvIGluIHIudmlkZW89YT9PYmplY3QoaS5kZWVwQ2xvbmUpKGUucGFyYW1zLnZpZGVvKTp7fSx0KS0xPT09ay5pbmRleE9mKG8pfHxyLnZpZGVvLmhhc093blByb3BlcnR5KG8pfHwoci52aWRlb1tvXT10W29dKTtpZihyLnZpZGVvLm1pbmR1cmF0aW9uPnIudmlkZW8ubWF4ZHVyYXRpb24pcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiSVggQmlkIEFkYXB0ZXI6IHZpZGVvIG1pbmR1cmF0aW9uIFsiLmNvbmNhdChyLnZpZGVvLm1pbmR1cmF0aW9uLCJdIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gdmlkZW8gbWF4ZHVyYXRpb24gWyIpLmNvbmNhdChyLnZpZGVvLm1heGR1cmF0aW9uLCJdIikpLHt9O3ZhciBzPWEmJmEuY29udGV4dHx8dCYmdC5jb250ZXh0O2lmKHMmJiFyLnZpZGVvLmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKSYmKHM9PT1jLmE/ci52aWRlby5wbGFjZW1lbnQ9MTpzPT09Yy5iP3IudmlkZW8ucGxhY2VtZW50PTQ6T2JqZWN0KGkubG9nV2FybikoIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBjb250ZXh0ICciLmNvbmNhdChzLCInIGlzIG5vdCBzdXBwb3J0ZWQiKSkpLCFyLnZpZGVvLnd8fCFyLnZpZGVvLmgpe3ZhciBkPUIoT2JqZWN0KGkuZGVlcEFjY2VzcykociwidmlkZW8ucGxheWVyU2l6ZSIpKXx8QihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l6ZSIpKTtpZighZClyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIklYIEJpZCBBZGFwdGVyOiBWaWRlbyBzaXplIGlzIG1pc3NpbmcgaW4gW21lZGlhVHlwZXMudmlkZW9dIG1pc3NpbmciKSx7fTtyLnZpZGVvLnc9ZFswXSxyLnZpZGVvLmg9ZFsxXSxPYmplY3QoaS5kZWVwQWNjZXNzKShyLCJleHQuc2lkIil8fChyLmV4dC5zaWQ9T2JqZWN0KGkucGFyc2VHUFRTaW5nbGVTaXplQXJyYXkpKGQpKX1yZXR1cm4gRChlLHIsbi5kKSxyfShlKTswIT1PYmplY3Qua2V5cyh0KS5sZW5ndGgmJihyW2UudHJhbnNhY3Rpb25JZF09e30scltlLnRyYW5zYWN0aW9uSWRdLml4SW1wcz1bXSxyW2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzLnB1c2godCkpfWZ1bmN0aW9uIFYoZSxyLHQpe3ZhciBvPXkoeSh7fSx7ZGV0ZWN0TWlzc2luZ1NpemVzOiEwfSksYS5iLmdldENvbmZpZygiaXgiKSkscz1mdW5jdGlvbihlKXt2YXIgcj1FKGUpO3IuYmFubmVyPXt9O3ZhciB0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXplIik7cmV0dXJuIHQmJihyLmJhbm5lci53PXRbMF0sci5iYW5uZXIuaD10WzFdLE9iamVjdChpLmRlZXBBY2Nlc3MpKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1PYmplY3QoaS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSkodCkpKSxyLmJhbm5lci50b3BmcmFtZT1PYmplY3QoaS5pbklmcmFtZSkoKT8wOjEsRChlLHIsbi5iKSxyfShlKTtSKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIiksT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpemUiKSkmJih0Lmhhc093blByb3BlcnR5KGUudHJhbnNhY3Rpb25JZCl8fCh0W2UudHJhbnNhY3Rpb25JZF09e30pLHRbZS50cmFuc2FjdGlvbklkXS5oYXNPd25Qcm9wZXJ0eSgiaXhJbXBzIil8fCh0W2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdKSx0W2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzLnB1c2gocykpLG8uaGFzT3duUHJvcGVydHkoImRldGVjdE1pc3NpbmdTaXplcyIpJiZvLmRldGVjdE1pc3NpbmdTaXplcyYmZnVuY3Rpb24oZSxyLHQpe3ZhciBuPWUudHJhbnNhY3Rpb25JZDtpZihyLmhhc093blByb3BlcnR5KG4pKXt2YXIgYT1bXTtyW25dLmhhc093blByb3BlcnR5KCJtaXNzaW5nU2l6ZXMiKSYmKGE9cltuXS5taXNzaW5nU2l6ZXMpLE0oYSxlLnBhcmFtcy5zaXplKSxyW25dLm1pc3NpbmdTaXplcz1hfWVsc2UgaWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSl7dmFyIG89T2JqZWN0KGkuZGVlcENsb25lKShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTtNKG8sZS5wYXJhbXMuc2l6ZSk7dmFyIHM9e21pc3NpbmdTaXplczpvLGltcHJlc3Npb246dH07cltuXT1zfX0oZSxyLHMpfWZ1bmN0aW9uIFcoZSxyLHQpe3ZhciBhPU9iamVjdChpLmRlZXBDbG9uZSkocik7cmV0dXJuIGEuZXh0LnNpZD1PYmplY3QoaS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSkodCksYS5iYW5uZXIudz10WzBdLGEuYmFubmVyLmg9dFsxXSxEKGUsYSxuLmIpLGF9ZnVuY3Rpb24gRyhlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHRpbWVvdXQ6M2UzfTt3aW5kb3cuSVhPdXRzdHJlYW1QbGF5ZXIoZS52YXN0VXJsLGUuYWRVbml0Q29kZSxyKX0pKX1mdW5jdGlvbiBRKGUpe3ZhciByPWwuYS5pbnN0YWxsKHtpZDplLHVybDoiaHR0cHM6Ly9qcy1zZWMuaW5kZXh3dy5jb20vaHR2L3ZpZGVvLXBsYXllci5qcyIsbG9hZGVkOiExfSk7dHJ5e3Iuc2V0UmVuZGVyKEcpfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiByfXZhciAkPXtjb2RlOiJpeCIsZ3ZsaWQ6MTAsYWxpYXNlczpbe2NvZGU6aixndmxpZDoxMCxza2lwUGJzQWxpYXNpbmc6ITF9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOngsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHIsdCxuPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpLGE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpemUiKSxvPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikscz1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSxjPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vciIpLHA9ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yQ3VyIik7aWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlIikmJiFPYmplY3QoaS5jb250YWlucykoeCxlLm1lZGlhVHlwZSkpcmV0dXJuITE7aWYoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmIW8pcmV0dXJuITE7aWYoYSl7dmFyIHU9QihhKTtpZighdSlyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXplIGhhcyBpbnZhbGlkIGZvcm1hdC4iKSwhMTtpZighUihlLnNpemVzLHUpJiYhUihkLHUpJiYhUihvLHUpKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IGJpZCBzaXplIGlzIG5vdCBpbmNsdWRlZCBpbiBhZCB1bml0IHNpemVzIG9yIHBsYXllciBzaXplLiIpLCExfWlmKCJzdHJpbmciIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkJiYibnVtYmVyIiE9dHlwZW9mIGUucGFyYW1zLnNpdGVJZClyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXRlSWQgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlLiIpLCExO2lmKChjfHxwKSYmIShjJiZwJiYocj1lLnBhcmFtcy5iaWRGbG9vcix0PWUucGFyYW1zLmJpZEZsb29yQ3VyLEJvb2xlYW4oIm51bWJlciI9PXR5cGVvZiByJiYic3RyaW5nIj09dHlwZW9mIHQmJnQubWF0Y2goL15bQS1aXXszfSQvKSkpKSlyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWRGbG9vciAvIGJpZEZsb29yQ3VyIHBhcmFtZXRlciBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYocyYmbil7dmFyIGw9cShzLG4pO2lmKGwubGVuZ3RoKXJldHVybiBsLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0Vycm9yKShlKX0pKSwhMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGE9e30sbz17fSxzPXt9LGQ9e307Zm9yKHZhciBjIGluIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0LmtleXMoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcyIse30pKTtzd2l0Y2goZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIik/bi5kOm4uYn0oZSkpe2Nhc2Ugbi5iOlYoZSxkLGEpO2JyZWFrO2Nhc2Ugbi5kOlgoZSxvKX11KCkocixuLmIpJiZ1KCkocixuLmQpJiYoc1tlLnRyYW5zYWN0aW9uSWRdPWUpfSkpLE9iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciByPXNbZV07YVtlXXx8VihyLGQsYSksb1tlXXx8WChyLG8pfSkpLGQpaWYoZC5oYXNPd25Qcm9wZXJ0eShjKSl7dmFyIHA9ZFtjXS5taXNzaW5nU2l6ZXM7YS5oYXNPd25Qcm9wZXJ0eShjKXx8KGFbY109e30pLGFbY10uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdJbXBzIil8fChhW2NdLm1pc3NpbmdJbXBzPVtdLGFbY10ubWlzc2luZ0NvdW50PTApO2Zvcih2YXIgbD1kW2NdLmltcHJlc3Npb24sbT0wO208cC5sZW5ndGg7bSsrKXt2YXIgYj1XKGVbMF0sbCxwW21dKTthW2NdLm1pc3NpbmdJbXBzLnB1c2goYiksYVtjXS5taXNzaW5nQ291bnQrK319cmV0dXJuIE9iamVjdC5rZXlzKGEpLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxmKE4oZSxyLGEsNy4yKSkpLE9iamVjdC5rZXlzKG8pLmxlbmd0aD4wJiZ0LnB1c2guYXBwbHkodCxmKE4oZSxyLG8sOC4xKSkpLHR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj1udWxsO2lmKCFlLmhhc093blByb3BlcnR5KCJib2R5Iil8fCFlLmJvZHkuaGFzT3duUHJvcGVydHkoInNlYXRiaWQiKSlyZXR1cm4gdDtmb3IodmFyIGE9ZS5ib2R5LG89YS5zZWF0YmlkLHM9MDtzPG8ubGVuZ3RoO3MrKylpZihvW3NdLmhhc093blByb3BlcnR5KCJiaWQiKSlmb3IodmFyIGQ9b1tzXS5iaWQsYz1KU09OLnBhcnNlKHIuZGF0YS5yKSxwPTA7cDxkLmxlbmd0aDtwKyspe3ZhciB1PVUoZFtwXS5pbXBpZCxjLmltcCxyLnZhbGlkQmlkUmVxdWVzdHMpO249XyhkW3BdLGEuY3VyLHUpLE9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKXx8Im91dHN0cmVhbSIhPT1PYmplY3QoaS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8KG4ubWVkaWFUeXBlcy52aWRlby5yZW5kZXJlcj1RKGRbcF0uYmlkSWQpKSx0LnB1c2gobil9cmV0dXJuIHR9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIpe3JldHVybiBPYmplY3QoaS5jb252ZXJ0VHlwZXMpKHtzaXRlSUQ6Im51bWJlciJ9LGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vanMtc2VjLmluZGV4d3cuY29tL3VtL2l4bWF0Y2guaHRtbCJ9XTpbXX19O09iamVjdChkLnJlZ2lzdGVyQmlkZGVyKSgkKX19LFs1NTFdKTsKdXBianNDaHVuayhbMjE5XSx7NTYxOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig1NjIpfSw1NjI6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBtfSkpO3ZhciBuPXIoMCksYT1yKDMpLG89cigxKSxpPXIoNyksYz1yKDIpO2Z1bmN0aW9uIHUoKXtyZXR1cm4odT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzLGQsZyxsPSJrYXJnbyIscD1bYy5iLGMuZF0sZj1PYmplY3QoaS5iKSg5NzIsbCksbT17Z3ZsaWQ6OTcyLGNvZGU6bCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhZS5wYXJhbXMpJiYhIWUucGFyYW1zLnBsYWNlbWVudElkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbz1hLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeSIpLGk9byYmby5hZFNlcnZlckN1cnJlbmN5fHwiVVNEIixjPXt9LHM9e307T2JqZWN0KG4uX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe2NbZS5iaWRJZF09ZS5wYXJhbXMucGxhY2VtZW50SWQsc1tlLmJpZElkXT1lLnNpemVzfSkpLGUubGVuZ3RoPjAmJmVbMF0udXNlcklkJiZlWzBdLnVzZXJJZC50ZGlkJiYocj1lWzBdLnVzZXJJZC50ZGlkKTt2YXIgZD11KHt9LHtzZXNzaW9uSWQ6bS5fZ2V0U2Vzc2lvbklkKCkscmVxdWVzdENvdW50Om0uX2dldFJlcXVlc3RDb3VudCgpLHRpbWVvdXQ6dC50aW1lb3V0LGN1cnJlbmN5OmksY3BtR3JhbnVsYXJpdHk6MSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCksY3BtUmFuZ2U6e2Zsb29yOjAsY2VpbDoyMH0sYmlkSURzOmMsYmlkU2l6ZXM6cyxwcmViaWRSYXdCaWRSZXF1ZXN0czplfSxtLl9nZXRBbGxNZXRhZGF0YShyLHQudXNwQ29uc2VudCx0LmdkcHJDb25zZW50KSksZz1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZCkpO3JldHVybiB1KHt9LHQse21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KCJodHRwczovL2tyay5rYXJnby5jb20iLCIvYXBpL3YyL2JpZCIpLGRhdGE6Impzb249Ii5jb25jYXQoZyksY3VycmVuY3k6aX0pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxuPVtdO2Zvcih2YXIgYSBpbiByKXt2YXIgbz1yW2FdLGk9dm9pZCAwO28ubWV0YWRhdGEmJm8ubWV0YWRhdGEubGFuZGluZ1BhZ2VEb21haW4mJihpPXtjbGlja1VybDpvLm1ldGFkYXRhLmxhbmRpbmdQYWdlRG9tYWluLGFkdmVydGlzZXJEb21haW5zOltvLm1ldGFkYXRhLmxhbmRpbmdQYWdlRG9tYWluXX0pLG4ucHVzaCh7cmVxdWVzdElkOmEsY3BtOk51bWJlcihvLmNwbSksd2lkdGg6by53aWR0aCxoZWlnaHQ6by5oZWlnaHQsYWQ6by5hZG0sdHRsOjMwMCxjcmVhdGl2ZUlkOm8uaWQsZGVhbElkOm8udGFyZ2V0aW5nQ3VzdG9tLG5ldFJldmVudWU6ITAsY3VycmVuY3k6dC5jdXJyZW5jeSxtZXRhOml9KX1yZXR1cm4gbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVtdLG89bS5fZ2VuZXJhdGVSYW5kb21VdWlkKCksaT1tLl9nZXRDbGllbnRJZCgpLGM9ciYmci5nZHByQXBwbGllcz8xOjAsdT1yJiZyLmNvbnNlbnRTdHJpbmc/ci5jb25zZW50U3RyaW5nOiIiO2lmKCJzdHJpbmciPT10eXBlb2YgbiYmND09bi5sZW5ndGgmJjE9PW5bMF0mJiJZIj09blsyXSlyZXR1cm4gYTtpZihlLmlmcmFtZUVuYWJsZWQmJm8mJmkpZm9yKHZhciBzPTA7czw1O3MrKylhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2NyYi5rYXJnby5jb20vYXBpL3YxL2luaXRzeW5jcm5kL3tVVUlEfT9zZWVkPXtTRUVEfSZpZHg9e0lOREVYfSZnZHByPXtHRFBSfSZnZHByX2NvbnNlbnQ9e0dEUFJfQ09OU0VOVH0mdXNfcHJpdmFjeT17VVNfUFJJVkFDWX0iLnJlcGxhY2UoIntVVUlEfSIsaSkucmVwbGFjZSgie1NFRUR9IixvKS5yZXBsYWNlKCJ7SU5ERVh9IixzKS5yZXBsYWNlKCJ7R0RQUn0iLGMpLnJlcGxhY2UoIntHRFBSX0NPTlNFTlR9Iix1KS5yZXBsYWNlKCJ7VVNfUFJJVkFDWX0iLG58fCIiKX0pO3JldHVybiBhfSxzdXBwb3J0ZWRNZWRpYVR5cGVzOnAsX3JlYWRDb29raWU6ZnVuY3Rpb24oZSl7aWYoIWYuY29va2llc0FyZUVuYWJsZWQoKSlyZXR1cm4gbnVsbDtmb3IodmFyIHQ9IiIuY29uY2F0KGUsIj0iKSxyPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpLG49MDtuPHIubGVuZ3RoO24rKyl7Zm9yKHZhciBhPXJbbl07IiAiPT09YS5jaGFyQXQoMCk7KWE9YS5zdWJzdHJpbmcoMSxhLmxlbmd0aCk7aWYoMD09PWEuaW5kZXhPZih0KSlyZXR1cm4gYS5zdWJzdHJpbmcodC5sZW5ndGgsYS5sZW5ndGgpfXJldHVybiBudWxsfSxfZ2V0Q3JiRnJvbUNvb2tpZTpmdW5jdGlvbigpe3RyeXt2YXIgZT1KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChtLl9yZWFkQ29va2llKCJrcmdfY3JiIikpKTtpZihlJiZlLnYpe3ZhciB0PUpTT04ucGFyc2UoYXRvYihlLnYpKTtpZih0KXJldHVybiB0fXJldHVybnt9fWNhdGNoKGUpe3JldHVybnt9fX0sX2dldENyYkZyb21Mb2NhbFN0b3JhZ2U6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoYXRvYihtLl9nZXRMb2NhbFN0b3JhZ2VTYWZlbHkoImtyZ19jcmIiKSkpfWNhdGNoKGUpe3JldHVybnt9fX0sX2dldENyYjpmdW5jdGlvbigpe3ZhciBlPW0uX2dldENyYkZyb21Mb2NhbFN0b3JhZ2UoKTtyZXR1cm4gT2JqZWN0LmtleXMoZSkubGVuZ3RoP2U6bS5fZ2V0Q3JiRnJvbUNvb2tpZSgpfSxfZ2V0S3J1eFVzZXJJZDpmdW5jdGlvbigpe3JldHVybiBtLl9nZXRMb2NhbFN0b3JhZ2VTYWZlbHkoImt4a2FyX3VzZXIiKX0sX2dldEtydXhTZWdtZW50czpmdW5jdGlvbigpe3JldHVybiBtLl9nZXRMb2NhbFN0b3JhZ2VTYWZlbHkoImt4a2FyX3NlZ3MiKX0sX2dldEtydXg6ZnVuY3Rpb24oKXt2YXIgZT1tLl9nZXRLcnV4U2VnbWVudHMoKSx0PVtdO3JldHVybiBlJiYodD1lLnNwbGl0KCIsIikpLHt1c2VySUQ6bS5fZ2V0S3J1eFVzZXJJZCgpLHNlZ21lbnRzOnR9fSxfZ2V0TG9jYWxTdG9yYWdlU2FmZWx5OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZi5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKX1jYXRjaChlKXtyZXR1cm4gbnVsbH19LF9nZXRVc2VySWRzOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1tLl9nZXRDcmIoKSxhPXtrYXJnb0lEOm4udXNlcklkLGNsaWVudElEOm4uY2xpZW50SWQsY3JiSURzOm4uc3luY0lkc3x8e30sb3B0T3V0Om4ub3B0T3V0LHVzcDp0fTt0cnl7ciYmKGEuZ2Rwcj17Y29uc2VudDpyLmNvbnNlbnRTdHJpbmd8fCIiLGFwcGxpZXM6ISFyLmdkcHJBcHBsaWVzfSl9Y2F0Y2goZSl7fXJldHVybiBlJiYoYS50ZElEPWUpLGF9LF9nZXRDbGllbnRJZDpmdW5jdGlvbigpe3JldHVybiBtLl9nZXRDcmIoKS5jbGllbnRJZH0sX2dldEFsbE1ldGFkYXRhOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm57dXNlcklEczptLl9nZXRVc2VySWRzKGUsdCxyKSxrcnV4Om0uX2dldEtydXgoKSxwYWdlVVJMOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJhd0NSQjptLl9yZWFkQ29va2llKCJrcmdfY3JiIikscmF3Q1JCTG9jYWxTdG9yYWdlOm0uX2dldExvY2FsU3RvcmFnZVNhZmVseSgia3JnX2NyYiIpfX0sX2dldFNlc3Npb25JZDpmdW5jdGlvbigpe3JldHVybiBzfHwocz1tLl9nZW5lcmF0ZVJhbmRvbVV1aWQoKSksc30sX2dldFJlcXVlc3RDb3VudDpmdW5jdGlvbigpe3JldHVybiBkPT09d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lPysrZzooZD13aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsZz0wKX0sX2dlbmVyYXRlUmFuZG9tVXVpZDpmdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgVWludDhBcnJheSgxNik7Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhlKSxlWzZdPS0xNzcmZVs2XXw2NCxlWzhdPS02NSZlWzhdfDEyODt2YXIgdD1BcnJheS5wcm90b3R5cGUubWFwLmNhbGwobmV3IFVpbnQ4QXJyYXkoZSksKGZ1bmN0aW9uKGUpe3JldHVybigiMDAiK2UudG9TdHJpbmcoMTYpKS5zbGljZSgtMil9KSkuam9pbigiIik7cmV0dXJuIHQuc2xpY2UoMCw4KSsiLSIrdC5zbGljZSg4LDEyKSsiLSIrdC5zbGljZSgxMiwxNikrIi0iK3Quc2xpY2UoMTYsMjApKyItIit0LnNsaWNlKDIwKX1jYXRjaChlKXtyZXR1cm4iIn19fTtPYmplY3Qoby5yZWdpc3RlckJpZGRlcikobSl9fSxbNTYxXSk7CnVwYmpzQ2h1bmsoWzE5OV0sezYxOTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjIwKX0sNjIwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVX0pKTt2YXIgcj1uKDApLGk9bigxKSxhPW4oMyksbz1uKDIpLGM9bigxOSksZD1uKDEzKTtmdW5jdGlvbiBzKCl7cmV0dXJuKHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdT0ibWVkaWFuZXQiLHA9Imh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC92aWRlby9idW5kbGUuanMiLGw9MCxiPTEsbT0yLGY9ImNsaWVudF90aW1lb3V0IixnPSJjbGllbnRfYmlkX3dvbiIseT1PYmplY3QoYy5hKSgpLGg9e307ZnVuY3Rpb24gdigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIGooZSl7cmV0dXJuIHMoe2RvbWFpbjooZT1lfHx7fSkuZG9tYWlufHxoLnVybERhdGEuZG9tYWluLHBhZ2U6ZS5wYWdlfHxoLnVybERhdGEucGFnZSxyZWY6ZS5yZWZ8fHYoKSxpc1RvcDplLmlzVG9wfHxoLnVybERhdGEuaXNUb3B9LGZ1bmN0aW9uKCl7aWYoaC5wYWdlTWV0YSlyZXR1cm4gaC5wYWdlTWV0YTt2YXIgZT13KCdsaW5rW3JlbD0iY2Fub25pY2FsIl0nLCJocmVmIiksdD13KCdtZXRhW3Byb3BlcnR5PSJvZzp1cmwiXScsImNvbnRlbnQiKSxuPXcoJ21ldGFbbmFtZT0idHdpdHRlcjp1cmwiXScsImNvbnRlbnQiKTtyZXR1cm4gaC5wYWdlTWV0YT1zKHt9LGUmJntjYW5vbmljYWxfdXJsOmV9LHQmJntvZ191cmw6dH0sbiYme3R3aXR0ZXJfdXJsOm59KSxoLnBhZ2VNZXRhfSgpKX1mdW5jdGlvbiB3KGUsdCl7dmFyIG4saSxhPWZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciBuPU9iamVjdChyLmdldFdpbmRvd1RvcCkoKS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKG51bGwhPT1uJiZuW3RdKXJldHVybiBuW3RdfWNhdGNoKGUpe319KGUsdCk7cmV0dXJuIGEmJihuPWEsKGk9T2JqZWN0KHIuZ2V0V2luZG93VG9wKSgpLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSkuaHJlZj1uLGkuaHJlZil9ZnVuY3Rpb24gTyhlLHQpe3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXR9KSl9ZnVuY3Rpb24geChlKXtyZXR1cm57dzpwYXJzZUludChlWzBdLDEwKSxoOnBhcnNlSW50KGVbMV0sMTApfX1mdW5jdGlvbiBfKGUsdCl7dmFyIG49T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zIiksaT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJnZHByQ29uc2VudCIpLG89T2JqZWN0KHIuZGVlcEFjY2VzcykodCwidXNwQ29uc2VudCIpLGM9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwidXNlcklkIiksZD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJzY2hhaW4iKXx8e30sdT1VLmdldFdpbmRvd1NpemUoKSxwPSEoIWl8fCFpLmdkcHJBcHBsaWVzKSxsPSEhbyxiPSEhYS5iLmdldENvbmZpZygiY29wcGEiKTtyZXR1cm4gcyh7fSx7Y3VzdG9tZXJfaWQ6bi5jaWR9LHtwcmViaWRfdmVyc2lvbjp1cGJqcy52ZXJzaW9ufSx7Z2Rwcl9hcHBsaWVzOnB9LHAmJntnZHByX2NvbnNlbnRfc3RyaW5nOmkuY29uc2VudFN0cmluZ3x8IiJ9LHt1c3BfYXBwbGllczpsfSxsJiZ7dXNwX2NvbnNlbnRfc3RyaW5nOm98fCIifSx7Y29wcGFfYXBwbGllczpifSwtMSE9PXUudyYmLTEhPT11LmgmJntzY3JlZW46dX0sYyYme3VzZXJfaWQ6Y30sdXBianMubWVkaWFuZXRHbG9iYWxzLmFuYWx5dGljc0VuYWJsZWQmJnthbmFseXRpY3M6ITB9LCFPYmplY3Qoci5pc0VtcHR5KShkKSYme3NjaGFpbjpkfSl9ZnVuY3Rpb24gQShlKXt2YXIgdD17aWQ6ZS5iaWRJZCxleHQ6e2RmcF9pZDplLmFkVW5pdENvZGUsZGlzcGxheV9jb3VudDplLmJpZFJlcXVlc3RzQ291bnR9LGFsbDplLnBhcmFtc307ZS5vcnRiMkltcCYmKHQub3J0YjJJbXA9ZS5vcnRiMkltcCk7dmFyIG4saT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHxbXSxhPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sYz1zKHt9LE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpfHx7fSxhKTtpZihPYmplY3Qoci5pc0VtcHR5KShjKXx8KHQudmlkZW89YyksaS5sZW5ndGg+MCYmKHQuYmFubmVyPShuPWksT2JqZWN0KHIuaXNBcnJheSkobikmJjI9PT1uLmxlbmd0aCYmIU9iamVjdChyLmlzQXJyYXkpKG5bMF0pP1t4KG4pXTpuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHgoZSl9KSkpKSxlLm5hdGl2ZVBhcmFtcyl0cnl7dC5uYXRpdmU9SlNPTi5zdHJpbmdpZnkoZS5uYXRpdmVQYXJhbXMpfWNhdGNoKGUpe09iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQodSwiIDogSW5jb3JyZWN0IEpTT04gOiBiaWRSZXF1ZXN0Lm5hdGl2ZVBhcmFtcyIpKX1lLnBhcmFtcy5jcmlkJiYodC50YWdpZD1lLnBhcmFtcy5jcmlkLnRvU3RyaW5nKCkpO3ZhciBkPXBhcnNlRmxvYXQoZS5wYXJhbXMuYmlkZmxvb3J8fGUucGFyYW1zLmJpZEZsb29yKTtkJiYodC5iaWRmbG9vcj1kKTt2YXIgcD1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTtpZighdCYmLTEhPT1lLmluZGV4T2YoIi8iKSl7dmFyIG49T2JqZWN0KHIuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlKS5kaXZJZDtPYmplY3Qoci5pc1N0cikobikmJih0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKX1pZih0JiZ0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCl7dmFyIGk9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXt9O3JldHVybiBhLnRvcF9sZWZ0PXt5OmkudG9wLHg6aS5sZWZ0fSxhLmJvdHRvbV9yaWdodD17eTppLmJvdHRvbSx4OmkucmlnaHR9LGF9cmV0dXJuIG51bGx9KGUuYWRVbml0Q29kZSk7aWYocCYmdC5iYW5uZXImJjAhPT10LmJhbm5lci5sZW5ndGgpe3ZhciBmPWZ1bmN0aW9uKGUpe3JldHVybnt0b3BfbGVmdDp7eDplLnRvcF9sZWZ0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS50b3BfbGVmdC55K3dpbmRvdy5wYWdlWU9mZnNldH0sYm90dG9tX3JpZ2h0Ont4OmUuYm90dG9tX3JpZ2h0Lngrd2luZG93LnBhZ2VYT2Zmc2V0LHk6ZS5ib3R0b21fcmlnaHQueSt3aW5kb3cucGFnZVlPZmZzZXR9fX0ocCk7dC5leHQuY29vcmRpbmF0ZXM9Zix0LmV4dC52aWV3YWJpbGl0eT1TKHAudG9wX2xlZnQsSSh0LmJhbm5lcikpLFMoZi50b3BfbGVmdCxJKHQuYmFubmVyKSk+LjU/dC5leHQudmlzaWJpbGl0eT1iOnQuZXh0LnZpc2liaWxpdHk9bX1lbHNlIHQuZXh0LnZpc2liaWxpdHk9bDt2YXIgZz1mdW5jdGlvbihlKXt2YXIgdD1bXTsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmW28uYixvLmQsby5jXS5mb3JFYWNoKChmdW5jdGlvbihuKXtlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobikmJihuPT1vLmI/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5mb3JFYWNoKChmdW5jdGlvbihyKXtUKGUsbixyLHQpfSkpOlQoZSxuLCIqIix0KSl9KSk7cmV0dXJuIHR9KGUpO3JldHVybiBnJiZnLmxlbmd0aD4wJiYodC5iaWRmbG9vcnM9ZyksdH1mdW5jdGlvbiBUKGUsdCxuLHIpe3ZhciBpPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTp0LHNpemU6bn0pO24ubGVuZ3RoPjEmJihpLnNpemU9biksaS5tZWRpYVR5cGU9dCxyLnB1c2goaSl9ZnVuY3Rpb24gSShlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KSl9ZnVuY3Rpb24gUyhlLHQpe3ZhciBuPXQudyp0Lmgscj1VLmdldFdpbmRvd1NpemUoKSxpPXt4OmUueCt0LncseTplLnkrdC5ofTtyZXR1cm4gMD09PW58fC0xPT09ci53fHwtMT09PXIuaD8wOmZ1bmN0aW9uKGUsdCxuLHIpe2lmKGUueD5yLnh8fHQueDxuLnh8fGUueT5yLnl8fHQueTxuLnkpcmV0dXJuIDA7cmV0dXJuKE1hdGgubWluKHQueCxyLngpLU1hdGgubWF4KGUueCxuLngpKSooTWF0aC5taW4odC55LHIueSktTWF0aC5tYXgoZS55LG4ueSkpfShlLGkse3g6MCx5OjB9LHt4OnIudyx5OnIuaH0pL259ZnVuY3Rpb24gRShlLHQpe3Q9T2JqZWN0KHIuaXNBcnJheSkodCkmJnR8fFtdO3ZhciBuPXtsb2dpZDoia2ZrIixldnRpZDoicHJvamVjdGV2ZW50cyIscHJvamVjdDoicHJlYmlkIn07cmV0dXJuIG4uYWNpZD1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCIwLmF1Y3Rpb25JZCIpfHwiIixuLmNpZD11cGJqcy5tZWRpYW5ldEdsb2JhbHMuY2lkfHwiIixuLmNyaWQ9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJwYXJhbXMuMC5jcmlkIil8fGUuYWRVbml0Q29kZX0pKS5qb2luKCJ8Iiksbi5hZHVuaXRfY291bnQ9dC5sZW5ndGh8fDAsbi5kbj1oLnVybERhdGEuZG9tYWlufHwiIixuLnJlcXVybD1oLnVybERhdGEucGFnZXx8IiIsbi5pc3RvcD1oLnVybERhdGEuaXNUb3B8fCIiLG4uZXZlbnQ9ZS5uYW1lfHwiIixuLnZhbHVlPWUudmFsdWV8fCIiLG4ucmQ9ZS5yZWxhdGVkX2RhdGF8fCIiLG59ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPXtwcm90b2NvbDoiaHR0cHMiLGhvc3RuYW1lOiJxc2VhcmNoLWEuYWthbWFpaGQubmV0L2xvZyIsc2VhcmNoOkUoZSx0KX07T2JqZWN0KHIudHJpZ2dlclBpeGVsKShPYmplY3Qoci5idWlsZFVybCkobikpfWZ1bmN0aW9uIE0oZSl7dmFyIHQsbj1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJjb250ZXh0Iil8fCIiLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwidnRvIik7Im91dHN0cmVhbSI9PW4mJmkmJihlLnJlbmRlcmVyPSgodD1kLmEuaW5zdGFsbCh7dXJsOnB9KSkuc2V0UmVuZGVyKChmdW5jdGlvbihlKXt3aW5kb3cubW5ldC5xdWV1ZS5wdXNoKChmdW5jdGlvbigpe3ZhciB0PXt3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCx2YXN0VGltZW91dDplLnZ0byxtYXhBbGxvd2VkVmFzdFRhZ1JlZGlyZWN0czplLm1hdnRyLGFsbG93VnBhaWQ6ZS5hdnAsYXV0b1BsYXk6ZS5hcCxwcmVsb2FkOmUucGwsbXV0ZTplLm10fSxuPWUuZGZwX2lkLGk9T2JqZWN0KHIuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShuKS5kaXZJZHx8bjt3aW5kb3cubW5ldC5tZWRpYU5ldG91dHN0cmVhbVBsYXllcihlLGksdCl9KSl9KSksdCkpfXdpbmRvdy5tbmV0PXdpbmRvdy5tbmV0fHx7fSx3aW5kb3cubW5ldC5xdWV1ZT13aW5kb3cubW5ldC5xdWV1ZXx8W10saC51cmxEYXRhPXtkb21haW46T2JqZWN0KHIucGFyc2VVcmwpKHkucmVmZXJlcikuaG9zdG5hbWUscGFnZTp5LnJlZmVyZXIsaXNUb3A6eS5yZWFjaGVkVG9wfSx1cGJqcy5tZWRpYW5ldEdsb2JhbHM9dXBianMubWVkaWFuZXRHbG9iYWxzfHx7fTt2YXIgVT17Y29kZTp1LGd2bGlkOjE0MixzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5jLG8uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zP2UucGFyYW1zLmNpZCYmT2JqZWN0KHIuaXNTdHIpKGUucGFyYW1zLmNpZCkmJiFPYmplY3Qoci5pc0VtcHR5U3RyKShlLnBhcmFtcy5jaWQpPyhzKHVwYmpzLm1lZGlhbmV0R2xvYmFscywhdXBianMubWVkaWFuZXRHbG9iYWxzLmNpZCYme2NpZDplLnBhcmFtcy5jaWR9KSwhMCk6KE9iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQodSwiIDogY2lkIHNob3VsZCBiZSBhIHN0cmluZyIpKSwhMSk6KE9iamVjdChyLmxvZ0Vycm9yKSgiIi5jb25jYXQodSwiIDogTWlzc2luZyBiaWQgcGFyYW1ldGVycyIpKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3NpdGU6aihlWzBdLnBhcmFtcy5zaXRlKSxleHQ6XyhlWzBdLHQpLGlkOmVbMF0uYXVjdGlvbklkLGltcDplLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEEoZSl9KSksdG1heDp0LnRpbWVvdXR8fGEuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX19KGUsdCk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOihuPXIuZXh0LmN1c3RvbWVyX2lkLCJodHRwczovL3ByZWJpZC5tZWRpYS5uZXQvcnRiL3ByZWJpZD9jaWQ9IitlbmNvZGVVUklDb21wb25lbnQobikpLGRhdGE6SlNPTi5zdHJpbmdpZnkocil9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPVtdO2lmKCFlfHwhZS5ib2R5KXJldHVybiBPYmplY3Qoci5sb2dJbmZvKSgiIi5jb25jYXQodSwiIDogcmVzcG9uc2UgaXMgZW1wdHkiKSksbjt2YXIgaT1lLmJvZHkuYmlkTGlzdDtyZXR1cm4gT2JqZWN0KHIuaXNBcnJheSkoaSkmJjAhPT1pLmxlbmd0aD8oKG49aS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hMT09PWUubm9fYmlkJiZwYXJzZUZsb2F0KGUuY3BtKT4wfShlKX0pKSkuZm9yRWFjaChNKSxuKTooT2JqZWN0KHIubG9nSW5mbykoIiIuY29uY2F0KHUsIiA6IG5vIGJpZHMiKSksbil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciBuLGk9KG49dCwhT2JqZWN0KHIuaXNFbXB0eSkobikmJm5bMF0uYm9keSYmblswXS5ib2R5LmV4dCYmT2JqZWN0KHIuaXNBcnJheSkoblswXS5ib2R5LmV4dC5jc1VybCk/blswXS5ib2R5LmV4dC5jc1VybDpbXSk7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9PKGksImlmcmFtZSIpOmUucGl4ZWxFbmFibGVkP08oaSwiaW1hZ2UiKTp2b2lkIDB9LG9uVGltZW91dDpmdW5jdGlvbihlKXt0cnl7Qyh7bmFtZTpmLHZhbHVlOmUubGVuZ3RoLHJlbGF0ZWRfZGF0YTplWzBdLnRpbWVvdXR8fGEuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKX0sZSl9Y2F0Y2goZSl7fX0sb25CaWRXb246ZnVuY3Rpb24oZSl7dHJ5e0Moe25hbWU6Zyx2YWx1ZTplLmNwbX0sW2VdKX1jYXRjaChlKXt9fSxjbGVhck1uRGF0YTpmdW5jdGlvbigpe2g9e319LGdldFdpbmRvd1NpemU6ZnVuY3Rpb24oKXtyZXR1cm57dzp3aW5kb3cuc2NyZWVuLndpZHRofHwtMSxoOndpbmRvdy5zY3JlZW4uaGVpZ2h0fHwtMX19fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoVSl9fSxbNjE5XSk7CnVwYmpzQ2h1bmsoWzE4M10sezY1MTpmdW5jdGlvbihlLG4sdCl7ZS5leHBvcnRzPXQoNjUyKX0sNjUyOmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChuLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgaT10KDApLHI9dCgzKSxvPXQoMSksZD10KDIpLGE9dCg3KSxzPSJub2JpZCIsdT1PYmplY3QoYS5iKSg4MTYscyk7ZnVuY3Rpb24gYyhlLG4pe09iamVjdChpLmxvZ0luZm8pKCItTm9CaWQtICIrZSxuKX1mdW5jdGlvbiBwKGUsbil7ZnVuY3Rpb24gdChlLG4pe3ZhciB0PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XS5kPT09ZSlyZXR1cm4gblt0XTtyZXR1cm4hMX0oZS5kaXYsbil8fHt9O3JldHVybiBlLmFjY291bnQmJih0LnM9ZS5hY2NvdW50KSxlLnNpemVzJiYodC56PWUuc2l6ZXMpLGUuZGl2JiYodC5kPWUuZGl2KSxlLnRhcmdldGluZz90Lmc9ZS50YXJnZXRpbmc6dC5nPXt9LGUuZGl2JiZmdW5jdGlvbihlLG4sdCl7Zm9yKHZhciBpPWUubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciByPWVbaV07cltuXSYmcltuXT09PXQmJmUuc3BsaWNlKGksMSl9fShuLCJkIixlLmRpdiksZS5zaXplTWFwcGluZyYmKHQuc209ZS5zaXplTWFwcGluZyksZS5zaXRlSWQmJih0LnNpZD1lLnNpdGVJZCksZS5wbGFjZW1lbnRJZCYmKHQucGlkPWUucGxhY2VtZW50SWQpLGUuYWRfdHlwZSYmKHQuYXQ9ZS5hZF90eXBlKSxlLnBhcmFtcyYmKHQucGFyYW1zPWUucGFyYW1zKSxuLnB1c2godCksbn1pZih2b2lkIDAhPT13aW5kb3cubm9iaWQucmVmcmVzaExpbWl0JiZ3aW5kb3cubm9iaWQucmVmcmVzaExpbWl0PHdpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQpcmV0dXJuITE7dmFyIG8sYT0obz0iX3VibG9jayIsdS5nZXRDb29raWUobykpO2lmKGEpcmV0dXJuIGMoIlJlcXVlc3QgYmxvY2tlZCBmb3IgdXNlci4gaG91cnM6ICIsYSksITE7Zm9yKHZhciBzPVtdLHA9MCxiPVtdLGc9MDtnPGUubGVuZ3RoO2crKyl7dmFyIGw9ZVtnXSxmPWwuYWRVbml0Q29kZTtzLnB1c2goZik7dmFyIHY9bC5zaXplcztwPXZvaWQgMCE9PWwucGFyYW1zLnNpdGVJZCYmbC5wYXJhbXMuc2l0ZUlkP2wucGFyYW1zLnNpdGVJZDpwO3ZhciBtPWwucGFyYW1zLnBsYWNlbWVudElkLHc9ImJhbm5lciIsaD1PYmplY3QoaS5kZWVwQWNjZXNzKShsLCJtZWRpYVR5cGVzLnZpZGVvIikseT1PYmplY3QoaS5kZWVwQWNjZXNzKShsLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTsobC5tZWRpYVR5cGU9PT1kLmR8fGgmJigiaW5zdHJlYW0iPT09eXx8Im91dHN0cmVhbSI9PT15KSkmJih3PSJ2aWRlbyIpLHAmJnQoe2RpdjpmLHNpemVzOnYsc2l0ZUlkOnAscGxhY2VtZW50SWQ6bSxhZF90eXBlOncscGFyYW1zOmwucGFyYW1zfSxiKX1yZXR1cm4hIXAmJmZ1bmN0aW9uKHQsbyxkKXt2YXIgYSxzLHUsYyxwLGIsZyxsLGY9e307Zi5zaWQ9byxmLmw9ZnVuY3Rpb24oZSl7dmFyIG49IiI7cmV0dXJuIG49ZSYmZS5yZWZlcmVySW5mbyYmZS5yZWZlcmVySW5mby5yZWZlcmVyP2UucmVmZXJlckluZm8ucmVmZXJlcjp3aW5kb3cuY29udGV4dCYmd2luZG93LmNvbnRleHQubG9jYXRpb24mJndpbmRvdy5jb250ZXh0LmxvY2F0aW9uLmhyZWY/d2luZG93LmNvbnRleHQubG9jYXRpb24uaHJlZjpkb2N1bWVudC5sb2NhdGlvbi5ocmVmLGVuY29kZVVSSUNvbXBvbmVudChuLnJlcGxhY2UoL1wlL2csIiIpKX0obiksZi50dD1lbmNvZGVVUklDb21wb25lbnQoZG9jdW1lbnQudGl0bGUpLGYudHQ9Zi50dC5yZXBsYWNlKC8nfDt8cXVvdDt8Mzk7fCZhbXA7fCZ8I3xcclxufFxyfFxufFx0fFxmfFwlMEF8XCJ8XCUyMnxcJTVDfFwlMjN8XCUyNnxcJTI2fFwlMDkvZ20sIiIpLGYuYT1mdW5jdGlvbihlLG4pe3ZhciB0PVtdO2lmKGUmJmUubGVuZ3RoKXtpZihuKXt2YXIgaT1bXTtlIGluc3RhbmNlb2YgQXJyYXk/aT1lOmkucHVzaChlKTtmb3IodmFyIHI9MCxvPW4ubGVuZ3RoO3I8bztyKyspe3ZhciBkPW5bcl07ZCYmZC5kJiZpLmluZGV4T2YoZC5kKT4tMSYmdC5wdXNoKGQpfX19ZWxzZSB0PW47cmV0dXJuIHR9KHQsZHx8W10pLGYudD0oYT1uZXcgRGF0ZSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlPD05PyIwIitlOiIiK2V9LHU9YS5nZXREYXRlKCksYz1hLmdldEZ1bGxZZWFyKCkscD1hLmdldE1vbnRoKCkrMSxiPWEuZ2V0SG91cnMoKSxnPWEuZ2V0TWludXRlcygpLGw9YS5nZXRTZWNvbmRzKCksYysiLSIrcyhwKSsiLSIrcyh1KSsiICIrcyhiKSsiOiIrcyhnKSsiOiIrcyhsKSksZi50ej1NYXRoLnJvdW5kKChuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSksZi5yPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksbj1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCk7cmV0dXJuIiIuY29uY2F0KGUsIngiKS5jb25jYXQobil9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIkNvdWxkIG5vdCBwYXJzZSBzY3JlZW4gZGltZW5zaW9ucywgZXJyb3IgZGV0YWlsczoiLGUpfX0oKSxmLmxhbmc9bmF2aWdhdG9yLmxhbmd1YWdlcyYmbmF2aWdhdG9yLmxhbmd1YWdlc1swXXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlLGYucmVmPWRvY3VtZW50LnJlZmVycmVyLGYuZ2Rwcj1mdW5jdGlvbihlKXt2YXIgbj17fTtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmKG49e2NvbnNlbnRTdHJpbmc6ZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDoiYm9vbGVhbiI9PXR5cGVvZiBlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksbn0obiksZi51c3A9ZnVuY3Rpb24oZSl7dmFyIG49IiI7cmV0dXJuIGUmJmUudXNwQ29uc2VudCYmKG49ZS51c3BDb25zZW50KSxufShuKSxmLnBqYmRyPW4mJm4uYmlkZGVyQ29kZT9uLmJpZGRlckNvZGU6Im5vYmlkIjt2YXIgdj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5sZW5ndGg+MD9lWzBdLnNjaGFpbjpudWxsfShlKTt2JiYoZi5zY2hhaW49dik7dmFyIG09ITA9PT1yLmIuZ2V0Q29uZmlnKCJjb3BwYSIpP3tjb3BwYTohMH06ZSYmZS5sZW5ndGg+MD9lWzBdLmNvcHBhOm51bGw7bSYmKGYuY29wcGE9bSk7dmFyIHc9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KGkuaXNBcnJheSkoZSkmJmUubGVuZ3RoPjApe3ZhciBuPVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2UudWlkcyYmZS51aWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3QucHVzaCh7aWQ6ZS5pZCsiIn0pfSkpLGUuc291cmNlJiZ0Lmxlbmd0aD4wJiZuLnB1c2goe3NvdXJjZTplLnNvdXJjZSx1aWRzOnR9KX0pKSxufX0oT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiMC51c2VySWRBc0VpZHMiKSk7cmV0dXJuIHcmJncubGVuZ3RoPjAmJihmLmVpZHM9dyksci5iJiZyLmIuZ2V0Q29uZmlnKCJvcnRiMiIpJiYoZi5vcnRiMj1yLmIuZ2V0Q29uZmlnKCJvcnRiMiIpKSxmfShzLHAsYil9ZnVuY3Rpb24gYihlLG4pe3ZhciB0PWZ1bmN0aW9uKGUsbil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0KyspaWYoblt0XS5hZFVuaXRDb2RlPT1lKXJldHVybiBuW3RdO3JldHVybiExfTshZnVuY3Rpb24oZSl7ZSYmdm9pZCAwIT09ZS5ybGltaXQmJih3aW5kb3cubm9iaWQucmVmcmVzaExpbWl0PWUucmxpbWl0KX0oZSksZnVuY3Rpb24oZSl7ZSYmdm9pZCAwIT09ZS51YmxvY2smJmZ1bmN0aW9uKGUsbix0KXt2YXIgaT1uZXcgRGF0ZTtpLnNldFRpbWUoaS5nZXRUaW1lKCkrNjAqdCo2MCoxZTMpO3ZhciByPSJleHBpcmVzPSIraS50b1VUQ1N0cmluZygpO3Uuc2V0Q29va2llKGUsbixyKX0oIl91YmxvY2siLCIxIixlLnVibG9jayl9KGUpO2Zvcih2YXIgaT1bXSxyPTA7ZS5iaWRzJiZyPGUuYmlkcy5sZW5ndGg7cisrKXt2YXIgbz1lLmJpZHNbcl07aWYoIShvLmJkcmlkPDEwMCkmJm4mJm4uYmlkZGVyUmVxdWVzdCYmbi5iaWRkZXJSZXF1ZXN0LmJpZHMpe3dpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXNbIiIrby5pZF09bzt2YXIgYT10KG8uZGl2aWQsbi5iaWRkZXJSZXF1ZXN0LmJpZHMpO2lmKGEpe3ZhciBzPXtyZXF1ZXN0SWQ6YS5iaWRJZCxjcG06MSooby5wcmljZT9vLnByaWNlOm8uYnVja2V0P28uYnVja2V0OjApLHdpZHRoOm8uc2l6ZS53LGhlaWdodDpvLnNpemUuaCxjcmVhdGl2ZUlkOm8uY3JlYXRpdmVpZHx8IiIsZGVhbElkOm8uZGVhbGlkfHwiIixjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozMDAsYWQ6by5hZG0sbWVkaWFUeXBlOm8uYXR5cGV8fGQuYn07by52YXN0VXJsJiYocy52YXN0VXJsPW8udmFzdFVybCksby52YXN0WG1sJiYocy52YXN0WG1sPW8udmFzdFhtbCksby52aWRlb0NhY2hlS2V5JiYocy52aWRlb0NhY2hlS2V5PW8udmlkZW9DYWNoZUtleSksby5tZXRhJiYocy5tZXRhPW8ubWV0YSksaS5wdXNoKHMpfX19cmV0dXJuIGl9d2luZG93Lm5vYmlkVmVyc2lvbj0iMS4zLjIiLHdpbmRvdy5ub2JpZD13aW5kb3cubm9iaWR8fHt9LHdpbmRvdy5ub2JpZC5iaWRSZXNwb25zZXM9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc3x8e30sd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbD0wLHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbD0wLHdpbmRvdy5ub2JpZC5yZWZyZXNoQ291bnQ9MCx3aW5kb3cubm9iaWQucmVuZGVyVGFnPWZ1bmN0aW9uKGUsbix0KXtjKCJub2JpZC5yZW5kZXJUYWcoKSIsbik7dmFyIGk9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIituXTtpZihpJiZpLmFkbTIpe2MoIm5vYmlkLnJlbmRlclRhZygpIGZvdW5kIHRhZyIsbik7dmFyIHI9aS5hZG0yO3JldHVybiBlLndyaXRlKHIpLHZvaWQgZS5jbG9zZSgpfWMoIm5vYmlkLnJlbmRlclRhZygpIHRhZyBOT1QgRk9VTkQgKkVSUk9SKiIsbil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24oZSl7dmFyIG49IiIrZVtlLm1lc3NhZ2U/Im1lc3NhZ2UiOiJkYXRhIl07aWYoIm5iVGFnUmVuZGVyZXIucmVxdWVzdEFkTWFya3VwfCI9PT1uLnN1YnN0cmluZygwLCJuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cHwiLmxlbmd0aCkpe2MoIlByZWJpZCByZWNlaXZlZCBuYlRhZ1JlbmRlcmVyLnJlcXVlc3RBZE1hcmt1cCBldmVudCIpO3ZhciB0PW4uc3Vic3RyaW5nKG4uaW5kZXhPZigifCIpKzEpO2lmKHdpbmRvdy5ub2JpZCYmd2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlcyl7dmFyIGk9d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIit0XTtpZihpJiZpLmFkbTIpe3ZhciByPWkuYWRtMjtyJiZlLnNvdXJjZS5wb3N0TWVzc2FnZSgibmJUYWdSZW5kZXJlci5yZW5kZXJBZEluU2FmZUZyYW1lfCIrciwiKiIpfX19fSksITEpO3ZhciBnPXtjb2RlOnMsZ3ZsaWQ6ODE2LGFsaWFzZXM6W3tjb2RlOiJkdXJhdGlvbiIsZ3ZsaWQ6Njc0fV0sc3VwcG9ydGVkTWVkaWFUeXBlczpbZC5iLGQuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGMoImlzQmlkUmVxdWVzdFZhbGlkIixlKSwhIWUucGFyYW1zLnNpdGVJZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe2lmKGMoInZhbGlkQmlkUmVxdWVzdHMiLGUpLCFlfHxlLmxlbmd0aDw9MCljKCJFbXB0eSB2YWxpZEJpZFJlcXVlc3RzIik7ZWxzZXt2YXIgdD1wKGUsbik7aWYodCl7d2luZG93Lm5vYmlkLnJlZnJlc2hDb3VudCsrO3ZhciByLG8sZD1KU09OLnN0cmluZ2lmeSh0KS5yZXBsYWNlKC8nfCZ8Iy9nLCIiKSxhPShyPSJodHRwczovL2Fkcy5zZXJ2ZW5vYmlkLmNvbS8iLChvPSJmdW5jdGlvbiI9PXR5cGVvZiBpLmdldFBhcmFtZXRlckJ5TmFtZSYmT2JqZWN0KGkuZ2V0UGFyYW1ldGVyQnlOYW1lKSgibm9iaWQtZW52IikpPyJiZXRhIj09bz9yPSJodHRwczovL2JldGEuc2VydmVub2JpZC5jb20vIjoiZGV2Ij09bz9yPSIvL2xvY2FsaG9zdDo4MjgyLyI6InFhIj09byYmKHI9Imh0dHBzOi8vcWEtYWRzLm5vYmlkLmNvbS8iKTpyPSJodHRwczovL2Fkcy5zZXJ2ZW5vYmlkLmNvbS8iLHIrImFkcmVxP2NiPSIrTWF0aC5mbG9vcigxMWUzKk1hdGgucmFuZG9tKCkpKSxzPXt9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgbj0hMDtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbiYmKG49ISghMCE9PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUuZ2RwckNvbnNlbnQsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSxufShuKXx8KHM9e3dpdGhDcmVkZW50aWFsczohMX0pLHttZXRob2Q6IlBPU1QiLHVybDphLGRhdGE6ZCxiaWRkZXJSZXF1ZXN0Om4sb3B0aW9uczpzfX19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3JldHVybiBjKCJpbnRlcnByZXRSZXNwb25zZSAtPiBzZXJ2ZXJSZXNwb25zZSIsZSksYygiaW50ZXJwcmV0UmVzcG9uc2UgLT4gYmlkUmVxdWVzdCIsbiksYihlLmJvZHksbil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLG4sdCxyKXtpZihlLmlmcmFtZUVuYWJsZWQpe3ZhciBvPSIiO3JldHVybiB0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/bys9Ij9nZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKTpvKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSxyJiYoby5sZW5ndGg+MD9vKz0iJiI6bys9Ij8iLG8rPSJ1c3BfY29uc2VudD0iK3IpLFt7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vcHVibGljLnNlcnZlbm9iaWQuY29tL3N5bmMuaHRtbCIrb31dfWlmKGUucGl4ZWxFbmFibGVkJiZuLmxlbmd0aD4wKXt2YXIgZD1bXTtyZXR1cm4gblswXS5ib2R5LnN5bmNzJiZuWzBdLmJvZHkuc3luY3MubGVuZ3RoPjAmJm5bMF0uYm9keS5zeW5jcy5mb3JFYWNoKChmdW5jdGlvbihlKXtkLnB1c2goe3R5cGU6ImltYWdlIix1cmw6ZX0pfSkpLGR9cmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCItTm9CaWQtIFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luYy4iLGUpLFtdfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ub2JpZC50aW1lb3V0VG90YWwrKyxjKCJUaW1lb3V0IHRvdGFsOiAiK3dpbmRvdy5ub2JpZC50aW1lb3V0VG90YWwsZSksd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbH0sb25CaWRXb246ZnVuY3Rpb24oZSl7cmV0dXJuIHdpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbCsrLGMoIkJpZFdvbiB0b3RhbDogIit3aW5kb3cubm9iaWQuYmlkV29uVG90YWwsZSksd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsfX07T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKGcpfX0sWzY1MV0pOwp1cGJqc0NodW5rKFs0MV0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgbj1vKGVbcl0scik7biYmdC5wdXNoKG4pfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3Qobi5kZWVwQWNjZXNzKShpLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6aVtyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIG49cigwKSxpPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4ucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBvKGUsdCl7dmFyIHI9aVt0XTtpZihyJiZlKXt2YXIgbz17fTtvLnNvdXJjZT1yLnNvdXJjZTt2YXIgYT1PYmplY3Qobi5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KG4uaXNTdHIpKGEpKXt2YXIgZD17aWQ6YSxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3Qobi5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciBjPXIuZ2V0VWlkRXh0KGUpO2MmJihkLmV4dD1jKX1pZihvLnVpZHM9W2RdLE9iamVjdChuLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIHM9ci5nZXRFaWRFeHQoZSk7cyYmKG8uZXh0PXMpfXJldHVybiBvfX1yZXR1cm4gbnVsbH19LDY1OTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNjYwKX0sNjYwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuaGFzVHlwZVZpZGVvPWgsdC5pc1ZhbGlkPWIsci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB4fSkpO3ZhciBuPXIoMiksaT1yKDIyKSxvPXIoMTMpLGE9cigxMSksZD1yLm4oYSksYz1yKDcpLHM9cigxKSx1PXIoMTcpLHA9cigwKTtmdW5jdGlvbiBsKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBmKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2woT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtnKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpsKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGcoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBtPSJodHRwczovL29uZXRhZy1zeXMuY29tL3VzeW5jLyIseT1PYmplY3QoYy5iKSgyNDEpO2Z1bmN0aW9uIGgoZSl7cmV0dXJuIHZvaWQgMCE9PWUubWVkaWFUeXBlcyYmdm9pZCAwIT09ZS5tZWRpYVR5cGVzLnZpZGVvfWZ1bmN0aW9uIGIoZSx0KXtpZihlPT09bi5iKXJldHVybiBqKHQpLmxlbmd0aD4wO2lmKGU9PT1uLmQmJmgodCkpe3ZhciByPXQubWVkaWFUeXBlcy52aWRlby5jb250ZXh0O2lmKCJvdXRzdHJlYW0iPT09cnx8Imluc3RyZWFtIj09PXIpcmV0dXJuIHcodCkubGVuZ3RoPjB9cmV0dXJuITF9ZnVuY3Rpb24gdihlKXt0cnl7cmV0dXJuIHZvaWQgMCE9PWUuZG9jdW1lbnQuaGlkZGVuP2UuZG9jdW1lbnQuaGlkZGVuOnZvaWQgMCE9PWUuZG9jdW1lbnQubXNIaWRkZW4/ZS5kb2N1bWVudC5tc0hpZGRlbjp2b2lkIDAhPT1lLmRvY3VtZW50LndlYmtpdEhpZGRlbj9lLmRvY3VtZW50LndlYmtpdEhpZGRlbjpudWxsfWNhdGNoKGUpe3JldHVybiBudWxsfX1mdW5jdGlvbiBJKGUpe3ZhciB0PWUucGFyYW1zO3RoaXMuYWRVbml0Q29kZT1lLmFkVW5pdENvZGUsdGhpcy5iaWRJZD1lLmJpZElkLHRoaXMuYmlkZGVyUmVxdWVzdElkPWUuYmlkZGVyUmVxdWVzdElkLHRoaXMuYXVjdGlvbklkPWUuYXVjdGlvbklkLHRoaXMudHJhbnNhY3Rpb25JZD1lLnRyYW5zYWN0aW9uSWQsdGhpcy5wdWJJZD10LnB1YklkLHRoaXMuZXh0PXQuZXh0LHQucHViQ2xpY2smJih0aGlzLmNsaWNrPXQucHViQ2xpY2spLHQuZGVhbElkJiYodGhpcy5kZWFsSWQ9dC5kZWFsSWQpO3ZhciByPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3RyeXtmb3IodmFyIHI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxuPXIudG9wLGk9ci5sZWZ0LG89ci53aWR0aCxhPXIuaGVpZ2h0LGQ9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LGM9e3RvcDpuK2QucGFnZVlPZmZzZXQsbGVmdDppK2QucGFnZVhPZmZzZXQsd2lkdGg6byxoZWlnaHQ6YX0scz1kLmZyYW1lRWxlbWVudDtudWxsIT1zOyl7dmFyIHU9cy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwPXUudG9wLGw9dS5sZWZ0O2MudG9wKz1wK2QucGFnZVlPZmZzZXQsYy5sZWZ0Kz1sK2QucGFnZVhPZmZzZXQscz0oZD1kLnBhcmVudCkuZnJhbWVFbGVtZW50fXJldHVybiBjfWNhdGNoKGUpe3JldHVybiBudWxsfX0oZS5hZFVuaXRDb2RlKTtyJiYodGhpcy5jb29yZHM9cil9ZnVuY3Rpb24gTygpe3RyeXtpZihudWxsIT13aW5kb3cucGVyZm9ybWFuY2UmJm51bGwhPXdpbmRvdy5wZXJmb3JtYW5jZS50aW1pbmcpe3ZhciBlPXt9LHQ9d2luZG93LnBlcmZvcm1hbmNlLnRpbWluZztyZXR1cm4gZS5wYWdlTG9hZFRpbWU9dC5sb2FkRXZlbnRFbmQtdC5uYXZpZ2F0aW9uU3RhcnQsZS5jb25uZWN0VGltZT10LnJlc3BvbnNlRW5kLXQucmVxdWVzdFN0YXJ0LGUucmVuZGVyVGltZT10LmRvbUNvbXBsZXRlLXQuZG9tTG9hZGluZyxlfX1jYXRjaChlKXtyZXR1cm4gbnVsbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiB3KGUpe3ZhciB0PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO3JldHVybiB2b2lkIDAhPT10JiZBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wP1QodCk6W119ZnVuY3Rpb24gaihlKXtyZXR1cm4gdm9pZCAwIT09ZS5tZWRpYVR5cGVzJiZ2b2lkIDAhPT1lLm1lZGlhVHlwZXMuYmFubmVyJiZ2b2lkIDAhPT1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzJiZBcnJheS5pc0FycmF5KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aD4wP1QoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk6IWgoZSkmJmUuc2l6ZXMmJkFycmF5LmlzQXJyYXkoZS5zaXplcyk/VChlLnNpemVzKTpbXX1mdW5jdGlvbiBUKGUpe2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBuPWVbcl07dC5wdXNoKHt3aWR0aDpuWzBdLGhlaWdodDpuWzFdfSl9cmV0dXJuIHR9dmFyIHg9e2NvZGU6Im9uZXRhZyIsZ3ZsaWQ6MjQxLHN1cHBvcnRlZE1lZGlhVHlwZXM6W24uYixuLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiZ2b2lkIDAhPT1lLnBhcmFtcyYmInN0cmluZyI9PXR5cGVvZiBlLnBhcmFtcy5wdWJJZCYmKGIobi5iLGUpfHxiKG4uZCxlKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcixpLG8sYSxkLGMscz1mKHtiaWRzOihhPWUsZD1hLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGgoZSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gSS5jYWxsKHQsZSksdC5jb250ZXh0PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0LHQucGxheWVyU2l6ZT13KGUpLHQubWVkaWFUeXBlSW5mbz1PYmplY3QocC5kZWVwQ2xvbmUpKGUubWVkaWFUeXBlcy52aWRlbyksdC50eXBlPW4uZCx0fSkpLGM9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBiKG4uYixlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBJLmNhbGwodCxlKSx0LnNpemVzPWooZSksdC50eXBlPW4uYix0Lm1lZGlhVHlwZUluZm89T2JqZWN0KHAuZGVlcENsb25lKShlLm1lZGlhVHlwZXMuYmFubmVyKSx0fSkpLGQuY29uY2F0KGMpKX0sKHI9ZnVuY3Rpb24oKXt2YXIgZT13aW5kb3csdD13aW5kb3cucGFyZW50LHI9MDt0cnl7Zm9yKDtlIT09ZS5wYXJlbnQ7KSh0PWUucGFyZW50KS5sb2NhdGlvbi5ocmVmLGU9ZS5wYXJlbnR9Y2F0Y2gobil7cj10PT09ZS50b3A/MToyfXJldHVybnt0b3Btb3N0RnJhbWU6ZSxjdXJyZW50RnJhbWVOZXN0aW5nOnJ9fSgpLGk9ci50b3Btb3N0RnJhbWUsbz1yLmN1cnJlbnRGcmFtZU5lc3Rpbmcse2xvY2F0aW9uOmkubG9jYXRpb24uaHJlZixyZWZlcnJlcjoiIiE9PWkuZG9jdW1lbnQucmVmZXJyZXI/aS5kb2N1bWVudC5yZWZlcnJlcjpudWxsLGFuY2VzdG9yT3JpZ2luOndpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMmJndpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMubGVuZ3RoPjA/d2luZG93LmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc1t3aW5kb3cubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zLmxlbmd0aC0xXTpudWxsLG1hc2tlZDpvLHdXaWR0aDppLmlubmVyV2lkdGgsd0hlaWdodDppLmlubmVySGVpZ2h0LG9XaWR0aDppLm91dGVyV2lkdGgsb0hlaWdodDppLm91dGVySGVpZ2h0LHNXaWR0aDppLnNjcmVlbi53aWR0aCxzSGVpZ2h0Omkuc2NyZWVuLmhlaWdodCxhV2lkdGg6aS5zY3JlZW4uYXZhaWxXaWR0aCxhSGVpZ2h0Omkuc2NyZWVuLmF2YWlsSGVpZ2h0LHNMZWZ0OiJzY3JlZW5MZWZ0ImluIGk/aS5zY3JlZW5MZWZ0Omkuc2NyZWVuWCxzVG9wOiJzY3JlZW5Ub3AiaW4gaT9pLnNjcmVlblRvcDppLnNjcmVlblkseE9mZnNldDppLnBhZ2VYT2Zmc2V0LHlPZmZzZXQ6aS5wYWdlWU9mZnNldCxkb2NIaWRkZW46dihpKSxkb2NIZWlnaHQ6aS5kb2N1bWVudC5ib2R5P2kuZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQ6bnVsbCxoTGVuZ3RoOmhpc3RvcnkubGVuZ3RoLHRpbWluZzpPKCksdmVyc2lvbjp7cHJlYmlkOiI1LjIwLjIiLGFkYXB0ZXI6IjEuMS4wIn19KSk7dCYmdC5nZHByQ29uc2VudCYmKHMuZ2RwckNvbnNlbnQ9e2NvbnNlbnRTdHJpbmc6dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRSZXF1aXJlZDp0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksdCYmdC51c3BDb25zZW50JiYocy51c1ByaXZhY3k9dC51c3BDb25zZW50KSxlJiYwIT09ZS5sZW5ndGgmJmVbMF0udXNlcklkJiYocy51c2VySWQ9T2JqZWN0KHUuYikoZVswXS51c2VySWQpKTt0cnl7eS5oYXNMb2NhbFN0b3JhZ2UoKSYmKHMub25ldGFnU2lkPXkuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIm9uZXRhZ19zaWQiKSl9Y2F0Y2goZSl7fXJldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9vbmV0YWctc3lzLmNvbS9wcmViaWQtcmVxdWVzdCIsZGF0YTpKU09OLnN0cmluZ2lmeShzKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5LGE9W10sYz1KU09OLnBhcnNlKHQuZGF0YSk7cmV0dXJuIXJ8fHIubm9iaWQmJiEwPT09ci5ub2JpZD9hOnIuYmlkcyYmQXJyYXkuaXNBcnJheShyLmJpZHMpJiYwIT09ci5iaWRzLmxlbmd0aD8oci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXtyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWQsY3BtOmUuY3BtLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkLGRlYWxJZDpudWxsPT1lLmRlYWxJZD9lLmRlYWxJZDoiIixjdXJyZW5jeTplLmN1cnJlbmN5LG5ldFJldmVudWU6ZS5uZXRSZXZlbnVlfHwhMSxtZWRpYVR5cGU6ZS5tZWRpYVR5cGUsbWV0YTp7bWVkaWFUeXBlOmUubWVkaWFUeXBlLGFkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbn0sdHRsOmUudHRsfHwzMDB9O2lmKGUubWVkaWFUeXBlPT09bi5iKXQuYWQ9ZS5hZDtlbHNlIGlmKGUubWVkaWFUeXBlPT09bi5kKXt2YXIgcj1kKCkoYy5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5iaWRJZD09PWUucmVxdWVzdElkJiZ0LnR5cGU9PT1uLmR9KSkscz1yLmNvbnRleHQsdT1yLmFkVW5pdENvZGU7cz09PWkuYT8odC52YXN0VXJsPWUudmFzdFVybCx0LnZpZGVvQ2FjaGVLZXk9ZS52aWRlb0NhY2hlS2V5KTpzPT09aS5iJiYodC52YXN0WG1sPWUuYWQsdC52YXN0VXJsPWUudmFzdFVybCxlLnJlbmRlcmVyVXJsJiYodC5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj1vLmEuaW5zdGFsbCh7aWQ6ZS5yZXF1ZXN0SWQsdXJsOmUucmVuZGVyZXJVcmwsY29uZmlnOnQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsbG9hZGVkOiExfSk7dHJ5e3Iuc2V0UmVuZGVyKChmdW5jdGlvbih0KXt2YXIgcj10LnJlbmRlcmVyLG49dC53aWR0aCxpPXQuaGVpZ2h0LG89dC52YXN0WG1sLGE9dC5hZFVuaXRDb2RlO3IucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cub25ldGFnLlBsYXllci5pbml0KGYoZih7fSxlKSx7fSx7d2lkdGg6bixoZWlnaHQ6aSx2YXN0WG1sOm8sbm9kZUlkOmEsY29uZmlnOnIuZ2V0Q29uZmlnKCl9KSl9KSl9KSl9Y2F0Y2goZSl7fXJldHVybiByfShmKGYoe30sZSkse30se2FkVW5pdENvZGU6dX0pKSkpfWEucHVzaCh0KX0pKSxhKTphfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9W10sbz0iIjtyZXR1cm4gciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJihvKz0iJmdkcHJfY29uc2VudD0iK3IuY29uc2VudFN0cmluZywiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzJiYobys9IiZnZHByPSIrKHIuZ2RwckFwcGxpZXM/MTowKSkpLG4mJiJzdHJpbmciPT10eXBlb2YgbiYmKG8rPSImdXNfcHJpdmFjeT0iK24pLGUuaWZyYW1lRW5hYmxlZCYmaS5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDptKyI/Y2I9IisobmV3IERhdGUpLmdldFRpbWUoKStvfSksZS5waXhlbEVuYWJsZWQmJmkucHVzaCh7dHlwZToiaW1hZ2UiLHVybDptKyI/dGFnPWltZyIrb30pLGl9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikoeCl9fSxbNjU5XSk7CnVwYmpzQ2h1bmsoWzE3N10sezY2OTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNjcwKX0sNjcwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJVU0VSX0lEX0NPREVfVE9fUVVFUllfQVJHIiwoZnVuY3Rpb24oKXtyZXR1cm4gYn0pKSxuLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIHI9bigwKSxhPW4oMyksaT1uKDEpLG89bigyKSxjPW4oMTIpLGQ9bi5uKGMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuKHM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsYSxpPVtdLG89ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEobz0ocj1uLm5leHQoKSkuZG9uZSkmJihpLnB1c2goci52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7bz0hMCk7fWNhdGNoKGUpe2M9ITAsYT1lfWZpbmFsbHl7dHJ5e298fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBhfX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBwKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBwKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIG09W28uYixvLmRdLGw9WyJzdGFydGRlbGF5IiwibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic3RhcnRkZWxheSIsInNraXBwYWJsZSIsInBsYXliYWNrbWV0aG9kIiwiYXBpIiwicHJvdG9jb2xzIiwiYm94aW5nYWxsb3dlZCIsImxpbmVhcml0eSIsImRlbGl2ZXJ5IiwicHJvdG9jb2wiLCJwbGFjZW1lbnQiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSJdLGI9e2JyaXRlcG9vbGlkOiJicml0ZXBvb2xpZCIsY3JpdGVvSWQ6ImNyaXRlb2lkIixmYWJyaWNrSWQ6Im51ZXN0YXJpZCIsaGFsb0lkOiJhdWRpZ2VudGlkIixpZDVpZDoiaWQ1aWQiLGlkbF9lbnY6ImxyZSIsSURQOiJ6ZW90YXBpZCIsaWR4SWQ6ImlkeGlkIixpbnRlbnRJcUlkOiJpbnRlbnRpcWlkIixsaXBiOiJsaXBiaWQiLGxvdGFtZVBhbm9yYW1hSWQ6ImxvdGFtZWlkIixtZXJrbGVJZDoibWVya2xlaWQiLG5ldElkOiJuZXRpZCIscGFycmFibGVJZDoicGFycmFibGVpZCIscHViY2lkOiJwdWJjaWQiLHF1YW50Y2FzdElkOiJxdWFudGNhc3RpZCIsdGFwYWRJZDoidGFwYWRpZCIsdGRpZDoidHRkdXVpZCIsdWlkMjoidWlkMiIsZmxvY0lkOiJmbG9jIixhZG1peGVySWQ6ImFkbWl4ZXJpZCIsZGVlcGludGVudElkOiJkZWVwaW50ZW50aWQiLGRtZElkOiJkbWRpZCIsbmV4dHJvbGxJZDoibmV4dHJvbGxpZCIsbm92YXRpcToibm92YXRpcWlkIixtd09wZW5MaW5rSWQ6Im13b3BlbmxpbmtpZCIsZGFwSWQ6ImRhcGlkIixhbXhJZDoiYW14aWQifSxmPXtjb2RlOiJvcGVueCIsZ3ZsaWQ6Njksc3VwcG9ydGVkTWVkaWFUeXBlczptLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLmRlbERvbWFpbnx8ZS5wYXJhbXMucGxhdGZvcm07cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJnQ/ISFlLnBhcmFtcy51bml0fHxPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgiKT4wOiEoIWUucGFyYW1zLnVuaXR8fCF0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1bXSxpPXUoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBuPXQsT2JqZWN0KHIuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpJiYhT2JqZWN0KHIuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy5iYW5uZXIiKXx8bi5tZWRpYVR5cGU9PT1vLmQ/ZVswXS5wdXNoKHQpOmVbMV0ucHVzaCh0KSxlfSksW1tdLFtdXSl9KGUpLDIpLGM9aVswXSxzPWlbMV07cmV0dXJuIHMubGVuZ3RoPjAmJm4ucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPVtdLGk9ITEsYz12KGUsdCksZD1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMudW5pdH0pKTtjLmF1cz1PYmplY3Qoci5fbWFwKShlLChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIucGFyc2VTaXplc0lucHV0KShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKS5qb2luKCIsIil9KSkuam9pbigifCIpLGMuZGl2aWRzPU9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZS5hZFVuaXRDb2RlKX0pKS5qb2luKCIsIiksYy5hdWNzPU9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0fHwiIil9KSkuam9pbigiLCIpLGQuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkmJihjLmF1aWQ9ZC5qb2luKCIsIikpO2Uuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmRvTm90VHJhY2t9KSkmJihjLm5zPTEpOyghMD09PWEuYi5nZXRDb25maWcoImNvcHBhIil8fGUuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmNvcHBhfSkpKSYmKGMudGZjZD0xKTtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmN1c3RvbVBhcmFtcyl7dmFyIHQ9T2JqZWN0KHIuX21hcCkoT2JqZWN0LmtleXMoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKSwoZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7dmFyIG49dFtlXTtPYmplY3Qoci5pc0FycmF5KShuKSYmKG49bi5qb2luKCIsIikpO3JldHVybihlLnRvTG93ZXJDYXNlKCkrIj0iK24udG9Mb3dlckNhc2UoKSkucmVwbGFjZSgiKyIsIi4iKS5yZXBsYWNlKCIvIiwiXyIpfSh0LGUucGFyYW1zLmN1c3RvbVBhcmFtcyl9KSksYT13aW5kb3cuYnRvYSh0LmpvaW4oIiYiKSk7aT0hMCxuLnB1c2goYSl9ZWxzZSBuLnB1c2goIiIpfSkpLGkmJihjLnRwcz1uLmpvaW4oIiwiKSk7cmV0dXJuIGcoYyxvLmIsZSkse21ldGhvZDoiR0VUIix1cmw6Yy5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9hcmoiOiJodHRwczovLyIuY29uY2F0KGVbMF0ucGFyYW1zLmRlbERvbWFpbiwiL3cvMS4wL2FyaiIpLGRhdGE6YyxwYXlsb2FkOntiaWRzOmUsc3RhcnRUaW1lOm5ldyBEYXRlfX19KHMsdCkpLGMubGVuZ3RoPjAmJmMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbixhLGk9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGM9dihbZV0sdCkscz1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iKXx8e30sdT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSxwPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO09iamVjdChyLmlzQXJyYXkpKGUuc2l6ZXMpJiYyPT09ZS5zaXplcy5sZW5ndGgmJiFPYmplY3Qoci5pc0FycmF5KShlLnNpemVzWzBdKT8obj1wYXJzZUludChlLnNpemVzWzBdLDEwKSxhPXBhcnNlSW50KGUuc2l6ZXNbMV0sMTApKTpPYmplY3Qoci5pc0FycmF5KShlLnNpemVzKSYmT2JqZWN0KHIuaXNBcnJheSkoZS5zaXplc1swXSkmJjI9PT1lLnNpemVzWzBdLmxlbmd0aD8obj1wYXJzZUludChlLnNpemVzWzBdWzBdLDEwKSxhPXBhcnNlSW50KGUuc2l6ZXNbMF1bMV0sMTApKTpPYmplY3Qoci5pc0FycmF5KShwKSYmMj09PXAubGVuZ3RoJiYobj1wYXJzZUludChwWzBdLDEwKSxhPXBhcnNlSW50KHBbMV0sMTApKTt2YXIgbT17dzpuLGg6YX0sYj1lLnBhcmFtcy52aWRlb3x8ZS5wYXJhbXMub3BlbnJ0Ynx8e307Yi5vcGVucnRiJiYoYj1iLm9wZW5ydGIpO09iamVjdChyLmlzQXJyYXkpKGIuaW1wKSYmKGI9Yi5pbXBbMF0udmlkZW8pO09iamVjdC5rZXlzKGIpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGQoKShsLGUpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBtW2VdPWJbZV19KSksT2JqZWN0LmtleXMoaSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZCgpKGwsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1bZV09aVtlXX0pKTt2YXIgZj17aW1wOlt7dmlkZW86bX1dfTtjLm9wZW5ydGI9SlNPTi5zdHJpbmdpZnkoZiksYy5hdWlkPWUucGFyYW1zLnVuaXQsYy52d2Q9bnx8cy52d2QsYy52aHQ9YXx8cy52aHQsIm91dHN0cmVhbSI9PT11JiYoYy52b3M9IjEwMSIpO3MubWltZXMmJihjLnZtaW1lcz1zLm1pbWVzKTtlLnBhcmFtcy50ZXN0JiYoYy52dGVzdD0xKTt2YXIgaD1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5wYmFkc2xvdCIpO2gmJihjLmF1Y3M9ZW5jb2RlVVJJQ29tcG9uZW50KGgpKTtyZXR1cm4gZyhjLG8uZCxbZV0pLGN9KGUsdCk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6bi5waD8iaHR0cHM6Ly91Lm9wZW54Lm5ldC92LzEuMC9hdmpwIjoiaHR0cHM6Ly8iLmNvbmNhdChlLnBhcmFtcy5kZWxEb21haW4sIi92LzEuMC9hdmpwIiksZGF0YTpuLHBheWxvYWQ6e2JpZDplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShlLHQpKX0pKSxufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuL2F2anAkLy50ZXN0KGUudXJsKT9vLmQ6by5ifSh0KT09PW8uZD9mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkLGE9KHQuc3RhcnRUaW1lLFtdKTtpZih2b2lkIDAhPT1lJiYiIiE9PWUudmFzdFVybCYmZS5wdWJfcmV2PjApe3ZhciBpPU9iamVjdChyLnBhcnNlVXJsKShlLnZhc3RVcmwpLnNlYXJjaHx8e30sYz17fTtjLnJlcXVlc3RJZD1uLmJpZElkLGUuZGVhbF9pZCYmKGMuZGVhbElkPWUuZGVhbF9pZCksYy50dGw9MzAwLGMubmV0UmV2ZW51ZT0hMCxjLmN1cnJlbmN5PWUuY3VycmVuY3ksYy5jcG09cGFyc2VJbnQoZS5wdWJfcmV2LDEwKS8xZTMsYy53aWR0aD1wYXJzZUludChlLndpZHRoLDEwKSxjLmhlaWdodD1wYXJzZUludChlLmhlaWdodCwxMCksYy5jcmVhdGl2ZUlkPWUuYWRpZCxjLnZhc3RVcmw9ZS52YXN0VXJsLGMubWVkaWFUeXBlPW8uZCxlLnBoPWkucGgsZS5jb2xvPWkuY29sbyxlLnRzPWkudHMsYS5wdXNoKGMpfXJldHVybiBhfShuLHQucGF5bG9hZCk6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5iaWRzLHI9KHQuc3RhcnRUaW1lLGUuYWRzLmFkKSxhPVtdLGk9MDtpPHIubGVuZ3RoO2krKyl7dmFyIG89cltpXSxjPXBhcnNlSW50KG8uaWR4LDEwKSxkPXt9O2lmKGQucmVxdWVzdElkPW5bY10uYmlkSWQsby5wdWJfcmV2KXtkLmNwbT1OdW1iZXIoby5wdWJfcmV2KS8xZTM7dmFyIHM9by5jcmVhdGl2ZVswXTtzJiYoZC53aWR0aD1zLndpZHRoLGQuaGVpZ2h0PXMuaGVpZ2h0KSxkLmNyZWF0aXZlSWQ9cy5pZCxkLmFkPW8uaHRtbCxvLmRlYWxfaWQmJihkLmRlYWxJZD1vLmRlYWxfaWQpLGQudHRsPTMwMCxkLm5ldFJldmVudWU9ITAsZC5jdXJyZW5jeT1vLmN1cnJlbmN5LG8udGJkJiYoZC50YmQ9by50YmQpLGQudHM9by50cyxkLm1ldGE9e30sby5icmFuZF9pZCYmKGQubWV0YS5icmFuZElkPW8uYnJhbmRfaWQpLG8uYWRvbWFpbiYmbGVuZ3RoKG8uYWRvbWFpbik+MD9kLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9by5hZG9tYWluOmQubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1bXSxvLmFkdl9pZCYmKGQubWV0YS5kc3BpZD1vLmFkdl9pZCksYS5wdXNoKGQpfX1yZXR1cm4gYX0obix0LnBheWxvYWQpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LG4sYSl7aWYoZS5pZnJhbWVFbmFibGVkfHxlLnBpeGVsRW5hYmxlZClyZXR1cm5be3R5cGU6ZS5pZnJhbWVFbmFibGVkPyJpZnJhbWUiOiJpbWFnZSIsdXJsOk9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIjAuYm9keS5hZHMucGl4ZWxzIil8fE9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIjAuYm9keS5waXhlbHMiKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj0iaHR0cHM6Ly91Lm9wZW54Lm5ldC93LzEuMC9wZCIscj1bXTtlJiYoci5wdXNoKCJnZHByPSIrKGUuZ2RwckFwcGxpZXM/MTowKSksci5wdXNoKCJnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoZS5jb25zZW50U3RyaW5nfHwiIikpKTt0JiZyLnB1c2goInVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQodCkpO3JldHVybiIiLmNvbmNhdChuKS5jb25jYXQoci5sZW5ndGg+MD8iPyIrci5qb2luKCImIik6IiIpfShuLGEpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5jb252ZXJ0VHlwZXMpKHt1bml0OiJzdHJpbmciLGN1c3RvbUZsb29yOiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIGgoZSl7dmFyIHQsbixyLGE9d2luZG93LGk9ZG9jdW1lbnQsbz1pLmRvY3VtZW50RWxlbWVudDtpZihlKXt0cnl7YT13aW5kb3cudG9wLGk9d2luZG93LnRvcC5kb2N1bWVudH1jYXRjaChlKXtyZXR1cm59bz1pLmRvY3VtZW50RWxlbWVudCxyPWkuYm9keSx0PWEuaW5uZXJXaWR0aHx8by5jbGllbnRXaWR0aHx8ci5jbGllbnRXaWR0aCxuPWEuaW5uZXJIZWlnaHR8fG8uY2xpZW50SGVpZ2h0fHxyLmNsaWVudEhlaWdodH1lbHNlIG89aS5kb2N1bWVudEVsZW1lbnQsdD1hLmlubmVyV2lkdGh8fG8uY2xpZW50V2lkdGgsbj1hLmlubmVySGVpZ2h0fHxvLmNsaWVudEhlaWdodDtyZXR1cm4iIi5jb25jYXQodCwieCIpLmNvbmNhdChuKX1mdW5jdGlvbiB2KGUsdCl7dmFyIG4saT1PYmplY3Qoci5pbklmcmFtZSkoKTtuPXtqdTphLmIuZ2V0Q29uZmlnKCJwYWdlVXJsIil8fHQucmVmZXJlckluZm8ucmVmZXJlcixjaDpkb2N1bWVudC5jaGFyU2V0fHxkb2N1bWVudC5jaGFyYWN0ZXJTZXQscmVzOiIiLmNvbmNhdChzY3JlZW4ud2lkdGgsIngiKS5jb25jYXQoc2NyZWVuLmhlaWdodCwieCIpLmNvbmNhdChzY3JlZW4uY29sb3JEZXB0aCksaWZyOmksdHo6KG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLHR3czpoKGkpLGJlOjEsYmM6ZVswXS5wYXJhbXMuYmN8fCIiLmNvbmNhdCgiaGJfcGIiLCJfIikuY29uY2F0KCIzLjAuMyIpLGRkZGlkOk9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuam9pbigiLCIpLG5vY2FjaGU6KG5ldyBEYXRlKS5nZXRUaW1lKCl9O3ZhciBvPXkoIm9ydGIyLnVzZXIuZGF0YSIpO28ubGVuZ3RoPjAmJihuLnNtPW8pO3ZhciBjLGQscyx1LHAsbT15KCJvcnRiMi5zaXRlLmNvbnRlbnQuZGF0YSIpO2lmKG0ubGVuZ3RoPjAmJihuLnNjc209bSksZVswXS5wYXJhbXMucGxhdGZvcm0mJihuLnBoPWVbMF0ucGFyYW1zLnBsYXRmb3JtKSx0LmdkcHJDb25zZW50KXt2YXIgbD10LmdkcHJDb25zZW50O3ZvaWQgMCE9PWwuY29uc2VudFN0cmluZyYmKG4uZ2Rwcl9jb25zZW50PWwuY29uc2VudFN0cmluZyksdm9pZCAwIT09bC5nZHByQXBwbGllcyYmKG4uZ2Rwcj1sLmdkcHJBcHBsaWVzPzE6MCksImlhYiI9PT1hLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudC5jbXBBcGkiKSYmKG4ueF9nZHByX2Y9MSl9cmV0dXJuIHQmJnQudXNwQ29uc2VudCYmKG4udXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLE9iamVjdChyLmRlZXBBY2Nlc3MpKGVbMF0sImNydW1icy5wdWJjaWQiKSYmT2JqZWN0KHIuZGVlcFNldFZhbHVlKShlWzBdLCJ1c2VySWQucHViY2lkIixPYmplY3Qoci5kZWVwQWNjZXNzKShlWzBdLCJjcnVtYnMucHViY2lkIikpLGM9bixkPWVbMF0udXNlcklkLE9iamVjdChyLl9lYWNoKShkLChmdW5jdGlvbihlLHQpe3ZhciBuPWJbdF07aWYoYi5oYXNPd25Qcm9wZXJ0eSh0KSlzd2l0Y2godCl7Y2FzZSJtZXJrbGVJZCI6Y2FzZSJmbG9jSWQiOmNhc2UidWlkMiI6Y1tuXT1lLmlkO2JyZWFrO2Nhc2UibGlwYiI6aWYoY1tuXT1lLmxpcGJpZCxBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aD4wKXt2YXIgcj0ibGl2ZWludGVudDoiK2Uuc2VnbWVudHMuam9pbigifCIpO2Muc209IiIuY29uY2F0KGMuc20/Yy5zbSsiLCI6IiIpLmNvbmNhdChyKX1icmVhaztjYXNlInBhcnJhYmxlSWQiOmNbbl09ZS5laWQ7YnJlYWs7Y2FzZSJpZDVpZCI6Y1tuXT1lLnVpZDticmVhaztjYXNlIm5vdmF0aXEiOmNbbl09ZS5zbm93Zmxha2U7YnJlYWs7ZGVmYXVsdDpjW25dPWV9fSkpLG49YyxlWzBdLnNjaGFpbiYmKG4uc2NoYWluPShzPWVbMF0uc2NoYWluLCIiLmNvbmNhdChzLnZlciwiLCIpLmNvbmNhdChzLmNvbXBsZXRlLCIhIikuY29uY2F0KCh1PXMubm9kZXMscD1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdLHUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcC5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfHwiIn0pKS5qb2luKCIsIil9KSkuam9pbigiISIpKSkpKSxufWZ1bmN0aW9uIHkoZSl7dmFyIHQ9YS5iLmdldENvbmZpZyhlKTtpZighQXJyYXkuaXNBcnJheSh0KXx8IXQubGVuZ3RoKXJldHVybiIiO3ZhciBuPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlLnNlZ21lbnQpJiZlLnNlZ21lbnQubGVuZ3RoPjAmJnZvaWQgMCE9PWUubmFtZSYmZS5uYW1lLmxlbmd0aD4wfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgbj0ib2JqZWN0Ij09PXModC5leHQpJiZ0LmV4dC5zZWd0YXg/IiIuY29uY2F0KHQubmFtZSwiLyIpLmNvbmNhdCh0LmV4dC5zZWd0YXgpOnQubmFtZTtyZXR1cm4gZVtuXT0oZVtuXXx8W10pLmNvbmNhdCh0LnNlZ21lbnQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKSksZX0pLHt9KTtyZXR1cm4gT2JqZWN0LmtleXMobikubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyI6IituW2VdLmpvaW4oInwiKX0pKS5qb2luKCIsIil9ZnVuY3Rpb24gZyhlLHQsbil7dmFyIHI9W10saT0hMTtuLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIG49e30scj1hLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iil8fCJVU0QiOyJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYobj1lLmdldEZsb29yKHtjdXJyZW5jeTpyLG1lZGlhVHlwZTp0LHNpemU6IioifSkpO3ZhciBpPW4uZmxvb3J8fGUucGFyYW1zLmN1c3RvbUZsb29yfHwwO3JldHVybiBNYXRoLnJvdW5kKDFlMyppKX0oZSx0KTtuPyhyLnB1c2gobiksaT0hMCk6ci5wdXNoKDApfSkpLGkmJihlLmF1bWZzPXIuam9pbigiLCIpKX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoZil9fSxbNjY5XSk7CnVwYmpzQ2h1bmsoWzM3XSx7Njk1OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig2OTYpfSw2OTY6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5yZXNldFN5bmNlZFN0YXR1cz1mdW5jdGlvbigpe1U9MH0sdC5yZXNldFd1cmxNYXA9ZnVuY3Rpb24oKXtYPXt9fSx0LlByZWJpZFNlcnZlcj0kO3ZhciBuPXIoODMpLGk9cig0MyksYz1yKDApLHM9cig1KSxvPXIubihzKSxhPXIoOCksZD1yKDMpLHA9cigyKSxiPXIoMzgpLHU9cigxKSxsPXIoMTApLGY9ci5uKGwpLHY9cigxMiksZz1yLm4odikseT1yKDY5NyksbT1yKDQpLE89cigxMSksaj1yLm4oTyk7ZnVuY3Rpb24gaChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gQyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9oKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7UyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6aChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBTKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxjPVtdLHM9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEocz0obj1yLm5leHQoKSkuZG9uZSkmJihjLnB1c2gobi52YWx1ZSksIXR8fGMubGVuZ3RoIT09dCk7cz0hMCk7fWNhdGNoKGUpe289ITAsaT1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBpfX1yZXR1cm4gY30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBBKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBBKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBBKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gRSgpe3JldHVybihFPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4odz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBQLGssXz1kLmIuZ2V0Q29uZmlnLEk9by5hLlMyUy5TUkMsVT0wLEI9e3RpbWVvdXQ6MWUzLG1heEJpZHM6MSxhZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGFkYXB0ZXJPcHRpb25zOnt9LHN5bmNVcmxNb2RpZmllcjp7fSxiaWRkZXJzOltdfTtmdW5jdGlvbiBUKGUpe2lmKGUpe3ZhciB0PUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0scj1bXTtyZXR1cm4gdC5ldmVyeSgoZnVuY3Rpb24odCxuLGkpe2lmKChmdW5jdGlvbihlKXtbImVuZHBvaW50Iiwic3luY0VuZHBvaW50Il0uZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoT2JqZWN0KGMuaXNTdHIpKGVbdF0pKXt2YXIgcj1lW3RdO2VbdF09e3AxQ29uc2VudDpyLG5vUDFDb25zZW50OnJ9fSFPYmplY3QoYy5pc1BsYWluT2JqZWN0KShlW3RdKXx8ZVt0XS5wMUNvbnNlbnQmJmVbdF0ubm9QMUNvbnNlbnR8fFsicDFDb25zZW50Iiwibm9QMUNvbnNlbnQiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtlW3RdW3JdfHxPYmplY3QoYy5sb2dXYXJuKSgiczJzQ29uZmlnLiIuY29uY2F0KHQsIi4iKS5jb25jYXQociwiIG5vdCBkZWZpbmVkLiAgUEJTIHJlcXVlc3Qgd2lsbCBiZSBza2lwcGVkIGluIHNvbWUgUDEgc2NlbmFyaW9zLiIpKX0pKX0pKX0oZSksITEhPT1mdW5jdGlvbihlKXtpZihlLmRlZmF1bHRWZW5kb3Ipe3ZhciB0PWUuZGVmYXVsdFZlbmRvcixyPU9iamVjdC5rZXlzKGUpO2lmKCF5LmFbdF0pcmV0dXJuIE9iamVjdChjLmxvZ0Vycm9yKSgiSW5jb3JyZWN0IG9yIHVuYXZhaWxhYmxlIHByZWJpZCBzZXJ2ZXIgZGVmYXVsdCB2ZW5kb3Igb3B0aW9uOiAiK3QpLCExO09iamVjdC5rZXlzKHkuYVt0XSkuZm9yRWFjaCgoZnVuY3Rpb24obil7QltuXSE9PWVbbl0mJmcoKShyLG4pfHwoZVtuXT15LmFbdF1bbl0pfSkpfXJldHVybiBlLmVuYWJsZWQ9ImJvb2xlYW4iPT10eXBlb2YgZS5lbmFibGVkJiZlLmVuYWJsZWR9KHQpKSYmITEhPT1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpZihbImFjY291bnRJZCIsImJpZGRlcnMiLCJlbmRwb2ludCJdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWcoKSh0LGUpJiYoT2JqZWN0KGMubG9nRXJyb3IpKGUrIiBtaXNzaW5nIGluIHNlcnZlciB0byBzZXJ2ZXIgY29uZmlnIiksITApfSkpLmxlbmd0aD4wKXJldHVybiExfSh0KSlyZXR1cm4gQXJyYXkuaXNBcnJheSh0LmJpZGRlcnMpJiYoaVtuXS5iaWRkZXJzPXQuYmlkZGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ci5pbmRleE9mKGUpJiYoci5wdXNoKGUpLCEwKX0pKSksITA7cmV0dXJuIE9iamVjdChjLmxvZ1dhcm4pKCJwcmViaWRTZXJ2ZXI6IHMycyBjb25maWcgaXMgZGlzYWJsZWQiKSwhMX0pKT9QPXQ6dm9pZCAwfX1mdW5jdGlvbiBSKGUsdCxyLG4pe2lmKFAubGVuZ3RoIT09VSl7VSsrO3ZhciBpPXt1dWlkOk9iamVjdChjLmdlbmVyYXRlVVVJRCkoKSxiaWRkZXJzOmUsYWNjb3VudDpuLmFjY291bnRJZH0scz1uLnVzZXJTeW5jTGltaXQ7T2JqZWN0KGMuaXNOdW1iZXIpKHMpJiZzPjAmJihpLmxpbWl0PXMpLHQmJihpLmdkcHI9dC5nZHByQXBwbGllcz8xOjAsITEhPT10LmdkcHJBcHBsaWVzJiYoaS5nZHByX2NvbnNlbnQ9dC5jb25zZW50U3RyaW5nKSksciYmKGkudXNfcHJpdmFjeT1yKSwiYm9vbGVhbiI9PXR5cGVvZiBuLmNvb3BTeW5jJiYoaS5jb29wU3luYz1uLmNvb3BTeW5jKTt2YXIgbz1KU09OLnN0cmluZ2lmeShpKTtPYmplY3QobS5hKShLKG4uc3luY0VuZHBvaW50LHQpLChmdW5jdGlvbihlKXt0cnl7RCgoZT1KU09OLnBhcnNlKGUpKS5iaWRkZXJfc3RhdHVzLG4pfWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKShlKX19KSxvLHtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fWZ1bmN0aW9uIEQoZSx0KXtpZigwIT09ZS5sZW5ndGgpe3ZhciByPWUuc2hpZnQoKTtyLm5vX2Nvb2tpZT9mdW5jdGlvbihlLHQscixuLGkpe2lmKGkuc3luY1VybE1vZGlmaWVyJiYiZnVuY3Rpb24iPT10eXBlb2YgaS5zeW5jVXJsTW9kaWZpZXJbcl0pe3EoZSxpLnN5bmNVcmxNb2RpZmllcltyXShlLHQscikscixuKX1lbHNlIHEoZSx0LHIsbil9KHIudXNlcnN5bmMudHlwZSxyLnVzZXJzeW5jLnVybCxyLmJpZGRlcixjLmJpbmQuY2FsbChELG51bGwsZSx0KSx0KTpEKGUsdCl9fWZ1bmN0aW9uIHEoZSx0LHIsbil7dD8iaW1hZ2UiPT09ZXx8InJlZGlyZWN0Ij09PWU/KE9iamVjdChjLmxvZ01lc3NhZ2UpKCdJbnZva2luZyBpbWFnZSBwaXhlbCB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIicuY29uY2F0KHIsJyInKSksT2JqZWN0KGMudHJpZ2dlclBpeGVsKSh0LG4pKToiaWZyYW1lIj09ZT8oT2JqZWN0KGMubG9nTWVzc2FnZSkoJ0ludm9raW5nIGlmcmFtZSB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIicuY29uY2F0KHIsJyInKSksT2JqZWN0KGMuaW5zZXJ0VXNlclN5bmNJZnJhbWUpKHQsbikpOihPYmplY3QoYy5sb2dFcnJvcikoJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQgZm9yIGJpZGRlcjogIicpLmNvbmNhdChyLCciJykpLG4oKSk6KE9iamVjdChjLmxvZ0Vycm9yKSgnTm8gc3luYyB1cmwgZm9yIGJpZGRlciAiJy5jb25jYXQociwnIjogJykuY29uY2F0KHQpKSxuKCkpfWQuYi5zZXREZWZhdWx0cyh7czJzQ29uZmlnOkJ9KSxfKCJzMnNDb25maWciLChmdW5jdGlvbihlKXtyZXR1cm4gVChlLnMyc0NvbmZpZyl9KSk7dmFyIFY9e3Nwb25zb3JlZEJ5OjEsYm9keToyLHJhdGluZzozLGxpa2VzOjQsZG93bmxvYWRzOjUscHJpY2U6NixzYWxlUHJpY2U6NyxwaG9uZTo4LGFkZHJlc3M6OSxib2R5MjoxMCxjdGE6MTJ9LE49T2JqZWN0LmtleXMoViksej17aWNvbjoxLGltYWdlOjN9LE09e2ltZzoxLGpzOjJ9O1tWLHose2ltcHJlc3Npb246MSwidmlld2FibGUtbXJjNTAiOjIsInZpZXdhYmxlLW1yYzEwMCI6Mywidmlld2FibGUtdmlkZW81MCI6NH0sTV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZVtlW3RdXT10fSkpfSkpO3ZhciBXPXt9LEo9e30sWD17fTt2YXIgRj1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBzPVtdLG89e30scD10WzBdLHU9bmV3IFNldDtpZihyLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1lLmNvZGUsaT0xO3UuaGFzKHIpOylpKysscj0iIi5jb25jYXQoZS5jb2RlLCItIikuY29uY2F0KGkpO3UuYWRkKHIpO3ZhciBsLGY9T2JqZWN0KGIuaCkoT2JqZWN0KGMuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5uYXRpdmUiKSk7aWYoZil0cnl7bD1KW3JdPU9iamVjdC5rZXlzKGYpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXt2YXIgcj1mW3RdO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIEUoe3JlcXVpcmVkOnIucmVxdWlyZWQ/MTowfSxlP09iamVjdChjLmNsZWFuT2JqKShlKTp7fSl9c3dpdGNoKHQpe2Nhc2UiaW1hZ2UiOmNhc2UiaWNvbiI6dmFyIGk9elt0XSxzPU9iamVjdChjLmNsZWFuT2JqKSh7dHlwZTppLHc6T2JqZWN0KGMuZGVlcEFjY2Vzcykociwic2l6ZXMuMCIpLGg6T2JqZWN0KGMuZGVlcEFjY2Vzcykociwic2l6ZXMuMSIpLHdtaW46T2JqZWN0KGMuZGVlcEFjY2VzcykociwiYXNwZWN0X3JhdGlvcy4wLm1pbl93aWR0aCIpLGhtaW46T2JqZWN0KGMuZGVlcEFjY2VzcykociwiYXNwZWN0X3JhdGlvcy4wLm1pbl9oZWlnaHQiKX0pO2lmKCEocy53JiZzLmh8fHMuaG1pbiYmcy53bWluKSl0aHJvdyJpbnZhbGlkIGltZyBzaXplcyAobXVzdCBwcm92aWRlIHNpemVzIG9yIG1pbl9oZWlnaHQgJiBtaW5fd2lkdGggaWYgdXNpbmcgYXNwZWN0X3JhdGlvcykiO0FycmF5LmlzQXJyYXkoci5hc3BlY3RfcmF0aW9zKSYmKHMuZXh0PXthc3BlY3RyYXRpb3M6ci5hc3BlY3RfcmF0aW9zLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGUucmF0aW9fd2lkdGgsIjoiKS5jb25jYXQoZS5yYXRpb19oZWlnaHQpfSkpfSksZS5wdXNoKG4oe2ltZzpzfSkpO2JyZWFrO2Nhc2UidGl0bGUiOmlmKCFyLmxlbil0aHJvdyJpbnZhbGlkIHRpdGxlLmxlbiI7ZS5wdXNoKG4oe3RpdGxlOntsZW46ci5sZW59fSkpO2JyZWFrO2RlZmF1bHQ6dmFyIG89Vlt0XTtvJiZlLnB1c2gobih7ZGF0YTp7dHlwZTpvLGxlbjpyLmxlbn19KSl9cmV0dXJuIGV9KSxbXSl9Y2F0Y2goZSl7T2JqZWN0KGMubG9nRXJyb3IpKCJlcnJvciBjcmVhdGluZyBuYXRpdmUgcmVxdWVzdDogIitTdHJpbmcoZSkpfXZhciB2PU9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxnPU9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIik7ZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKFdbIiIuY29uY2F0KHIpLmNvbmNhdChlLmJpZGRlcildPWUuYmlkX2lkLGEuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2UuYmlkZGVyXSl7dmFyIHQ9YS5kZWZhdWx0LmJpZGRlclJlZ2lzdHJ5W2UuYmlkZGVyXTt0JiYhdC5nZXRTcGVjKCkuc2tpcFBic0FsaWFzaW5nJiYob1tlLmJpZGRlcl09YS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5iaWRkZXJdKX19KSk7dmFyIHk9e307aWYoZyYmZy5zaXplcyl7dmFyIG09T2JqZWN0KGMucGFyc2VTaXplc0lucHV0KShnLnNpemVzKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXgoZS5zcGxpdCgieCIpLDIpLHI9dFswXSxuPXRbMV07cmV0dXJue3c6cGFyc2VJbnQociwxMCksaDpwYXJzZUludChuLDEwKX19KSk7eS5iYW5uZXI9e2Zvcm1hdDptfSxnLnBvcyYmKHkuYmFubmVyLnBvcz1nLnBvcyl9aWYoT2JqZWN0KGMuaXNFbXB0eSkodil8fCgib3V0c3RyZWFtIiE9PXYuY29udGV4dHx8di5yZW5kZXJlcnx8ZS5yZW5kZXJlcj8oImluc3RyZWFtIiE9PXYuY29udGV4dHx8di5oYXNPd25Qcm9wZXJ0eSgicGxhY2VtZW50Iil8fCh2LnBsYWNlbWVudD0xKSx5LnZpZGVvPU9iamVjdC5rZXlzKHYpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiIT09ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuInBsYXllclNpemUiPT09dD8oZS53PU9iamVjdChjLmRlZXBBY2Nlc3MpKHYsIiIuY29uY2F0KHQsIi4wLjAiKSksZS5oPU9iamVjdChjLmRlZXBBY2Nlc3MpKHYsIiIuY29uY2F0KHQsIi4wLjEiKSkpOmVbdF09dlt0XSxlfSkse30pKTpPYmplY3QoYy5sb2dFcnJvcikoIk91dHN0cmVhbSBiaWQgd2l0aG91dCByZW5kZXJlciBjYW5ub3QgYmUgc2VudCB0byBQcmViaWQgU2VydmVyLiIpKSxsKXRyeXt5Lm5hdGl2ZT17cmVxdWVzdDpKU09OLnN0cmluZ2lmeSh7Y29udGV4dDoxLHBsY210dHlwZToxLGV2ZW50dHJhY2tlcnM6W3tldmVudDoxLG1ldGhvZHM6WzFdfV0sYXNzZXRzOmx9KSx2ZXI6IjEuMiJ9fWNhdGNoKGUpe09iamVjdChjLmxvZ0Vycm9yKSgiZXJyb3IgY3JlYXRpbmcgbmF0aXZlIHJlcXVlc3Q6ICIrU3RyaW5nKGUpKX12YXIgTz1lLmJpZHMucmVkdWNlKChmdW5jdGlvbihyLGkpe3ZhciBjPWEuZGVmYXVsdC5iaWRkZXJSZWdpc3RyeVtpLmJpZGRlcl07cmV0dXJuIGMmJmMuZ2V0U3BlYygpLnRyYW5zZm9ybUJpZFBhcmFtcyYmKGkucGFyYW1zPWMuZ2V0U3BlYygpLnRyYW5zZm9ybUJpZFBhcmFtcyhpLnBhcmFtcywhMCxlLHQpKSxyW2kuYmlkZGVyXT1uLmFkYXB0ZXJPcHRpb25zJiZuLmFkYXB0ZXJPcHRpb25zW2kuYmlkZGVyXT9FKHt9LGkucGFyYW1zLG4uYWRhcHRlck9wdGlvbnNbaS5iaWRkZXJdKTppLnBhcmFtcyxyfSksQyh7fSxPYmplY3QoYy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQiKSkpLGg9e2lkOnIsZXh0Ok8sc2VjdXJlOm4uc2VjdXJlfSxTPUMoe30sT2JqZWN0KGMuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEiKSk7T2JqZWN0LmtleXMoUykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7InBiYWRzbG90Ij09PWU/InN0cmluZyI9PXR5cGVvZiBTW2VdJiZTW2VdP09iamVjdChjLmRlZXBTZXRWYWx1ZSkoaCwiZXh0LmRhdGEucGJhZHNsb3QiLFNbZV0pOmRlbGV0ZSBoLmV4dC5kYXRhLnBiYWRzbG90OiJhZHNlcnZlciI9PT1lP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChjLmRlZXBBY2Nlc3MpKFMsImFkc2VydmVyLiIuY29uY2F0KGUpKTsic3RyaW5nIj09dHlwZW9mIHQmJnQmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkoaCwiZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoZS50b0xvd2VyQ2FzZSgpKSx0KX0pKTpPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGgsImV4dC5kYXRhLiIuY29uY2F0KGUpLFNbZV0pfSkpLEUoaCx5KTt2YXIgQT1qKCkocC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZS5jb2RlJiZ0LnN0b3JlZEF1Y3Rpb25SZXNwb25zZX0pKTtBJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGgsImV4dC5wcmViaWQuc3RvcmVkYXVjdGlvbnJlc3BvbnNlLmlkIixBLnN0b3JlZEF1Y3Rpb25SZXNwb25zZS50b1N0cmluZygpKTt2YXIgdz1qKCkocC5iaWRzLChmdW5jdGlvbih0KXtyZXR1cm4gdC5hZFVuaXRDb2RlPT09ZS5jb2RlJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5nZXRGbG9vcn0pKTtpZih3KXt2YXIgUDt0cnl7UD13LmdldEZsb29yKHtjdXJyZW5jeTpkLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iil8fCJVU0QifSl9Y2F0Y2goZSl7T2JqZWN0KGMubG9nRXJyb3IpKCJQQlM6IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfVAmJlAuY3VycmVuY3kmJiFpc05hTihwYXJzZUZsb2F0KFAuZmxvb3IpKSYmKGguYmlkZmxvb3I9cGFyc2VGbG9hdChQLmZsb29yKSxoLmJpZGZsb29yY3VyPVAuY3VycmVuY3kpfShoLmJhbm5lcnx8aC52aWRlb3x8aC5uYXRpdmUpJiZzLnB1c2goaCl9KSkscy5sZW5ndGgpe3ZhciBsPXtpZDplLnRpZCxzb3VyY2U6e3RpZDplLnRpZH0sdG1heDpuLnRpbWVvdXQsaW1wOnMsdGVzdDpuLnRlc3R8fDAsZXh0OntwcmViaWQ6e2F1Y3Rpb250aW1lc3RhbXA6cC5hdWN0aW9uU3RhcnQsdGFyZ2V0aW5nOntpbmNsdWRld2lubmVyczohMCxpbmNsdWRlYmlkZGVya2V5czohMX19fX07bC5leHQucHJlYmlkPUUobC5leHQucHJlYmlkLHtjaGFubmVsOntuYW1lOiJwYmpzIix2ZXJzaW9uOnVwYmpzLnZlcnNpb259fSksXygiZGVidWciKSYmKGwuZXh0LnByZWJpZD1FKGwuZXh0LnByZWJpZCx7ZGVidWc6ITB9KSksbi5leHRQcmViaWQmJiJvYmplY3QiPT09dyhuLmV4dFByZWJpZCkmJihsLmV4dC5wcmViaWQ9RShsLmV4dC5wcmViaWQsbi5leHRQcmViaWQpKTt2YXIgZj1kLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5Iik7ZiYmInN0cmluZyI9PXR5cGVvZiBmP2wuY3VyPVtmXTpBcnJheS5pc0FycmF5KGYpJiZmLmxlbmd0aCYmKGwuY3VyPVtmWzBdXSksZnVuY3Rpb24oZSx0LHIpe2UmJigib2JqZWN0Ij09PXcoZC5iLmdldENvbmZpZygiYXBwIikpPyhlLmFwcD1kLmIuZ2V0Q29uZmlnKCJhcHAiKSxlLmFwcC5wdWJsaXNoZXI9e2lkOnJ9KTooZS5zaXRlPXt9LE9iamVjdChjLmlzUGxhaW5PYmplY3QpKGQuYi5nZXRDb25maWcoInNpdGUiKSkmJihlLnNpdGU9ZC5iLmdldENvbmZpZygic2l0ZSIpKSxPYmplY3QoYy5kZWVwQWNjZXNzKShlLnNpdGUsInB1Ymxpc2hlci5pZCIpfHxPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGUuc2l0ZSwicHVibGlzaGVyLmlkIixyKSxlLnNpdGUucGFnZXx8KGUuc2l0ZS5wYWdlPXQpKSwib2JqZWN0Ij09PXcoZC5iLmdldENvbmZpZygiZGV2aWNlIikpJiYoZS5kZXZpY2U9ZC5iLmdldENvbmZpZygiZGV2aWNlIikpLGUuZGV2aWNlfHwoZS5kZXZpY2U9e30pLGUuZGV2aWNlLnd8fChlLmRldmljZS53PXdpbmRvdy5pbm5lcldpZHRoKSxlLmRldmljZS5ofHwoZS5kZXZpY2UuaD13aW5kb3cuaW5uZXJIZWlnaHQpKX0obCx0WzBdLnJlZmVyZXJJbmZvLnJlZmVyZXIsbi5hY2NvdW50SWQpO3ZhciB2PU9iamVjdChjLmRlZXBBY2Nlc3MpKHQsIjAuYmlkcy4wLnNjaGFpbiIpO3YmJihsLnNvdXJjZS5leHQ9e3NjaGFpbjp2fSksT2JqZWN0KGMuaXNFbXB0eSkobyl8fChsLmV4dC5wcmViaWQuYWxpYXNlcz1DKEMoe30sbC5leHQucHJlYmlkLmFsaWFzZXMpLG8pKTt2YXIgeT1PYmplY3QoYy5kZWVwQWNjZXNzKSh0LCIwLmJpZHMuMC51c2VySWRBc0VpZHMiKTtPYmplY3QoYy5pc0FycmF5KSh5KSYmeS5sZW5ndGg+MCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJ1c2VyLmV4dC5laWRzIix5KSxPYmplY3QoYy5pc0FycmF5KShrKSYmay5sZW5ndGg+MCYmKGkmJk9iamVjdChjLmlzQXJyYXkpKGkpJiZrLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkZGVycyYmKGUuYmlkZGVycz1lLmJpZGRlcnMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZygpKGksZSl9KSkpfSkpLE9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwiZXh0LnByZWJpZC5kYXRhLmVpZHBlcm1pc3Npb25zIixrKSk7dmFyIG09ZC5iLmdldENvbmZpZygibXVsdGliaWQiKTtpZihtJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsImV4dC5wcmViaWQubXVsdGliaWQiLG0ucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPXt9O3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtyW2UudG9Mb3dlckNhc2UoKV09dFtlXX0pKSxlLnB1c2gociksZX0pLFtdKSksdCl7dmFyIE87aWYocC5nZHByQ29uc2VudCkiYm9vbGVhbiI9PXR5cGVvZiBwLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoTz1wLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJyZWdzLmV4dC5nZHByIixPKSxPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInVzZXIuZXh0LmNvbnNlbnQiLHAuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykscC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQmJiJzdHJpbmciPT10eXBlb2YgcC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwidXNlci5leHQuQ29uc2VudGVkUHJvdmlkZXJzU2V0dGluZ3MuY29uc2VudGVkX3Byb3ZpZGVycyIscC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQpO3AudXNwQ29uc2VudCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJyZWdzLmV4dC51c19wcml2YWN5IixwLnVzcENvbnNlbnQpfSEwPT09XygiY29wcGEiKSYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJyZWdzLmNvcHBhIiwxKTt2YXIgaD1fKCJvcnRiMiIpfHx7fTtyZXR1cm4gT2JqZWN0KGMubWVyZ2VEZWVwKShsLGgpLGZ1bmN0aW9uKGUpe3ZhciB0PWQuYi5nZXRCaWRkZXJDb25maWcoKSxyPU9iamVjdC5rZXlzKHQpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgbj10W3JdO2lmKG4ub3J0YjIpe3ZhciBpPU9iamVjdChjLm1lcmdlRGVlcCkoe30sbi5vcnRiMik7ZS5wdXNoKHtiaWRkZXJzOltyXSxjb25maWc6e29ydGIyOml9fSl9cmV0dXJuIGV9KSxbXSk7ci5sZW5ndGgmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LnByZWJpZC5iaWRkZXJjb25maWciLHIpfShsKSxsfU9iamVjdChjLmxvZ0Vycm9yKSgiUmVxdWVzdCB0byBQcmViaWQgU2VydmVyIHJlamVjdGVkIGR1ZSB0byBpbnZhbGlkIG1lZGlhIHR5cGUocykgaW4gYWRVbml0LiIpfSxIPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1bXSxzPU9iamVjdChjLmRlZXBBY2Nlc3MpKGUsImV4dC5yZXNwb25zZXRpbWVtaWxsaXMiKSxhPXQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyQ29kZX0pKTtyZXR1cm4gYSYmcyYmT2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KGMuZGVlcENsb25lKShhKTtyLmlzRHluYW1pYz0hMCxyLmJpZGRlckNvZGU9ZSxyLmJpZGRlclJlcXVlc3RJZD1PYmplY3QoYy5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLHIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbih0KXt0LmJpZGRlcj1lLHQuYmlkZGVyUmVxdWVzdElkPXIuYmlkZGVyUmVxdWVzdElkLHQuYmlkX2lkPU9iamVjdChjLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksdC5iaWRJZD10LmJpZF9pZCxXWyIiLmNvbmNhdCh0LmFkVW5pdENvZGUpLmNvbmNhdChlKV09dC5iaWRfaWR9KSksdC5wdXNoKHIpfSkpLFtbImVycm9ycyIsInNlcnZlckVycm9ycyJdLFsicmVzcG9uc2V0aW1lbWlsbGlzIiwic2VydmVyUmVzcG9uc2VUaW1lTXMiXV0uZm9yRWFjaCgoZnVuY3Rpb24ocil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPU9iamVjdChjLmRlZXBBY2Nlc3MpKHQsImV4dC4iLmNvbmNhdChyKSk7aSYmT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHI9aigpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGU9PT10fSkpO3ImJihyW25dPWlbdF0pfSkpfSh0LGUsclswXSxyWzFdKX0pKSxlLnNlYXRiaWQmJmUuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihzKXsocy5iaWR8fFtdKS5mb3JFYWNoKChmdW5jdGlvbihhKXt2YXIgZCxiPSIiLmNvbmNhdChhLmltcGlkKS5jb25jYXQocy5zZWF0KTtXW2JdJiYoZD1PYmplY3QoYy5nZXRCaWRSZXF1ZXN0KShXW2JdLHQpKTt2YXIgdT1hLnByaWNlLGw9MCE9PXU/by5hLlNUQVRVUy5HT09EOm8uYS5TVEFUVVMuTk9fQklELGY9T2JqZWN0KGkuYSkobCxkfHx7YmlkZGVyOnMuc2VhdCxzcmM6SX0pO2YuY3BtPXU7dmFyIHY9T2JqZWN0KGMuZGVlcEFjY2VzcykoZSxbImV4dCIsInJlc3BvbnNldGltZW1pbGxpcyIscy5zZWF0XS5qb2luKCIuIikpO2QmJnYmJihkLnNlcnZlclJlc3BvbnNlVGltZU1zPXYpO3ZhciBnLHksbSxPPU9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQuYmlkaWQiKTtPYmplY3QoYy5pc1N0cikoTykmJihmLnBic0JpZElkPU8pLE9iamVjdChjLmlzU3RyKShPYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSkmJihnPWQuYXVjdGlvbklkLHk9Zi5hZElkLG09T2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5ldmVudHMud2luIiksW2cseV0uZXZlcnkoYy5pc1N0cikmJihYWyIiLmNvbmNhdChnKS5jb25jYXQoeSldPW0pKTt2YXIgaj1PYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLnRhcmdldGluZyIpO2lmKE9iamVjdChjLmlzUGxhaW5PYmplY3QpKGopJiYoT2JqZWN0KGMuaXNTdHIpKE9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpKSYmKGo9T2JqZWN0KGMuZ2V0RGVmaW5lZFBhcmFtcykoaixPYmplY3Qua2V5cyhqKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09ZS5pbmRleE9mKCJoYl93aW51cmwiKSYmLTE9PT1lLmluZGV4T2YoImhiX2JpZGlkIil9KSkpKSxmLmFkc2VydmVyVGFyZ2V0aW5nPWopLGYuc2VhdEJpZElkPWEuaWQsT2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC50eXBlIik9PT1wLmQpe2YubWVkaWFUeXBlPXAuZDt2YXIgaD1kLnNpemVzJiZkLnNpemVzWzBdO2YucGxheWVyV2lkdGg9aFswXSxmLnBsYXllckhlaWdodD1oWzFdLGEuZXh0LnByZWJpZC5jYWNoZSYmIm9iamVjdCI9PT13KGEuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sKSYmYS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCYmYS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsPyhmLnZpZGVvQ2FjaGVLZXk9YS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwuY2FjaGVJZCxmLnZhc3RVcmw9YS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwudXJsKTpqJiZqLmhiX3V1aWQmJmouaGJfY2FjaGVfaG9zdCYmai5oYl9jYWNoZV9wYXRoJiYoZi52aWRlb0NhY2hlS2V5PWouaGJfdXVpZCxmLnZhc3RVcmw9Imh0dHBzOi8vIi5jb25jYXQoai5oYl9jYWNoZV9ob3N0KS5jb25jYXQoai5oYl9jYWNoZV9wYXRoLCI/dXVpZD0iKS5jb25jYXQoai5oYl91dWlkKSksYS5hZG0mJihmLnZhc3RYbWw9YS5hZG0pLCFmLnZhc3RVcmwmJmEubnVybCYmKGYudmFzdFVybD1hLm51cmwpfWVsc2UgaWYoT2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC50eXBlIik9PT1wLmMpe3ZhciBDLHg7Zi5tZWRpYVR5cGU9cC5jLHg9InN0cmluZyI9PXR5cGVvZiBhLmFkbT9mLmFkbT1KU09OLnBhcnNlKGEuYWRtKTpmLmFkbT1hLmFkbTt2YXIgQT0oUyhDPXt9LE0uaW1nLHguaW1wdHJhY2tlcnN8fFtdKSxTKEMsTS5qcyx4LmpzdHJhY2tlcj9beC5qc3RyYWNrZXJdOltdKSxDKTtpZih4LmV2ZW50dHJhY2tlcnMmJnguZXZlbnR0cmFja2Vycy5mb3JFYWNoKChmdW5jdGlvbihlKXtzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgTS5pbWc6QVtNLmltZ10ucHVzaChlLnVybCk7YnJlYWs7Y2FzZSBNLmpzOkFbTS5qc10ucHVzaChlLnVybCl9fSkpLE9iamVjdChjLmlzUGxhaW5PYmplY3QpKHgpJiZBcnJheS5pc0FycmF5KHguYXNzZXRzKSl7dmFyIEU9SlthLmltcGlkXTtmLm5hdGl2ZT1PYmplY3QoYy5jbGVhbk9iaikoeC5hc3NldHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPUVbdC5pZF07cmV0dXJuIE9iamVjdChjLmlzUGxhaW5PYmplY3QpKHQuaW1nKT9lW3IuaW1nLnR5cGU/eltyLmltZy50eXBlXToiaW1hZ2UiXT1PYmplY3QoYy5waWNrKSh0LmltZyxbInVybCIsIncgYXMgd2lkdGgiLCJoIGFzIGhlaWdodCJdKTpPYmplY3QoYy5pc1BsYWluT2JqZWN0KSh0LnRpdGxlKT9lLnRpdGxlPXQudGl0bGUudGV4dDpPYmplY3QoYy5pc1BsYWluT2JqZWN0KSh0LmRhdGEpJiZOLmZvckVhY2goKGZ1bmN0aW9uKG4pe1Zbbl09PT1yLmRhdGEudHlwZSYmKGVbbl09dC5kYXRhLnZhbHVlKX0pKSxlfSksT2JqZWN0KGMuY2xlYW5PYmopKHtjbGlja1VybDp4LmxpbmssY2xpY2tUcmFja2VyczpPYmplY3QoYy5kZWVwQWNjZXNzKSh4LCJsaW5rLmNsaWNrdHJhY2tlcnMiKSxpbXByZXNzaW9uVHJhY2tlcnM6QVtNLmltZ10samF2YXNjcmlwdFRyYWNrZXJzOkFbTS5qc119KSkpfWVsc2UgT2JqZWN0KGMubG9nRXJyb3IpKCJwcmViaWQgc2VydmVyIG5hdGl2ZSByZXNwb25zZSBjb250YWluZWQgbm8gYXNzZXRzIil9ZWxzZSBhLmFkbSYmYS5udXJsPyhmLmFkPWEuYWRtLGYuYWQrPU9iamVjdChjLmNyZWF0ZVRyYWNrUGl4ZWxIdG1sKShkZWNvZGVVUklDb21wb25lbnQoYS5udXJsKSkpOmEuYWRtP2YuYWQ9YS5hZG06YS5udXJsJiYoZi5hZFVybD1hLm51cmwpO2Yud2lkdGg9YS53LGYuaGVpZ2h0PWEuaCxhLmRlYWxpZCYmKGYuZGVhbElkPWEuZGVhbGlkKSxmLnJlcXVlc3RJZD1kLmJpZElkfHxkLmJpZF9JZCxmLmNyZWF0aXZlX2lkPWEuY3JpZCxmLmNyZWF0aXZlSWQ9YS5jcmlkLGEuYnVybCYmKGYuYnVybD1hLmJ1cmwpLGYuY3VycmVuY3k9ZS5jdXI/ZS5jdXI6IlVTRCIsZi5tZXRhPXt9O3ZhciBQPU9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQubWV0YSIpO1AmJk9iamVjdChjLmlzUGxhaW5PYmplY3QpKFApJiYoZi5tZXRhPU9iamVjdChjLmRlZXBDbG9uZSkoUCkpLGEuYWRvbWFpbiYmKGYubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1hLmFkb21haW4pO3ZhciBrPXIuZGVmYXVsdFR0bHx8NjA7Zi50dGw9YS5leHA/YS5leHA6ayxmLm5ldFJldmVudWU9IWEubmV0UmV2ZW51ZXx8YS5uZXRSZXZlbnVlLG4ucHVzaCh7YWRVbml0OmQuYWRVbml0Q29kZSxiaWQ6Zn0pfSkpfSkpLG59O2Z1bmN0aW9uIEwoZSl7dmFyIHQscixuPWZ1bmN0aW9uKGUsdCl7aWYoW2UsdF0uZXZlcnkoYy5pc1N0cikpcmV0dXJuIFhbIiIuY29uY2F0KGUpLmNvbmNhdCh0KV19KGUuYXVjdGlvbklkLGUuYWRJZCk7T2JqZWN0KGMuaXNTdHIpKG4pJiYoT2JqZWN0KGMubG9nTWVzc2FnZSkoJ0ludm9raW5nIGltYWdlIHBpeGVsIGZvciB3dXJsIG9uIEJJRF9XSU46ICInLmNvbmNhdChuLCciJykpLE9iamVjdChjLnRyaWdnZXJQaXhlbCkobiksdD1lLmF1Y3Rpb25JZCxyPWUuYWRJZCxbdCxyXS5ldmVyeShjLmlzU3RyKSYmKFhbIiIuY29uY2F0KHQpLmNvbmNhdChyKV09dm9pZCAwKSl9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD0hMDtyZXR1cm4gZSYmZS5nZHByQXBwbGllcyYmMj09PWUuYXBpVmVyc2lvbiYmKHQ9ISghMCE9PU9iamVjdChjLmRlZXBBY2Nlc3MpKGUsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSx0fSh0KT9lLnAxQ29uc2VudDplLm5vUDFDb25zZW50fWZ1bmN0aW9uIEcoZSl7dmFyIHQscjtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCYmKHQ9ZVswXS5nZHByQ29uc2VudCxyPWVbMF0udXNwQ29uc2VudCkse2dkcHJDb25zZW50OnQsdXNwQ29uc2VudDpyfX1mdW5jdGlvbiAkKCl7dmFyIGU9bmV3IG4uYSgicHJlYmlkU2VydmVyIik7cmV0dXJuIGUuY2FsbEJpZHM9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgcz1PYmplY3QoYy5kZWVwQ2xvbmUpKGUuYWRfdW5pdHMpLHA9Ryh0KSxiPXAuZ2RwckNvbnNlbnQsbD1wLnVzcENvbnNlbnQsdj1zLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUubWVkaWFUeXBlcyYmKGUubWVkaWFUeXBlcy5uYXRpdmV8fGUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpfSkpLHk9di5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KSkuZmlsdGVyKGMudW5pcXVlcyl9KSkucmVkdWNlKGMuZmxhdHRlbikuZmlsdGVyKGMudW5pcXVlcyk7aWYoQXJyYXkuaXNBcnJheShQKSl7aWYoIXQuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyQ29kZX0pKSYmZS5zMnNDb25maWcmJmUuczJzQ29uZmlnLnN5bmNFbmRwb2ludCYmSyhlLnMyc0NvbmZpZy5zeW5jRW5kcG9pbnQsYikpUihlLnMyc0NvbmZpZy5iaWRkZXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEuZGVmYXVsdC5hbGlhc1JlZ2lzdHJ5W2VdfHxlfSkpLmZpbHRlcigoZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmluZGV4T2YoZSk9PT10fSkpLGIsbCxlLnMyc0NvbmZpZyk7dmFyIG09RihlLHQsdixlLnMyc0NvbmZpZyx5KSxPPW0mJkpTT04uc3RyaW5naWZ5KG0pO09iamVjdChjLmxvZ0luZm8pKCJCaWRSZXF1ZXN0OiAiK08pO3ZhciBqPUsoZS5zMnNDb25maWcuZW5kcG9pbnQsYik7bSYmTyYmaj9pKGose3N1Y2Nlc3M6ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLG4saSxzKXt2YXIgcCxiPVtdLGw9RyhyKSx2PWwuZ2RwckNvbnNlbnQseT1sLnVzcENvbnNlbnQ7dHJ5e2lmKHA9SlNPTi5wYXJzZShlKSxiPUgocCxyLHMpLHQ9dC5jb25jYXQoci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlckNvZGV9KSkpLmZpbHRlcihjLnVuaXF1ZXMpLHIuZmluZCgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyQ29kZX0pKSlpZihzJiZzLnN5bmNFbmRwb2ludCYmSyhzLnN5bmNFbmRwb2ludCx2KSlSKHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5iaWRkZXJDb2RlXXx8ZS5iaWRkZXJDb2RlfSkpLmZpbHRlcigoZnVuY3Rpb24oZSx0LHIpe3JldHVybiByLmluZGV4T2YoZSk9PT10fSkpLHYseSxzKTtyLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaXNEeW5hbWljfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe24obnVsbCx7YmlkZGVyQ29kZTplLmJpZGRlckNvZGUsYWRkUmVxdWVzdE9ubHk6ITB9KX0pKSxiLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRVbml0LGk9ZS5iaWQ7T2JqZWN0KHUuaXNWYWxpZCkodCxpLHIpJiZuKHQsaSl9KSksci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciIhPT1lLmJpZGRlckNvZGV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGYuYS5lbWl0KG8uYS5FVkVOVFMuQklEREVSX0RPTkUsZSl9KSl9Y2F0Y2goZSl7T2JqZWN0KGMubG9nRXJyb3IpKGUpfSghcHx8cC5zdGF0dXMmJmcoKShwLnN0YXR1cywiRXJyb3IiKSkmJk9iamVjdChjLmxvZ0Vycm9yKSgiZXJyb3IgcGFyc2luZyByZXNwb25zZTogIixwLnN0YXR1cyk7aSgpLGZ1bmN0aW9uKGUsdCxyKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWEuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO24mJm4ucmVnaXN0ZXJTeW5jcyYmZC5iLnJ1bldpdGhCaWRkZXIoZSxjLmJpbmQuY2FsbChuLnJlZ2lzdGVyU3luY3MsbixbXSx0LHIpKX0pKX0odCx2LHkpfShpLHksdCxyLG4sZS5zMnNDb25maWcpfSxlcnJvcjpufSxPLHtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSk6T2JqZWN0KGMubG9nRXJyb3IpKCJQQlMgcmVxdWVzdCBub3QgbWFkZS4gIENoZWNrIGVuZHBvaW50cy4iKX19LGYuYS5vbihvLmEuRVZFTlRTLkJJRF9XT04sTCksRSh0aGlzLHtjYWxsQmlkczplLmNhbGxCaWRzLHNldEJpZGRlckNvZGU6ZS5zZXRCaWRkZXJDb2RlLHR5cGU6SX0pfU9iamVjdChjLmdldFByZWJpZEludGVybmFsKSgpLnNldEVpZFBlcm1pc3Npb25zPWZ1bmN0aW9uKGUpe2s9ZX0sYS5kZWZhdWx0LnJlZ2lzdGVyQmlkQWRhcHRlcihuZXcgJCwicHJlYmlkU2VydmVyIil9LDY5NzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3IuZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKTt2YXIgbj17YXBwbmV4dXM6e2FkYXB0ZXI6InByZWJpZFNlcnZlciIsZW5hYmxlZDohMCxlbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy1zaW1wbGUuY29tL3Bicy92MS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5hZG54cy1zaW1wbGUuY29tL3Bicy92MS9jb29raWVfc3luYyJ9LHRpbWVvdXQ6MWUzfSxhcHBuZXh1c3BzcDp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vaWIuYWRueHMuY29tL29wZW5ydGIyL3ByZWJpZCIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vaWIuYWRueHMtc2ltcGxlLmNvbS9vcGVucnRiMi9wcmViaWQifSx0aW1lb3V0OjFlM30scnViaWNvbjp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9jb29raWVfc3luYyJ9LHRpbWVvdXQ6NTAwfSxvcGVueDp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLm9wZW54Lm5ldC9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L2Nvb2tpZV9zeW5jIn0sdGltZW91dDoxZTN9LHNuaWdlbDp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL2Nvb2tpZV9zeW5jIixub1AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9jb29raWVfc3luYyJ9LHRpbWVvdXQ6NDAwfX19fSxbNjk1XSk7CnVwYmpzQ2h1bmsoWzE2Ml0sezcwNjpmdW5jdGlvbihlLGQsbil7ZS5leHBvcnRzPW4oNzA3KX0sNzA3OmZ1bmN0aW9uKGUsZCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChkLCJwdWJQcm92aWRlZElkU3VibW9kdWxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgbz1uKDkpLHQ9bigwKSx1PXtuYW1lOiJwdWJQcm92aWRlZElkIixkZWNvZGU6ZnVuY3Rpb24oZSl7dmFyIGQ9ZT97cHViUHJvdmlkZWRJZDplfTp2b2lkIDA7cmV0dXJuIE9iamVjdCh0LmxvZ0luZm8pKCJQdWJQcm92aWRlZElkOiBEZWNvZGVkIHZhbHVlICIrSlNPTi5zdHJpbmdpZnkoZCkpLGR9LGdldElkOmZ1bmN0aW9uKGUpe3ZhciBkPWUmJmUucGFyYW1zfHx7fSxuPVtdO3JldHVybiBPYmplY3QodC5pc0FycmF5KShkLmVpZHMpJiYobj1uLmNvbmNhdChkLmVpZHMpKSwiZnVuY3Rpb24iPT10eXBlb2YgZC5laWRzRnVuY3Rpb24mJihuPW4uY29uY2F0KGQuZWlkc0Z1bmN0aW9uKCkpKSx7aWQ6bn19fTtPYmplY3Qoby5lKSgidXNlcklkIix1KX19LFs3MDZdKTsKdXBianNDaHVuayhbMTU5XSx7NzE0OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3MTUpfSw3MTU6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5jaGVja1ZpZGVvUGxhY2VtZW50PV8sdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBYfSkpO3ZhciBhPXQoMCksaT10KDEpLG49dCgyKSxzPXQoMyksbz10KDEzKTtmdW5jdGlvbiBkKCl7cmV0dXJuKGQ9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgYSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoZVthXT10W2FdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGE9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYoYT1hLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxhKX1yZXR1cm4gdH1mdW5jdGlvbiBwKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX1mdW5jdGlvbiB1KGUpe3JldHVybih1PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGw9InB1Ym1hdGljIixtPSJQdWJNYXRpYzogIixiPSJVU0QiLGc9dm9pZCAwLGY9Imh0dHBzOi8vcHVibWF0aWMuYmJ2bXMuY29tL3IvIi5jb25jYXQoIiRSRU5ERVJFUiIsIi5qcyIpLGg9e2thZHBhZ2V1cmw6IiIsZ2VuZGVyOiIiLHlvYjoiIixsYXQ6IiIsbG9uOiIiLHdpaWQ6IiIscHJvZklkOiIiLHZlcklkOiIifSx5PSJudW1iZXIiLHY9InN0cmluZyIsTz0iYm9vbGVhbiIsRT0iYXJyYXkiLEk9e21pbWVzOkUsbWluZHVyYXRpb246eSxtYXhkdXJhdGlvbjp5LHN0YXJ0ZGVsYXk6eSxwbGF5YmFja21ldGhvZDpFLGFwaTpFLHByb3RvY29sczpFLHc6eSxoOnksYmF0dHI6RSxsaW5lYXJpdHk6eSxwbGFjZW1lbnQ6eSxtaW5iaXRyYXRlOnksbWF4Yml0cmF0ZTp5LHNraXA6eX0sdz17VElUTEU6e0lEOjEsS0VZOiJ0aXRsZSIsVFlQRTowfSxJTUFHRTp7SUQ6MixLRVk6ImltYWdlIixUWVBFOjB9LElDT046e0lEOjMsS0VZOiJpY29uIixUWVBFOjB9LFNQT05TT1JFREJZOntJRDo0LEtFWToic3BvbnNvcmVkQnkiLFRZUEU6MX0sQk9EWTp7SUQ6NSxLRVk6ImJvZHkiLFRZUEU6Mn0sQ0xJQ0tVUkw6e0lEOjYsS0VZOiJjbGlja1VybCIsVFlQRTowfSxWSURFTzp7SUQ6NyxLRVk6InZpZGVvIixUWVBFOjB9LEVYVDp7SUQ6OCxLRVk6ImV4dCIsVFlQRTowfSxEQVRBOntJRDo5LEtFWToiZGF0YSIsVFlQRTowfSxMT0dPOntJRDoxMCxLRVk6ImxvZ28iLFRZUEU6MH0sU1BPTlNPUkVEOntJRDoxMSxLRVk6InNwb25zb3JlZCIsVFlQRToxfSxERVNDOntJRDoxMixLRVk6ImRhdGEiLFRZUEU6Mn0sUkFUSU5HOntJRDoxMyxLRVk6InJhdGluZyIsVFlQRTozfSxMSUtFUzp7SUQ6MTQsS0VZOiJsaWtlcyIsVFlQRTo0fSxET1dOTE9BRFM6e0lEOjE1LEtFWToiZG93bmxvYWRzIixUWVBFOjV9LFBSSUNFOntJRDoxNixLRVk6InByaWNlIixUWVBFOjZ9LFNBTEVQUklDRTp7SUQ6MTcsS0VZOiJzYWxlcHJpY2UiLFRZUEU6N30sUEhPTkU6e0lEOjE4LEtFWToicGhvbmUiLFRZUEU6OH0sQUREUkVTUzp7SUQ6MTksS0VZOiJhZGRyZXNzIixUWVBFOjl9LERFU0MyOntJRDoyMCxLRVk6ImRlc2MyIixUWVBFOjEwfSxESVNQTEFZVVJMOntJRDoyMSxLRVk6ImRpc3BsYXl1cmwiLFRZUEU6MTF9LENUQTp7SUQ6MjIsS0VZOiJjdGEiLFRZUEU6MTJ9fSxqPTEsUD0yLFQ9MyxTPVt7aWQ6dy5TUE9OU09SRURCWS5JRCxyZXF1aXJlZDohMCxkYXRhOnt0eXBlOjF9fSx7aWQ6dy5USVRMRS5JRCxyZXF1aXJlZDohMH0se2lkOncuSU1BR0UuSUQscmVxdWlyZWQ6ITB9XSxEPXsxOiJQTVAiLDU6IlBSRUYiLDY6IlBNUEcifSx4PTEsWT0yLGs9e2Jvb3RzdHJhcFBsYXllcjpmdW5jdGlvbihlKXt2YXIgcj17Y29kZTplLmFkVW5pdENvZGV9O2lmKGUudmFzdFhtbD9yLnZhc3RYbWw9ZS52YXN0WG1sOmUudmFzdFVybCYmKHIudmFzdFVybD1lLnZhc3RVcmwpLGUudmFzdFhtbHx8ZS52YXN0VXJsKXtmb3IodmFyIHQsaT1rLmdldFJlbmRlcmVySWQoInB1Ym1hdGljIixlLnJlbmRlcmVyQ29kZSksbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpLHM9MDtzPHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzLmxlbmd0aDtzKyspaWYod2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc10uX2lkPT09aSl7dD13aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVyc1tzXTticmVha310P3QuYm9vdHN0cmFwKHIsbik6T2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KG0sIjogQ291bGRuJ3QgZmluZCBhIHJlbmRlcmVyIHdpdGggIikuY29uY2F0KGkpKX1lbHNlIE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCI6IE5vIHZhc3RYbWwgb3IgdmFzdFVybCBvbiBiaWQsIGJhaWxpbmcuLi4iKSl9LG5ld1JlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIHQ9Zi5yZXBsYWNlKCIkUkVOREVSRVIiLGUpLGk9by5hLmluc3RhbGwoe3VybDp0LGxvYWRlZDohMSxhZFVuaXRDb2RlOnJ9KTt0cnl7aS5zZXRSZW5kZXIoay5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe09iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCI6IEVycm9yIHR5aW5nIHRvIHNldFJlbmRlciBvbiByZW5kZXJlciIpLGUpfXJldHVybiBpfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24oZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe2suYm9vdHN0cmFwUGxheWVyKGUpfSkpfSxnZXRSZW5kZXJlcklkOmZ1bmN0aW9uKGUscil7cmV0dXJuIiIuY29uY2F0KGUsIi0iKS5jb25jYXQocil9fSxSPVtuLmIsbi5kLG4uY10sQT0wLEM9ITEsej17fSxLPXt9O2Z1bmN0aW9uIE4oZSxyKXtpZighT2JqZWN0KGEuaXNTdHIpKHIpKXJldHVybiByJiZPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3UocikpLGc7c3dpdGNoKGUpe2Nhc2UicG16b25laWQiOnJldHVybiByLnNwbGl0KCIsIikuc2xpY2UoMCw1MCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuam9pbigpO2Nhc2Uia2FkZmxvb3IiOmNhc2UibGF0IjpjYXNlImxvbiI6cmV0dXJuIHBhcnNlRmxvYXQocil8fGc7Y2FzZSJ5b2IiOnJldHVybiBwYXJzZUludChyKXx8ZztkZWZhdWx0OnJldHVybiByfX1mdW5jdGlvbiBVKGUpe3ZhciByO2UucGFyYW1zLmFkVW5pdD0iIixlLnBhcmFtcy5hZFVuaXRJbmRleD0iMCIsZS5wYXJhbXMud2lkdGg9MCxlLnBhcmFtcy5oZWlnaHQ9MCxlLnBhcmFtcy5hZFNsb3Q9KHI9ZS5wYXJhbXMuYWRTbG90LE9iamVjdChhLmlzU3RyKShyKT9yLnJlcGxhY2UoL15ccysvZywiIikucmVwbGFjZSgvXHMrJC9nLCIiKToociYmT2JqZWN0KGEubG9nV2FybikoInB1Ym1hdGljOiBhZFNsb3QgbXVzdCBiZSBhIHN0cmluZy4gSWdub3JpbmcgYWRTbG90IiksIiIpKTt2YXIgdD1lLnBhcmFtcy5hZFNsb3QsaT10LnNwbGl0KCI6Iik7aWYodD1pWzBdLDI9PWkubGVuZ3RoJiYoZS5wYXJhbXMuYWRVbml0SW5kZXg9aVsxXSksaT10LnNwbGl0KCJAIiksZS5wYXJhbXMuYWRVbml0PWlbMF0saS5sZW5ndGg+MSl7aWYoMiE9KGk9aVsxXS5zcGxpdCgieCIpKS5sZW5ndGgpcmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBBZFNsb3QgRXJyb3I6IGFkU2xvdCBub3QgaW4gcmVxdWlyZWQgZm9ybWF0Iik7ZS5wYXJhbXMud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksZS5wYXJhbXMuaGVpZ2h0PXBhcnNlSW50KGlbMV0sMTApfWVsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5iKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKSl7Zm9yKHZhciBzPTAsbz1bXTtzPGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoO3MrKykyPT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXS5sZW5ndGgmJm8ucHVzaChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW3NdKTtlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPW8sZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGg+PTEmJihlLnBhcmFtcy53aWR0aD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzBdLGUucGFyYW1zLmhlaWdodD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzFdLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5zcGxpY2UoMSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aC0xKSl9fWZ1bmN0aW9uIE0oZSxyLHQpe3ZhciBpLG49Iklnbm9yaW5nIHBhcmFtIGtleTogIitlKyIsIGV4cGVjdHMgIit0KyIsIGZvdW5kICIrdShyKTtzd2l0Y2godCl7Y2FzZSBPOmk9YS5pc0Jvb2xlYW47YnJlYWs7Y2FzZSB5Omk9YS5pc051bWJlcjticmVhaztjYXNlIHY6aT1hLmlzU3RyO2JyZWFrO2Nhc2UgRTppPWEuaXNBcnJheX1yZXR1cm4gaShyKT9yOihPYmplY3QoYS5sb2dXYXJuKShtK24pLGcpfWZ1bmN0aW9uIHEoZSxyKXt2YXIgdD1lLktFWTtyZXR1cm57aWQ6ZS5JRCxyZXF1aXJlZDpyW3RdLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOmUuVFlQRSxsZW46clt0XS5sZW4sZXh0OnJbdF0uZXh0fX19ZnVuY3Rpb24gTChlKXt2YXIgcj17YXNzZXRzOltdfTtmb3IodmFyIHQgaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGk9e307aWYoIShyLmFzc2V0cyYmci5hc3NldHMubGVuZ3RoPjAmJnIuYXNzZXRzLmhhc093blByb3BlcnR5KHQpKSlzd2l0Y2godCl7Y2FzZSB3LlRJVExFLktFWTplW3RdLmxlbnx8ZVt0XS5sZW5ndGg/aT17aWQ6dy5USVRMRS5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOmVbdF0ubGVufHxlW3RdLmxlbmd0aCxleHQ6ZVt0XS5leHR9fTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBUaXRsZSBMZW5ndGggaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSB3LklNQUdFLktFWTplW3RdLnNpemVzJiZlW3RdLnNpemVzLmxlbmd0aD4wP2k9e2lkOncuSU1BR0UuSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOlQsdzplW3RdLnd8fGVbdF0ud2lkdGh8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMF06ZyksaDplW3RdLmh8fGVbdF0uaGVpZ2h0fHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzFdOmcpLHdtaW46ZVt0XS53bWlufHxlW3RdLm1pbmltdW1XaWR0aHx8KGVbdF0ubWluc2l6ZXM/ZVt0XS5taW5zaXplc1swXTpnKSxobWluOmVbdF0uaG1pbnx8ZVt0XS5taW5pbXVtSGVpZ2h0fHwoZVt0XS5taW5zaXplcz9lW3RdLm1pbnNpemVzWzFdOmcpLG1pbWVzOmVbdF0ubWltZXMsZXh0OmVbdF0uZXh0fX06T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogSW1hZ2Ugc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSB3LklDT04uS0VZOmVbdF0uc2l6ZXMmJmVbdF0uc2l6ZXMubGVuZ3RoPjA/aT17aWQ6dy5JQ09OLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpqLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKX19Ok9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IEljb24gc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSB3LlZJREVPLktFWTppPXtpZDp3LlZJREVPLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLHZpZGVvOnttaW5kdXJhdGlvbjplW3RdLm1pbmR1cmF0aW9uLG1heGR1cmF0aW9uOmVbdF0ubWF4ZHVyYXRpb24scHJvdG9jb2xzOmVbdF0ucHJvdG9jb2xzLG1pbWVzOmVbdF0ubWltZXMsZXh0OmVbdF0uZXh0fX07YnJlYWs7Y2FzZSB3LkVYVC5LRVk6aT17aWQ6dy5FWFQuSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjB9O2JyZWFrO2Nhc2Ugdy5MT0dPLktFWTppPXtpZDp3LkxPR08uSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsaW1nOnt0eXBlOlAsdzplW3RdLnd8fGVbdF0ud2lkdGh8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMF06ZyksaDplW3RdLmh8fGVbdF0uaGVpZ2h0fHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzFdOmcpfX07YnJlYWs7Y2FzZSB3LlNQT05TT1JFREJZLktFWTpjYXNlIHcuQk9EWS5LRVk6Y2FzZSB3LlJBVElORy5LRVk6Y2FzZSB3LkxJS0VTLktFWTpjYXNlIHcuRE9XTkxPQURTLktFWTpjYXNlIHcuUFJJQ0UuS0VZOmNhc2Ugdy5TQUxFUFJJQ0UuS0VZOmNhc2Ugdy5QSE9ORS5LRVk6Y2FzZSB3LkFERFJFU1MuS0VZOmNhc2Ugdy5ERVNDMi5LRVk6Y2FzZSB3LkRJU1BMQVlVUkwuS0VZOmNhc2Ugdy5DVEEuS0VZOmk9cShLW3RdLGUpfX1pJiZpLmlkJiYoci5hc3NldHNbci5hc3NldHMubGVuZ3RoXT1pKX12YXIgbj1TLmxlbmd0aCxzPTA7cmV0dXJuIFMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXIuYXNzZXRzLmxlbmd0aCxhPTA7YTx0O2ErKylpZihlLmlkPT1yLmFzc2V0c1thXS5pZCl7cysrO2JyZWFrfX0pKSxDPW4hPXMscn1mdW5jdGlvbiBXKGUpe3ZhciByLHQ9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyxpPVtdO2lmKHQhPT1nJiZPYmplY3QoYS5pc0FycmF5KSh0KSl7aWYocj17fSxlLnBhcmFtcy53aWR0aHx8ZS5wYXJhbXMuaGVpZ2h0KXIudz1lLnBhcmFtcy53aWR0aCxyLmg9ZS5wYXJhbXMuaGVpZ2h0O2Vsc2V7aWYoMD09PXQubGVuZ3RoKXJldHVybiByPWcsT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI7ci53PXBhcnNlSW50KHRbMF1bMF0sMTApLHIuaD1wYXJzZUludCh0WzBdWzFdLDEwKSx0PXQuc3BsaWNlKDEsdC5sZW5ndGgtMSl9dC5sZW5ndGg+MCYmKGk9W10sdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmxlbmd0aD4xJiZpLnB1c2goe3c6ZVswXSxoOmVbMV19KX0pKSxpLmxlbmd0aD4wJiYoci5mb3JtYXQ9aSkpLHIucG9zPTAsci50b3BmcmFtZT1PYmplY3QoYS5pbklmcmFtZSkoKT8wOjF9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscj1nO3JldHVybiByfWZ1bmN0aW9uIF8oZSxyKXtPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwbGFjZW1lbnQiKXx8T2JqZWN0KGEubG9nV2FybikoIlZpZGVvLlBsYWNlbWVudCBwYXJhbSBtaXNzaW5nIGZvciAiK3IpfWZ1bmN0aW9uIFYoZSl7dmFyIHIsdD1PYmplY3QoYS5tZXJnZURlZXApKE9iamVjdChhLmRlZXBBY2Nlc3MpKGUubWVkaWFUeXBlcywidmlkZW8iKSxlLnBhcmFtcy52aWRlbyk7aWYodCE9PWcpe2Zvcih2YXIgaSBpbiByPXt9LF8odCxlLmFkVW5pdENvZGUpLEkpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKHJbaV09TShpLHRbaV0sSVtpXSkpO09iamVjdChhLmlzQXJyYXkpKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0sMTApKTpPYmplY3QoYS5pc051bWJlcikoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYoci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0sMTApKX1lbHNlIHI9ZyxPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBWaWRlbyBjb25maWcgcGFyYW1zIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIiB3aXRoIG1lZGlhVHlwZSBzZXQgYXMgdmlkZW8uIElnbm9yaW5nIHZpZGVvIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKTtyZXR1cm4gcn1mdW5jdGlvbiBCKGUscix0KXt2YXIgYT1yLnJ0ZCYmci5ydGQuandwbGF5ZXImJnIucnRkLmp3cGxheWVyLnRhcmdldGluZ3x8dm9pZCAwLGk9IiI7aWYodm9pZCAwIT09YSYmIiIhPT1hJiZhLmhhc093blByb3BlcnR5KCJzZWdtZW50cyIpKXt2YXIgbixzPWEuc2VnbWVudHMubGVuZ3RoO2krPSJqdy1pZD0iK2EuY29udGVudC5pZDtmb3IodmFyIG89MDtvPHM7bysrKWkrPSJ8anctIithLnNlZ21lbnRzW29dKyI9MSI7dD92b2lkIDA9PT1lLmRjdHJ8fDA9PWUuZGN0ci5sZW5ndGg/ZS5kY3RyPWk6ZS5kY3RyKz0ifCIraToobj1lLmV4dCkmJnZvaWQgMD09PW4ua2V5X3ZhbD9uLmtleV92YWw9aTpuLmtleV92YWwrPSJ8IitpfX1mdW5jdGlvbiBHKGUscil7dmFyIHQsaSxvPXt9LGQ9e30sbD1lLmhhc093blByb3BlcnR5KCJzaXplcyIpP2Uuc2l6ZXM6W10sZj0iIixoPVtdO2lmKGZ1bmN0aW9uKGUscil7ci5wYXJhbXMuZGVhbHMmJihPYmplY3QoYS5pc0FycmF5KShyLnBhcmFtcy5kZWFscyk/ci5wYXJhbXMuZGVhbHMuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KGEuaXNTdHIpKHIpJiZyLmxlbmd0aD4zPyhlLnBtcHx8KGUucG1wPXtwcml2YXRlX2F1Y3Rpb246MCxkZWFsczpbXX0pLGUucG1wLmRlYWxzLnB1c2goe2lkOnJ9KSk6T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogZGVhbC1pZCBwcmVzZW50IGluIGFycmF5IGJpZC5wYXJhbXMuZGVhbHMgc2hvdWxkIGJlIGEgc3RyaW5ncyB3aXRoIG1vcmUgdGhhbiAzIGNoYXJhdGVycyBsZW5ndGgsIGRlYWwtaWQgaWdub3JlZDogIityKX0pKTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhbiBhcnJheSBvZiBzdHJpbmdzLiIpKX0obz17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy5hZFVuaXR8fHZvaWQgMCxiaWRmbG9vcjpOKCJrYWRmbG9vciIsZS5wYXJhbXMua2FkZmxvb3IpLHNlY3VyZToxLGV4dDp7cG1ab25lSWQ6TigicG16b25laWQiLGUucGFyYW1zLnBtem9uZWlkKX0sYmlkZmxvb3JjdXI6ZS5wYXJhbXMuY3VycmVuY3k/TigiY3VycmVuY3kiLGUucGFyYW1zLmN1cnJlbmN5KTpifSxlKSxmdW5jdGlvbihlLHIpe3ZhciB0LGk9IiI7aWYoci5wYXJhbXMuZGN0cilpZihpPXIucGFyYW1zLmRjdHIsT2JqZWN0KGEuaXNTdHIpKGkpJiZpLmxlbmd0aD4wKXt2YXIgbj1pLnNwbGl0KCJ8Iik7aT0iIixuLmZvckVhY2goKGZ1bmN0aW9uKGUpe2krPWUubGVuZ3RoPjA/ZS50cmltKCkrInwiOiIifSkpLHQ9aS5sZW5ndGgsInwiPT09aS5zdWJzdHJpbmcodCx0LTEpJiYoaT1pLnN1YnN0cmluZygwLHQtMSkpLGUuZXh0LmtleV92YWw9aS50cmltKCl9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIDogZGN0ciB3aXRoIHZhbHVlIDogIitpKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCBlbXB0eSBvciBub24tc3RyaW5nIHZhbHVlIil9KG8sZSksQihvLGUpLGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSlmb3IoZiBpbiBlLm1lZGlhVHlwZXMpc3dpdGNoKGYpe2Nhc2Ugbi5iOih0PVcoZSkpIT09ZyYmKG8uYmFubmVyPXQpO2JyZWFrO2Nhc2Ugbi5jOmQucmVxdWVzdD1KU09OLnN0cmluZ2lmeShMKGUubmF0aXZlUGFyYW1zKSksQz9PYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBFcnJvciBpbiBOYXRpdmUgYWR1bml0ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBhZHVuaXQuIFJlZmVyIHRvIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL3Nob3ctbmF0aXZlLWFkcy5odG1sIGZvciBtb3JlIGRldGFpbHMuIik6by5uYXRpdmU9ZDticmVhaztjYXNlIG4uZDooaT1WKGUpKSE9PWcmJihvLnZpZGVvPWkpfWVsc2UgdD17cG9zOjAsdzplLnBhcmFtcy53aWR0aCxoOmUucGFyYW1zLmhlaWdodCx0b3BmcmFtZTpPYmplY3QoYS5pbklmcmFtZSkoKT8wOjF9LE9iamVjdChhLmlzQXJyYXkpKGwpJiZsLmxlbmd0aD4xJiYoKGw9bC5zcGxpY2UoMSxsLmxlbmd0aC0xKSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aC5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksdC5mb3JtYXQ9aCksby5iYW5uZXI9dDtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD1mdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9jKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7cChlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6YyhPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX0oe30sT2JqZWN0KGEuZGVlcEFjY2Vzcykociwib3J0YjJJbXAuZXh0LmRhdGEiKSk7T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7InBiYWRzbG90Ij09PXI/InN0cmluZyI9PXR5cGVvZiB0W3JdJiZ0W3JdJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsImV4dC5kYXRhLnBiYWRzbG90Iix0W3JdKToiYWRzZXJ2ZXIiPT09cj9bIm5hbWUiLCJhZHNsb3QiXS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgaT1PYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJhZHNlcnZlci4iLmNvbmNhdChyKSk7InN0cmluZyI9PXR5cGVvZiBpJiZpJiYoT2JqZWN0KGEuZGVlcFNldFZhbHVlKShlLCJleHQuZGF0YS5hZHNlcnZlci4iLmNvbmNhdChyLnRvTG93ZXJDYXNlKCkpLGkpLCJhZHNsb3QiPT09ciYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShlLCJleHQuZGZwX2FkX3VuaXRfY29kZSIsaSkpfSkpOk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRhdGEuIi5jb25jYXQociksdFtyXSl9KSl9KG8sZSksZnVuY3Rpb24oZSxyKXt2YXIgdD0tMTsiZnVuY3Rpb24iIT10eXBlb2Ygci5nZXRGbG9vcnx8cy5iLmdldENvbmZpZygicHVibWF0aWMuZGlzYWJsZUZsb29ycyIpfHxbbi5iLG4uZCxuLmNdLmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKGUuaGFzT3duUHJvcGVydHkoaSkpe3ZhciBuPVtdOyJiYW5uZXIiPT09aSYmKGVbaV0udyYmZVtpXS5oJiZuLnB1c2goW2VbaV0udyxlW2ldLmhdKSxPYmplY3QoYS5pc0FycmF5KShlW2ldLmZvcm1hdCkmJmVbaV0uZm9ybWF0LmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBuLnB1c2goW2UudyxlLmhdKX0pKSksMD09PW4ubGVuZ3RoJiZuLnB1c2goIioiKSxuLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBzPXIuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmUuYmlkZmxvb3JjdXIsbWVkaWFUeXBlOmksc2l6ZTpufSk7aWYoT2JqZWN0KGEubG9nSW5mbykobSwiZmxvb3IgZnJvbSBmbG9vciBtb2R1bGUgcmV0dXJuZWQgZm9yIG1lZGlhdHlwZToiLGksIiBhbmQgc2l6ZToiLG4sIiBpczogY3VycmVuY3kiLHMuY3VycmVuY3ksImZsb29yIixzLmZsb29yKSwib2JqZWN0Ij09PXUocykmJnMuY3VycmVuY3k9PT1lLmJpZGZsb29yY3VyJiYhaXNOYU4ocGFyc2VJbnQocy5mbG9vcikpKXt2YXIgbz1wYXJzZUZsb2F0KHMuZmxvb3IpO09iamVjdChhLmxvZ0luZm8pKG0sImZsb29yIGZyb20gZmxvb3IgbW9kdWxlOiIsbywicHJldmlvdXMgZmxvb3IgdmFsdWUiLHQsIk1pbjoiLE1hdGgubWluKG8sdCkpLHQ9LTE9PT10P286TWF0aC5taW4obyx0KSxPYmplY3QoYS5sb2dJbmZvKShtLCJuZXcgZmxvb3IgdmFsdWU6Iix0KX19KSl9fSkpO2UuYmlkZmxvb3ImJihPYmplY3QoYS5sb2dJbmZvKShtLCJmbG9vciBmcm9tIGZsb29yIG1vZHVsZToiLHQsImltcE9iai5iaWRmbG9vciIsZS5iaWRmbG9vciwiTWF4OiIsTWF0aC5tYXgodCxlLmJpZGZsb29yKSksdD1NYXRoLm1heCh0LGUuYmlkZmxvb3IpKTtlLmJpZGZsb29yPSFpc05hTih0KSYmdD4wP3Q6ZyxPYmplY3QoYS5sb2dJbmZvKShtLCJuZXcgaW1wT2JqLmJpZGZsb29yIHZhbHVlOiIsZS5iaWRmbG9vcil9KG8sZSksby5oYXNPd25Qcm9wZXJ0eShuLmIpfHxvLmhhc093blByb3BlcnR5KG4uYyl8fG8uaGFzT3duUHJvcGVydHkobi5kKT9vOmd9ZnVuY3Rpb24gRihlLHIpe3ZhciB0PW51bGwsaT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCIwLnVzZXJJZC5mbG9jSWQiKTtpZihpJiZpLmlkKXN3aXRjaChyKXtjYXNlIFk6dD17aWQ6IkZMT0MiLG5hbWU6IkZMT0MiLGV4dDp7dmVyOmkudmVyc2lvbn0sc2VnbWVudDpbe2lkOmkuaWQsbmFtZToiY2hyb21lLmNvbSIsdmFsdWU6aS5pZC50b1N0cmluZygpfV19O2JyZWFrO2Nhc2UgeDpkZWZhdWx0OnQ9e3NvdXJjZToiY2hyb21lLmNvbSIsdWlkczpbe2F0eXBlOjEsaWQ6aS5pZCxleHQ6e3ZlcjppLnZlcnNpb259fV19fXJldHVybiB0fWZ1bmN0aW9uIEooZSl7cmV0dXJuITA9PT1PYmplY3QoYS5pc0FycmF5KShlKSYmZS5sZW5ndGg+MH1PYmplY3QoYS5fZWFjaCkodywoZnVuY3Rpb24oZSl7eltlLklEXT1lLktFWX0pKSxPYmplY3QoYS5fZWFjaCkodywoZnVuY3Rpb24oZSl7S1tlLktFWV09ZX0pKTt2YXIgWD17Y29kZTpsLGd2bGlkOjc2LHN1cHBvcnRlZE1lZGlhVHlwZXM6W24uYixuLmQsbi5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZihlJiZlLnBhcmFtcyl7aWYoIU9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5wdWJsaXNoZXJJZCkpcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IHB1Ymxpc2hlcklkIGlzIG1hbmRhdG9yeSBhbmQgY2Fubm90IGJlIG51bWVyaWMgKHdyYXAgaXQgaW4gcXVvdGVzIGluIHlvdXIgY29uZmlnKS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpLCExO2lmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uZCkpe3ZhciByPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUubWVkaWFUeXBlcywidmlkZW8ubWltZXMiKSx0PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5taW1lcyIpO2lmKCExPT09SihyKSYmITE9PT1KKHQpKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBGb3IgdmlkZW8gYWRzLCBiaWQubWVkaWFUeXBlcy52aWRlby5taW1lcyBPUiBiaWQucGFyYW1zLnZpZGVvLm1pbWVzIHNob3VsZCBiZSBwcmVzZW50IGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5LiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDoiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZighZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoImNvbnRleHQiKSlyZXR1cm4gT2JqZWN0KGEubG9nRXJyb3IpKCIiLmNvbmNhdChtLCI6IG5vIGNvbnRleHQgc3BlY2lmaWVkIGluIGJpZC4gUmVqZWN0aW5nIGJpZDogIiksZSksITE7aWYoIm91dHN0cmVhbSI9PT1lLm1lZGlhVHlwZXNbbi5kXS5jb250ZXh0JiYhT2JqZWN0KGEuaXNTdHIpKGUucGFyYW1zLm91dHN0cmVhbUFVKSYmIWUuaGFzT3duUHJvcGVydHkoInJlbmRlcmVyIikmJiFlLm1lZGlhVHlwZXNbbi5kXS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyZXIiKSlyZXR1cm4gZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYil8fGUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmMpPyhkZWxldGUgZS5tZWRpYVR5cGVzW24uZF0sT2JqZWN0KGEubG9nV2FybikoIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBtZWRpYXR5cGUgVmlkZW8gb2YgYmlkOiAnKSxlKSwhMCk6KE9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQobSwnOiBmb3IgIm91dHN0cmVhbSIgYmlkcyBlaXRoZXIgb3V0c3RyZWFtQVUgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgb3IgYWQgdW5pdCBzdXBwbGllZCByZW5kZXJlciBpcyByZXF1aXJlZC4gUmVqZWN0aW5nIGJpZDogJyksZSksITEpfXJldHVybiEwfXJldHVybiExfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ7ciYmci5yZWZlcmVySW5mbyYmKHQ9ci5yZWZlcmVySW5mbyk7dmFyIGksbz1mdW5jdGlvbihlKXtyZXR1cm57cGFnZVVSTDplJiZlLnJlZmVyZXI/ZS5yZWZlcmVyOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZlVSTDp3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXJ9fSh0KSxjPWZ1bmN0aW9uKGUpe3JldHVybntpZDoiIisobmV3IERhdGUpLmdldFRpbWUoKSxhdDoxLGN1cjpbYl0saW1wOltdLHNpdGU6e3BhZ2U6ZS5wYWdlVVJMLHJlZjplLnJlZlVSTCxwdWJsaXNoZXI6e319LGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLmRvTm90VHJhY2t8fCIxIj09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZX0sdXNlcjp7fSxleHQ6e319fShvKSxwPSIiLGw9W10sbT1bXTtpZihlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKChpPU9iamVjdChhLmRlZXBDbG9uZSkoZSkpLnBhcmFtcy5hZFNsb3Q9aS5wYXJhbXMuYWRTbG90fHwiIixVKGkpLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJ2aWRlbyIpKTtlbHNlIGlmKCEoaS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZpLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5jKXx8MCE9PWkucGFyYW1zLndpZHRofHwwIT09aS5wYXJhbXMuaGVpZ2h0KSlyZXR1cm4gdm9pZCBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IFNraXBwaW5nIHRoZSBub24tc3RhbmRhcmQgYWRzbG90OiAiLGkucGFyYW1zLmFkU2xvdCxKU09OLnN0cmluZ2lmeShpKSk7by5wdWJJZD1vLnB1YklkfHxpLnBhcmFtcy5wdWJsaXNoZXJJZCwobz1mdW5jdGlvbihlLHIpe3ZhciB0LGksbjtmb3IodCBpbiByLmthZHBhZ2V1cmx8fChyLmthZHBhZ2V1cmw9ci5wYWdlVVJMKSxoKWguaGFzT3duUHJvcGVydHkodCkmJihpPWVbdF0pJiYoIm9iamVjdCI9PT11KG49aFt0XSkmJihpPW4uZihpLHIpKSxPYmplY3QoYS5pc1N0cikoaSk/clt0XT1pOk9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogSWdub3JpbmcgcGFyYW0gOiAiK3QrIiB3aXRoIHZhbHVlIDogIitoW3RdKyIsIGV4cGVjdHMgc3RyaW5nLXZhbHVlLCBmb3VuZCAiK3UoaSkpKTtyZXR1cm4gcn0oaS5wYXJhbXMsbykpLnRyYW5zYWN0aW9uSWQ9aS50cmFuc2FjdGlvbklkLCIiPT09cD9wPWkucGFyYW1zLmN1cnJlbmN5fHxnOmkucGFyYW1zLmhhc093blByb3BlcnR5KCJjdXJyZW5jeSIpJiZwIT09aS5wYXJhbXMuY3VycmVuY3kmJk9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogQ3VycmVuY3kgc3BlY2lmaWVyIGlnbm9yZWQuIE9ubHkgb25lIGN1cnJlbmN5IHBlcm1pdHRlZC4iKSxpLnBhcmFtcy5jdXJyZW5jeT1wLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJkY3RyIikmJk9iamVjdChhLmlzU3RyKShpLnBhcmFtcy5kY3RyKSYmbC5wdXNoKGkucGFyYW1zLmRjdHIpLGkucGFyYW1zLmhhc093blByb3BlcnR5KCJiY2F0IikmJk9iamVjdChhLmlzQXJyYXkpKGkucGFyYW1zLmJjYXQpJiYobT1tLmNvbmNhdChpLnBhcmFtcy5iY2F0KSk7dmFyIHI9RyhpKTtyJiZjLmltcC5wdXNoKHIpfSkpLDAhPWMuaW1wLmxlbmd0aCl7dmFyIGYseTtjLnNpdGUucHVibGlzaGVyLmlkPW8ucHViSWQudHJpbSgpLEE9by5wdWJJZC50cmltKCksYy5leHQud3JhcHBlcj17fSxjLmV4dC53cmFwcGVyLnByb2ZpbGU9cGFyc2VJbnQoby5wcm9mSWQpfHxnLGMuZXh0LndyYXBwZXIudmVyc2lvbj1wYXJzZUludChvLnZlcklkKXx8ZyxjLmV4dC53cmFwcGVyLndpaWQ9by53aWlkfHxyLmF1Y3Rpb25JZCxjLmV4dC53cmFwcGVyLnd2PSJwcmViaWRfcHJlYmlkXzUuMjAuMiIsYy5leHQud3JhcHBlci50cmFuc2FjdGlvbklkPW8udHJhbnNhY3Rpb25JZCxjLmV4dC53cmFwcGVyLndwPSJwYmpzIixjLnVzZXIuZ2VuZGVyPW8uZ2VuZGVyP28uZ2VuZGVyLnRyaW0oKTpnLGMudXNlci5nZW89e30sYy51c2VyLmdlby5sYXQ9TigibGF0IixvLmxhdCksYy51c2VyLmdlby5sb249TigibG9uIixvLmxvbiksYy51c2VyLnlvYj1OKCJ5b2IiLG8ueW9iKSxjLmRldmljZS5nZW89Yy51c2VyLmdlbyxjLnNpdGUucGFnZT1vLmthZHBhZ2V1cmwudHJpbSgpfHxjLnNpdGUucGFnZS50cmltKCksYy5zaXRlLmRvbWFpbj0oZj1jLnNpdGUucGFnZSwoeT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9Zix5Lmhvc3RuYW1lKSwib2JqZWN0Ij09PXUocy5iLmdldENvbmZpZygiY29udGVudCIpKSYmKGMuc2l0ZS5jb250ZW50PXMuYi5nZXRDb25maWcoImNvbnRlbnQiKSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImRldmljZSIpKSYmKGMuZGV2aWNlPWQoYy5kZXZpY2Uscy5iLmdldENvbmZpZygiZGV2aWNlIikpKSxPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInNvdXJjZS50aWQiLG8udHJhbnNhY3Rpb25JZCksLTEhPT13aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCJwdWJtYXRpY1Rlc3Q9dHJ1ZSIpJiYoYy50ZXN0PTEpLGVbMF0uc2NoYWluJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInNvdXJjZS5leHQuc2NoYWluIixlWzBdLnNjaGFpbiksciYmci5nZHByQ29uc2VudCYmKE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoYywidXNlci5leHQuY29uc2VudCIsci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInJlZ3MuZXh0LmdkcHIiLHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSksciYmci51c3BDb25zZW50JiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksITA9PT1zLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInJlZ3MuY29wcGEiLDEpLGZ1bmN0aW9uKGUscil7dmFyIHQ9T2JqZWN0KGEuZGVlcEFjY2VzcykociwiMC51c2VySWRBc0VpZHMiKSxpPUYocix4KTtpJiYodHx8KHQ9W10pLHQucHVzaChpKSksT2JqZWN0KGEuaXNBcnJheSkodCkmJnQubGVuZ3RoPjAmJk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwidXNlci5laWRzIix0KX0oYyxlKSxmdW5jdGlvbihlLHIpeyhyPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV8fChPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IGJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGJlIGEgc3RyaW5nLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKSwhMSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7aWYoZS5sZW5ndGg+MylyZXR1cm4gdC5pbmRleE9mKGUpPT09cjtPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IGJjYXQ6IEVhY2ggY2F0ZWdvcnkgc2hvdWxkIGhhdmUgYSB2YWx1ZSBvZiBhIGxlbmd0aCBvZiBtb3JlIHRoYW4gMyBjaGFyYWN0ZXJzLCBpZ25vcmluZyBjYXRlZ29yeTogIitlKX0pKSkubGVuZ3RoPjAmJihPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IGJjYXQ6IFNlbGVjdGVkOiAiLHIpLGUuYmNhdD1yKX0oYyxtKSxmdW5jdGlvbihlLHIpe3ZhciB0PUYocixZKTt0JiYoZS51c2VyfHwoZS51c2VyPXt9KSxlLnVzZXIuZGF0YXx8KGUudXNlci5kYXRhPVtdKSxlLnVzZXIuZGF0YS5wdXNoKHQpKX0oYyxlKTt2YXIgdj1zLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fTtyZXR1cm4gdi5zaXRlJiZPYmplY3QoYS5tZXJnZURlZXApKGMse3NpdGU6di5zaXRlfSksdi51c2VyJiZPYmplY3QoYS5tZXJnZURlZXApKGMse3VzZXI6di51c2VyfSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImFwcCIpKSYmKGMuYXBwPXMuYi5nZXRDb25maWcoImFwcCIpLGMuYXBwLnB1Ymxpc2hlcj1jLnNpdGUucHVibGlzaGVyLGMuYXBwLmV4dD1jLnNpdGUuZXh0fHxnLCJvYmplY3QiIT09dShjLmFwcC5jb250ZW50KSYmKGMuYXBwLmNvbnRlbnQ9Yy5zaXRlLmNvbnRlbnR8fGcpLGRlbGV0ZSBjLnNpdGUpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9oYm9wZW5iaWQucHVibWF0aWMuY29tL3RyYW5zbGF0b3I/c291cmNlPXByZWJpZC1jbGllbnQiLGRhdGE6SlNPTi5zdHJpbmdpZnkoYyksYmlkZGVyUmVxdWVzdDpyfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT1iLHM9SlNPTi5wYXJzZShyLmRhdGEpLG89cy5zaXRlJiZzLnNpdGUucmVmP3Muc2l0ZS5yZWY6IiI7dHJ5e2UuYm9keSYmZS5ib2R5LnNlYXRiaWQmJk9iamVjdChhLmlzQXJyYXkpKGUuYm9keS5zZWF0YmlkKSYmKGk9ZS5ib2R5LmN1cnx8aSxlLmJvZHkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZCYmT2JqZWN0KGEuaXNBcnJheSkoZS5iaWQpJiZlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihkKXt2YXIgYz17cmVxdWVzdElkOmQuaW1waWQsY3BtOihwYXJzZUZsb2F0KGQucHJpY2UpfHwwKS50b0ZpeGVkKDIpLHdpZHRoOmQudyxoZWlnaHQ6ZC5oLGNyZWF0aXZlSWQ6ZC5jcmlkfHxkLmlkLGRlYWxJZDpkLmRlYWxpZCxjdXJyZW5jeTppLG5ldFJldmVudWU6dHJ1ZSx0dGw6MzAwLHJlZmVycmVyOm8sYWQ6ZC5hZG0scG1fc2VhdDplLnNlYXR8fG51bGwscG1fZHNwaWQ6ZC5leHQmJmQuZXh0LmRzcGlkP2QuZXh0LmRzcGlkOm51bGwscGFydG5lckltcElkOmQuaWR8fCIifTtzLmltcCYmcy5pbXAubGVuZ3RoPjAmJnMuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGQuaW1waWQ9PT1lLmlkKXN3aXRjaChmdW5jdGlvbihlLHIpe2lmKGUuZXh0JiZudWxsIT1lLmV4dC5CaWRUeXBlKXIubWVkaWFUeXBlPVJbZS5leHQuQmlkVHlwZV07ZWxzZXtPYmplY3QoYS5sb2dJbmZvKSgiUHViTWF0aWM6IGJpZC5leHQuQmlkVHlwZSBkb2VzIG5vdCBleGlzdCwgY2hlY2tpbmcgYWx0ZXJuYXRpdmVseSBmb3IgbWVkaWFUeXBlIik7dmFyIHQ9ZS5hZG0saT0iIixzPW5ldyBSZWdFeHAoL1ZBU1Rccyt2ZXJzaW9uLyk7aWYodC5pbmRleE9mKCdzcGFuIGNsYXNzPSJQdWJBUElBZCInKT49MClyLm1lZGlhVHlwZT1uLmI7ZWxzZSBpZihzLnRlc3QodCkpci5tZWRpYVR5cGU9bi5kO2Vsc2UgdHJ5eyhpPUpTT04ucGFyc2UodC5yZXBsYWNlKC9cXC9nLCIiKSkpJiZpLm5hdGl2ZSYmKHIubWVkaWFUeXBlPW4uYyl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIit0KX19fShkLGMpLGMubWVkaWFUeXBlKXtjYXNlIG4uYjpicmVhaztjYXNlIG4uZDpjLndpZHRoPWQuaGFzT3duUHJvcGVydHkoInciKT9kLnc6ZS52aWRlby53LGMuaGVpZ2h0PWQuaGFzT3duUHJvcGVydHkoImgiKT9kLmg6ZS52aWRlby5oLGMudmFzdFhtbD1kLmFkbSxmdW5jdGlvbihlLHIpe3ZhciB0LGEsaTtpZihyLmJpZGRlclJlcXVlc3QmJnIuYmlkZGVyUmVxdWVzdC5iaWRzKXtmb3IodmFyIHM9MDtzPHIuYmlkZGVyUmVxdWVzdC5iaWRzLmxlbmd0aDtzKyspci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYmlkSWQ9PT1lLnJlcXVlc3RJZCYmKHQ9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ucGFyYW1zLGE9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ubWVkaWFUeXBlc1tuLmRdLmNvbnRleHQsaT1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5hZFVuaXRDb2RlKTthJiYib3V0c3RyZWFtIj09PWEmJnQmJnQub3V0c3RyZWFtQVUmJmkmJihlLnJlbmRlcmVyQ29kZT10Lm91dHN0cmVhbUFVLGUucmVuZGVyZXI9ay5uZXdSZW5kZXJlcihlLnJlbmRlcmVyQ29kZSxpKSl9fShjLHIpO2JyZWFrO2Nhc2Ugbi5jOiFmdW5jdGlvbihlLHIpe2lmKHIubmF0aXZlPXt9LGUuaGFzT3duUHJvcGVydHkoImFkbSIpKXt2YXIgdD0iIjt0cnl7dD1KU09OLnBhcnNlKGUuYWRtLnJlcGxhY2UoL1xcL2csIiIpKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBDYW5ub3QgcGFyc2UgbmF0aXZlIHJlcG9uc2UgZm9yIGFkIHJlc3BvbnNlOiAiK3IuYWRtKX1pZih0JiZ0Lm5hdGl2ZSYmdC5uYXRpdmUuYXNzZXRzJiZ0Lm5hdGl2ZS5hc3NldHMubGVuZ3RoPjApe3IubWVkaWFUeXBlPW4uYztmb3IodmFyIGk9MCxzPXQubmF0aXZlLmFzc2V0cy5sZW5ndGg7aTxzO2krKylzd2l0Y2godC5uYXRpdmUuYXNzZXRzW2ldLmlkKXtjYXNlIHcuVElUTEUuSUQ6ci5uYXRpdmUudGl0bGU9dC5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlJiZ0Lm5hdGl2ZS5hc3NldHNbaV0udGl0bGUudGV4dDticmVhaztjYXNlIHcuSU1BR0UuSUQ6ci5uYXRpdmUuaW1hZ2U9e3VybDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSB3LklDT04uSUQ6ci5uYXRpdmUuaWNvbj17dXJsOnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcudXJsLGhlaWdodDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLmgsd2lkdGg6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy53fTticmVhaztjYXNlIHcuU1BPTlNPUkVEQlkuSUQ6Y2FzZSB3LkJPRFkuSUQ6Y2FzZSB3LkxJS0VTLklEOmNhc2Ugdy5ET1dOTE9BRFMuSUQ6Y2FzZSB3LlBSSUNFOmNhc2Ugdy5TQUxFUFJJQ0UuSUQ6Y2FzZSB3LlBIT05FLklEOmNhc2Ugdy5BRERSRVNTLklEOmNhc2Ugdy5ERVNDMi5JRDpjYXNlIHcuQ1RBLklEOmNhc2Ugdy5SQVRJTkcuSUQ6Y2FzZSB3LkRJU1BMQVlVUkwuSUQ6ci5uYXRpdmVbelt0Lm5hdGl2ZS5hc3NldHNbaV0uaWRdXT10Lm5hdGl2ZS5hc3NldHNbaV0uZGF0YSYmdC5uYXRpdmUuYXNzZXRzW2ldLmRhdGEudmFsdWV9ci5uYXRpdmUuY2xpY2tVcmw9dC5uYXRpdmUubGluayYmdC5uYXRpdmUubGluay51cmwsci5uYXRpdmUuY2xpY2tUcmFja2Vycz10Lm5hdGl2ZS5saW5rJiZ0Lm5hdGl2ZS5saW5rLmNsaWNrdHJhY2tlcnN8fFtdLHIubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycz10Lm5hdGl2ZS5pbXB0cmFja2Vyc3x8W10sci5uYXRpdmUuanN0cmFja2VyPXQubmF0aXZlLmpzdHJhY2tlcnx8W10sci53aWR0aHx8KHIud2lkdGg9MCksci5oZWlnaHR8fChyLmhlaWdodD0wKX19fShkLGMpfX0pKSxkLmV4dCYmZC5leHQuZGVhbF9jaGFubmVsJiYoYy5kZWFsQ2hhbm5lbD1EW2QuZXh0LmRlYWxfY2hhbm5lbF18fG51bGwpLGMubWV0YT17fSxkLmV4dCYmZC5leHQuZHNwaWQmJihjLm1ldGEubmV0d29ya0lkPWQuZXh0LmRzcGlkKSxkLmV4dCYmZC5leHQuYWR2aWQmJihjLm1ldGEuYnV5ZXJJZD1kLmV4dC5hZHZpZCksZC5hZG9tYWluJiZkLmFkb21haW4ubGVuZ3RoPjAmJihjLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZC5hZG9tYWluLGMubWV0YS5jbGlja1VybD1kLmFkb21haW5bMF0pLGUuZXh0JiZlLmV4dC5idXlpZCYmKGMuYWRzZXJ2ZXJUYXJnZXRpbmc9e2hiX2J1eWlkX3B1Ym1hdGljOmUuZXh0LmJ1eWlkfSksdC5wdXNoKGMpfSkpfSkpKX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoZSl9cmV0dXJuIHR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxhKXt2YXIgaT0iIitBO3JldHVybiB0JiYoaSs9IiZnZHByPSIrKHQuZ2RwckFwcGxpZXM/MTowKSxpKz0iJmdkcHJfY29uc2VudD0iK2VuY29kZVVSSUNvbXBvbmVudCh0LmNvbnNlbnRTdHJpbmd8fCIiKSksYSYmKGkrPSImdXNfcHJpdmFjeT0iK2VuY29kZVVSSUNvbXBvbmVudChhKSksITA9PT1zLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYoaSs9IiZjb3BwYT0xIiksZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYWRzLnB1Ym1hdGljLmNvbS9BZFNlcnZlci9qcy91c2VyX3N5bmMuaHRtbD9rZG50dWlkPTEmcD0iK2l9XTpbe3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vaW1hZ2U4LnB1Ym1hdGljLmNvbS9BZFNlcnZlci9JbWdTeW5jP3A9IitpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlLHIsdCxpKXtyZXR1cm4gQihlLHQuYmlkc1swXSwhMCksT2JqZWN0KGEuY29udmVydFR5cGVzKSh7cHVibGlzaGVySWQ6InN0cmluZyIsYWRTbG90OiJzdHJpbmcifSxlKX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShYKX19LFs3MTRdKTsKdXBianNDaHVuayhbMzNdLHs2OmZ1bmN0aW9uKGUsbix0KXsidXNlIHN0cmljdCI7bi5hPWZ1bmN0aW9uKGUpe3ZhciBuLHQ9ZS51cmwscj1lLmFuYWx5dGljc1R5cGUsdT1lLmdsb2JhbCxsPWUuaGFuZGxlcixTPVtdLGo9MCxtPSEwOyhmdW5jdGlvbigpe2lmKG0pe2Zvcih2YXIgZT0wO2U8Uy5sZW5ndGg7ZSsrKVNbZV0oKTtTLnB1c2g9ZnVuY3Rpb24oZSl7ZSgpfSxtPSExfU9iamVjdChvLmxvZ01lc3NhZ2UpKCJldmVudCBjb3VudCBzZW50IHRvICIuY29uY2F0KHUsIjogIikuY29uY2F0KGopKX0pKCk7cmV0dXJue3RyYWNrOmZ1bmN0aW9uKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PU4mJndpbmRvd1t1XShsLG4sdCk7dGhpcy5nZXRBZGFwdGVyVHlwZSgpPT09cSYmVS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sZW5xdWV1ZTpCLGVuYWJsZUFuYWx5dGljczpSLGRpc2FibGVBbmFseXRpY3M6ZnVuY3Rpb24oKXtPYmplY3Qoby5fZWFjaCkobiwoZnVuY3Rpb24oZSxuKXtzLm9mZihuLGUpfSkpLHRoaXMuZW5hYmxlQW5hbHl0aWNzPXRoaXMuX29sZEVuYWJsZT90aGlzLl9vbGRFbmFibGU6Un0sZ2V0QWRhcHRlclR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gcn0sZ2V0R2xvYmFsOmZ1bmN0aW9uKCl7cmV0dXJuIHV9LGdldEhhbmRsZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sZ2V0VXJsOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fTtmdW5jdGlvbiBVKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHI9ZS5hcmdzLHU9ZS5jYWxsYmFjaztPYmplY3QoYS5hKSh0LHUsSlNPTi5zdHJpbmdpZnkoe2V2ZW50VHlwZTpuLGFyZ3M6cn0pKX1mdW5jdGlvbiBCKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzLHI9dGhpczt1JiZ3aW5kb3dbdV0mJm4mJnQ/dGhpcy50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSk6Uy5wdXNoKChmdW5jdGlvbigpe2orKyxyLnRyYWNrKHtldmVudFR5cGU6bixhcmdzOnR9KX0pKX1mdW5jdGlvbiBSKGUpe3ZhciB0LHI9dGhpcyxhPXRoaXM7Im9iamVjdCIhPT1pKGUpfHwib2JqZWN0IiE9PWkoZS5vcHRpb25zKXx8KHZvaWQgMD09PWUub3B0aW9ucy5zYW1wbGluZ3x8TWF0aC5yYW5kb20oKTxwYXJzZUZsb2F0KGUub3B0aW9ucy5zYW1wbGluZykpPyhzLmdldEV2ZW50cygpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUpe3ZhciBuPWUuZXZlbnRUeXBlLHQ9ZS5hcmdzO24hPT1iJiZCLmNhbGwoYSx7ZXZlbnRUeXBlOm4sYXJnczp0fSl9fSkpLGModD17fSx5LChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6eSxhcmdzOmV9KX0pKSxjKHQsZywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmcsYXJnczplfSl9KSksYyh0LFQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpULGFyZ3M6ZX0pfSkpLGModCx2LChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6dixhcmdzOmV9KX0pKSxjKHQsYiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOmIsYXJnczplfSl9KSksYyh0LGQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpkLGFyZ3M6ZX0pfSkpLGModCxFLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6RSxhcmdzOmV9KX0pKSxjKHQsXywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOl8sYXJnczplfSl9KSksYyh0LEEsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpBLGFyZ3M6ZX0pfSkpLGModCxwLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6cCxhcmdzOmV9KX0pKSxjKHQsRCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkQsYXJnczplfSl9KSksYyh0LGgsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpoLGFyZ3M6ZX0pfSkpLGModCxPLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6TyxhcmdzOmV9KX0pKSxjKHQsSSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkksYXJnczplfSl9KSksYyh0LGYsKGZ1bmN0aW9uKG4pe24uY29uZmlnPSJvYmplY3QiPT09aShlKSYmZS5vcHRpb25zfHx7fSxyLmVucXVldWUoe2V2ZW50VHlwZTpmLGFyZ3M6bn0pfSkpLG49dCxPYmplY3Qoby5fZWFjaCkobiwoZnVuY3Rpb24oZSxuKXtzLm9uKG4sZSl9KSkpOk9iamVjdChvLmxvZ01lc3NhZ2UpKCdBbmFseXRpY3MgYWRhcHRlciBmb3IgIicuY29uY2F0KHUsJyIgZGlzYWJsZWQgYnkgc2FtcGxpbmcnKSk7dGhpcy5fb2xkRW5hYmxlPXRoaXMuZW5hYmxlQW5hbHl0aWNzLHRoaXMuZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdChvLmxvZ01lc3NhZ2UpKCdBbmFseXRpY3MgYWRhcHRlciBmb3IgIicuY29uY2F0KHUsJyIgYWxyZWFkeSBlbmFibGVkLCB1bm5lY2Vzc2FyeSBjYWxsIHRvIGBlbmFibGVBbmFseXRpY3NgLicpKX19fTt2YXIgcj10KDUpLHU9dC5uKHIpLGE9dCg0KSxvPXQoMCk7ZnVuY3Rpb24gYyhlLG4sdCl7cmV0dXJuIG4gaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtuXT10LGV9ZnVuY3Rpb24gaShlKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBzPXQoMTApLGw9dS5hLkVWRU5UUyxmPWwuQVVDVElPTl9JTklULHA9bC5BVUNUSU9OX0VORCx5PWwuUkVRVUVTVF9CSURTLGc9bC5CSURfUkVRVUVTVEVELGI9bC5CSURfVElNRU9VVCxUPWwuQklEX1JFU1BPTlNFLHY9bC5OT19CSUQsZD1sLkJJRF9XT04sRT1sLkJJRF9BREpVU1RNRU5ULF89bC5CSURERVJfRE9ORSxBPWwuU0VUX1RBUkdFVElORyxEPWwuQURfUkVOREVSX0ZBSUxFRCxoPWwuQURfUkVOREVSX1NVQ0NFRURFRCxPPWwuQVVDVElPTl9ERUJVRyxJPWwuQUREX0FEX1VOSVRTLHE9ImVuZHBvaW50IixOPSJidW5kbGUifSw3MTg6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDcxOSl9LDcxOTpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgcj10KDYpLHU9dCg4KSxhPU9iamVjdChyLmEpKHtnbG9iYWw6IlB1YnN0YWNrQW5hbHl0aWNzIixoYW5kbGVyOiJvbiIsYW5hbHl0aWNzVHlwZToiYnVuZGxlIn0pO3UuZGVmYXVsdC5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIoe2FkYXB0ZXI6YSxjb2RlOiJwdWJzdGFjayJ9KSxuLmRlZmF1bHQ9YX19LFs3MThdKTsKdXBianNDaHVuayhbMTU2XSx7NzMwOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3MzEpfSw3MzE6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBuPXQoMCksaT10KDEpLGE9dCgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIG4gaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKSYmKGVbbl09dFtuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHM9MTAwLHU9MjAwLG89NTAsYz0xNTAscD01MCxsPSJVU0QiLG09WyJjcCIsImN0IiwiY2YiLCJ2aWRlbyIsImJhdHRyIiwiYmNhdCIsImJhZHYiLCJiaWRmbG9vciJdLGY9e2NvZGU6InB1bHNlcG9pbnQiLGd2bGlkOjgxLGFsaWFzZXM6WyJwdWxzZUxpdGUiLCJwdWxzZXBvaW50TGl0ZSJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6WyJiYW5uZXIiLCJuYXRpdmUiLCJ2aWRlbyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5jcCYmZS5wYXJhbXMuY3QpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2JpZC5jb250ZXh0d2ViLmNvbS9oZWFkZXIvb3J0Yj9zcmM9cHJlYmlkIixkYXRhOntpZDplWzBdLmJpZGRlclJlcXVlc3RJZCxpbXA6ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm57aWQ6ZS5iaWRJZCxiYW5uZXI6YihlKSxuYXRpdmU6aChlKSx0YWdpZDplLnBhcmFtcy5jdC50b1N0cmluZygpLHZpZGVvOnYoZSksYmlkZmxvb3I6UihlKSxleHQ6ZyhlKX19KGUpfSkpLHNpdGU6aihlLHIpLGFwcDp3KGUpLGRldmljZTp7dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci5icm93c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5zeXN0ZW1MYW5ndWFnZX0sYmNhdDplWzBdLnBhcmFtcy5iY2F0LGJhZHY6ZVswXS5wYXJhbXMuYmFkdix1c2VyOmsoZVswXSxyKSxyZWdzOngociksc291cmNlOlAoZVswXS5zY2hhaW4pfSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3JldHVybiBmdW5jdGlvbihlLHIpe3ZhciB0PXt9LGk9e30sZD17fSxzPXIuYm9keTtlLmRhdGEuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe3RbZS5pZF09ZX0pKSxzJiZzLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lbZS5pbXBpZF09ZX0pKX0pKTtlLmJpZGRlclJlcXVlc3QmJmUuYmlkZGVyUmVxdWVzdC5iaWRzJiZlLmJpZGRlclJlcXVlc3QuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtkW2UuYmlkSWRdPWV9KSk7dmFyIHU9W107cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGlbZV0pe3ZhciByPXtyZXF1ZXN0SWQ6ZSxjcG06aVtlXS5wcmljZSxjcmVhdGl2ZV9pZDppW2VdLmNyaWQsY3JlYXRpdmVJZDppW2VdLmNyaWQsYWRJZDplLHR0bDppW2VdLmV4cHx8MjAsbmV0UmV2ZW51ZTp0cnVlLGN1cnJlbmN5OnMuY3VyfHxsLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmlbZV0uYWRvbWFpbnx8W119fTt0W2VdLnZpZGVvPyhkW2VdJiYib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKGRbZV0sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpJiYoci5yZW5kZXJlcj0obz1PYmplY3Qobi5kZWVwQWNjZXNzKShkW2VdLCJyZW5kZXJlci5vcHRpb25zIiksYz1PYmplY3Qobi5kZWVwQWNjZXNzKShpW2VdLCJleHQub3V0c3RyZWFtIiksKHA9YS5hLmluc3RhbGwoe3VybDpjLnJlbmRlcmVyVXJsLGNvbmZpZzp7ZGVmYXVsdE9wdGlvbnM6Yy5jb25maWcscmVuZGVyZXJPcHRpb25zOm8sdHlwZTpjLnR5cGV9LGxvYWRlZDohMX0pKS5zZXRSZW5kZXIoKGZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj1lLnJlbmRlcmVyLmdldENvbmZpZygpOyhuZXcgd2luZG93LlB1bHNlUG9pbnRPdXRzdHJlYW1SZW5kZXJlcikucmVuZGVyKHthZFVuaXRDb2RlOmUuYWRVbml0Q29kZSx2YXN0WG1sOmUudmFzdFhtbCx0eXBlOnIudHlwZSxkZWZhdWx0T3B0aW9uczpyLmRlZmF1bHRPcHRpb25zLHJlbmRlcmVyT3B0aW9uczpvfSl9KSl9KSkscCkpLHIudmFzdFhtbD1pW2VdLmFkbSxyLm1lZGlhVHlwZT0idmlkZW8iLHIud2lkdGg9aVtlXS53LHIuaGVpZ2h0PWlbZV0uaCk6dFtlXS5iYW5uZXI/KHIuYWQ9aVtlXS5hZG0sci53aWR0aD1pW2VdLnd8fHRbZV0uYmFubmVyLncsci5oZWlnaHQ9aVtlXS5ofHx0W2VdLmJhbm5lci5oKTp0W2VdLm5hdGl2ZSYmKHIubmF0aXZlPWZ1bmN0aW9uKGUscil7aWYoZS5uYXRpdmUpe3ZhciB0PWZ1bmN0aW9uKGUpe3RyeXtpZihlKXJldHVybiBKU09OLnBhcnNlKGUpfWNhdGNoKGUpe09iamVjdChuLmxvZ0Vycm9yKSgicHVsc2Vwb2ludExpdGUuc2FmZVBhcnNlIiwiRVJST1IiLGUpfXJldHVybiBudWxsfShyLmFkbSksaT17fTtpZih0JiZ0Lm5hdGl2ZSYmdC5uYXRpdmUuYXNzZXRzKXJldHVybiB0Lm5hdGl2ZS5hc3NldHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS50aXRsZT1lLnRpdGxlP2UudGl0bGUudGV4dDppLnRpdGxlLGkuYm9keT1lLmRhdGEmJjI9PT1lLmRhdGEudHlwZT9lLmRhdGEudmFsdWU6aS5ib2R5LGkuc3BvbnNvcmVkQnk9ZS5kYXRhJiYxPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuc3BvbnNvcmVkQnksaS5pbWFnZT1lLmltZyYmMz09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaW1hZ2UsaS5pY29uPWUuaW1nJiYxPT09ZS5pbWcudHlwZT9lLmltZy51cmw6aS5pY29ufSkpLHQubmF0aXZlLmxpbmsmJihpLmNsaWNrVXJsPWVuY29kZVVSSUNvbXBvbmVudCh0Lm5hdGl2ZS5saW5rLnVybCkpLGkuaW1wcmVzc2lvblRyYWNrZXJzPXQubmF0aXZlLmltcHRyYWNrZXJzLGl9cmV0dXJuIG51bGx9KHRbZV0saVtlXSksci5tZWRpYVR5cGU9Im5hdGl2ZSIpLHUucHVzaChyKX12YXIgbyxjLHB9KSksdX0ocixlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gifV06ZS5waXhlbEVuYWJsZWQ/W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaC9wcmViaWQifV06dm9pZCAwfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gT2JqZWN0KG4uY29udmVydFR5cGVzKSh7Y2Y6InN0cmluZyIsY3A6Im51bWJlciIsY3Q6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gYihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpO2lmKHImJk9iamVjdChuLmlzQXJyYXkpKHIpKXJldHVybiByLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGh9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSk7cmV0dXJuIG51bGx9KGUpLHQ9ZnVuY3Rpb24oZSxyKXtpZihlLnBhcmFtcy5jZil7dmFyIHQ9ZS5wYXJhbXMuY2YudG9VcHBlckNhc2UoKS5zcGxpdCgiWCIpO3JldHVybltwYXJzZUludChlLnBhcmFtcy5jd3x8dFswXSwxMCkscGFyc2VJbnQoZS5wYXJhbXMuY2h8fHRbMV0sMTApXX1pZihyJiZyLmxlbmd0aD4wKXJldHVybltyWzBdLncsclswXS5oXTtyZXR1cm5bMSwxXX0oZSxyKTtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyP3t3OnRbMF0saDp0WzFdLGJhdHRyOmUucGFyYW1zLmJhdHRyLGZvcm1hdDpyfTpudWxsfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGUucGFyYW1zLnZpZGVvP2Qoe30sZS5wYXJhbXMudmlkZW8sZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8/ZS5tZWRpYVR5cGVzLnZpZGVvOnt9LHtiYXR0cjplLnBhcmFtcy5iYXR0cn0pOm51bGx9ZnVuY3Rpb24gZyhlKXt2YXIgcj17fSx0PXt9O3JldHVybiBtLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdPTF9KSksT2JqZWN0LmtleXMoZS5wYXJhbXMpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3Rbbl18fChyW25dPWUucGFyYW1zW25dKX0pKSxPYmplY3Qua2V5cyhyKS5sZW5ndGg+MD97cHJlYmlkOnJ9Om51bGx9ZnVuY3Rpb24gaChlKXtpZihlLm5hdGl2ZVBhcmFtcyl7dmFyIHI9W107cmV0dXJuIHkocixmdW5jdGlvbihlLHIsdCl7aWYocilyZXR1cm57aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCx0aXRsZTp7bGVuOnIubGVufHx0fX07cmV0dXJuIG51bGx9KHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMudGl0bGUscykpLHkocixPKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuYm9keSwyLHUpKSx5KHIsTyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnNwb25zb3JlZEJ5LDEsbykpLHkocixJKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaWNvbiwxLHAscCkpLHkocixJKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuaW1hZ2UsMyxjLGMpKSx7cmVxdWVzdDpKU09OLnN0cmluZ2lmeSh7YXNzZXRzOnJ9KSx2ZXI6IjEuMSIsYmF0dHI6ZS5wYXJhbXMuYmF0dHJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIHkoZSxyKXtyJiZlLnB1c2gocil9ZnVuY3Rpb24gSShlLHIsdCxuLGkpe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGltZzp7dHlwZTp0LHdtaW46ci53bWlufHxuLGhtaW46ci5obWlufHxpfX06bnVsbH1mdW5jdGlvbiBPKGUscix0LG4pe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6dCxsZW46ci5sZW58fG59fTpudWxsfWZ1bmN0aW9uIGooZSxyKXt2YXIgdD1lJiZlLmxlbmd0aD4wP2VbMF0ucGFyYW1zLmNwOiIwIjtyZXR1cm4gZVswXS5wYXJhbXMuYXBwP251bGw6e3B1Ymxpc2hlcjp7aWQ6dC50b1N0cmluZygpfSxyZWY6VCgpLHBhZ2U6ciYmci5yZWZlcmVySW5mbz9yLnJlZmVyZXJJbmZvLnJlZmVyZXI6IiJ9fWZ1bmN0aW9uIHcoZSl7dmFyIHI9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCIsdD1lWzBdLnBhcmFtcy5hcHA7cmV0dXJuIHQ/e3B1Ymxpc2hlcjp7aWQ6ci50b1N0cmluZygpfSxidW5kbGU6dC5idW5kbGUsc3RvcmV1cmw6dC5zdG9yZVVybCxkb21haW46dC5kb21haW59Om51bGx9ZnVuY3Rpb24gVCgpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fWZ1bmN0aW9uIGsoZSxyKXt2YXIgdD17fTtpZihyJiZyLmdkcHJDb25zZW50JiYodC5jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksZSYmZS51c2VySWQpe3QuZWlkcz1bXSxxKHQuZWlkcyxlLnVzZXJJZC5wdWJjaWQsInB1YmNpZC5vcmciKSxxKHQuZWlkcyxlLnVzZXJJZC5icml0ZXBvb2xpZCwiYnJpdGVwb29sLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmNyaXRlb0lkLCJjcml0ZW8uY29tIikscSh0LmVpZHMsZS51c2VySWQuaWRsX2VudiwibGl2ZXJhbXAuY29tIikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmlkNWlkLnVpZCIpLCJpZDUtc3luYy5jb20iLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5pZDVpZC5leHQiKSkscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLnBhcnJhYmxlSWQuZWlkIiksInBhcnJhYmxlLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmZhYnJpY2tJZCwibmV1c3Rhci5iaXoiKSxxKHQuZWlkcyxPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQuaGFsb0lkLmhhbG9JZCIpLCJhdWRpZ2VudC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5tZXJrbGVJZCwibWVya2xlaW5jLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmxvdGFtZVBhbm9yYW1hSWQsImNyd2RjbnRybC5uZXQiKSxxKHQuZWlkcyxlLnVzZXJJZC5jb25uZWN0aWQsInZlcml6b25tZWRpYS5jb20iKSxxKHQuZWlkcyxPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQudWlkMi5pZCIpLCJ1aWRhcGkuY29tIiksZS51c2VySWQubGlwYiYmZS51c2VySWQubGlwYi5saXBiaWQmJnEodC5laWRzLGUudXNlcklkLmxpcGIubGlwYmlkLCJsaXZlaW50ZW50LmNvbSIpLHEodC5laWRzLGUudXNlcklkLnRkaWQsImFkc2VydmVyLm9yZyIse3J0aVBhcnRuZXI6IlRESUQifSk7dmFyIGk9ZS51c2VySWQuZGlnaXRydXN0aWQ7aWYoaSYmaS5kYXRhKXt2YXIgYT17fTtpLmRhdGEuaWQmJihhLmlkPWkuZGF0YS5pZCksaS5kYXRhLmtleXYmJihhLmtleXY9aS5kYXRhLmtleXYpLHQuZGlnaXRydXN0PWF9fXJldHVybntleHQ6dH19ZnVuY3Rpb24gcShlLHIsdCxuKXtpZihyKXt2YXIgaT17aWQ6cn07biYmKGkuZXh0PW4pLGUucHVzaCh7c291cmNlOnQsdWlkczpbaV19KX19ZnVuY3Rpb24geChlKXtpZihlLmdkcHJDb25zZW50fHxlLnVzcENvbnNlbnQpe3ZhciByPXt9O3JldHVybiBlLmdkcHJDb25zZW50JiYoci5nZHByPWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxlLnVzcENvbnNlbnQmJihyLnVzX3ByaXZhY3k9ZS51c3BDb25zZW50KSx7ZXh0OnJ9fXJldHVybiBudWxsfWZ1bmN0aW9uIFAoZSl7cmV0dXJuIGU/e2V4dDp7c2NoYWluOmV9fTpudWxsfWZ1bmN0aW9uIFIoZSl7dmFyIHI9ZS5wYXJhbXMuYmlkZmxvb3I7aWYoT2JqZWN0KG4uaXNGbikoZS5nZXRGbG9vcikpe3ZhciB0PWUuZ2V0Rmxvb3Ioe21lZGlhVHlwZTplLm1lZGlhVHlwZXMuYmFubmVyPyJiYW5uZXIiOmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJOYXRpdmUiLHNpemU6IioiLGN1cnJlbmN5Omx9KTt0JiZ0LmZsb29yJiYocj10LmZsb29yKX1yZXR1cm4gcn1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikoZil9fSxbNzMwXSk7CnVwYmpzQ2h1bmsoWzE0Nl0sezc1MjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzUzKX0sNzUzOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgbj1yKDApLGE9cigzKSxzPXIoMSk7ZnVuY3Rpb24gaSgpe3JldHVybihpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGEscz1bXSxpPSEwLG89ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGk9KG49ci5uZXh0KCkpLmRvbmUpJiYocy5wdXNoKG4udmFsdWUpLCF0fHxzLmxlbmd0aCE9PXQpO2k9ITApO31jYXRjaChlKXtvPSEwLGE9ZX1maW5hbGx5e3RyeXtpfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgYX19cmV0dXJuIHN9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gdShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gdShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciBjPSJodHRwczovLyIuY29uY2F0KCJlLnJlbGF5LmJpZCIsIi9wL29wZW5ydGIyIiksZD1mdW5jdGlvbihlKXtyZXR1cm57ZmQ6MSx0aWQ6ZS50cmFuc2FjdGlvbklkLGV4dDp7c2NoYWluOmUuc2NoYWlufX19LGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRJZCxyPWUucGFyYW1zLGE9ZS5tZWRpYVR5cGVzLHM9ZS5hZFVuaXRDb2RlO24ubG9nTWVzc2FnZSh7dHJhY2U6Im1ha2VJbXAiLGJpZElkOnQscGFyYW1zOnJ9KTt2YXIgaT1bXTtmb3IodmFyIHUgaW4gYSl7dmFyIGM9e2lkOnQsdGFnaWQ6cyxleHQ6e2EweDp7YmlkZGVyczpyfX19LGQ9YVt1XS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PW8oZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSk7Y1t1XT17Zm9ybWF0OmR9LGkucHVzaChjKX1yZXR1cm4gaX0sZz1mdW5jdGlvbihlLHQpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im1ha2VVc2VyIix2YWxpZEJpZFJlcXVlc3Q6ZX0pO3ZhciByPXtleHQ6e2NvbnNlbnQ6KHQuZ2RwckNvbnNlbnR8fHt9KS5jb25zZW50U3RyaW5nfHwiIn19O3JldHVybiBlLnVzZXJJZEFzRWlkcyYmKHIuZXh0LmVpZHM9ZS51c2VySWRBc0VpZHMpLHJ9LHA9ZnVuY3Rpb24oZSl7cmV0dXJue2NvcHBhOmEuYi5nZXRDb25maWcoImNvcHBhIil8fCExPzE6MCxleHQ6e2dkcHI6KGUuZ2RwckNvbnNlbnR8fHt9KS5nZHByQXBwbGllc3x8ITE/MTowfX19LGY9e2NvZGU6InJlbGF5Iixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJpc0JpZFJlcXVlc3RWYWxpZCIsYmlkOmV9KTt0cnl7cmV0dXJuIGUucGFyYW1zJiZlLnNpemVzLmxlbmd0aD4wfWNhdGNoKGUpe3JldHVybiBuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJpc0JpZFJlcXVlc3RWYWxpZDo6ZXhjZXB0aW9uIixleGNlcHRpb246ZX0pLCExfX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWEuYi5nZXRDb25maWcoInJlbGF5QWNjb3VudElkIik7cmV0dXJuIHJ8fG4ubG9nV2Fybih7dHJhY2U6ImJ1aWxkUmVxdWVzdHMiLG1lc3NhZ2U6IkZhaWxlZCB0byBidWlsZCByZXF1ZXN0OiB5b3VyIGFjY291bnRJZCBpcyBub3Qgc2V0LiBQbGVhc2Ugc2V0IHBianMuc2V0Q29uZmlnKHthY2NvdW50SWQ6IEFDQ09VTlRfSUQsIC4uLn0pLiJ9KSxuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJidWlsZFJlcXVlc3RzIix2YWxpZEJpZFJlcXVlc3RzOmUsYmlkZGVyUmVxdWVzdDp0LGFjY291bnRJZDpyfSksZS5tYXAoKGZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6ImJ1aWxkUmVxdWVzdHM6Om1hcCJ9KTt2YXIgcz1mdW5jdGlvbihlLHQpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im1ha2VSZWxheVJlcXVlc3QiLHZhbGlkQmlkUmVxdWVzdDplfSk7dmFyIHIscyxvLHUsYyxmLGIsbSx5PXtpZDplLmF1Y3Rpb25JZCxzb3VyY2U6ZChlKSxpbXA6bChlKSxiYWR2OltdLGRldmljZTooYz0od2luZG93fHx7fSkubmF2aWdhdG9yfHx7fSxmPWMucGxhdGZvcm18fCIiLGI9Yy51c2VyQWdlbnR8fCIiLHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleE9mKHQpPi0xfSxvPWYudG9Mb3dlckNhc2UoKSx1PXMobywid2luIil8fHMobywibWFjIil8fHMobywieDExIil8fHMobywibGludXgiKSxtPXttb2JpbGU6MSxwYzoyLHBob25lOjR9WyhzKG8sImlwaG9uZSIpfHxzKG8sImFuZHJvaWQiKT8icGhvbmUiOnUmJiJwYyIpfHwibW9iaWxlIl0se3VhOmIsbGFuZ3VhZ2U6KGMubGFuZ3VhZ2VzWzFdfHwiIikudG9VcHBlckNhc2UoKSxkZXZpY2V0eXBlOm0sanM6MX0pLHNpdGU6KHI9bmV3IFVSTChhLmIuZ2V0Q29uZmlnKCJwdWJsaXNoZXJEb21haW4iKXx8IiIpLHtpZDoiMCIscGFnZTpyLGRvbWFpbjoocnx8e30pLmhvc3R9KSx1c2VyOmcoZSx0KSxyZWdzOnAodCksYXQ6MSxleHQ6e3NzbDoxfX07cmV0dXJuIGkoeSxhLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fSxlLm9ydGIySW1wfHx7fSl9KGUsdCk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOiIiLmNvbmNhdChjLCI/YT0iKS5jb25jYXQociksZGF0YTpzfX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXtpZihuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJpbnRlcnByZXRSZXNwb25zZSIsc2VydmVyUmVzcG9uc2U6ZSxyZXF1ZXN0OnR9KSwhZSlyZXR1cm5bXTt2YXIgcj0oKGV8fHt9KS5ib2R5fHx7fSkuc2VhdGJpZHx8W107cmV0dXJuIG4ubG9nTWVzc2FnZSh7c2VhdEJpZHM6cn0pLHIubGVuZ3RoP3IuZmxhdE1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkLm1hcCgoZnVuY3Rpb24oZSl7bi5sb2dNZXNzYWdlKHt0cmFjZToiaW50ZXJwcmV0UmVzcG9uc2U6OnNlYXQuYmlkOjptYXAiLGJpZDplfSk7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG4ubG9nTWVzc2FnZSh7dHJhY2U6Im5ld0JpZFJlc3BvbnNlIixiaWQ6ZX0pLHtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06ZS5wcmljZSxjdXJyZW5jeTplLmN1cnJlbmN5fHwiVVNEIix3aWR0aDplLnd8fDM1MCxoZWlnaHQ6ZS5ofHwyMDAsYWQ6ZS5hZG0sdHRsOmUudHRsfHwzNjAsY3JlYXRpdmVJZDplLmNyaWQsbmV0UmV2ZW51ZTohMH19KGUpO3JldHVybiBuLmxvZ01lc3NhZ2Uoe2JpZFJlc3BvbnNlOnR9KSx0fSkpfSkpOltdfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsYSl7bi5sb2dNZXNzYWdlKHt0cmFjZToiZ2V0VXNlclN5bmNzIixzZXJ2ZXJSZXNwb25zZXM6dH0pO3ZhciBzPSgoKHRbMF18fHt9KS5ib2R5fHx7fSkuZXh0fHx7fSkudXNlcl9zeW5jc3x8W107cmV0dXJuIGUucGl4ZWxFbmFibGVkJiZzPyhuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJnZXRVc2VyU3luY3M6OnN5bmNzRm91bmQiLHN5bmNzOnN9KSxzKTpbXX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uVGltZW91dCIsc3RhdHVzOiJOb3QgaW1wbGVtZW50ZWQuIix0aW1lb3V0RGF0YTplfSl9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uQmlkV29uIixzdGF0dXM6Ik5vdCBpbXBsZW1lbnRlZC4ifSl9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uU2V0VGFyZ2V0aW5nIixzdGF0dXM6Ik5vdCBpbXBsZW1lbnRlZC4ifSl9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikoZil9fSxbNzUyXSk7CnVwYmpzQ2h1bmsoWzE0M10sezc2MDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzYxKX0sNzYxOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKTt2YXIgYT10KDApLGk9dCgxKSxzPXQoMik7dmFyIG49bmV3IGZ1bmN0aW9uKCl7dGhpcy5jb2RlPSJyaHl0aG1vbmUiLHRoaXMuc3VwcG9ydGVkTWVkaWFUeXBlcz1bcy5kLHMuYl07dmFyIGU9WzIsMyw1LDZdLHI9WyJ2aWRlby9tcDQiXSx0PVsxLDIsMyw0XSxpPVsxXSxuPVsxLDIsNV0sZD17fSxwPXRoaXM7ZnVuY3Rpb24gYyhlLHIpe3ZhciB0LGk9W10scz0wO2lmKHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8uc3RhY2subGVuZ3RoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7bi5ocmVmPXIucmVmZXJlckluZm8uc3RhY2tbMF0scz0iaHR0cHM6Ij09bi5wcm90b2NvbD8xOjB9Zm9yKHZhciBwPTA7cDxlLmxlbmd0aDtwKyspe2RbZVtwXS5hZFVuaXRDb2RlXT1lW3BdO3ZhciBjPXt9O2lmKGMuaWQ9ZVtwXS5hZFVuaXRDb2RlLGMuYmlkZmxvb3I9MCxjLnNlY3VyZT1zLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbcF0sIm1lZGlhVHlwZXMuYmFubmVyIil8fCJiYW5uZXIiPT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZVtwXSwibWVkaWFUeXBlIikpe3ZhciBvPXYoZVtwXSk7byYmKGMuYmFubmVyPW8pfShPYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGVzLnZpZGVvIil8fCJ2aWRlbyI9PT1PYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGUiKSkmJihjLnZpZGVvPXUoZVtwXSkpLChjLmJhbm5lcnx8Yy52aWRlbykmJihjLmV4dD17YmlkZGVyOntwbGFjZW1lbnRJZDoodD1lW3BdKS5wYXJhbXMucGxhY2VtZW50SWQsem9uZTp0LnBhcmFtcyYmdC5wYXJhbXMuem9uZT90LnBhcmFtcy56b25lOiIxciIscGF0aDp0LnBhcmFtcyYmdC5wYXJhbXMucGF0aD90LnBhcmFtcy5wYXRoOiJtdm8ifX0saS5wdXNoKGMpKX1yZXR1cm4gaX1mdW5jdGlvbiBvKGUpe3ZhciByPXtkb21haW46IiIscGFnZToiIixyZWY6IiJ9O2lmKGUmJmUucmVmZXJlckluZm8pe3ZhciB0PWUucmVmZXJlckluZm87aWYoci5yZWY9dC5yZWZlcmVyLHQuc3RhY2subGVuZ3RoKXtyLnBhZ2U9dC5zdGFja1t0LnN0YWNrLmxlbmd0aC0xXTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YS5ocmVmPXQuc3RhY2tbMF0sci5kb21haW49YS5ob3N0bmFtZX19cmV0dXJuIHJ9ZnVuY3Rpb24gbShlKXt2YXIgcj1wYXJzZUludChlWzBdKSx0PXBhcnNlSW50KGVbMV0pO3JldHVybiByPT1yJiZ0PT10JiZbcix0XX1mdW5jdGlvbiB2KGUpe3ZhciByPWUuc2l6ZXM7ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTt2YXIgdD1PYmplY3QoYS5wYXJzZVNpemVzSW5wdXQpKHIpLGk9W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9bShlLnNwbGl0KCJ4IikpO3ImJmkucHVzaCh7dzpyWzBdLGg6clsxXX0pfX0pKSwhIWkubGVuZ3RoJiZ7Zm9ybWF0Oml9fWZ1bmN0aW9uIHUocyl7dmFyIGQ9W107aWYoT2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpe3ZhciBwPXMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO09iamVjdChhLmlzQXJyYXkpKHMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHA9cy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pO3ZhciBjPW0ocCk7YyYmKGQ9Yyl9cmV0dXJue21pbWVzOk9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKXx8cixwcm90b2NvbHM6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMiKXx8ZSx3OmRbMF0saDpkWzFdLHN0YXJ0ZGVsYXk6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5Iil8fDAsc2tpcDpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnNraXAiKXx8MCxwbGF5YmFja21ldGhvZDpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fHQsZGVsaXZlcnk6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5kZWxpdmVyeSIpfHxpLGFwaTpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLmFwaSIpfHxufX1mdW5jdGlvbiBsKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0KyspaWYoclt0XS5wYXJhbXMmJnJbdF0ucGFyYW1zW2VdKXJldHVybiByW3RdLnBhcmFtc1tlXX10aGlzLmlzQmlkUmVxdWVzdFZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zfHwhZS5wYXJhbXMucGxhY2VtZW50SWQpfSx0aGlzLmdldFVzZXJTeW5jcz1mdW5jdGlvbihlLHIsdCl7cmV0dXJuW119LHRoaXMuYnVpbGRSZXF1ZXN0cz1mdW5jdGlvbihlLHIpe3ZhciB0PWwoInBsYWNlbWVudElkIixlKTtpZih2b2lkIDA9PT10fHxlLmxlbmd0aDwxKXJldHVybltdO3ZhciBpPWwoImVuZHBvaW50IixlKXx8Imh0dHBzOi8vdGFnLjFyeC5pby9ybXAve3BsYWNlbWVudElkfS8wL3twYXRofT96PXt6b25lfSIscz1sKCJ6b25lIixlKXx8IjFyIixuPWwoInBhdGgiLGUpfHwibXZvIjtpPShpPShpPWkucmVwbGFjZSgvXHtwbGFjZW1lbnRJZFx9L2ksdCkpLnJlcGxhY2UoL1x7em9uZVx9L2kscykpLnJlcGxhY2UoL1x7cGF0aFx9L2ksbik7dmFyIGQ9LyhednwoXC4wKSskKS9naTtpKz0iJmhidj0iKyI1LjIwLjIiLnJlcGxhY2UoZCwiIikrIiwiKyIyLjEiLnJlcGxhY2UoZCwiIik7dmFyIHA9ZnVuY3Rpb24oZSxyKXt2YXIgdD17aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmMoZSxyKSxzaXRlOm8ociksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOiIiLGRudDpPYmplY3QoYS5nZXRETlQpKCk/MTowfSx1c2VyOntleHQ6e2NvbnNlbnQ6T2JqZWN0KGEuZGVlcEFjY2VzcykociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKT9yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmc6IiJ9fSxhdDoxLHRtYXg6MWUzLHJlZ3M6e2V4dDp7Z2RwcjohIU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJkJvb2xlYW4oMSZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKX19fTtyZXR1cm4gZVswXS5zY2hhaW4mJih0LnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksdH0oZSxyKTtyZXR1cm4gcC5pbXAubGVuZ3RoP3ttZXRob2Q6IlBPU1QiLHVybDppLGRhdGE6SlNPTi5zdHJpbmdpZnkocCl9Ont9fSx0aGlzLmludGVycHJldFJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYm9keXx8W10sdD1bXSxhPTA7aWYoci5zZWF0YmlkKXt2YXIgaT1bXTtmb3IoYT0wO2E8ci5zZWF0YmlkLmxlbmd0aDthKyspZm9yKHZhciBzPTA7czxyLnNlYXRiaWRbYV0uYmlkLmxlbmd0aDtzKyspaS5wdXNoKHIuc2VhdGJpZFthXS5iaWRbc10pO3I9aX1mb3IoYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbj1yW2FdLGM9ZFtuLmltcGlkXSxvPXtyZXF1ZXN0SWQ6Yy5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLnByaWNlKSx3aWR0aDpuLncsaGVpZ2h0Om4uaCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW59LGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM1MH07Yy5tZWRpYVR5cGVzJiZjLm1lZGlhVHlwZXMudmlkZW8/KG8udmFzdFVybD1uLm51cmwsby5tZWRpYVR5cGU9InZpZGVvIixvLnR0bD02MDApOm8uYWQ9bi5hZG0sdC5wdXNoKG8pfXJldHVybiB0fX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzc2MF0pOwp1cGJqc0NodW5rKFsxMzddLHs3Nzg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc3OSl9LDc3OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5oYXNWaWRlb01lZGlhVHlwZT1JLHIuZCh0LCJyZXNldFJ1YmlDb25mIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0Lm1hc1NpemVPcmRlcmluZz1SLHQuZGV0ZXJtaW5lUnViaWNvblZpZGVvU2l6ZUlkPXosdC5nZXRQcmljZUdyYW51bGFyaXR5PVQsdC5oYXNWYWxpZFZpZGVvUGFyYW1zPUUsdC5oYXNWYWxpZFN1cHBseUNoYWluUGFyYW1zPVUsdC5lbmNvZGVQYXJhbT1QLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe049ITF9O3ZhciBuPXIoMCksaT1yKDEpLG89cigzKSxhPXIoMiksYz1yKDExKSxzPXIubihjKSxkPXIoMTMpLHU9cigxNCk7ZnVuY3Rpb24gcChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6cChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBtKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBtKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gZyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4odj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB5PSJodHRwczovL3ZpZGVvLW91dHN0cmVhbS5ydWJpY29ucHJvamVjdC5jb20vYXBleC0yLjAuMC5qcyIseD17fTtvLmIuZ2V0Q29uZmlnKCJydWJpY29uIiwoZnVuY3Rpb24oZSl7T2JqZWN0KG4ubWVyZ2VEZWVwKSh4LGUucnViaWNvbil9KSk7dmFyIGg9ezE6IjQ2OHg2MCIsMjoiNzI4eDkwIiw1OiIxMjB4OTAiLDc6IjEyNXgxMjUiLDg6IjEyMHg2MDAiLDk6IjE2MHg2MDAiLDEwOiIzMDB4NjAwIiwxMzoiMjAweDIwMCIsMTQ6IjI1MHgyNTAiLDE1OiIzMDB4MjUwIiwxNjoiMzM2eDI4MCIsMTc6IjI0MHg0MDAiLDE5OiIzMDB4MTAwIiwzMToiOTgweDEyMCIsMzI6IjI1MHgzNjAiLDMzOiIxODB4NTAwIiwzNToiOTgweDE1MCIsMzc6IjQ2OHg0MDAiLDM4OiI5MzB4MTgwIiwzOToiNzUweDEwMCIsNDA6Ijc1MHgyMDAiLDQxOiI3NTB4MzAwIiw0MjoiMng0Iiw0MzoiMzIweDUwIiw0NDoiMzAweDUwIiw0ODoiMzAweDMwMCIsNTM6IjEwMjR4NzY4Iiw1NDoiMzAweDEwNTAiLDU1OiI5NzB4OTAiLDU3OiI5NzB4MjUwIiw1ODoiMTAwMHg5MCIsNTk6IjMyMHg4MCIsNjA6IjMyMHgxNTAiLDYxOiIxMDAweDEwMDAiLDY0OiI1ODB4NTAwIiw2NToiNjQweDQ4MCIsNjY6IjkzMHg2MDAiLDY3OiIzMjB4NDgwIiw2ODoiMTgwMHgxMDAwIiw3MjoiMzIweDMyMCIsNzM6IjMyMHgxNjAiLDc4OiI5ODB4MjQwIiw3OToiOTgweDMwMCIsODA6Ijk4MHg0MDAiLDgzOiI0ODB4MzAwIiw4NToiMzAweDEyMCIsOTA6IjU0OHgxNTAiLDk0OiI5NzB4MzEwIiw5NToiOTcweDEwMCIsOTY6Ijk3MHgyMTAiLDEwMToiNDgweDMyMCIsMTAyOiI3Njh4MTAyNCIsMTAzOiI0ODB4MjgwIiwxMDU6IjI1MHg4MDAiLDEwODoiMzIweDI0MCIsMTEzOiIxMDAweDMwMCIsMTE3OiIzMjB4MTAwIiwxMjU6IjgwMHgyNTAiLDEyNjoiMjAweDYwMCIsMTQ0OiI5ODB4NjAwIiwxNDU6Ijk4MHgxNTAiLDE1MjoiMTAwMHgyNTAiLDE1NjoiNjQweDMyMCIsMTU5OiIzMjB4MjUwIiwxNzk6IjI1MHg2MDAiLDE5NToiNjAweDMwMCIsMTk4OiI2NDB4MzYwIiwxOTk6IjY0MHgyMDAiLDIxMzoiMTAzMHg1OTAiLDIxNDoiOTgweDM2MCIsMjIxOiIxeDEiLDIyOToiMzIweDE4MCIsMjMwOiIyMDAweDE0MDAiLDIzMjoiNTgweDQwMCIsMjM0OiI2eDYiLDI1MToiMngyIiwyNTY6IjQ4MHg4MjAiLDI1NzoiNDAweDYwMCIsMjU4OiI1MDB4MjAwIiwyNTk6Ijk5OHgyMDAiLDI2NDoiOTcweDEwMDAiLDI2NToiMTkyMHgxMDgwIiwyNzQ6IjE4MDB4MjAwIiwyNzg6IjMyMHg1MDAiLDI4MjoiMzIweDQwMCIsMjg4OiI2NDB4MzgwIiw1NDg6IjUwMHgxMDAwIiw1NTA6Ijk4MHg0ODAiLDU1MjoiMzAweDIwMCIsNTU4OiI2NDB4NjQwIiw1NjI6IjMwMHg0MzEiLDU2NDoiMzIweDQzMSIsNTY2OiIzMjB4MzAwIiw1Njg6IjMwMHgxNTAiLDU3MDoiMzAweDEyNSIsNTcyOiIyNTB4MzUwIiw1NzQ6IjYyMHg4OTEiLDU3NjoiNjEweDg3NyIsNTc4OiI5ODB4NTUyIiw1ODA6IjUwNXg2NTYifTtPYmplY3Qobi5fZWFjaCkoaCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaFtlXT10fSkpO3ZhciBqPXtjb2RlOiJydWJpY29uIixndmxpZDo1MixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PXYoZS5wYXJhbXMpKXJldHVybiExO2Zvcih2YXIgdD0wLHI9WyJhY2NvdW50SWQiLCJzaXRlSWQiLCJ6b25lSWQiXTt0PHIubGVuZ3RoO3QrKylpZihlLnBhcmFtc1tyW3RdXT1wYXJzZUludChlLnBhcmFtc1tyW3RdXSksaXNOYU4oZS5wYXJhbXNbclt0XV0pKXJldHVybiBPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IHdyb25nIGZvcm1hdCBvZiBhY2NvdW50SWQgb3Igc2l0ZUlkIG9yIHpvbmVJZC4iKSwhMTt2YXIgaT13KGUsITApO3JldHVybiEhaSYmKCJ2aWRlbyIhPT1pfHxFKGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPVtdLGk9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJ2aWRlbyI9PT13KGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9e2lkOmUudHJhbnNhY3Rpb25JZCx0ZXN0Om8uYi5nZXRDb25maWcoImRlYnVnIik/MTowLGN1cjpbIlVTRCJdLHNvdXJjZTp7dGlkOmUudHJhbnNhY3Rpb25JZH0sdG1heDp0LnRpbWVvdXQsaW1wOlt7ZXhwOm8uYi5nZXRDb25maWcoInMyc0NvbmZpZy5kZWZhdWx0VHRsIiksaWQ6ZS5hZFVuaXRDb2RlLHNlY3VyZToxLGV4dDpnKHt9LGUuYmlkZGVyLGUucGFyYW1zKSx2aWRlbzpPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9fV0sZXh0OntwcmViaWQ6e2NoYW5uZWw6e25hbWU6InBianMiLHZlcnNpb246dXBianMudmVyc2lvbn0sY2FjaGU6e3Zhc3R4bWw6e3JldHVybkNyZWF0aXZlOiEwPT09eC5yZXR1cm5WYXN0fX0sdGFyZ2V0aW5nOntpbmNsdWRld2lubmVyczohMCxpbmNsdWRlYmlkZGVya2V5czohMSxwcmljZWdyYW51bGFyaXR5OlQoby5iKX0sYmlkZGVyczp7cnViaWNvbjp7aW50ZWdyYXRpb246eC5pbnRfdHlwZXx8InBianMifX19fX07InJ1Ymljb24iIT09ZS5iaWRkZXImJihyLmV4dC5wcmViaWQuYWxpYXNlcz1nKHt9LGUuYmlkZGVyLCJydWJpY29uIikpO3ZhciBpLGMscz1PYmplY3QodS5hKSgpLmluc3RhbGxlZE1vZHVsZXM7aWYoIXN8fHMubGVuZ3RoJiYtMT09PXMuaW5kZXhPZigicnViaWNvbkFuYWx5dGljc0FkYXB0ZXIiKXx8T2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJleHQucHJlYmlkLmFuYWx5dGljcyIse3J1Ymljb246eyJjbGllbnQtYW5hbHl0aWNzIjohMH19KSwiZnVuY3Rpb24iIT10eXBlb2YgZS5nZXRGbG9vcnx8eC5kaXNhYmxlRmxvb3JzKWk9cGFyc2VGbG9hdChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJwYXJhbXMuZmxvb3IiKSk7ZWxzZXt2YXIgZDt0cnl7ZD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6InZpZGVvIixzaXplOkEoZSwidmlkZW8iKX0pfWNhdGNoKGUpe09iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9aT0ib2JqZWN0IiE9PXYoZCl8fCJVU0QiIT09ZC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQoZC5mbG9vcikpP3ZvaWQgMDpwYXJzZUZsb2F0KGQuZmxvb3IpfShpc05hTihpKXx8KHIuaW1wWzBdLmJpZGZsb29yPWkpLHIuaW1wWzBdLmV4dFtlLmJpZGRlcl0udmlkZW8uc2l6ZV9pZD16KGUpLGZ1bmN0aW9uKGUsdCxyKXtpZighZSlyZXR1cm47Im9iamVjdCI9PT12KG8uYi5nZXRDb25maWcoImFwcCIpKT9lLmFwcD1vLmIuZ2V0Q29uZmlnKCJhcHAiKTplLnNpdGU9e3BhZ2U6Tyh0LHIpfTsib2JqZWN0Ij09PXYoby5iLmdldENvbmZpZygiZGV2aWNlIikpJiYoZS5kZXZpY2U9by5iLmdldENvbmZpZygiZGV2aWNlIikpO3QucGFyYW1zLnZpZGVvLmxhbmd1YWdlJiZbInNpdGUiLCJkZXZpY2UiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtlW3JdJiYoInNpdGUiPT09cj9lW3JdLmNvbnRlbnQ9Yih7bGFuZ3VhZ2U6dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2V9LGVbcl0uY29udGVudCk6ZVtyXT1iKHtsYW5ndWFnZTp0LnBhcmFtcy52aWRlby5sYW5ndWFnZX0sZVtyXSkpfSkpfShyLGUsdCksZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwJiYoZS5pbXBbMF0udmlkZW8uc2tpcD10LnBhcmFtcy52aWRlby5za2lwKTsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwYWZ0ZXImJihlLmltcFswXS52aWRlby5za2lwYWZ0ZXI9dC5wYXJhbXMudmlkZW8uc2tpcGRlbGF5KTsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5wb3MmJigiYXRmIj09PXQucGFyYW1zLnBvc2l0aW9uP2UuaW1wWzBdLnZpZGVvLnBvcz0xOiJidGYiPT09dC5wYXJhbXMucG9zaXRpb24mJihlLmltcFswXS52aWRlby5wb3M9MykpO3ZhciByPUEodCwidmlkZW8iKTtlLmltcFswXS52aWRlby53PXJbMF0sZS5pbXBbMF0udmlkZW8uaD1yWzFdfShyLGUpLHQuZ2RwckNvbnNlbnQpJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKGM9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLE9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQuZ2RwciIsYyksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTt0LnVzcENvbnNlbnQmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KTt2YXIgcD1PYmplY3Qobi5kZWVwQWNjZXNzKSh0LCJiaWRzLjAudXNlcklkQXNFaWRzIik7cCYmcC5sZW5ndGgmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwidXNlci5leHQuZWlkcyIscCk7dmFyIGw9by5iLmdldENvbmZpZygidXNlci5pZCIpO2wmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwidXNlci5pZCIsbCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuY29wcGEiLDEpLGUuc2NoYWluJiZVKGUuc2NoYWluKSYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJzb3VyY2UuZXh0LnNjaGFpbiIsZS5zY2hhaW4pO3ZhciBmPW8uYi5nZXRDb25maWcoIm11bHRpYmlkIik7cmV0dXJuIGYmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwiZXh0LnByZWJpZC5tdWx0aWJpZCIsZi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZS50b0xvd2VyQ2FzZSgpXT10W2VdfSkpLGUucHVzaChyKSxlfSksW10pKSxTKGUsYS5kLHIpLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIuaW1wWzBdLCJleHQucHJlYmlkLnN0b3JlZGF1Y3Rpb25yZXNwb25zZS5pZCIsZS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UudG9TdHJpbmcoKSksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLmltcFswXSwiZXh0LnByZWJpZC5hdWN0aW9udGltZXN0YW1wIix0LmF1Y3Rpb25TdGFydCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHgudmlkZW9Ib3N0fHwicHJlYmlkLXNlcnZlciIsIi5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIpLGRhdGE6cixiaWRSZXF1ZXN0OmV9fSkpO2lmKCEwIT09eC5zaW5nbGVSZXF1ZXN0KXI9aS5jb25jYXQoZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09dyhlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWouY3JlYXRlU2xvdFBhcmFtcyhlLHQpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHguYmFubmVySG9zdHx8ImZhc3RsYW5lIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uIiksZGF0YTpqLmdldE9yZGVyZWRQYXJhbXMocikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBpPXJbdF07cmV0dXJuIE9iamVjdChuLmlzU3RyKShpKSYmIiIhPT1pfHxPYmplY3Qobi5pc051bWJlcikoaSk/IiIuY29uY2F0KGUpLmNvbmNhdChQKHQsaSksIiYiKTplfSksIiIpKyJzbG90cz0xJnJhbmQ9Ii5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDplfX0pKSk7ZWxzZXt2YXIgYz1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT13KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4oZVt0LnBhcmFtcy5zaXRlSWRdPWVbdC5wYXJhbXMuc2l0ZUlkXXx8W10pLnB1c2godCksZX0pLHt9KTtyPWkuY29uY2F0KE9iamVjdC5rZXlzKGMpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgaSxvO3JldHVybihpPWNbcl0sbz0xMCxpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCVvPT0wP2kuc2xpY2UodCx0K28pOm51bGx9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ai5jb21iaW5lU2xvdFVybFBhcmFtcyhyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGouY3JlYXRlU2xvdFBhcmFtcyhlLHQpfSkpKTtlLnB1c2goe21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOmouZ2V0T3JkZXJlZFBhcmFtcyhpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9aVt0XTtyZXR1cm4gT2JqZWN0KG4uaXNTdHIpKHIpJiYiIiE9PXJ8fE9iamVjdChuLmlzTnVtYmVyKShyKT8iIi5jb25jYXQoZSkuY29uY2F0KFAodCxyKSwiJiIpOmV9KSwiIikrInNsb3RzPSIuY29uY2F0KHIubGVuZ3RoLCImcmFuZD0iKS5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDpyfSl9KSksZX0pLFtdKSl9cmV0dXJuIHJ9LGdldE9yZGVyZWRQYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9L150Z192LyxyPS9edGdfaS8sbj0vXmVpZF98XnRwaWRfLyxpPVsiYWNjb3VudF9pZCIsInNpdGVfaWQiLCJ6b25lX2lkIiwic2l6ZV9pZCIsImFsdF9zaXplX2lkcyIsInBfcG9zIiwiZ2RwciIsImdkcHJfY29uc2VudCIsInVzX3ByaXZhY3kiLCJycF9zY2hhaW4iXS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi50ZXN0KGUpfSkpKS5jb25jYXQoWyJ4X2xpdmVyYW1waWRsIiwicHB1aWQiLCJyZiIsInBfZ2VvLmxhdGl0dWRlIiwicF9nZW8ubG9uZ2l0dWRlIiwia3ciXSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChlKX0pKSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIudGVzdChlKX0pKSkuY29uY2F0KFsidGtfZmxpbnQiLCJ4X3NvdXJjZS50aWQiLCJ4X3NvdXJjZS5wY2hhaW4iLCJwX3NjcmVlbl9yZXMiLCJycF9mbG9vciIsInJwX3NlY3VyZSIsInRrX3VzZXJfa2V5Il0pO3JldHVybiBpLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpKX0sY29tYmluZVNsb3RVcmxQYXJhbXM6ZnVuY3Rpb24oZSl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO3ZhciB0PWUucmVkdWNlKChmdW5jdGlvbih0LHIsbil7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGkpe3QuaGFzT3duUHJvcGVydHkoaSl8fCh0W2ldPW5ldyBBcnJheShlLmxlbmd0aCkpLHRbaV0uc3BsaWNlKG4sMSxyW2ldKX0pKSx0fSkse30pLHI9bmV3IFJlZ0V4cCgiXihbXjtdKikoO1xcMSkrJCIpO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10W2VdLmpvaW4oIjsiKSxpPW4ubWF0Y2gocik7dFtlXT1pP2lbMV06bn0pKSx0fSxjcmVhdGVTbG90UGFyYW1zOmZ1bmN0aW9uKGUsdCl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9ZS5wYXJhbXMsaT1BKGUsImJhbm5lciIpLGM9ZihyLmxhdExvbmd8fFtdLDIpLGQ9Y1swXSx1PWNbMV0scD17YWNjb3VudF9pZDpyLmFjY291bnRJZCxzaXRlX2lkOnIuc2l0ZUlkLHpvbmVfaWQ6ci56b25lSWQsc2l6ZV9pZDppWzBdLGFsdF9zaXplX2lkczppLnNsaWNlKDEpLmpvaW4oIiwiKXx8dm9pZCAwLHJwX2Zsb29yOihyLmZsb29yPXBhcnNlRmxvYXQoci5mbG9vcikpPj0uMDE/ci5mbG9vcjp2b2lkIDAscnBfc2VjdXJlOiIxIix0a19mbGludDoiIi5jb25jYXQoeC5pbnRfdHlwZXx8InBianNfbGl0ZSIsIl92NS4yMC4yIiksInhfc291cmNlLnRpZCI6ZS50cmFuc2FjdGlvbklkLCJ4X3NvdXJjZS5wY2hhaW4iOnIucGNoYWluLHBfc2NyZWVuX3Jlczpbd2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodF0uam9pbigieCIpLHRrX3VzZXJfa2V5OnIudXNlcklkLCJwX2dlby5sYXRpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChkKSk/dm9pZCAwOnBhcnNlRmxvYXQoZCkudG9GaXhlZCg0KSwicF9nZW8ubG9uZ2l0dWRlIjppc05hTihwYXJzZUZsb2F0KHUpKT92b2lkIDA6cGFyc2VGbG9hdCh1KS50b0ZpeGVkKDQpLCJ0Z19mbC5laWQiOmUuY29kZSxyZjpPKGUsdCl9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYheC5kaXNhYmxlRmxvb3JzKXt2YXIgbDt0cnl7bD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfXAucnBfaGFyZF9mbG9vcj0ib2JqZWN0IiE9PXYobCl8fCJVU0QiIT09bC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQobC5mbG9vcikpP3ZvaWQgMDpsLmZsb29yfXZhciBiPXsxOiJhdGYiLDM6ImJ0ZiJ9W09iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnBvcyIpXXx8IiI7cC5wX3Bvcz0iYXRmIj09PXIucG9zaXRpb258fCJidGYiPT09ci5wb3NpdGlvbj9yLnBvc2l0aW9uOmI7dmFyIG09by5iLmdldENvbmZpZygidXNlci5pZCIpO3JldHVybiBtJiYocC5wcHVpZD1tKSxlLnVzZXJJZEFzRWlkcyYmZS51c2VySWRBc0VpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dHJ5e2lmKCJhZHNlcnZlci5vcmciPT09ZS5zb3VyY2U/KHAudHBpZF90ZGlkPWUudWlkc1swXS5pZCxwWyJlaWRfYWRzZXJ2ZXIub3JnIl09ZS51aWRzWzBdLmlkKToibGl2ZWludGVudC5jb20iPT09ZS5zb3VyY2U/KHBbInRwaWRfbGl2ZWludGVudC5jb20iXT1lLnVpZHNbMF0uaWQscFsiZWlkX2xpdmVpbnRlbnQuY29tIl09ZS51aWRzWzBdLmlkLGUuZXh0JiZBcnJheS5pc0FycmF5KGUuZXh0LnNlZ21lbnRzKSYmZS5leHQuc2VnbWVudHMubGVuZ3RoJiYocFsidGdfdi5MSXNlZyJdPWUuZXh0LnNlZ21lbnRzLmpvaW4oIiwiKSkpOiJsaXZlcmFtcC5jb20iPT09ZS5zb3VyY2U/cC54X2xpdmVyYW1waWRsPWUudWlkc1swXS5pZDoiaWQ1LXN5bmMuY29tIj09PWUuc291cmNlP3BbImVpZF9pZDUtc3luYy5jb20iXT0iIi5jb25jYXQoZS51aWRzWzBdLmlkLCJeIikuY29uY2F0KGUudWlkc1swXS5hdHlwZSwiXiIpLmNvbmNhdChlLnVpZHNbMF0uZXh0JiZlLnVpZHNbMF0uZXh0LmxpbmtUeXBlfHwiIik6cFsiZWlkXyIuY29uY2F0KGUuc291cmNlKV09IiIuY29uY2F0KGUudWlkc1swXS5pZCwiXiIpLmNvbmNhdChlLnVpZHNbMF0uYXR5cGV8fCIiKSwhcC5wcHVpZCl7dmFyIHQ9cygpKGUudWlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0JiYicHB1aWQiPT09ZS5leHQuc3R5cGV9KSk7dCYmdC5pZCYmKHAucHB1aWQ9dC5pZCl9fWNhdGNoKHQpe09iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBlcnJvciByZWFkaW5nIGVpZDoiLGUsdCl9fSkpLHQuZ2RwckNvbnNlbnQmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocC5nZHByPU51bWJlcih0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSkscC5nZHByX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSx0LnVzcENvbnNlbnQmJihwLnVzX3ByaXZhY3k9ZW5jb2RlVVJJQ29tcG9uZW50KHQudXNwQ29uc2VudCkpLHAucnBfbWF4Ymlkcz10LmJpZExpbWl0fHwxLFMoZSxhLmIscCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocC5jb3BwYT0xKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJihwLnJwX3NjaGFpbj1qLnNlcmlhbGl6ZVN1cHBseUNoYWluKGUuc2NoYWluKSkscH0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIVUoZSkpcmV0dXJuIiI7dmFyIHQ9ZS52ZXIscj1lLmNvbXBsZXRlLG49ZS5ub2RlcztyZXR1cm4iIi5jb25jYXQodCwiLCIpLmNvbmNhdChyLCIhIikuY29uY2F0KGouc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlcyhuKSl9LHNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlW3RdfHwiIil9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZFJlcXVlc3Q7aWYoIShlPWUuYm9keSl8fCJvYmplY3QiIT09dihlKSlyZXR1cm5bXTtpZihlLnNlYXRiaWQpe3ZhciBpPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5lcnJvcnMucnViaWNvbiIpO0FycmF5LmlzQXJyYXkoaSkmJmkubGVuZ3RoPjAmJk9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBFcnJvciBpbiB2aWRlbyByZXNwb25zZSIpO3ZhciBvPVtdO3JldHVybiBlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24odCl7KHQuYmlkfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIGM9e3JlcXVlc3RJZDpyLmJpZElkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixjcmVhdGl2ZUlkOmkuY3JpZCxjcG06aS5wcmljZXx8MCxiaWRkZXJDb2RlOnQuc2VhdCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUsd2lkdGg6aS53fHxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJtZWRpYVR5cGVzLnZpZGVvLnciKXx8T2JqZWN0KG4uZGVlcEFjY2VzcykociwicGFyYW1zLnZpZGVvLnBsYXllcldpZHRoIiksaGVpZ2h0OmkuaHx8T2JqZWN0KG4uZGVlcEFjY2VzcykociwibWVkaWFUeXBlcy52aWRlby5oIil8fE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsInBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQiKX07aS5pZCYmKGMuc2VhdEJpZElkPWkuaWQpLGkuZGVhbGlkJiYoYy5kZWFsSWQ9aS5kZWFsaWQpLGkuYWRvbWFpbiYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShjLCJtZXRhLmFkdmVydGlzZXJEb21haW5zIixBcnJheS5pc0FycmF5KGkuYWRvbWFpbik/aS5hZG9tYWluOltpLmFkb21haW5dKSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJleHQuYmlkZGVyLnJwLmFkdmlkIikmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkoYywibWV0YS5hZHZlcnRpc2VySWQiLGkuZXh0LmJpZGRlci5ycC5hZHZpZCk7dmFyIHM9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiZXh0LnJlc3BvbnNldGltZW1pbGxpcy5ydWJpY29uIik7aWYociYmcyYmKHIuc2VydmVyUmVzcG9uc2VUaW1lTXM9cyksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiZXh0LnByZWJpZC50eXBlIik9PT1hLmQpe2MubWVkaWFUeXBlPWEuZCxPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGMsIm1ldGEubWVkaWFUeXBlIixhLmQpO3ZhciB1PU9iamVjdChuLmRlZXBBY2Nlc3MpKGksImV4dC5wcmViaWQudGFyZ2V0aW5nIik7dSYmIm9iamVjdCI9PT12KHUpJiYoYy5hZHNlcnZlclRhcmdldGluZz11KSxpLmV4dC5wcmViaWQuY2FjaGUmJiJvYmplY3QiPT09dihpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbCkmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybD8oYy52aWRlb0NhY2hlS2V5PWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQsYy52YXN0VXJsPWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybCk6dSYmdS5oYl91dWlkJiZ1LmhiX2NhY2hlX2hvc3QmJnUuaGJfY2FjaGVfcGF0aCYmKGMudmlkZW9DYWNoZUtleT11LmhiX3V1aWQsYy52YXN0VXJsPSJodHRwczovLyIuY29uY2F0KHUuaGJfY2FjaGVfaG9zdCkuY29uY2F0KHUuaGJfY2FjaGVfcGF0aCwiP3V1aWQ9IikuY29uY2F0KHUuaGJfdXVpZCkpLGkuYWRtJiYoYy52YXN0WG1sPWkuYWRtKSxpLm51cmwmJihjLnZhc3RVcmw9aS5udXJsKSwhYy52YXN0VXJsJiZpLm51cmwmJihjLnZhc3RVcmw9aS5udXJsKSwib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLnRvTG93ZXJDYXNlKCkmJihjLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciB0PWQuYS5pbnN0YWxsKHtpZDplLmFkSWQsdXJsOngucmVuZGVyZXJVcmx8fHksY29uZmlnOngucmVuZGVyZXJDb25maWd8fHt9LGxvYWRlZDohMSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXt0LnNldFJlbmRlcihfKX1jYXRjaChlKXtPYmplY3Qobi5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gdH0oYykpfWVsc2UgT2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IHZpZGVvIHJlc3BvbnNlIHJlY2VpdmVkIG5vbi12aWRlbyBtZWRpYSB0eXBlIik7by5wdXNoKGMpfSkpfSkpLG99dmFyIGMscz1lLmFkcyx1PTA7cmV0dXJuIm9iamVjdCIhPT12KHIpfHxBcnJheS5pc0FycmF5KHIpfHwidmlkZW8iIT09dyhyKXx8Im9iamVjdCIhPT12KHMpfHwocz1zW3IuYWRVbml0Q29kZV0pLCFBcnJheS5pc0FycmF5KHMpfHxzLmxlbmd0aDwxP1tdOnMucmVkdWNlKChmdW5jdGlvbih0LGksbyl7aWYoaS5pbXByZXNzaW9uX2lkJiZjPT09aS5pbXByZXNzaW9uX2lkP3UrKzpjPWkuaW1wcmVzc2lvbl9pZCwib2siIT09aS5zdGF0dXMpcmV0dXJuIHQ7dmFyIHMsZCxwPUFycmF5LmlzQXJyYXkocik/cltvLXVdOnI7aWYocCYmIm9iamVjdCI9PT12KHApKXt2YXIgbD17cmVxdWVzdElkOnAuYmlkSWQsY3VycmVuY3k6IlVTRCIsY3JlYXRpdmVJZDppLmNyZWF0aXZlX2lkfHwiIi5jb25jYXQoaS5uZXR3b3JrfHwiIiwiLSIpLmNvbmNhdChpLmFkdmVydGlzZXJ8fCIiKSxjcG06aS5jcG18fDAsZGVhbElkOmkuZGVhbCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUscnViaWNvbjp7YWR2ZXJ0aXNlcklkOmkuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6aS5uZXR3b3JrfSxtZXRhOnthZHZlcnRpc2VySWQ6aS5hZHZlcnRpc2VyLG5ldHdvcmtJZDppLm5ldHdvcmssbWVkaWFUeXBlOmEuYn19O2lmKGkuY3JlYXRpdmVfdHlwZSYmKGwubWVkaWFUeXBlPWkuY3JlYXRpdmVfdHlwZSksaS5hZG9tYWluJiYobC5tZXRhLmFkdmVydGlzZXJEb21haW5zPUFycmF5LmlzQXJyYXkoaS5hZG9tYWluKT9pLmFkb21haW46W2kuYWRvbWFpbl0pLGkuY3JlYXRpdmVfdHlwZT09PWEuZClsLndpZHRoPXAucGFyYW1zLnZpZGVvLnBsYXllcldpZHRoLGwuaGVpZ2h0PXAucGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCxsLnZhc3RVcmw9aS5jcmVhdGl2ZV9kZXBvdF91cmwsbC5pbXByZXNzaW9uX2lkPWkuaW1wcmVzc2lvbl9pZCxsLnZpZGVvQ2FjaGVLZXk9aS5pbXByZXNzaW9uX2lkO2Vsc2V7bC5hZD0ocz1pLnNjcmlwdCxkPWkuaW1wcmVzc2lvbl9pZCwiPGh0bWw+XG48aGVhZD48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+aW5EYXBJRj10cnVlOzxcL3NjcmlwdD48L2hlYWQ+XG48Ym9keSBzdHlsZT0nbWFyZ2luIDogMDsgcGFkZGluZzogMDsnPlxuXHgzYyEtLSBSdWJpY29uIFByb2plY3QgQWQgVGFnIC0tXHgzZVxuPGRpdiBkYXRhLXJwLWltcHJlc3Npb24taWQ9JyIuY29uY2F0KGQsIic+XG48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+IikuY29uY2F0KHMsIjxcL3NjcmlwdD5cbjwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPiIpKTt2YXIgYj1mKGhbaS5zaXplX2lkXS5zcGxpdCgieCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihlKX0pKSwyKTtsLndpZHRoPWJbMF0sbC5oZWlnaHQ9YlsxXX1sLnJ1Ymljb25UYXJnZXRpbmc9KEFycmF5LmlzQXJyYXkoaS50YXJnZXRpbmcpP2kudGFyZ2V0aW5nOltdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5rZXldPXQudmFsdWVzWzBdLGV9KSx7cnBmbF9lbGVtaWQ6cC5hZFVuaXRDb2RlfSksdC5wdXNoKGwpfWVsc2UgT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBiaWRSZXF1ZXN0IHVuZGVmaW5lZCBhdCBpbmRleCBwb3NpdGlvbjoiLmNvbmNhdChvKSxyLGUpO3JldHVybiB0fSksW10pLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQuY3BtfHwwKS0oZS5jcG18fDApfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7aWYoIU4mJmUuaWZyYW1lRW5hYmxlZCl7dmFyIGk9IiI7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcz9pKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHIuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpOmkrPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHIuY29uc2VudFN0cmluZykpLG4mJihpKz0iIi5jb25jYXQoaT8iJiI6Ij8iLCJ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobikpKSxOPSEwLHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LnN5bmNIb3N0fHwiZXVzIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS91c3luYy5odG1sIikraX19fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KG4uY29udmVydFR5cGVzKSh7YWNjb3VudElkOiJudW1iZXIiLHNpdGVJZDoibnVtYmVyIix6b25lSWQ6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gTyhlLHQpe3ZhciByPW8uYi5nZXRDb25maWcoInBhZ2VVcmwiKTtyZXR1cm4gZS5wYXJhbXMucmVmZXJyZXI/cj1lLnBhcmFtcy5yZWZlcnJlcjpyfHwocj10LnJlZmVyZXJJbmZvLnJlZmVyZXIpLGUucGFyYW1zLnNlY3VyZT9yLnJlcGxhY2UoL15odHRwOi9pLCJodHRwczoiKTpyfWZ1bmN0aW9uIF8oZSl7dmFyIHQscj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpOyh0PXIucXVlcnlTZWxlY3RvcigiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpJiZ0LnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUucXVlcnlTZWxlY3Rvcigic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIikscj10JiZ0Lm5leHRTaWJsaW5nO3ImJiJpZnJhbWUiPT09ci5sb2NhbE5hbWUmJnIuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9KHIpO3ZhciBuPWUucmVuZGVyZXIuZ2V0Q29uZmlnKCk7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5NYWduaXRlQXBleC5yZW5kZXJBZCh7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFVybDplLnZhc3RVcmwscGxhY2VtZW50OnthdHRhY2hUbzoiIyIuY29uY2F0KGUuYWRVbml0Q29kZSksYWxpZ246bi5hbGlnbnx8ImNlbnRlciIscG9zaXRpb246bi5wb3NpdGlvbnx8ImFwcGVuZCJ9LGNsb3NlQnV0dG9uOm4uY2xvc2VCdXR0b258fCExLGxhYmVsOm4ubGFiZWx8fHZvaWQgMCxjb2xsYXBzZTpuLmNvbGxhcHNlfHwhMH0pfSkpfWZ1bmN0aW9uIEEoZSx0KXt2YXIgcj1lLnBhcmFtcztpZigidmlkZW8iPT09dCl7dmFyIGk9W107cmV0dXJuIHIudmlkZW8mJnIudmlkZW8ucGxheWVyV2lkdGgmJnIudmlkZW8ucGxheWVySGVpZ2h0P2k9W3IudmlkZW8ucGxheWVyV2lkdGgsci52aWRlby5wbGF5ZXJIZWlnaHRdOkFycmF5LmlzQXJyYXkoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpJiYxPT09ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUubGVuZ3RoP2k9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF06QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MCYmQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKSYmZS5zaXplc1swXS5sZW5ndGg+MSYmKGk9ZS5zaXplc1swXSksaX12YXIgbz1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShyLnNpemVzKT9vPXIuc2l6ZXM6dm9pZCAwIT09T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9vPUMoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk6QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MD9vPUMoZS5zaXplcyk6T2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IG5vIHNpemVzIGFyZSBzZXR1cCBvciBmb3VuZCIpLFIobyl9ZnVuY3Rpb24gUyhlLHQscil7dmFyIGk9e3VzZXI6e2V4dDp7ZGF0YTpsKHt9LGUucGFyYW1zLnZpc2l0b3IpfX0sc2l0ZTp7ZXh0OntkYXRhOmwoe30sZS5wYXJhbXMuaW52ZW50b3J5KX19fTtlLnBhcmFtcy5rZXl3b3JkcyYmKGkuc2l0ZS5rZXl3b3Jkcz1PYmplY3Qobi5pc0FycmF5KShlLnBhcmFtcy5rZXl3b3Jkcyk/ZS5wYXJhbXMua2V5d29yZHMuam9pbigiLCIpOmUucGFyYW1zLmtleXdvcmRzKTt2YXIgYz1PYmplY3Qobi5tZXJnZURlZXApKHt9LG8uYi5nZXRDb25maWcoIm9ydGIyIil8fHt9LGkpLHM9T2JqZWN0KG4uZGVlcEFjY2VzcykoZS5vcnRiMkltcCwiZXh0LmRhdGEiKXx8e30sZD17dXNlcjpbNF0sc2l0ZTpbMSwyLDUsNl19LHU9e3VzZXI6InRnX3YuIixzaXRlOiJ0Z19pLiIsYWRzZXJ2ZXI6InRnX2kuZGZwX2FkX3VuaXRfY29kZSIscGJhZHNsb3Q6InRnX2kucGJhZHNsb3QiLGtleXdvcmRzOiJrdyJ9LHA9ZnVuY3Rpb24oZSx0LHIpe2lmKCJkYXRhIj09PXQmJkFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWdtZW50JiZPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJleHQuc2VndGF4IikmJmRbcl0mJi0xIT09ZFtyXS5pbmRleE9mKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5zZWd0YXgiKSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lLnNlZ21lbnQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucHVzaCh0LmlkKSxlfSksW10pO2lmKHQubGVuZ3RoPjApcmV0dXJuIHQudG9TdHJpbmcoKX0pKS50b1N0cmluZygpO2lmKCJvYmplY3QiIT09dihlKXx8QXJyYXkuaXNBcnJheShlKSl7aWYodm9pZCAwIT09ZSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmZpbHRlcigoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPT12KGUpJiZ2b2lkIDAhPT1lKXJldHVybiBlLnRvU3RyaW5nKCk7T2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IEZpbHRlcmVkIHZhbHVlOiAiLGUsImZvciBrZXkiLHQsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0pKS50b1N0cmluZygpOmUudG9TdHJpbmcoKX1lbHNlIE9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBGaWx0ZXJlZCBGUEQga2V5OiAiLHQsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0sYj1mdW5jdGlvbihlLHQsbil7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXSxvPXAoZSxuLHQpLGE9dVtuXSYmaT8iIi5jb25jYXQodVtuXSk6ImRhdGEiPT09bj8iIi5jb25jYXQodVt0XSwiaWFiIik6IiIuY29uY2F0KHVbdF0pLmNvbmNhdChuKTtyW2FdPXJbYV0/clthXS5jb25jYXQoIiwiLG8pOm99O09iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJhZHNlcnZlciI9PT1lP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3NbZV1bdF0mJihzW2VdW3RdPXNbZV1bdF0udG9TdHJpbmcoKS5yZXBsYWNlKC9eXC8rLywiIikpfSkpOiJwYmFkc2xvdCI9PT1lJiYoc1tlXT1zW2VdLnRvU3RyaW5nKCkucmVwbGFjZSgvXlwvKy8sIiIpKX0pKSx0PT09YS5iPyhbInNpdGUiLCJ1c2VyIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoY1tlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7InNpdGUiPT09ZSYmImNvbnRlbnQiPT09dCYmY1tlXVt0XS5kYXRhP2IoY1tlXVt0XS5kYXRhLGUsImRhdGEiKToiZXh0IiE9PXQ/YihjW2VdW3RdLGUsdCk6Y1tlXVt0XS5kYXRhJiZPYmplY3Qua2V5cyhjW2VdLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbih0KXtiKGNbZV0uZXh0LmRhdGFbdF0sZSx0LCExKX0pKX0pKX0pKSxPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiYWRzZXJ2ZXIiPT09ZT9iKHNbZV0uYWRzbG90LG5hbWUsZSk6YihzW2VdLCJzaXRlIixlKX0pKSk6KE9iamVjdC5rZXlzKHMpLmxlbmd0aCYmT2JqZWN0KG4ubWVyZ2VEZWVwKShyLmltcFswXS5leHQse2RhdGE6c30pLE9iamVjdChuLm1lcmdlRGVlcCkocixjKSl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gT2JqZWN0KG4ucGFyc2VTaXplc0lucHV0KShlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cGFyc2VJbnQoaFt0XSwxMCk7cmV0dXJuIHImJmUucHVzaChyKSxlfSksW10pfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIm9iamVjdCI9PT12KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpKSYmdm9pZCAwIT09T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQpKX1mdW5jdGlvbiB3KGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIEkoZSk/LTE9PT1bIm91dHN0cmVhbSIsImluc3RyZWFtIl0uaW5kZXhPZihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCwiLmNvbnRleHQiKSkpP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQgbXVzdCBiZSBvdXRzdHJlYW0gb3IgaW5zdHJlYW0iKSk6QShlLCJ2aWRlbyIpLmxlbmd0aDwyP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBwbGF5ZXJTaXplIG9mIHRoZSB2aWRlbyIpKToodCYmT2JqZWN0KG4ubG9nTWVzc2FnZSkoIlJ1Ymljb246IG1ha2luZyB2aWRlbyByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksInZpZGVvIik6MD09PUEoZSwiYmFubmVyIikubGVuZ3RoP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBzaXplcyBmb3IgYmFubmVyIHJlcXVlc3QiKSk6KHQmJk9iamVjdChuLmxvZ01lc3NhZ2UpKCJSdWJpY29uOiBtYWtpbmcgYmFubmVyIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwiYmFubmVyIil9dmFyIGs9ZnVuY3Rpb24oKXtyZXR1cm4geD17fX07ZnVuY3Rpb24gUihlKXt2YXIgdD1bMTUsMiw5XTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbihlLHIpe3ZhciBuPXQuaW5kZXhPZihlKSxpPXQuaW5kZXhPZihyKTtyZXR1cm4gbj4tMXx8aT4tMT8tMT09PW4/MTotMT09PWk/LTE6bi1pOmUtcn0pKX1mdW5jdGlvbiB6KGUpe3ZhciB0PXBhcnNlSW50KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5zaXplX2lkIikpO3JldHVybiBpc05hTih0KT8ib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kLCIuY29udGV4dCIpKT8yMDM6MjAxOnR9ZnVuY3Rpb24gVChlKXtyZXR1cm57cmFuZ2VzOntsb3c6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XSxtZWRpdW06W3ttYXg6MjAsaW5jcmVtZW50Oi4xfV0saGlnaDpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV0sYXV0bzpbe21heDo1LGluY3JlbWVudDouMDV9LHttaW46NSxtYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWluOjEwLG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxkZW5zZTpbe21heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dLGN1c3RvbTplLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSYmZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikuYnVja2V0c31bZS5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKV19fWZ1bmN0aW9uIEUoZSl7dmFyIHQ9ITAscj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW10pLGk9e21pbWVzOnIscHJvdG9jb2xzOnIsbGluZWFyaXR5Ok9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgwKSxhcGk6cn07cmV0dXJuIE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLiIrcikpIT09aVtyXSYmKHQ9ITEsT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLiIrcisiIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIG9mIHR5cGU6ICIraVtyXSkpfSkpLHR9ZnVuY3Rpb24gVShlKXt2YXIgdD0hMSxyPVsiYXNpIiwic2lkIiwiaHAiXTtyZXR1cm4gZS5ub2Rlcz8oKHQ9ZS5ub2Rlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9KSk6ZX0pLCEwKSl8fE9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogcmVxdWlyZWQgc2NoYWluIHBhcmFtcyBtaXNzaW5nIiksdCk6dH1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuInJwX3NjaGFpbiI9PT1lPyJycF9zY2hhaW49Ii5jb25jYXQodCk6IiIuY29uY2F0KGUsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKX12YXIgTj0hMTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoail9fSxbNzc4XSk7CnVwYmpzQ2h1bmsoWzEzNV0sezc4NDpmdW5jdGlvbihuLGksZSl7bi5leHBvcnRzPWUoNzg1KX0sNzg1OmZ1bmN0aW9uKG4saSxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGkuaXNTY2hhaW5PYmplY3RWYWxpZD1oLGkuaXNWYWxpZFNjaGFpbkNvbmZpZz11LGkubWFrZUJpZFJlcXVlc3RzSG9vaz1PLGkuaW5pdD1sO3ZhciB0PWUoMyksYz1lKDgpLG89ZSgwKSxhPSJJbnZhbGlkIHNjaGFpbiBvYmplY3QgZm91bmQ6ICIscz0iIHNob3VsZCBiZSBhIHN0cmluZyIscj0iIHNob3VsZCBiZSBhbiBJbnRlZ2VyIixmPSIgc2hvdWxkIGJlIGFuIG9iamVjdCIsZD17U1RSSUNUOiJzdHJpY3QiLFJFTEFYRUQ6InJlbGF4ZWQiLE9GRjoib2ZmIn0sYj1bXTtmdW5jdGlvbiBoKG4saSl7dmFyIGU9IkRldGVjdGVkIHNvbWV0aGluZyB3cm9uZyB3aXRoaW4gYW4gc2NoYWluIGNvbmZpZzoiLHQ9IiI7ZnVuY3Rpb24gYyhuKXt0Kz0iXG4iK259ZnVuY3Rpb24gYSgpeyEwPT09aT9PYmplY3Qoby5sb2dFcnJvcikoZSxuLHQpOk9iamVjdChvLmxvZ1dhcm4pKGUsbix0KX1pZighT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobikmJihjKCJzY2hhaW4uY29uZmlnIitmKSxhKCksaSkpcmV0dXJuITE7aWYoT2JqZWN0KG8uaXNOdW1iZXIpKG4uY29tcGxldGUpJiZPYmplY3Qoby5pc0ludGVnZXIpKG4uY29tcGxldGUpfHxjKCJzY2hhaW4uY29uZmlnLmNvbXBsZXRlIityKSxPYmplY3Qoby5pc1N0cikobi52ZXIpfHxjKCJzY2hhaW4uY29uZmlnLnZlciIrcyksT2JqZWN0KG8uaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5leHQiK2YpKSxPYmplY3Qoby5pc0FycmF5KShuLm5vZGVzKSluLm5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG4saSl7T2JqZWN0KG8uaXNTdHIpKG4uYXNpKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmFzaSIpK3MpLE9iamVjdChvLmlzU3RyKShuLnNpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5zaWQiKStzKSxPYmplY3Qoby5pc051bWJlcikobi5ocCkmJk9iamVjdChvLmlzSW50ZWdlcikobi5ocCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5ocCIpK3IpLE9iamVjdChvLmhhc093bikobiwicmlkIikmJihPYmplY3Qoby5pc1N0cikobi5yaWQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0ucmlkIikrcykpLE9iamVjdChvLmhhc093bikobiwibmFtZSIpJiYoT2JqZWN0KG8uaXNTdHIpKG4ubmFtZSl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5uYW1lIikrcykpLE9iamVjdChvLmhhc093bikobiwiZG9tYWluIikmJihPYmplY3Qoby5pc1N0cikobi5kb21haW4pfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uZG9tYWluIikrcykpLE9iamVjdChvLmhhc093bikobiwiZXh0IikmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmV4dCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5leHQiKStmKSl9KSk7ZWxzZSBpZihjKCJzY2hhaW4uY29uZmlnLm5vZGVzIHNob3VsZCBiZSBhbiBBcnJheSIpLGEoKSxpKXJldHVybiExO3JldHVybiEodC5sZW5ndGg+MCYmKGEoKSxpKSl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gdm9pZCAwIT09biYmKCEhT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobil8fChPYmplY3Qoby5sb2dFcnJvcikoYSsidGhlIGZvbGxvd2luZyBzY2hhaW4gY29uZmlnIHdpbGwgbm90IGJlIHVzZWQgYXMgc2NoYWluIGlzIG5vdCBhbiBvYmplY3QuIixuKSwhMSkpfWZ1bmN0aW9uIE8obixpKXt2YXIgZT10LmIuZ2V0Q29uZmlnKCJzY2hhaW4iKSxjPXQuYi5nZXRCaWRkZXJDb25maWcoKTtpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPW4uYmlkZGVyQ29kZSx0PWZ1bmN0aW9uKG4pe3JldHVybiBjW25dJiZjW25dLnNjaGFpbnx8ZX0oaSk7bi5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBlPWZ1bmN0aW9uKG4saSl7dmFyIGU9ZC5TVFJJQ1Q7aWYodShuKSl7aWYoT2JqZWN0KG8uaXNTdHIpKG4udmFsaWRhdGlvbikmJi0xIT1iLmluZGV4T2Yobi52YWxpZGF0aW9uKSYmKGU9bi52YWxpZGF0aW9uKSxlPT09ZC5PRkYpcmV0dXJuIG4uY29uZmlnO2lmKGgobi5jb25maWcsIShlIT09ZC5TVFJJQ1QpKSlyZXR1cm4gbi5jb25maWc7T2JqZWN0KG8ubG9nRXJyb3IpKGErImR1ZSB0byB0aGUgJ3N0cmljdCcgdmFsaWRhdGlvbiBzZXR0aW5nLCB0aGlzIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgcGFzc2VkIHRvIGJpZGRlciAnIi5jb25jYXQoaSwiJy4gIFNlZSBhYm92ZSBlcnJvciBmb3IgZGV0YWlscy4iKSl9cmV0dXJuIG51bGx9KHQsaSk7ZSYmKG4uc2NoYWluPWUpfSkpfSkpLG4oaSl9ZnVuY3Rpb24gbCgpe2MuZGVmYXVsdC5tYWtlQmlkUmVxdWVzdHMuYWZ0ZXIoTyl9T2JqZWN0KG8uX2VhY2gpKGQsKGZ1bmN0aW9uKG4pe3JldHVybiBiLnB1c2gobil9KSksbCgpfX0sWzc4NF0pOwp1cGJqc0NodW5rKFsyMl0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgbj1pKGVbcl0scik7biYmdC5wdXNoKG4pfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3Qobi5kZWVwQWNjZXNzKShvLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6b1tyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIG49cigwKSxvPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4ucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBpKGUsdCl7dmFyIHI9b1t0XTtpZihyJiZlKXt2YXIgaT17fTtpLnNvdXJjZT1yLnNvdXJjZTt2YXIgYT1PYmplY3Qobi5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KG4uaXNTdHIpKGEpKXt2YXIgYz17aWQ6YSxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3Qobi5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciB1PXIuZ2V0VWlkRXh0KGUpO3UmJihjLmV4dD11KX1pZihpLnVpZHM9W2NdLE9iamVjdChuLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIGQ9ci5nZXRFaWRFeHQoZSk7ZCYmKGkuZXh0PWQpfXJldHVybiBpfX1yZXR1cm4gbnVsbH19LDc5NDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzk1KX0sNzk1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzaGFyZXRocm91Z2hJbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksci5kKHQsInNoYXJldGhyb3VnaEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgbj1yKDApLG89cigxKSxpPXIoMyksYT1yKDIpLGM9cigxNyk7ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/ZChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmQoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLG8saT1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKG4udmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLG89ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4geShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciBmPSJzaGFyZXRocm91Z2giLG09Imh0dHBzOi8vYnRsci5zaGFyZXRocm91Z2guY29tL3VuaXZlcnNhbC92MT9zdXBwbHlfaWQ9Ii5jb25jYXQoIldZdTJCWHYxIiksYj17Z2V0UHJvdG9jb2w6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sfX0sZz17Y29kZTpmLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuZCxhLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMucGtleSYmZS5iaWRkZXI9PT1mfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLG89Yi5nZXRQcm90b2NvbCgpLmluZGV4T2YoImh0dHAiKTwwfHxiLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cHMiKT4tMSxhPXtpZDpPYmplY3Qobi5nZW5lcmF0ZVVVSUQpKCksYXQ6MSxjdXI6WyJVU0QiXSx0bWF4OnIsc2l0ZTp7ZG9tYWluOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxwYWdlOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZjp0LnJlZmVyZXJJbmZvJiZ0LnJlZmVyZXJJbmZvLnJlZmVyZXJ8fG51bGx9LHVzZXI6e2V4dDp7ZWlkczpJKGVbMF0pfX0sZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZSxqczoxLGRudDoiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFjaz8xOjAsaDp3aW5kb3cuc2NyZWVuLmhlaWdodCx3OndpbmRvdy5zY3JlZW4ud2lkdGh9LHJlZ3M6e2NvcHBhOiEwPT09aS5iLmdldENvbmZpZygiY29wcGEiKT8xOjAsZXh0Ont9fSxzb3VyY2U6e2V4dDp7dmVyc2lvbjoiNS4yMC4yIixzdHI6IjQuMC4xIixzY2hhaW46ZVswXS5zY2hhaW59fSxiY2F0OmVbMF0ucGFyYW1zLmJjYXR8fFtdLGJhZHY6ZVswXS5wYXJhbXMuYmFkdnx8W10sdGVzdDowfTtpZih0LmdkcHJDb25zZW50KXt2YXIgYz0hMD09PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM7YS5yZWdzLmV4dC5nZHByPWM/MTowLGMmJihhLnVzZXIuZXh0LmNvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKX1yZXR1cm4gdC51c3BDb25zZW50JiYoYS5yZWdzLmV4dC51c19wcml2YWN5PXQudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtpZihyJiYodC5leHQ9e2dwaWQ6cn0pLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KXJldHVybiBudWxsO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXt2YXIgaT1lLm1lZGlhVHlwZXMudmlkZW8sYT02NDAsYz0zNjA7aWYoaS5wbGF5ZXJTaXplJiZpLnBsYXllclNpemVbMF0mJmkucGxheWVyU2l6ZVsxXSl7dmFyIHU9bChpLnBsYXllclNpemUsMik7YT11WzBdLGM9dVsxXX10LnZpZGVvPXtwb3M6aihpLnBvcywwKSx0b3BmcmFtZTpPYmplY3Qobi5pbklmcmFtZSkoKT8wOjEsc2tpcDpqKGkuc2tpcCwwKSxsaW5lYXJpdHk6aihpLmxpbmVhcml0eSwxKSxtaW5kdXJhdGlvbjpqKGkubWluZHVyYXRpb24sNSksbWF4ZHVyYXRpb246aihpLm1heGR1cmF0aW9uLDYwKSxwbGF5YmFja21ldGhvZDppLnBsYXliYWNrbWV0aG9kfHxbMl0sYXBpOnYoaSksbWltZXM6aS5taW1lc3x8WyJ2aWRlby9tcDQiXSxwcm90b2NvbHM6aChpKSx3OmEsaDpjLHN0YXJ0ZGVsYXk6aihpLnN0YXJ0ZGVsYXksMCksc2tpcG1pbjpqKGkuc2tpcG1pbiwwKSxza2lwYWZ0ZXI6aihpLnNraXBhZnRlciwwKX0saS5wbGFjZW1lbnQmJih0LnZpZGVvLnBsYWNlbWVudD1pLnBsYWNlbWVudCksaS5kZWxpdmVyeSYmKHQudmlkZW8uZGVsaXZlcnk9aS5kZWxpdmVyeSksaS5jb21wYW5pb250eXBlJiYodC52aWRlby5jb21wYW5pb250eXBlPWkuY29tcGFuaW9udHlwZSksaS5jb21wYW5pb25hZCYmKHQudmlkZW8uY29tcGFuaW9uYWQ9aS5jb21wYW5pb25hZCl9ZWxzZSB0LmJhbm5lcj17cG9zOk9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnBvcyIsMCksdG9wZnJhbWU6T2JqZWN0KG4uaW5JZnJhbWUpKCk/MDoxLGZvcm1hdDplLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6K2VbMF0saDorZVsxXX19KSl9O3JldHVybiBzKHtpZDplLmJpZElkLHRhZ2lkOlN0cmluZyhlLnBhcmFtcy5wa2V5KSxzZWN1cmU6bz8xOjAsYmlkZmxvb3I6TyhlKX0sdCl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bSxkYXRhOnMocyh7fSxhKSx7fSx7aW1wOltlXX0pfX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7cmV0dXJuIHImJnIuc2VhdGJpZCYmMCE9PXIuc2VhdGJpZC5sZW5ndGgmJnIuc2VhdGJpZFswXS5iaWQmJjAhPT1yLnNlYXRiaWRbMF0uYmlkLmxlbmd0aD9yLnNlYXRiaWRbMF0uYmlkLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49e3JlcXVlc3RJZDplLmltcGlkLHdpZHRoOitlLncsaGVpZ2h0OitlLmgsY3BtOitlLnByaWNlLGNyZWF0aXZlSWQ6ZS5jcmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxtZWRpYVR5cGU6dC5kYXRhLmltcFswXS52aWRlbz9hLmQ6YS5iLGN1cnJlbmN5OnIuY3VyfHwiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNjAsYWQ6ZS5hZG0sbnVybDplLm51cmwsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXX19O3JldHVybiBuLm1lZGlhVHlwZT09PWEuZCYmKG4udHRsPTM2MDAsbi52YXN0WG1sPWUuYWRtKSxufSkpOltdfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89bj8iJnVzX3ByaXZhY3k9Ii5jb25jYXQobik6IiIsaT1bXTtyZXR1cm4gZS5waXhlbEVuYWJsZWQmJnQubGVuZ3RoPjAmJnRbMF0uYm9keSYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzJiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmUrb30pfSkpLGl9LG9uVGltZW91dDpmdW5jdGlvbihlKXt9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7fX07ZnVuY3Rpb24gdihlKXt2YXIgdD1lLmFwaTtyZXR1cm4gdCYmQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MD90OlsyXX1mdW5jdGlvbiBoKGUpe3ZhciB0PWUucHJvdG9jb2xzO3JldHVybiB0JiZBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wP3Q6WzIsMyw1LDYsNyw4XX1mdW5jdGlvbiBPKGUpe3ZhciB0PW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJiYW5uZXIiLHNpemU6ZS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0pOyJvYmplY3QiIT09dShyKXx8IlVTRCIhPT1yLmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KHIuZmxvb3IpKXx8KHQ9cGFyc2VGbG9hdChyLmZsb29yKSl9cmV0dXJuIG51bGwhPT10P3Q6ZS5wYXJhbXMuZmxvb3J9ZnVuY3Rpb24gSShlKXt2YXIgdD1PYmplY3QoYy5iKShPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQiKSl8fFtdLHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmZsb2NJZCIpO3JldHVybiByJiZyLmlkJiZyLnZlcnNpb24mJnQucHVzaCh7c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7aWQ6ci5pZCxhdHlwZToxLGV4dDp7dmVyOnIudmVyc2lvbn19XX0pLHR9ZnVuY3Rpb24gaihlLHQpe3JldHVybiBudWxsPT1lP3Q6ZX1PYmplY3Qoby5yZWdpc3RlckJpZGRlcikoZyl9fSxbNzk0XSk7CnVwYmpzQ2h1bmsoWzIwXSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPW8oZVtyXSxyKTthJiZ0LnB1c2goYSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChhLmRlZXBBY2Nlc3MpKGkscisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTppW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgYT1yKDApLGk9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIG8oZSx0KXt2YXIgcj1pW3RdO2lmKHImJmUpe3ZhciBvPXt9O28uc291cmNlPXIuc291cmNlO3ZhciBuPU9iamVjdChhLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoYS5pc1N0cikobikpe3ZhciBkPXtpZDpuLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChhLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIHM9ci5nZXRVaWRFeHQoZSk7cyYmKGQuZXh0PXMpfWlmKG8udWlkcz1bZF0sT2JqZWN0KGEuaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgYz1yLmdldEVpZEV4dChlKTtjJiYoby5leHQ9Yyl9cmV0dXJuIG99fXJldHVybiBudWxsfX0sODA4OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MDkpfSw4MDk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBhPXIoMCksaT1yKDIpLG89cigzKSxuPXIoMTcpLGQ9cigxKSxzPXtjb2RlOiJzbWFydGFkc2VydmVyIixndmxpZDo0NSxhbGlhc2VzOlsic21hcnQiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy5wYWdlSWQmJmUucGFyYW1zLmZvcm1hdElkKX0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm5vZGVzKXJldHVybiBudWxsO3ZhciB0PVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIiIuY29uY2F0KGUudmVyLCIsIikuY29uY2F0KGUuY29tcGxldGUsIiEiKStlLm5vZGVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XT9lbmNvZGVVUklDb21wb25lbnQoZVt0XSk6IiJ9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0sYWRhcHRCYW5uZXJTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0sZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXQucGxheWVyU2l6ZVswXTtlLmlzVmlkZW89Imluc3RyZWFtIj09PXQuY29udGV4dCxlLm1lZGlhVHlwZT1pLmQsZS52aWRlb0RhdGE9e3ZpZGVvUHJvdG9jb2w6dGhpcy5nZXRQcm90b2NvbEZvclZpZGVvQmlkUmVxdWVzdCh0LHIpLHBsYXllcldpZHRoOmFbMF0scGxheWVySGVpZ2h0OmFbMV0sYWRCcmVhazp0aGlzLmdldFN0YXJ0RGVsYXlGb3JWaWRlb0JpZFJlcXVlc3QodCxyKX19LGdldFByb3RvY29sRm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXQmJnQucHJvdG9jb2w/dC5wcm90b2NvbDp2b2lkIDAhPT1lJiZBcnJheS5pc0FycmF5KGUucHJvdG9jb2xzKT9NYXRoLm1heC5hcHBseShNYXRoLGUucHJvdG9jb2xzKTpudWxsfSxnZXRTdGFydERlbGF5Rm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dCYmdC5zdGFydERlbGF5KXJldHVybiB0LnN0YXJ0RGVsYXk7aWYodm9pZCAwIT09ZSl7aWYoMD09ZS5zdGFydGRlbGF5KXJldHVybiAxO2lmKC0xPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDI7aWYoLTI9PWUuc3RhcnRkZWxheSlyZXR1cm4gM31yZXR1cm4gMn0sY3JlYXRlU2VydmVyUmVxdWVzdDpmdW5jdGlvbihlLHQpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoodm9pZCAwIT09dD90OiJodHRwczovL3ByZy5zbWFydGFkc2VydmVyLmNvbSIpKyIvcHJlYmlkL3YxIixkYXRhOkpTT04uc3RyaW5naWZ5KGUpfX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPW8uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKTtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7dmFyIGQ9e3NpdGVpZDppLnBhcmFtcy5zaXRlSWQscGFnZWlkOmkucGFyYW1zLnBhZ2VJZCxmb3JtYXRpZDppLnBhcmFtcy5mb3JtYXRJZCxjdXJyZW5jeUNvZGU6cixiaWRmbG9vcjppLnBhcmFtcy5iaWRmbG9vcnx8cy5nZXRCaWRGbG9vcihpLHIpLHRhcmdldGluZzppLnBhcmFtcy50YXJnZXQmJiIiIT09aS5wYXJhbXMudGFyZ2V0P2kucGFyYW1zLnRhcmdldDp2b2lkIDAsYnVpZDppLnBhcmFtcy5idUlkJiYiIiE9PWkucGFyYW1zLmJ1SWQ/aS5wYXJhbXMuYnVJZDp2b2lkIDAsYXBwbmFtZTppLnBhcmFtcy5hcHBOYW1lJiYiIiE9PWkucGFyYW1zLmFwcE5hbWU/aS5wYXJhbXMuYXBwTmFtZTp2b2lkIDAsY2tpZDppLnBhcmFtcy5ja0lkfHwwLHRhZ0lkOmkuYWRVbml0Q29kZSxwYWdlRG9tYWluOnQmJnQucmVmZXJlckluZm8mJnQucmVmZXJlckluZm8ucmVmZXJlcj90LnJlZmVyZXJJbmZvLnJlZmVyZXI6dm9pZCAwLHRyYW5zYWN0aW9uSWQ6aS50cmFuc2FjdGlvbklkLHRpbWVvdXQ6by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGJpZElkOmkuYmlkSWQscHJlYmlkVmVyc2lvbjoiNS4yMC4yIixzY2hhaW46cy5zZXJpYWxpemVTdXBwbHlDaGFpbihpLnNjaGFpbil9O3QmJnQuZ2RwckNvbnNlbnQmJihkLmFkZHRsX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQsZC5nZHByX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGQuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpJiZpLnVzZXJJZCYmKGQuZWlkcz1PYmplY3Qobi5iKShpLnVzZXJJZCkpLHQmJnQudXNwQ29uc2VudCYmKGQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpO3ZhciBjPU9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMudmlkZW8iKSx1PU9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMuYmFubmVyIikscD1jJiYoImluc3RyZWFtIj09PWMuY29udGV4dHx8Im91dHN0cmVhbSI9PT1jLmNvbnRleHQpO2lmKCFwJiZ1KWQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKTtlbHNlIGlmKHAmJiF1KXMuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QoZCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSk7ZWxzZSBpZihwJiZ1KXt2YXIgbD1PYmplY3QoYS5kZWVwQ2xvbmUpKGQpO3MuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QobCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGwsaS5wYXJhbXMuZG9tYWluKSksZC5zaXplcz1zLmFkYXB0QmFubmVyU2l6ZXModS5zaXplcyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpfWVsc2UgZS5wdXNoKHt9KTtyZXR1cm4gZX0pLFtdKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxvPWUuYm9keTt0cnl7aWYobyYmIW8uaXNOb0FkKXt2YXIgbj1KU09OLnBhcnNlKHQuZGF0YSksZD17cmVxdWVzdElkOm4uYmlkSWQsY3BtOm8uY3BtLHdpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0LGNyZWF0aXZlSWQ6by5jcmVhdGl2ZUlkLGRlYWxJZDpvLmRlYWxJZCxjdXJyZW5jeTpvLmN1cnJlbmN5LG5ldFJldmVudWU6by5pc05ldENwbSx0dGw6by50dGwsZHNwUGl4ZWxzOm8uZHNwUGl4ZWxzLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOm8uYWRvbWFpbj9vLmFkb21haW46W119fTtuLm1lZGlhVHlwZT09PWkuZD8oZC5tZWRpYVR5cGU9aS5kLGQudmFzdFVybD1vLmFkVXJsLGQudmFzdFhtbD1vLmFkLGQuY29udGVudD1vLmFkKTooZC5hZFVybD1vLmFkVXJsLGQuYWQ9by5hZCksci5wdXNoKGQpfX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoIkVycm9yIHdoaWxlIHBhcnNpbmcgc21hcnQgc2VydmVyIHJlc3BvbnNlIixlKX1yZXR1cm4gcn0sZ2V0QmlkRmxvb3I6ZnVuY3Rpb24oZSx0KXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIDA7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6dHx8IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShyKSYmIWlzTmFOKHIuZmxvb3IpP3IuZmxvb3I6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmdC5sZW5ndGg+MCYmbnVsbCE9dFswXS5ib2R5LmNTeW5jVXJsP3IucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6dFswXS5ib2R5LmNTeW5jVXJsfSk6ZS5waXhlbEVuYWJsZWQmJnQubGVuZ3RoPjAmJnZvaWQgMCE9PXRbMF0uYm9keS5kc3BQaXhlbHMmJnRbMF0uYm9keS5kc3BQaXhlbHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSxyfX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzgwOF0pOwp1cGJqc0NodW5rKFsxMjJdLHs4MjA6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgyMSl9LDgyMTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsIl9pc0luYm91bmRzIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSx0Ll9nZXRQbGF0Zm9ybT1fO3ZhciBuPXIoMSksaT1yKDApLHM9cigyKSxhPXIoMyksbz1yKDEzKSxjPXIoNjEpO2Z1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLHM9W10sYT0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhdHx8cy5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7bz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiBzfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgYj0ic29ub2JpIixmPU9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxtPSJodHRwczovL210cnguZ28uc29ub2JpLmNvbS9zYmlfb3V0c3RyZWFtX3JlbmRlcmVyLmpzIix2PXtjb2RlOmIsc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWUucGFyYW1zKXJldHVybiExO2lmKCFlLnBhcmFtcy5hZF91bml0JiYhZS5wYXJhbXMucGxhY2VtZW50X2lkKXJldHVybiExO2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYhT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiExO2lmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpe2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITF9ZWxzZSBpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpe2lmKCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSlyZXR1cm4hMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWUubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlLnBhcmFtcy5hZF91bml0KXJldHVybiBlLnBhcmFtcy5hZF91bml0O3JldHVybiBlLnBhcmFtcy5wbGFjZW1lbnRfaWR9KGUpO3JldHVybi9eW1wvXT9bXGRdK1tbXC9dLitbXC9dP10/JC8udGVzdCh0KT8odD0iLyI9PT10LmNoYXJBdCgwKT90OiIvIit0LGwoe30sIiIuY29uY2F0KHQsInwiKS5jb25jYXQoZS5iaWRJZCksIiIuY29uY2F0KGcoZSkpLmNvbmNhdCh5KGUpKS5jb25jYXQoaChlKSkpKTovXlswLTlhLWZBLUZdezIwfSQvLnRlc3QodCkmJjIwPT09dC5sZW5ndGg/bCh7fSxlLmJpZElkLCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGcoZSkpLmNvbmNhdCh5KGUpKS5jb25jYXQoaChlKSkpOnZvaWQgT2JqZWN0KGkubG9nRXJyb3IpKCJUaGUgYWQgdW5pdCBjb2RlIG9yIFNvbm9iaSBQbGFjZW1lbnQgaWQgZm9yIHNsb3QgIi5jb25jYXQoZS5iaWRJZCwiIGlzIGludmFsaWQiKSl9KSksbj17fTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3AobixlKX0pKTt2YXIgcz17a2V5X21ha2VyOkpTT04uc3RyaW5naWZ5KG4pLHJlZjp0LnJlZmVyZXJJbmZvLnJlZmVyZXIsczpPYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCkscHY6Zix2cDpfKCksbGliX25hbWU6InByZWJpZCIsbGliX3Y6IjUuMjAuMiIsdXM6MH0sbz1hLmIuZ2V0Q29uZmlnKCJvcnRiMiIpO2lmKG8mJihzLmZwZD1KU09OLnN0cmluZ2lmeShvKSksYS5iLmdldENvbmZpZygidXNlclN5bmMiKSYmYS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciYmKHMudXM9YS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciksYy5hLmNhbkJpZGRlclJlZ2lzdGVyU3luYygiaWZyYW1lIixiKT9zLml1cz0xOnMuaXVzPTAsT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpJiYocy5oZmE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpKSxlWzBdLnBhcmFtcy5yZWZlcnJlciYmKHMucmVmPWVbMF0ucGFyYW1zLnJlZmVycmVyKSx0JiZ0LmdkcHJDb25zZW50JiYocy5nZHByPXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/InRydWUiOiJmYWxzZSIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5jb25zZW50X3N0cmluZz10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxlWzBdLnNjaGFpbiYmKHMuc2NoYWluPUpTT04uc3RyaW5naWZ5KGVbMF0uc2NoYWluKSksT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwidXNlcklkIikmJk9iamVjdC5rZXlzKGVbMF0udXNlcklkKS5sZW5ndGg+MCl7dmFyIGQ9T2JqZWN0KGkuZGVlcENsb25lKShlWzBdLnVzZXJJZCk7ZC5pZDVpZCYmKGQuaWQ1aWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZCwiaWQ1aWQudWlkIikpLHMudXNlcmlkPUpTT04uc3RyaW5naWZ5KGQpfXZhciB1PU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZEFzRWlkcyIpO0FycmF5LmlzQXJyYXkodSkmJnUubGVuZ3RoPjAmJihzLmVpZHM9SlNPTi5zdHJpbmdpZnkodSkpO3ZhciBtPWVbMF0ucGFyYW1zLmtleXdvcmRzO2lmKG0mJihzLmt3PW0pLHQmJnQudXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKT9zLmNvcHBhPTE6cy5jb3BwYT0wLE9iamVjdChpLmlzRW1wdHkpKG4pKXJldHVybiBudWxsO3ZhciB2PSJodHRwczovL2FwZXguZ28uc29ub2JpLmNvbS90cmluaXR5Lmpzb24iO3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikmJih2PU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5iaWRfcmVxdWVzdF91cmwiKSkse21ldGhvZDoiR0VUIix1cmw6dix3aXRoQ3JlZGVudGlhbHM6ITAsZGF0YTpzLGJpZGRlclJlcXVlc3RzOmV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxuPVtdLHM9dC5kYXRhLnJlZjtyZXR1cm4gMD09PU9iamVjdC5rZXlzKHIuc2xvdHMpLmxlbmd0aHx8T2JqZWN0LmtleXMoci5zbG90cykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGE9ci5zbG90c1tlXSxjPWUuc3BsaXQoInwiKS5zbGljZSgtMSlbMF0sdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYmlkSWQ9PT10KXJldHVybiBlW3JdfSh0LmJpZGRlclJlcXVlc3RzLGMpLHA9bnVsbDsidmlkZW8iPT09YS5zYmlfY3QmJihwPSJ2aWRlbyIsIm91dHN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHA9Im91dHN0cmVhbSIpKTt2YXIgbD1qKHAscyk7aWYoYS5zYmlfYWlkJiZhLnNiaV9tb3VzZSYmYS5zYmlfc2l6ZSl7dmFyIGI9ZChhLnNiaV9zaXplLnNwbGl0KCJ4IiksMiksZj1iWzBdLHY9dm9pZCAwPT09Zj8xOmYsZz1iWzFdLHk9dm9pZCAwPT09Zz8xOmcsaD1bXTthLnNiaV9hZG9tYWluJiYoaD1bYS5zYmlfYWRvbWFpbl0pO3ZhciBPPXtyZXF1ZXN0SWQ6YyxjcG06TnVtYmVyKGEuc2JpX21vdXNlKSx3aWR0aDpOdW1iZXIodiksaGVpZ2h0Ok51bWJlcih5KSxhZDpsKHIuc2JpX2RjLGEuc2JpX2FpZCksdHRsOjUwMCxjcmVhdGl2ZUlkOmEuc2JpX2NyaWR8fGEuc2JpX2FpZCxhaWQ6YS5zYmlfYWlkLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCIsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6aH19O2lmKGEuc2JpX2RvemVyJiYoTy5kZWFsSWQ9YS5zYmlfZG96ZXIpLCJ2aWRlbyI9PT1wKU8ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxkZWxldGUgTy5hZCxkZWxldGUgTy53aWR0aCxkZWxldGUgTy5oZWlnaHQ7ZWxzZSBpZigib3V0c3RyZWFtIj09PXAmJnUpe2RlbGV0ZSBPLmFkLE8ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxPLnJlbmRlcmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49by5hLmluc3RhbGwoe2lkOnQuYWlkLHVybDptLGNvbmZpZzpyLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7bi5zZXRSZW5kZXIoQSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIG4uc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpfX0pLG59KHUuYWRVbml0Q29kZSxPLE9iamVjdChpLmRlZXBBY2Nlc3MpKHUsInJlbmRlcmVyLm9wdGlvbnMiKSk7dmFyIF89T2JqZWN0KGkuZGVlcEFjY2VzcykodSwicGFyYW1zLnNpemVzIik7QXJyYXkuaXNBcnJheShfKSYmQXJyYXkuaXNBcnJheShfWzBdKSYmKF89X1swXSksXyYmKE8ud2lkdGg9X1swXSxPLmhlaWdodD1fWzFdKX1uLnB1c2goTyl9fSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1bXTt0cnl7ZS5waXhlbEVuYWJsZWQmJnRbMF0uYm9keS5zYmlfcHguZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pKX1jYXRjaChlKXt9cmV0dXJuIGl9fTtmdW5jdGlvbiBnKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIik/IiI6ZS5wYXJhbXMuc2l6ZXM/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShlLnBhcmFtcy5zaXplcykuam9pbigiLCIpOk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKS5qb2luKCIsIik6ZS5zaXplcz9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKGUuc2l6ZXMpLmpvaW4oIiwiKTp2b2lkIDB9ZnVuY3Rpb24geShlKXt2YXIgdD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeSlyZXR1cm4gdC5mbG9vcjtyZXR1cm4iIn0oZSk7cmV0dXJuIHQ/InxmPSIuY29uY2F0KHQpOiIifWZ1bmN0aW9uIGgoZSl7dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKXx8T2JqZWN0KGkuZGVlcEFjY2VzcykoT2JqZWN0KGkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlLmFkVW5pdENvZGUpLCJncHRTbG90Iil8fGUucGFyYW1zLmFkX3VuaXQ7cmV0dXJuIHQ/InxncGlkPSIuY29uY2F0KHQpOiIifXZhciBqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuInZpZGVvIj09PWV8fCJvdXRzdHJlYW0iPT09ZT9mdW5jdGlvbihlLHQscil7cmV0dXJuImh0dHBzOi8vIi5jb25jYXQoZSwiYXBleC5nby5zb25vYmkuY29tL3Zhc3QueG1sP3ZpZD0iKS5jb25jYXQodCwiJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHIpKX0ocixuLHQpOic8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInKyJodHRwczovLyIuY29uY2F0KHIsImFwZXguZ28uc29ub2JpLmNvbS9zYmkuanM/YWlkPSIpLmNvbmNhdChuLCImYXM9bnVsbCZyZWY9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkrJyI+PFwvc2NyaXB0Pid9fTt2YXIgTz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3c7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7cmV0dXJuIGUuaW5uZXJXaWR0aD49dCYmZS5pbm5lcldpZHRoPHJ9fTtmdW5jdGlvbiBfKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdyx0PU8oZSkscj17bHQ6NzY4fSxuPXtsdDo5OTIsZ2U6NzY4fTtyZXR1cm4gdCgwLHIubHQpPyJtb2JpbGUiOnQobi5nZSxuLmx0KT8idGFibGV0IjoiZGVza3RvcCJ9ZnVuY3Rpb24gQShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9ZChlLmdldFNpemUoKS5zcGxpdCgieCIpLDIpLHI9dFswXSxuPXRbMV0saT1uZXcgd2luZG93LlNiaU91dHN0cmVhbVJlbmRlcmVyO2kuaW5pdCh7dmFzdFVybDplLnZhc3RVcmwsaGVpZ2h0Om4sd2lkdGg6cn0pLGkuc2V0Um9vdEVsZW1lbnQoZS5hZFVuaXRDb2RlKX0pKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbODIwXSk7CnVwYmpzQ2h1bmsoWzE3XSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPWkoZVtyXSxyKTthJiZ0LnB1c2goYSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChhLmRlZXBBY2Nlc3MpKG4scisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpuW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgYT1yKDApLG49e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGkoZSx0KXt2YXIgcj1uW3RdO2lmKHImJmUpe3ZhciBpPXt9O2kuc291cmNlPXIuc291cmNlO3ZhciBjPU9iamVjdChhLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoYS5pc1N0cikoYykpe3ZhciBvPXtpZDpjLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChhLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIHM9ci5nZXRVaWRFeHQoZSk7cyYmKG8uZXh0PXMpfWlmKGkudWlkcz1bb10sT2JqZWN0KGEuaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgZD1yLmdldEVpZEV4dChlKTtkJiYoaS5leHQ9ZCl9cmV0dXJuIGl9fXJldHVybiBudWxsfX0sODI0OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MjUpfSw4MjU6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBhPXIoMCksbj1yKDEpLGk9cigzKSxjPXIoMiksbz1yKDE3KTtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIGEsbixpPVtdLGM9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYz0oYT1yLm5leHQoKSkuZG9uZSkmJihpLnB1c2goYS52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7Yz0hMCk7fWNhdGNoKGUpe289ITAsbj1lfWZpbmFsbHl7dHJ5e2N8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBufX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBkKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBkKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBkKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsYT1uZXcgQXJyYXkodCk7cjx0O3IrKylhW3JdPWVbcl07cmV0dXJuIGF9dmFyIHU9InNvcnRhYmxlIixwPSJodHRwczovL2MuZGVwbG95YWRzLmNvbSI7ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlLnJlcXVpcmVkJiYodC5yZXF1aXJlZD0xKSx0fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUud3x8ZS5oP3t1cmw6ZS51cmwsd2lkdGg6ZS53LGhlaWdodDplLmh9OmUudXJsfWZ1bmN0aW9uIGIoZSx0LHIpe09iamVjdChhLl9lYWNoKShlLChmdW5jdGlvbihlKXtlLmJvZHkmJmUuYm9keS5leHQmJmUuYm9keS5leHQuc3luY19kc3BzJiZlLmJvZHkuZXh0LnN5bmNfZHNwcy5sZW5ndGgmJk9iamVjdChhLl9lYWNoKShlLmJvZHkuZXh0LnN5bmNfZHNwcywoZnVuY3Rpb24oZSl7ZVswXT09PXQmJmVbMV0mJnIucHVzaCh7dHlwZTp0LHVybDplWzFdfSl9KSl9KSl9ZnVuY3Rpb24geShlKXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KSh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3k/dC5mbG9vcjpudWxsfXZhciBmPXtjb2RlOnUsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuYyxjLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWkuYi5nZXRDb25maWcoInNvcnRhYmxlIikscj10JiYhIXQuc2l0ZUlkfHxlLnBhcmFtcy5zaXRlSWQsbj15KGUpLG89IW58fE9iamVjdChhLmlzTnVtYmVyKShuKSxzPSFlLnBhcmFtcy5rZXl3b3Jkc3x8T2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZS5wYXJhbXMua2V5d29yZHMpJiZPYmplY3Qua2V5cyhlLnBhcmFtcy5rZXl3b3JkcykuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYS5pc1N0cikodCkmJk9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5rZXl3b3Jkc1t0XSl9KSksZD0hZS5tZWRpYVR5cGVzfHxlLm1lZGlhVHlwZXNbYy5iXXx8IShlLm1lZGlhVHlwZXNbYy5jXXx8ZS5tZWRpYVR5cGVzW2MuZF0pLHU9ZD9PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGUuIi5jb25jYXQoYy5iLCIuc2l6ZXMiKSl8fGUuc2l6ZXM6bnVsbDtyZXR1cm4hIShlLnBhcmFtcy50YWdJZCYmciYmbyYmcyYmKCFkfHx1JiZ1Lmxlbmd0aD4wJiZ1LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gMj09ZS5sZW5ndGgmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc051bWJlcikoZSl9KSl9KSkpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPShpLmIuZ2V0Q29uZmlnKCJzb3J0YWJsZSIpfHx7fSkuc2l0ZUlkLG49T2JqZWN0KGEucGFyc2VVcmwpKHQucmVmZXJlckluZm8ucmVmZXJlciksZD1PYmplY3QoYS5fbWFwKShlLChmdW5jdGlvbihlKXt2YXIgdD17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy50YWdJZCxleHQ6e319LHI9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmIpKSxuPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5jKSksaT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuZCkpO2lmKHJ8fCFuJiYhaSl7dmFyIG89ciYmci5zaXplc3x8ZS5zaXplczt0LmJhbm5lcj17Zm9ybWF0Ok9iamVjdChhLl9tYXApKG8sKGZ1bmN0aW9uKGUpe3ZhciB0PXMoZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSl9fWlmKG4mJih0Lm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD1bXSxyPWUudGl0bGU7ciYmdC5wdXNoKGwocix7dGl0bGU6e2xlbjpyLmxlbn19KSk7dmFyIG49ZS5pbWFnZTtuJiZ0LnB1c2gobChuLHtpbWc6e3R5cGU6Myx3bWluOjEsaG1pbjoxfX0pKTt2YXIgaT1lLmljb247aSYmdC5wdXNoKGwoaSx7aW1nOnt0eXBlOjEsd21pbjoxLGhtaW46MX19KSk7dmFyIGM9ZS5ib2R5O2MmJnQucHVzaChsKGMse2RhdGE6e3R5cGU6Mn19KSk7dmFyIG89ZS5jdGE7byYmdC5wdXNoKGwobyx7ZGF0YTp7dHlwZToxMn19KSk7dmFyIHM9ZS5zcG9uc29yZWRCeTtyZXR1cm4gcyYmdC5wdXNoKGwocyx7ZGF0YTp7dHlwZToxfX0pKSxPYmplY3QoYS5fZWFjaCkodCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZD10fSkpLHt2ZXI6IjEiLHJlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe3ZlcjoiMSIsYXNzZXRzOnR9KX19KG4pKSxpJiYiaW5zdHJlYW0iPT09aS5jb250ZXh0KXt2YXIgZD17cGxhY2VtZW50OjF9O2QubWltZXM9aS5taW1lc3x8W10sZC5taW5kdXJhdGlvbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWluZHVyYXRpb24iKXx8MTAsZC5tYXhkdXJhdGlvbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWF4ZHVyYXRpb24iKXx8NjA7dmFyIHU9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvLnN0YXJ0ZGVsYXkiKTtpZihudWxsIT11JiYoZC5zdGFydGRlbGF5PXUpLGkucGxheWVyU2l6ZSYmaS5wbGF5ZXJTaXplLmxlbmd0aCl7dmFyIHA9aS5wbGF5ZXJTaXplWzBdO2Qudz1wWzBdLGQuaD1wWzFdfWkuYXBpJiYoZC5hcGk9aS5hcGkpLGkucHJvdG9jb2xzJiYoZC5wcm90b2NvbHM9aS5wcm90b2NvbHMpLGkucGxheWJhY2ttZXRob2QmJihkLnBsYXliYWNrbWV0aG9kPWkucGxheWJhY2ttZXRob2QpLHQudmlkZW89ZH12YXIgbT15KGUpO3JldHVybiBtJiYodC5mbG9vcj1tKSxlLnBhcmFtcy5rZXl3b3JkcyYmKHQuZXh0LmtleXdvcmRzPWUucGFyYW1zLmtleXdvcmRzKSxlLnBhcmFtcy5iaWRkZXJQYXJhbXMmJk9iamVjdChhLl9lYWNoKShlLnBhcmFtcy5iaWRkZXJQYXJhbXMsKGZ1bmN0aW9uKGUscil7dC5leHRbcl09ZX0pKSx0LmV4dC5ncGlkPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90IiksdH0pKSx1PXQmJnQuZ2RwckNvbnNlbnQsbT1lWzBdLnVzZXJJZCxiPU9iamVjdChvLmIpKG0pLGY9e2lkOk9iamVjdChhLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksaW1wOmQsc291cmNlOntleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19LHJlZ3M6e2V4dDp7fX0sc2l0ZTp7ZG9tYWluOm4uaG9zdG5hbWUscGFnZTpuLmhyZWYscmVmOm4uaHJlZixwdWJsaXNoZXI6e2lkOnJ8fGVbMF0ucGFyYW1zLnNpdGVJZH0sZGV2aWNlOnt3OnNjcmVlbi53aWR0aCxoOnNjcmVlbi5oZWlnaHR9fSx1c2VyOntleHQ6e319fTtyZXR1cm4gdCYmdC50aW1lb3V0PjAmJihmLnRtYXg9dC50aW1lb3V0KSx1JiYoZi51c2VyPXtleHQ6e2NvbnNlbnQ6dS5jb25zZW50U3RyaW5nfX0sImJvb2xlYW4iPT10eXBlb2YgdS5nZHByQXBwbGllcyYmKGYucmVncy5leHQuZ2Rwcj11LmdkcHJBcHBsaWVzPzE6MCkpLGIubGVuZ3RoJiYoZi51c2VyLmV4dC5laWRzPWIpLHQudXNwQ29uc2VudCYmKGYucmVncy5leHQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLHttZXRob2Q6IlBPU1QiLHVybDoiIi5jb25jYXQocCwiL29wZW5ydGIyL2F1Y3Rpb24/c3JjPXByZWJpZF9wcmViaWRfNS4yMC4yJmhvc3Q9IikuY29uY2F0KG4uaG9zdG5hbWUpLGRhdGE6SlNPTi5zdHJpbmdpZnkoZiksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4ifX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keSxyPXQuaWQsbj10LnNlYXRiaWQsaT1bXTtyZXR1cm4gciYmbiYmT2JqZWN0KGEuX2VhY2gpKG4sKGZ1bmN0aW9uKGUpe09iamVjdChhLl9lYWNoKShlLmJpZCwoZnVuY3Rpb24oZSl7dmFyIHQ9e3JlcXVlc3RJZDplLmltcGlkLGNwbTpwYXJzZUZsb2F0KGUucHJpY2UpLHdpZHRoOnBhcnNlSW50KGUudyksaGVpZ2h0OnBhcnNlSW50KGUuaCksY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmMuYix0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXX19O2lmKGUuYWRtKXt2YXIgcj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJleHQuYWRfZm9ybWF0Iik7aWYoIm5hdGl2ZSI9PT1yKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3RyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJTb3J0YWJsZSBiaWQgYWRhcHRlciB1bmFibGUgdG8gcGFyc2UgbmF0aXZlIGJpZCByZXNwb25zZTpcblxuIitlKX1yZXR1cm4gdCYmdC5uYXRpdmV9KGUuYWRtKTtpZighbilyZXR1cm47dC5tZWRpYVR5cGU9Yy5jLHQubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmxpbmsmJih0LmNsaWNrVXJsPWUubGluay51cmwpLE9iamVjdChhLl9lYWNoKShlLmFzc2V0cywoZnVuY3Rpb24oZSl7c3dpdGNoKGUuaWQpe2Nhc2UgMTp0LnRpdGxlPWUudGl0bGUudGV4dDticmVhaztjYXNlIDI6dC5pbWFnZT1tKGUuaW1nKTticmVhaztjYXNlIDM6dC5pY29uPW0oZS5pbWcpO2JyZWFrO2Nhc2UgNDp0LmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTp0LmN0YT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnQuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlfX0pKSx0fShuKX1lbHNlImluc3RyZWFtIj09PXI/KHQubWVkaWFUeXBlPWMuZCx0LnZhc3RYbWw9ZS5hZG0pOih0Lm1lZGlhVHlwZT1jLmIsdC5hZD1lLmFkbSxlLm51cmwmJih0LmFkKz1PYmplY3QoYS5jcmVhdGVUcmFja1BpeGVsSHRtbCkoZGVjb2RlVVJJQ29tcG9uZW50KGUubnVybCkpKSl9ZWxzZSBlLm51cmwmJih0LmFkVXJsPWUubnVybCk7ZS5leHQmJih0LnNvcnRhYmxlPWUuZXh0KSxpLnB1c2godCl9KSl9KSksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmYih0LCJpZnJhbWUiLHIpLGUucGl4ZWxFbmFibGVkJiZiKHQsImltYWdlIixyKSxyfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7ZmV0Y2goIiIuY29uY2F0KHAsIi9wcmViaWQvdGltZW91dCIpLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSksbW9kZToibm8tY29ycyIsaGVhZGVyczpuZXcgSGVhZGVycyh7IkNvbnRlbnQtVHlwZSI6InRleHQvcGxhaW4ifSl9KX19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShmKX19LFs4MjRdKTsKdXBianNDaHVuayhbMTVdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGk9YShlW3JdLHIpO2kmJnQucHVzaChpKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykobixyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm5bcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBpPXIoMCksbj17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChpLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYShlLHQpe3ZhciByPW5bdF07aWYociYmZSl7dmFyIGE9e307YS5zb3VyY2U9ci5zb3VyY2U7dmFyIGM9T2JqZWN0KGkuaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChpLmlzU3RyKShjKSl7dmFyIG89e2lkOmMsYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KGkuaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgZD1yLmdldFVpZEV4dChlKTtkJiYoby5leHQ9ZCl9aWYoYS51aWRzPVtvXSxPYmplY3QoaS5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciB1PXIuZ2V0RWlkRXh0KGUpO3UmJihhLmV4dD11KX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw4Mjg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgyOSl9LDgyOTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIGk9cigwKSxuPXIoMSksYT1yKDIpLGM9cigxNyksbz1yKDMpLGQ9e2NvZGU6InNvdnJuIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGd2bGlkOjEzLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLnRhZ2lkfHxpc05hTihwYXJzZUZsb2F0KGUucGFyYW1zLnRhZ2lkKSl8fCFpc0Zpbml0ZShlLnBhcmFtcy50YWdpZCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByLG4sYSxkLHU9W10scz1bXTtPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7IWEmJmUudXNlcklkJiYoYT1PYmplY3QoYy5iKShlLnVzZXJJZCkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudWlkcyYmZS51aWRzWzBdJiYoImNyaXRlby5jb20iPT09ZS5zb3VyY2UmJihkPWUudWlkc1swXS5pZCkscy5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkOmUudWlkc1swXS5pZH0pKX0pKSxlLnNjaGFpbiYmKG49bnx8ZS5zY2hhaW4pLHI9cnx8T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJpdiIsZS5wYXJhbXMpO3ZhciB0PWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplcyxvPSh0PSh0PU9iamVjdChpLmlzQXJyYXkpKHQpJiZPYmplY3QoaS5pc0FycmF5KSh0WzBdKT90Olt0XSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSl9KSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19KSkscD1lLmdldEZsb29yJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcj9lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KTp7fTtwLmZsb29yPXAuZmxvb3J8fE9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkZmxvb3IiLGUucGFyYW1zKTt2YXIgbD17YWR1bml0Y29kZTplLmFkVW5pdENvZGUsaWQ6ZS5iaWRJZCxiYW5uZXI6e2Zvcm1hdDpvLHc6MSxoOjF9LHRhZ2lkOlN0cmluZyhPYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInRhZ2lkIixlLnBhcmFtcykpLGJpZGZsb29yOnAuZmxvb3J9O2wuZXh0PU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiZXh0IixlLm9ydGIySW1wKXx8dm9pZCAwO3ZhciBiPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgic2VnbWVudHMiLGUucGFyYW1zKTtiJiYobC5leHQ9bC5leHR8fHt9LGwuZXh0LmRlYWxzPWIuc3BsaXQoIiwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKSksdS5wdXNoKGwpfSkpO3ZhciBwPU9iamVjdChpLmRlZXBDbG9uZSkoby5iLmdldENvbmZpZygib3J0YjIiKSksbD1wLnNpdGV8fHt9O2wucGFnZT10LnJlZmVyZXJJbmZvLnJlZmVyZXIsbC5kb21haW49T2JqZWN0KGkucGFyc2VVcmwpKGwucGFnZSkuaG9zdG5hbWU7dmFyIGI9e2lkOk9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksaW1wOnUsc2l0ZTpsLHVzZXI6cC51c2VyfHx7fX07biYmKGIuc291cmNlPXtleHQ6e3NjaGFpbjpufX0pLHQuZ2RwckNvbnNlbnQmJihPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInJlZ3MuZXh0LmdkcHIiLCt0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHQudXNwQ29uc2VudCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLGEmJihPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LmVpZHMiLGEpLE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwidXNlci5leHQudHBpZCIscyksZCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJ1c2VyLmV4dC5wcmViaWRfY3JpdGVvaWQiLGQpKTt2YXIgbT0iaHR0cHM6Ly9hcC5saWppdC5jb20vcnRiL2JpZD9zcmM9cHJlYmlkX3ByZWJpZF81LjIwLjIiO3JldHVybiByJiYobSs9IiZpdj0iLmNvbmNhdChyKSkse21ldGhvZDoiUE9TVCIsdXJsOm0sZGF0YTpKU09OLnN0cmluZ2lmeShiKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkNvdWxkIG5vdCBidWlsZCBiaWRyZXF1ZXN0LCBlcnJvciBkZWF0aWxzOiIsZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLG49dC5zZWF0YmlkO3RyeXt2YXIgYz1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKGUpe2MucHVzaCh7cmVxdWVzdElkOmUuaW1waWQsY3BtOnBhcnNlRmxvYXQoZS5wcmljZSksd2lkdGg6cGFyc2VJbnQoZS53KSxoZWlnaHQ6cGFyc2VJbnQoZS5oKSxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6YS5iLGFkOmRlY29kZVVSSUNvbXBvbmVudCgiIi5jb25jYXQoZS5hZG0sJzxpbWcgc3JjPSInKS5jb25jYXQoZS5udXJsLCciPicpKSx0dGw6ZS5leHQmJmUuZXh0LnR0bHx8OTAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZSYmZS5hZG9tYWluP2UuYWRvbWFpbjpbXX19KX0pKSxjfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiQ291bGQgbm90IGludHJlcHJldCBiaWRyZXNwb25zZSwgZXJyb3IgZGVhdGlsczoiLGUpfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3RyeXt2YXIgYT1bXTtpZih0JiYwIT09dC5sZW5ndGgpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGM9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJib2R5LmV4dC5paWQiKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkuZXh0LmlpZH0pKSxvPVtdO3ImJnIuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiZvLnB1c2goWyJnZHByX2NvbnNlbnQiLHIuY29uc2VudFN0cmluZ10pLG4mJm8ucHVzaChbInVzX3ByaXZhY3kiLG5dKSxjWzBdJiYoby5wdXNoKFsiaW5mb3JtZXIiLGNbMF1dKSxhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FwLmxpaml0LmNvbS9iZWFjb24/IitvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiPSIpfSkpLmpvaW4oIiYiKX0pKX1lLnBpeGVsRW5hYmxlZCYmdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJib2R5LmV4dC5zeW5jLnBpeGVscyIpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5ib2R5LmV4dC5zeW5jLnBpeGVscyl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSl9cmV0dXJuIGF9Y2F0Y2goZSl7cmV0dXJuW119fX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGQpfX0sWzgyOF0pOwp1cGJqc0NodW5rKFsxMDZdLHs4NjQ6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDg2NSl9LDg2NTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwidHJpcGxlbGlmdEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgbj1yKDApLGk9cigyKSxvPXIoMSksdT1yKDMpO2Z1bmN0aW9uIGMoKXtyZXR1cm4oYz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBkKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3AoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpwKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGwoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGwoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIGwoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciB5PSEwLGI9bnVsbCxtPXtndmxpZDoyOCxjb2RlOiJ0cmlwbGVsaWZ0IixzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZS5wYXJhbXMuaW52ZW50b3J5Q29kZX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPSJodHRwczovL3RseC4zbGlmdC5jb20vaGVhZGVyL2F1Y3Rpb24/IixpPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZVswXS5zY2hhaW4saT1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj17fSxpPXUuYi5nZXRMZWdhY3lGcGQodS5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9LG89Yyh7fSxpLmNvbnRleHQpLGE9Yyh7fSxpLnVzZXIpO08odCxvKSxPKHIsYSksT2JqZWN0KG4uaXNFbXB0eSkodCl8fChlLmNvbnRleHQ9dCk7T2JqZWN0KG4uaXNFbXB0eSkocil8fChlLnVzZXI9cik7cmV0dXJuIGV9KCk7dC5pbXA9ZS5tYXAoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e2lkOnQsdGFnaWQ6ZS5wYXJhbXMuaW52ZW50b3J5Q29kZSxmbG9vcjp2KGUpfTtyZXR1cm4gZyhlKT9yLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciB0PWQoZCh7fSxlLnBhcmFtcy52aWRlbyksZS5tZWRpYVR5cGVzLnZpZGVvKTt0Lnd8fCh0Lnc9dC5wbGF5ZXJTaXplWzBdWzBdKTt0Lmh8fCh0Lmg9dC5wbGF5ZXJTaXplWzBdWzFdKTsiaW5zdHJlYW0iPT09dC5jb250ZXh0JiYodC5wbGFjZW1lbnQ9MSk7cmV0dXJuIGRlbGV0ZSB0LnBsYXllclNpemUsdH0oZSk6ZS5tZWRpYVR5cGVzLmJhbm5lciYmKHIuYmFubmVyPXtmb3JtYXQ6aChlLnNpemVzKX0pLE9iamVjdChuLmlzRW1wdHkpKGUub3J0YjJJbXApfHwoci5mcGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj17fTtPKHIsZS5leHQpLE9iamVjdChuLmlzRW1wdHkpKHIpfHwodC5jb250ZXh0PXIpO3JldHVybiB0fShlLm9ydGIySW1wKSkscn0pKTt2YXIgbz1bXS5jb25jYXQoZigoYT1bZVswXV0saihhLCJ0ZGlkIiwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaihlLCJpZGxfZW52IiwibGl2ZXJhbXAuY29tIiwiaWRsIil9KFtlWzBdXSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGooZSwiY3JpdGVvSWQiLCJjcml0ZW8uY29tIiwiY3JpdGVvSWQiKX0oW2VbMF1dKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaihlLCJwdWJjaWQiLCJwdWJjaWQub3JnIiwicHViY2lkIil9KFtlWzBdXSkpKTt2YXIgYTtvLmxlbmd0aD4wJiYodC51c2VyPXtleHQ6e2VpZHM6b319KTt2YXIgcD1mdW5jdGlvbihlLHQpe3ZhciByPXt9O09iamVjdChuLmlzRW1wdHkpKGUpfHwoci5zY2hhaW49ZCh7fSxlKSk7T2JqZWN0KG4uaXNFbXB0eSkodCl8fChyLmZwZD1kKHt9LHQpKTtyZXR1cm4gcn0ocixpKTtPYmplY3Qobi5pc0VtcHR5KShwKXx8KHQuZXh0PXApO3JldHVybiB0fShlKTtpZihyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJsaWIiLCJwcmViaWQiKSxyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJ2IiwiNS4yMC4yIiksdCYmdC5yZWZlcmVySW5mbyl7dmFyIG89dC5yZWZlcmVySW5mby5yZWZlcmVyO3I9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInJlZmVycmVyIixvKX1yZXR1cm4gdCYmdC50aW1lb3V0JiYocj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwidG1heCIsdC50aW1lb3V0KSksdCYmdC5nZHByQ29uc2VudCYmKHZvaWQgMCE9PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJih5PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMscj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwiZ2RwciIseS50b1N0cmluZygpKSksdm9pZCAwIT09dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoYj10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcscj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwiY21wX2NzIixiKSkpLHQmJnQudXNwQ29uc2VudCYmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCkpLCEwPT09dS5iLmdldENvbmZpZygiY29wcGEiKSYmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsImNvcHBhIiwhMCkpLHIubGFzdEluZGV4T2YoIiYiKT09PXIubGVuZ3RoLTEmJihyPXIuc3Vic3RyaW5nKDAsci5sZW5ndGgtMSkpLE9iamVjdChuLmxvZ01lc3NhZ2UpKCJ0bENhbGwgcmVxdWVzdCBidWlsdDogIityKSx7bWV0aG9kOiJQT1NUIix1cmw6cixkYXRhOmksYmlkZGVyUmVxdWVzdDp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZGRlclJlcXVlc3Q7cmV0dXJuKGUuYm9keS5iaWRzfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxuPXQud2lkdGh8fDEsaT10LmhlaWdodHx8MSxvPXQuZGVhbF9pZHx8IiIsdT10LmNyaWR8fCIiLGM9ZS5iaWRzW3QuaW1wX2lkXTswIT10LmNwbSYmdC5hZCYmKHI9e3JlcXVlc3RJZDpjLmJpZElkLGNwbTp0LmNwbSx3aWR0aDpuLGhlaWdodDppLG5ldFJldmVudWU6ITAsYWQ6dC5hZCxjcmVhdGl2ZUlkOnUsZGVhbElkOm8sY3VycmVuY3k6IlVTRCIsdHRsOjMwMCx0bF9zb3VyY2U6dC50bF9zb3VyY2UsbWV0YTp7fX0sZyhjKSYmKHIudmFzdFhtbD10LmFkLHIubWVkaWFUeXBlPSJ2aWRlbyIsci50dGw9MzYwMCksdC5hZHZlcnRpc2VyX25hbWUmJihyLm1ldGEuYWR2ZXJ0aXNlck5hbWU9dC5hZHZlcnRpc2VyX25hbWUpLHQuYWRvbWFpbiYmdC5hZG9tYWluLmxlbmd0aCYmKHIubWV0YS5hZHZlcnRpc2VyRG9tYWlucz10LmFkb21haW4pLHQudGxfc291cmNlJiYiaGR4Ij09dC50bF9zb3VyY2UmJihyLm1ldGEubWVkaWFUeXBlPSJiYW5uZXIiKSx0LnRsX3NvdXJjZSYmInRseCI9PXQudGxfc291cmNlJiYoci5tZXRhLm1lZGlhVHlwZT0ibmF0aXZlIikpO3JldHVybiByfShyLGUpfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG89ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO2lmKGUuaWZyYW1lRW5hYmxlZClyZXR1cm4iaWZyYW1lIjtpZihlLnBpeGVsRW5hYmxlZClyZXR1cm4iaW1hZ2UifShlKTtpZihvKXt2YXIgdT0iaHR0cHM6Ly9lYjIuM2xpZnQuY29tL3N5bmM/IjtyZXR1cm4iaW1hZ2UiPT09byYmKHU9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHUsInB4IiwxKSx1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJzcmMiLCJwcmViaWQiKSksbnVsbCE9PWImJih1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJnZHByIix5KSx1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJjbXBfY3MiLGIpKSxpJiYodT1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykodSwidXNfcHJpdmFjeSIsaSkpLFt7dHlwZTpvLHVybDp1fV19fX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4hIWUubWVkaWFUeXBlcy52aWRlbyYmKCEhZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJiJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiB2KGUpe3ZhciB0PW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpnKGUpPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZToiKiJ9KTsib2JqZWN0IiE9PWEocil8fCJVU0QiIT09ci5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChyLmZsb29yKSl8fCh0PXBhcnNlRmxvYXQoci5mbG9vcikpfXJldHVybiBudWxsIT09dD90OmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIE8oZSx0KXtPYmplY3Qobi5pc0VtcHR5KSh0KXx8T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7bnVsbCE9dFtyXSYmKGVbcl09dFtyXSl9KSl9ZnVuY3Rpb24gaihlLHQscixuKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnVzZXJJZCYmdC51c2VySWRbZV19fSh0KSkuZmlsdGVyKFModCkpLm1hcChmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm57c291cmNlOmUsdWlkczpbe2lkOnIuaWQ/ci5pZDpyLGV4dDp7cnRpUGFydG5lcjp0fX1dfX19KHIsbikpfXZhciBTPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsaSl7dmFyIG89ISF0JiYoT2JqZWN0KG4uaXNTdHIpKHQpPyEhdDpPYmplY3Qobi5pc1BsYWluT2JqZWN0KSh0KSYmIU9iamVjdChuLmlzQXJyYXkpKHQpJiYhT2JqZWN0KG4uaXNFbXB0eSkodCkmJnQuaWQmJk9iamVjdChuLmlzU3RyKSh0LmlkKSYmISF0LmlkKTtyZXR1cm4gb3x8dm9pZCAwPT09aVswXXx8T2JqZWN0KG4ubG9nV2FybikoIlRyaXBsZWxpZnQ6IGludmFsaWQgIi5jb25jYXQoZSwiIHVzZXJJZCBmb3JtYXQiKSksb319O2Z1bmN0aW9uIGgoZSl7cmV0dXJuIGUuZmlsdGVyKEEpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIDI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV19T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzg2NF0pOwp1cGJqc0NodW5rKFsxMDRdLHs4Njg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDg2OSl9LDg2OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIG49cigwKSxpPXIoMSksbz1yKDEzKSxhPXIoMikscz1yKDMpO2Z1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLG89W10sYT0hMCxzPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7cz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxsKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gcChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGwoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1yfHwiU2V0Ij09PXI/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP3AoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIHAoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgZj0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGF1aWQgcGFyYW1ldGVyIC0gIixtPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYWRtIHBhcmFtZXRlciAtICIseT0iQXJyYXkgb2YgYmlkIG9iamVjdHMgaXMgZW1wdHkiLGc9IlNlYXRiaWQgYXJyYXkgZnJvbSByZXNwb25zZSBoYXMgZW1wdHkgaXRlbSIsYj0iUmVzcG9uc2UgaXMgZW1wdHkiLGg9IlJlc3BvbnNlIGhhcyBlbXB0eSBzZWF0YmlkIGFycmF5Iix2PSJTZWF0YmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFycmF5IG9mIGJpZCBvYmplY3RzIC0gIixTPXtjb2RlOiJ0cnVzdHgiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMudWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoIWUubGVuZ3RoKXJldHVybiBudWxsO3ZhciByPW51bGwsaT1udWxsLG89bnVsbCxsPW51bGwscD1udWxsLGY9bnVsbCxtPW51bGwseT1udWxsLGc9bnVsbCxiPXR8fHt9LGg9Yi5iaWRkZXJSZXF1ZXN0SWQsdj1iLmF1Y3Rpb25JZCxTPWIuZ2RwckNvbnNlbnQsaj1iLnVzcENvbnNlbnQsdz1iLnRpbWVvdXQsTz1iLnJlZmVyZXJJbmZvLHg9Tz9lbmNvZGVVUklDb21wb25lbnQoTy5yZWZlcmVyKToiIixJPVtdLEU9e307ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtofHwoaD1lLmJpZGRlclJlcXVlc3RJZCksdnx8KHY9ZS5hdWN0aW9uSWQpLHB8fChwPWUuc2NoYWluKSxmfHwoZj1lLnVzZXJJZCksbXx8KG09ZS51c2VySWRBc0VpZHMpO3ZhciB0PWUucGFyYW1zLHM9dC51aWQsYz10LmtleXdvcmRzLHk9ZS5tZWRpYVR5cGVzLGc9ZS5iaWRJZCxiPWUuYWRVbml0Q29kZSxTPWUucnRkO0VbZ109ZTt2YXIgaj1mdW5jdGlvbihlLHQpe3ZhciByPWUudmlkZW8/InZpZGVvIjoiYmFubmVyIixuPXQucGFyYW1zLmJpZEZsb29yfHwwO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEZsb29yKXt2YXIgaT10LmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOnQuc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD11KGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpfSk7Im9iamVjdCIhPT1kKGkpfHwiVVNEIiE9PWkuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoaS5mbG9vcikpfHwobj1NYXRoLm1heChuLHBhcnNlRmxvYXQoaS5mbG9vcikpKX1yZXR1cm4gbn0oeXx8e30sZSk7aWYoUyl7dmFyIHc9Uy5qd3BsYXllciYmUy5qd3BsYXllci50YXJnZXRpbmc7dyYmKCFpJiZ3LnNlZ21lbnRzJiYoaT13LnNlZ21lbnRzKSwhbCYmdy5jb250ZW50JiYobD13LmNvbnRlbnQpKTt2YXIgTz1TLnBfc3RhbmRhcmQmJlMucF9zdGFuZGFyZC50YXJnZXRpbmc7IW8mJk8mJk8uc2VnbWVudHMmJihvPU8uc2VnbWVudHMpfXZhciBBPXtpZDpnJiZnLnRvU3RyaW5nKCksdGFnaWQ6cy50b1N0cmluZygpLGV4dDp7ZGl2aWQ6YiYmYi50b1N0cmluZygpfX07aWYoT2JqZWN0KG4uaXNFbXB0eSkoYyl8fChyfHwocj1jKSxBLmV4dC5iaWRkZXI9e2tleXdvcmRzOmN9KSxqJiYoQS5iaWRmbG9vcj1qKSwheXx8eVthLmJdKXt2YXIgeD1mdW5jdGlvbihlLHQpe3ZhciByPXQuc2l6ZXN8fGUuc2l6ZXM7aWYoIXJ8fCFyLmxlbmd0aClyZXR1cm47dmFyIGk9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoZSl9KSksbz1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoclswXSk7aS5sZW5ndGgmJihvLmZvcm1hdD1pKTtyZXR1cm4gb30oZSx5P3lbYS5iXTp7fSk7eCYmKEEuYmFubmVyPXgpfWlmKHkmJnlbYS5kXSl7dmFyIFI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnBsYXllclNpemUsaT10Lm1pbWVzLG89dC5kdXJhdGlvblJhbmdlU2VjLGE9dC5wcm90b2NvbHMscz0ocnx8ZS5zaXplc3x8W10pWzBdO2lmKCFzKXJldHVybjt2YXIgdT1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkocyk7aSYmKHUubWltZXM9aSk7byYmMj09PW8ubGVuZ3RoJiYodS5taW5kdXJhdGlvbj1vWzBdLHUubWF4ZHVyYXRpb249b1sxXSk7YSYmYS5sZW5ndGgmJih1LnByb3RvY29scz1hKTtyZXR1cm4gdX0oZSx5W2EuZF0pO1ImJihBLnZpZGVvPVIpfShBLmJhbm5lcnx8QS52aWRlbykmJkkucHVzaChBKX0pKTt2YXIgUj17dGlkOnYmJnYudG9TdHJpbmcoKSxleHQ6e3dyYXBwZXI6IlByZWJpZF9qcyIsd3JhcHBlcl92ZXJzaW9uOiI1LjIwLjIifX07cCYmKFIuZXh0LnNjaGFpbj1wKTt2YXIgVD1zLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil8fHcsXz13P01hdGgubWluKFQsdyk6VCxrPXtpZDpoJiZoLnRvU3RyaW5nKCksc2l0ZTp7cGFnZTp4fSx0bWF4Ol8sc291cmNlOlIsaW1wOkl9O2wmJihrLnNpdGUuY29udGVudD1sKTt2YXIgej1bXTtBKCJpb3dfbGFic19wdWJfZGF0YSIsImp3cHNlZyIsaSx6KSxBKCJwZXJtdXRpdmUiLCJwX3N0YW5kYXJkIixvLHosInBlcm11dGl2ZS5jb20iKSx6Lmxlbmd0aCYmKHk9e2RhdGE6en0pLFMmJlMuY29uc2VudFN0cmluZyYmKGc9e2NvbnNlbnQ6Uy5jb25zZW50U3RyaW5nfSksbSYmbS5sZW5ndGgmJigoZz1nfHx7fSkuZWlkcz1jKG0pKSxnJiZPYmplY3Qua2V5cyhnKS5sZW5ndGgmJigoeT15fHx7fSkuZXh0PWcpLHkmJihrLnVzZXI9eSk7dmFyIEM9T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIudXNlciIpLCJrZXl3b3JkcyIpfHxudWxsLE49T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIuc2l0ZSIpLCJrZXl3b3JkcyIpfHxudWxsO3JldHVybiBDJiYoKHI9cnx8e30pLnVzZXI9ci51c2VyfHx7fSxyLnVzZXIub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6Qy5zcGxpdCgiLCIpfV0pLE4mJigocj1yfHx7fSkuc2l0ZT1yLnNpdGV8fHt9LHIuc2l0ZS5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpOLnNwbGl0KCIsIil9XSksciYmKHI9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07aWYobilpZigic2l0ZSI9PT1yfHwidXNlciI9PT1yKXt2YXIgaT17fTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KG5bZV0pKXt2YXIgdD1bXTtuW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZChlKSYmZS5uYW1lKXt2YXIgcj17bmFtZTplLm5hbWUsc2VnbWVudHM6W119O09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkoZVt0XSkmJmVbdF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKCJzdHJpbmciPT10eXBlb2YgZT9yLnNlZ21lbnRzLnB1c2goe25hbWU6dCx2YWx1ZTplfSk6InNlZ21lbnRzIj09PXQmJiJzdHJpbmciPT10eXBlb2YgZS5uYW1lJiYic3RyaW5nIj09dHlwZW9mIGUudmFsdWUmJnIuc2VnbWVudHMucHVzaChlKSl9KSl9KSksci5zZWdtZW50cy5sZW5ndGgmJnQucHVzaChyKX19KSksdC5sZW5ndGgmJihpW2VdPXQpfX0pKSx0W3JdPWl9ZWxzZSB0W3JdPW59KSksT2JqZWN0LmtleXModCkubGVuZ3RoJiZ0fShyKSkmJihrLmV4dD17a2V5d29yZHM6cn0pLFMmJlMuZ2RwckFwcGxpZXMmJihrLnJlZ3M9e2V4dDp7Z2RwcjpTLmdkcHJBcHBsaWVzPzE6MH19KSxqJiYoay5yZWdzfHwoay5yZWdzPXtleHQ6e319KSxrLnJlZ3MuZXh0LnVzX3ByaXZhY3k9aikse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2dyaWQuYmlkc3dpdGNoLm5ldC9oYmpzb24/c3A9dHJ1c3R4IixkYXRhOkpTT04uc3RyaW5naWZ5KGspLGJpZHNNYXA6RX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm8uYTtlPWUmJmUuYm9keTt2YXIgaSxhPVtdO3JldHVybiBlP2Uuc2VhdGJpZCYmIWUuc2VhdGJpZC5sZW5ndGgmJihpPWgpOmk9YiwhaSYmZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dyhqKGUpLHQsYSxyKX0pKSxpJiZPYmplY3Qobi5sb2dFcnJvcikoaSksYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgaT1zLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5zeW5jc1BlckJpZGRlciIpLG89W107ciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzP28ucHVzaCgiZ2Rwcj0iLmNvbmNhdChOdW1iZXIoci5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHIuY29uc2VudFN0cmluZykpOm8ucHVzaCgiZ2Rwcl9jb25zZW50PSIuY29uY2F0KHIuY29uc2VudFN0cmluZykpKSxuJiZvLnB1c2goInVzX3ByaXZhY3k9Ii5jb25jYXQobikpO3ZhciBhPW8uam9pbigiJiIpLHU9W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL3NvZmlhLnRydXN0eC5vcmcvcHVzaF9zeW5jIisoYT8iPyIuY29uY2F0KGEpOiIiKX1dO3JldHVybiBpPjEmJnUucHVzaCh7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly94LmJpZHN3aXRjaC5uZXQvc3luYz9zc3A9dGhlbWVkaWFncmlkIisoYT8iJiIuY29uY2F0KGEpOiIiKX0pLHV9fX07ZnVuY3Rpb24gaihlKXtyZXR1cm4gZT9lLmJpZD9lLmJpZFswXXx8T2JqZWN0KG4ubG9nRXJyb3IpKHkpOk9iamVjdChuLmxvZ0Vycm9yKSh2K0pTT04uc3RyaW5naWZ5KGUpKTpPYmplY3Qobi5sb2dFcnJvcikoZyksZSYmZS5iaWQmJmUuYmlkWzBdfWZ1bmN0aW9uIHcoZSx0LHIsaSl7aWYoZSl7dmFyIG87aWYoZS5hdWlkfHwobz1mK0pTT04uc3RyaW5naWZ5KGUpKSxlLmFkbXx8ZS5udXJsKXt2YXIgcz10LmJpZHNNYXBbZS5pbXBpZF07aWYoIW8mJnMpe3ZhciB1PXtyZXF1ZXN0SWQ6cy5iaWRJZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuYXVpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDozNjAsZGVhbElkOmUuZGVhbGlkLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbj9lLmFkb21haW46W119fTsidmlkZW8iPT09ZS5jb250ZW50X3R5cGU/KGUuYWRtPyh1LnZhc3RYbWw9ZS5hZG0sdS5hZFJlc3BvbnNlPXtjb250ZW50OnUudmFzdFhtbH0pOmUubnVybCYmKHUudmFzdFVybD1lLm51cmwpLHUubWVkaWFUeXBlPWEuZCxzLnJlbmRlcmVyfHxzLm1lZGlhVHlwZXMmJnMubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSIhPT1zLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8KHUucmVuZGVyZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuaW5zdGFsbCh7aWQ6dC5pZCx1cmw6dC51cmwsbG9hZGVkOiExfSk7dHJ5e2kuc2V0UmVuZGVyKE8pfWNhdGNoKGUpe09iamVjdChuLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpfSgwLHtpZDpzLmJpZElkLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyJ9LGkpKSk6KHUuYWQ9ZS5hZG0sdS5tZWRpYVR5cGU9YS5iKSxyLnB1c2godSl9fWVsc2Ugbz1tK0pTT04uc3RyaW5naWZ5KGUpO28mJk9iamVjdChuLmxvZ0Vycm9yKShvKX19ZnVuY3Rpb24gTyhlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZX0pfSkpfWZ1bmN0aW9uIEEoZSx0LHIsbixpKXtpZihyJiZyLmxlbmd0aCluLnB1c2goe25hbWU6ZSxzZWdtZW50OnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuaWR8fGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0LHZhbHVlOmUudG9TdHJpbmcoKX19KSl9KTtlbHNlIGlmKGkpe3ZhciBvPXMuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIuZGF0YSIpLGE9bnVsbDtvJiZvLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZSxyPWUuc2VnbWVudDtpZih0PT09aSlyZXR1cm4gYT1yLCEwfSkpLGEmJmEubGVuZ3RoJiZuLnB1c2goe25hbWU6ZSxzZWdtZW50OmEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuaWR8fGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0LHZhbHVlOmUudG9TdHJpbmcoKX19KSl9KX19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKFMpfX0sWzg2OF0pOwp1cGJqc0NodW5rKFsxMDFdLHs4NzY6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDg3Nyl9LDg3NzpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtkPSExfSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHM9dCgwKSxpPXQoMykscj10KDEpLGE9IjMuNVYiLGQ9ITE7T2JqZWN0KHMubG9nTWVzc2FnZSkoIkluaXRpYWxpemluZyBVRE0gQWRhcHRlci4gUEJKUyBWZXJzaW9uOiAiLmNvbmNhdCgiNS4yMC4yIiwiIHdpdGggYWRhcHRlciB2ZXJzaW9uOiAiKS5jb25jYXQoYSwiICBVcGRhdGVkIDIwMTkxMDI4IikpO3ZhciBvPXtjb2RlOiJ1bmRlcmRvZ21lZGlhIixiaWRQYXJhbXM6W10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcztyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZuJiZuLmxlbmd0aD4wKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLGk9MDtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXM7dD1PYmplY3Qocy5mbGF0dGVuKSh0LE9iamVjdChzLnBhcnNlU2l6ZXNJbnB1dCkobikpLGk9ZS5wYXJhbXMuc2l0ZUlkfSkpO3ZhciByPXt0aWQ6MSxkdDoxMCxzaWQ6aSxzaXplczp0LmpvaW4oIiwiKSx2ZXJzaW9uOmF9O2lmKG4mJm4uZ2RwckNvbnNlbnQmJih2b2lkIDAhPT1uLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci5nZHByQXBwbGllcz0hIW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLG4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YSYmbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzJiZ2b2lkIDAhPT1uLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSYmKHIuY29uc2VudEdpdmVuPSEhbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzWzE1OV0pLHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHIuY29uc2VudERhdGE9bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksbi51c3BDb25zZW50JiYoci51c3BDb25zZW50PW4udXNwQ29uc2VudCksIXIuZ2RwckFwcGxpZXN8fHIuY29uc2VudEdpdmVuKXJldHVybnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovL3VkbXNlcnZlLm5ldC91ZG0vaW1nLmZldGNoIixkYXRhOnIsYmlkUGFyYW1zOmV9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxuKXtpZighZCYmbi5sZW5ndGg+MCYmblswXS5ib2R5JiZuWzBdLmJvZHkudXNlclN5bmNzJiZuWzBdLmJvZHkudXNlclN5bmNzLmxlbmd0aD4wKXJldHVybiBkPSEwLG5bMF0uYm9keS51c2VyU3luY3MuZmlsdGVyKChmdW5jdGlvbihuKXt2YXIgdD1uLnR5cGU7cmV0dXJuISghZS5pZnJhbWVFbmFibGVkfHwiaWZyYW1lIiE9PXQpfHwoISghZS5waXhlbEVuYWJsZWR8fCJpbWFnZSIhPT10KXx8dm9pZCAwKX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXTtyZXR1cm4gbi5iaWRQYXJhbXMuZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5ib2R5Lm1pZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIShlLnVzZUNvdW50PjApKXtlLnVzZUNvdW50fHwoZS51c2VDb3VudD0wKTt2YXIgcj0hMCxkPW4ubWVkaWFUeXBlcyYmbi5tZWRpYVR5cGVzLmJhbm5lciYmbi5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9uLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOm4uc2l6ZXM7aWYoT2JqZWN0KHMucGFyc2VTaXplc0lucHV0KShkKS5mb3JFYWNoKChmdW5jdGlvbihuKXtuPT09ZS53aWR0aCsieCIrZS5oZWlnaHQmJihyPSExKX0pKSwhcil7dmFyIHA9e3JlcXVlc3RJZDpuLmJpZElkLGJpZGRlckNvZGU6by5jb2RlLGNwbTpwYXJzZUZsb2F0KGUuY3BtKSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxhZDplLmFkX2NvZGVfaHRtbCxjcmVhdGl2ZUlkOmUubWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITEsdHRsOmUudHRsfHw2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkdmVydGlzZXJfZG9tYWluc3x8W119fTtwLmNwbTw9MHx8cC5hZC5sZW5ndGg8PTB8fChlLnVzZUNvdW50KysscC5hZCs9ZnVuY3Rpb24oZSxuLHQpe3ZhciBzPW4ubm90aWZpY2F0aW9uX3VybCxyPXMuaW5kZXhPZigiO3ZlcnNpb249Iik7cisxJiYocz1zLnN1YnN0cmluZygwLHIpKTtzKz0iO3ZlcnNpb249Ii5jb25jYXQoYSkscys9IjtjYj0iK01hdGgucmFuZG9tKCkscys9IjtxcXE9IisxL2UuY3BtLHMrPSI7aGJ0PSIraS5iLmdldENvbmZpZygiX2JpZGRlclRpbWVvdXQiKSxzKz0iO3N0eWxlPWFkYXB0ZXIiLHMrPSI7dmlzPSIrZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkscys9Ijt0cmFmZmljX2luZm89IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZnVuY3Rpb24oKXtmb3IodmFyIGUsbj17fSx0PXdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIj8iKSsxKS5zcGxpdCgiJiIpLHM9MDtzPHQubGVuZ3RoO3MrKykoZT10W3NdLnNwbGl0KCI9IikpWzBdLm1hdGNoKC9edXRtXy8pJiYobltlWzBdXT1lWzFdLnN1YnN0cigwLDE1MCkpO3JldHVybiBufSgpKSksdC5wYXJhbXMuc3ViSWQmJihzKz0iO3N1YmlkPSIrZW5jb2RlVVJJQ29tcG9uZW50KHQucGFyYW1zLnN1YklkKSk7cmV0dXJuJzxzY3JpcHQgYXN5bmMgc3JjPSInK3MrJyI+PFwvc2NyaXB0Pid9KHAsZSxuKSx0LnB1c2gocCkpfX19KSl9KSksdH19O09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShvKX19LFs4NzZdKTsKdXBianNDaHVuayhbMTFdLHsxNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pKWlmKCJwdWJQcm92aWRlZElkIj09PW4pdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIHI9YShlW25dLG4pO3ImJnQucHVzaChyKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KHIuZGVlcEFjY2VzcykobyxuKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm9bbl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciByPW4oMCksbz17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChyLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYShlLHQpe3ZhciBuPW9bdF07aWYobiYmZSl7dmFyIGE9e307YS5zb3VyY2U9bi5zb3VyY2U7dmFyIGk9T2JqZWN0KHIuaXNGbikobi5nZXRWYWx1ZSk/bi5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChyLmlzU3RyKShpKSl7dmFyIGM9e2lkOmksYXR5cGU6bi5hdHlwZX07aWYoT2JqZWN0KHIuaXNGbikobi5nZXRVaWRFeHQpKXt2YXIgdT1uLmdldFVpZEV4dChlKTt1JiYoYy5leHQ9dSl9aWYoYS51aWRzPVtjXSxPYmplY3Qoci5pc0ZuKShuLmdldEVpZEV4dCkpe3ZhciBzPW4uZ2V0RWlkRXh0KGUpO3MmJihhLmV4dD1zKX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw4ODY6ZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDg4Nyl9LDg4NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiUEJKU19VU0VSX0lEX09QVE9VVF9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gd30pKSxuLmQodCwiY29yZVN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJzeW5jRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLG4uZCh0LCJhdWN0aW9uRGVsYXkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHQuc2V0U3VibW9kdWxlUmVnaXN0cnk9ZnVuY3Rpb24oZSl7Vj1lfSx0LnNldFN0b3JlZFZhbHVlPUwsdC5zZXRTdG9yZWRDb25zZW50RGF0YT1NLHQuZmluZFJvb3REb21haW49Six0LnJlcXVlc3RCaWRzSG9vaz0kLG4uZCh0LCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksdC5hdHRhY2hJZFN5c3RlbT1uZSx0LmluaXQ9cmU7dmFyIHI9bigxMSksbz1uLm4ociksYT1uKDMpLGk9bigxMCksYz1uLm4oaSksdT1uKDE0KSxzPW4oOCksZD1uKDUpLGw9bi5uKGQpLGY9big5KSxiPW4oMTcpLHA9big3KSxnPW4oMCksbT1uKDEyKSx5PW4ubihtKTtmdW5jdGlvbiBPKGUsdCl7dmFyIG49InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKCFuKXtpZihBcnJheS5pc0FycmF5KGUpfHwobj1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHYoZSx0KX0oZSkpfHx0JiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXtuJiYoZT1uKTt2YXIgcj0wLG89ZnVuY3Rpb24oKXt9O3JldHVybntzOm8sbjpmdW5jdGlvbigpe3JldHVybiByPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtyKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm99fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxpPSEwLGM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXtuPW4uY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBpPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2l8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBhfX19fWZ1bmN0aW9uIHYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgaixoLEksayxEPSJVc2VyIElEIixFPSJjb29raWUiLFM9Imh0bWw1Iix4PSJfcGJqc191c2VyaWRfY29uc2VudF9kYXRhIixBPTMwLHc9Il9wYmpzX2lkX29wdG91dCIsQz1PYmplY3QocC5hKSgidXNlcmlkIiksVT1bXSxfPSExLFA9W10sVD1bXSxWPVtdO2Z1bmN0aW9uIEwoZSx0KXt2YXIgbj1lLmNvbmZpZy5zdG9yYWdlLHI9ImZ1bmN0aW9uIj09dHlwZW9mIGUuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlP2Uuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlKCk6bnVsbDt0cnl7dmFyIG89T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodCk/SlNPTi5zdHJpbmdpZnkodCk6dCxhPW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqbi5leHBpcmVzKS50b1VUQ1N0cmluZygpO24udHlwZT09PUU/KEMuc2V0Q29va2llKG4ubmFtZSxvLGEsIkxheCIsciksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0Q29va2llKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpLGEsIkxheCIscikpOm4udHlwZT09PVMmJihDLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfZXhwIiksYSksQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2Uobi5uYW1lLGVuY29kZVVSSUNvbXBvbmVudChvKSksIm51bWJlciI9PXR5cGVvZiBuLnJlZnJlc2hJblNlY29uZHMmJkMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChuLm5hbWUsIl9sYXN0IiksKG5ldyBEYXRlKS50b1VUQ1N0cmluZygpKSl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBOKGUpe3ZhciB0PU9iamVjdChnLmdldFByZWJpZEludGVybmFsKSgpLnNldEVpZFBlcm1pc3Npb25zOyJmdW5jdGlvbiI9PXR5cGVvZiB0JiZPYmplY3QoZy5pc0FycmF5KShlKSYmdChPYmplY3QoYi5hKShlKSl9ZnVuY3Rpb24gcShlKXt2YXIgdCxuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1uPyIiLmNvbmNhdChlLm5hbWUsIl8iKS5jb25jYXQobik6ZS5uYW1lO3RyeXtpZihlLnR5cGU9PT1FKXQ9Qy5nZXRDb29raWUocik7ZWxzZSBpZihlLnR5cGU9PT1TKXt2YXIgbz1DLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlLm5hbWUsIl9leHAiKSk7IiI9PT1vP3Q9Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKTpvJiZuZXcgRGF0ZShvKS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wJiYodD1kZWNvZGVVUklDb21wb25lbnQoQy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShyKSkpfSJzdHJpbmciPT10eXBlb2YgdCYmInsiPT09dC50cmltKCkuY2hhckF0KDApJiYodD1KU09OLnBhcnNlKHQpKX1jYXRjaChlKXtPYmplY3QoZy5sb2dFcnJvcikoZSl9cmV0dXJuIHR9ZnVuY3Rpb24gRihlKXt2YXIgdD17Y29uc2VudFN0cmluZzoiIixnZHByQXBwbGllczohMSxhcGlWZXJzaW9uOjB9O3JldHVybiBlJiYodC5jb25zZW50U3RyaW5nPWUuY29uc2VudFN0cmluZyx0LmdkcHJBcHBsaWVzPWUuZ2RwckFwcGxpZXMsdC5hcGlWZXJzaW9uPWUuYXBpVmVyc2lvbiksT2JqZWN0KGcuY3lyYjUzSGFzaCkoSlNPTi5zdHJpbmdpZnkodCkpfWZ1bmN0aW9uIE0oZSl7dHJ5e3ZhciB0PW5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqQSkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZSh4LEYoZSksdCwiTGF4Iil9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBCKCl7dHJ5e3JldHVybiBDLmdldENvb2tpZSh4KX1jYXRjaChlKXtPYmplY3QoZy5sb2dFcnJvcikoZSl9fWZ1bmN0aW9uIFIoZSl7aWYoZSYmImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcyYmZS5nZHByQXBwbGllcyl7aWYoIWUuY29uc2VudFN0cmluZylyZXR1cm4hMTtpZigxPT09ZS5hcGlWZXJzaW9uJiYhMT09PU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsInZlbmRvckRhdGEucHVycG9zZUNvbnNlbnRzLjEiKSlyZXR1cm4hMTtpZigyPT09ZS5hcGlWZXJzaW9uJiYhMT09PU9iamVjdChnLmRlZXBBY2Nlc3MpKGUsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gSigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7aWYoIUMuY29va2llc0FyZUVuYWJsZWQoKSlyZXR1cm4gZTt2YXIgdCxuLHI9ZS5zcGxpdCgiLiIpO2lmKDI9PXIubGVuZ3RoKXJldHVybiBlO3ZhciBvPS0yLGE9Il9yZGMiLmNvbmNhdChEYXRlLm5vdygpKSxpPSJ3cml0ZWFibGUiO2Rve3Q9ci5zbGljZShvKS5qb2luKCIuIik7dmFyIGM9bmV3IERhdGUoT2JqZWN0KGcudGltZXN0YW1wKSgpKzFlNCkudG9VVENTdHJpbmcoKTtDLnNldENvb2tpZShhLGksYywiTGF4Iix0LHZvaWQgMCk7dmFyIHU9Qy5nZXRDb29raWUoYSx2b2lkIDApO3U9PT1pPyhuPSExLEMuc2V0Q29va2llKGEsIiIsIlRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UIix2b2lkIDAsdCx2b2lkIDApKToobys9LTEsbj1NYXRoLmFicyhvKTw9ci5sZW5ndGgpfXdoaWxlKG4pO3JldHVybiB0fWZ1bmN0aW9uIEgoZSx0KXt2YXIgbj1mdW5jdGlvbigpe307dCYmKG49T2JqZWN0KGcuZGVsYXlFeGVjdXRpb24pKChmdW5jdGlvbigpe2NsZWFyVGltZW91dChoKSx0KCl9KSxlLmxlbmd0aCkpLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5jYWxsYmFjaygoZnVuY3Rpb24odCl7dD8oZS5jb25maWcuc3RvcmFnZSYmTChlLHQpLGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHQsZS5jb25maWcpKTpPYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiOiAiKS5jb25jYXQoZS5zdWJtb2R1bGUubmFtZSwiIC0gcmVxdWVzdCBpZCByZXNwb25kZWQgd2l0aCBhbiBlbXB0eSB2YWx1ZSIpKSxuKCl9KSksZS5jYWxsYmFjaz12b2lkIDB9KSl9ZnVuY3Rpb24geihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg/ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZy5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LmtleXModC5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24obil7ZVtuXT10LmlkT2JqW25dfSkpLGV9KSx7fSk6e319ZnVuY3Rpb24gRyhlLHQpe1tlXS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4hQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RofSkpfHxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuYmlkcyYmT2JqZWN0KGcuaXNBcnJheSkoZS5iaWRzKSYmKCFlLmJpZHMuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIj09PWUuYmlkZGVyfSkpJiZPYmplY3QoZy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKSYmZS5iaWRzLnB1c2goe2JpZGRlcjoiczJzQmlkZGVyUGxhY2Vob2xkZXIifSksZS5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoJiZ0P2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5jb25maWcuYmlkZGVyc3x8IU9iamVjdChnLmlzQXJyYXkpKGUuY29uZmlnLmJpZGRlcnMpfHx5KCkoZS5jb25maWcuYmlkZGVycyx0KXx8InMyc0JpZGRlclBsYWNlaG9sZGVyIj09PXR9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKHQuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dC5pZE9ialtuXX0pKSxlfSkse30pOnt9fSh0LGUuYmlkZGVyKTtPYmplY3Qua2V5cyhuKS5sZW5ndGgmJihlLnVzZXJJZD1uLGUudXNlcklkQXNFaWRzPU9iamVjdChiLmIpKG4pKX0pKSl9KSl9ZnVuY3Rpb24gVyhlKXt2YXIgdD0hMTtpZih2b2lkIDA9PT1qJiYoaj1mdW5jdGlvbihlLHQpe3ZhciBuPVkoZSx0KSxyPW4udXNlcklkTW9kdWxlcztpZighbi5oYXNWYWxpZGF0ZWQmJiFSKHQpKXJldHVybiBPYmplY3QoZy5sb2dXYXJuKSgiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKSxbXTt2YXIgbz1CKCk7cmV0dXJuIE0odCksci5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIFoobix0LG8sITEpLGUucHVzaChuKSxlfSksW10pfShQLHMuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCkpKS5sZW5ndGgpe04oaik7dmFyIG49ai5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoZy5pc0ZuKShlLmNhbGxiYWNrKX0pKTtpZihuLmxlbmd0aClpZihlJiZrPjApe3Q9ITA7dmFyIHI9ITEsbz1mdW5jdGlvbigpe3J8fChyPSEwLGUoKSl9O09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBhdWN0aW9uIGRlbGF5ZWQgYnkgIikuY29uY2F0KGssIiBhdCBtb3N0IHRvIGZldGNoIGlkcyIpKSxoPXNldFRpbWVvdXQobyxrKSxIKG4sbyl9ZWxzZSBjLmEub24obC5hLkVWRU5UUy5BVUNUSU9OX0VORCwoZnVuY3Rpb24gZSgpe2MuYS5vZmYobC5hLkVWRU5UUy5BVUNUSU9OX0VORCxlKSxJPjA/c2V0VGltZW91dCgoZnVuY3Rpb24oKXtIKG4pfSksSSk6SChuKX0pKX1lJiYhdCYmZSgpfWZ1bmN0aW9uICQoZSx0KXtXKChmdW5jdGlvbigpe0codC5hZFVuaXRzfHxPYmplY3QodS5hKSgpLmFkVW5pdHMsaiksZS5jYWxsKHRoaXMsdCl9KSl9ZnVuY3Rpb24gSygpe3JldHVybiBXKCkseihqKX1mdW5jdGlvbiBRKCl7cmV0dXJuIFcoKSxPYmplY3QoYi5iKSh6KGopKX1mdW5jdGlvbiBYKGUsdCl7dmFyIG49ZT9lLnN1Ym1vZHVsZU5hbWVzOm51bGw7bnx8KG49W10pLFcoKGZ1bmN0aW9uKCl7dmFyIGU9cy5nZHByRGF0YUhhbmRsZXIuZ2V0Q29uc2VudERhdGEoKSxyPVkoUCxlKSxvPXIudXNlcklkTW9kdWxlcztpZihyLmhhc1ZhbGlkYXRlZHx8UihlKSl7dmFyIGE9QigpO00oZSk7dmFyIGksYz1bXSx1PU8obyk7dHJ5e2Zvcih1LnMoKTshKGk9dS5uKCkpLmRvbmU7KXt2YXIgZD1pLnZhbHVlO24ubGVuZ3RoPjAmJi0xPT09bi5pbmRleE9mKGQuc3VibW9kdWxlLm5hbWUpfHwoT2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIiAtIHJlZnJlc2hpbmcgIikuY29uY2F0KGQuc3VibW9kdWxlLm5hbWUpKSxaKGQsZSxhLCEwKSxlZShkKSxqLmxlbmd0aCYmTihqKSxPYmplY3QoZy5pc0ZuKShkLmNhbGxiYWNrKSYmYy5wdXNoKGQpKX19Y2F0Y2goZSl7dS5lKGUpfWZpbmFsbHl7dS5mKCl9Yy5sZW5ndGg+MCYmSChjKSx0JiZ0KCl9ZWxzZSBPYmplY3QoZy5sb2dXYXJuKSgiIi5jb25jYXQoRCwiIC0gZ2RwciBwZXJtaXNzaW9uIG5vdCB2YWxpZCBmb3IgbG9jYWwgc3RvcmFnZSBvciBjb29raWVzLCBleGl0IG1vZHVsZSIpKX0pKX12YXIgWT1PYmplY3QoZi5iKSgic3luYyIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJue3VzZXJJZE1vZHVsZXM6ZSxoYXNWYWxpZGF0ZWQ6dCYmdC5oYXNWYWxpZGF0ZWR9fSksInZhbGlkYXRlR2RwckVuZm9yY2VtZW50Iik7ZnVuY3Rpb24gWihlLHQsbixyKXtpZihlLmNvbmZpZy5zdG9yYWdlKXt2YXIgbyxhPXEoZS5jb25maWcuc3RvcmFnZSksaT0hMTtpZigibnVtYmVyIj09dHlwZW9mIGUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kcyl7dmFyIGM9bmV3IERhdGUocShlLmNvbmZpZy5zdG9yYWdlLCJsYXN0IikpO2k9YyYmRGF0ZS5ub3coKS1jLmdldFRpbWUoKT4xZTMqZS5jb25maWcuc3RvcmFnZS5yZWZyZXNoSW5TZWNvbmRzfSFhfHxpfHxyfHwhZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmZT09PUYodCl9KG4sdCk/bz1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LGEpOiJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5leHRlbmRJZCYmKG89ZS5zdWJtb2R1bGUuZXh0ZW5kSWQoZS5jb25maWcsdCxhKSksT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkobykmJihvLmlkJiYoTChlLG8uaWQpLGE9by5pZCksImZ1bmN0aW9uIj09dHlwZW9mIG8uY2FsbGJhY2smJihlLmNhbGxiYWNrPW8uY2FsbGJhY2spKSxhJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUoYSxlLmNvbmZpZykpfWVsc2UgaWYoZS5jb25maWcudmFsdWUpZS5pZE9iaj1lLmNvbmZpZy52YWx1ZTtlbHNle3ZhciB1PWUuc3VibW9kdWxlLmdldElkKGUuY29uZmlnLHQsdm9pZCAwKTtPYmplY3QoZy5pc1BsYWluT2JqZWN0KSh1KSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB1LmNhbGxiYWNrJiYoZS5jYWxsYmFjaz11LmNhbGxiYWNrKSx1LmlkJiYoZS5pZE9iaj1lLnN1Ym1vZHVsZS5kZWNvZGUodS5pZCxlLmNvbmZpZykpKX19ZnVuY3Rpb24gZWUoZSl7Zm9yKHZhciB0PSExLG49MDtuPGoubGVuZ3RoO24rKylpZihlLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCk9PT1qW25dLmNvbmZpZy5uYW1lLnRvTG93ZXJDYXNlKCkpe3Q9ITAsaltuXT1lO2JyZWFrfXR8fGoucHVzaChlKX1mdW5jdGlvbiB0ZSgpe3ZhciBlPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4hdHx8T2JqZWN0KGcuaXNFbXB0eVN0cikodC5uYW1lKXx8KCF0LnN0b3JhZ2V8fE9iamVjdChnLmlzRW1wdHlTdHIpKHQuc3RvcmFnZS50eXBlKXx8T2JqZWN0KGcuaXNFbXB0eVN0cikodC5zdG9yYWdlLm5hbWUpfHwtMT09PW4uaW5kZXhPZih0LnN0b3JhZ2UudHlwZSk/T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodC52YWx1ZSk/ZS5wdXNoKHQpOnQuc3RvcmFnZXx8dC52YWx1ZXx8ZS5wdXNoKHQpOmUucHVzaCh0KSksZX0pLFtdKTpbXX0oVCwwLFUpO2lmKGUubGVuZ3RoKXt2YXIgdD1WLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIW8oKShQLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfSkpO1A9dC5tYXAoKGZ1bmN0aW9uKHQpe3ZhciBuPW8oKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lJiYoZS5uYW1lLnRvTG93ZXJDYXNlKCk9PT10Lm5hbWUudG9Mb3dlckNhc2UoKXx8dC5hbGlhc05hbWUmJmUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5hbGlhc05hbWUudG9Mb3dlckNhc2UoKSl9KSk7cmV0dXJuIG4mJnQubmFtZSE9PW4ubmFtZSYmKG4ubmFtZT10Lm5hbWUpLHQuZmluZFJvb3REb21haW49SixuP3tzdWJtb2R1bGU6dCxjb25maWc6bixjYWxsYmFjazp2b2lkIDAsaWRPYmo6dm9pZCAwfTpudWxsfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpLCFfJiZQLmxlbmd0aCYmKE9iamVjdCh1LmEpKCkucmVxdWVzdEJpZHMuYmVmb3JlKCQsNDApLE9iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSB1c2Vyc3luYyBjb25maWcgdXBkYXRlZCBmb3IgIikuY29uY2F0KFAubGVuZ3RoLCIgc3VibW9kdWxlczogIiksUC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1Ym1vZHVsZS5uYW1lfSkpKSxfPSEwKX19ZnVuY3Rpb24gbmUoZSl7bygpKFYsKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWU9PT1lLm5hbWV9KSl8fChWLnB1c2goZSksdGUoKSl9ZnVuY3Rpb24gcmUoZSl7UD1bXSxUPVtdLF89ITEsaj12b2lkIDAsLTEhPT0oVT1bQy5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQoKT9TOm51bGwsQy5jb29raWVzQXJlRW5hYmxlZCgpP0U6bnVsbF0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9PWV9KSkpLmluZGV4T2YoRSkmJkMuZ2V0Q29va2llKHcpP09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBvcHQtb3V0IGNvb2tpZSBmb3VuZCwgZXhpdCBtb2R1bGUiKSk6LTEhPT1VLmluZGV4T2YoUykmJkMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uodyk/T2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIiAtIG9wdC1vdXQgbG9jYWxTdG9yYWdlIGZvdW5kLCBleGl0IG1vZHVsZSIpKTooZS5nZXRDb25maWcoKGZ1bmN0aW9uKGUpe3ZhciB0PWUudXNlclN5bmM7dCYmdC51c2VySWRzJiYoVD10LnVzZXJJZHMsST1PYmplY3QoZy5pc051bWJlcikodC5zeW5jRGVsYXkpP3Quc3luY0RlbGF5OjUwMCxrPU9iamVjdChnLmlzTnVtYmVyKSh0LmF1Y3Rpb25EZWxheSk/dC5hdWN0aW9uRGVsYXk6MCx0ZSgpKX0pKSxPYmplY3QodS5hKSgpLmdldFVzZXJJZHM9SyxPYmplY3QodS5hKSgpLmdldFVzZXJJZHNBc0VpZHM9USxPYmplY3QodS5hKSgpLnJlZnJlc2hVc2VySWRzPVgpfXJlKGEuYiksT2JqZWN0KGYuYykoInVzZXJJZCIsbmUpfX0sWzg4Nl0pOwp1cGJqc0NodW5rKFs3N10sezkyOTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoOTMwKX0sOTMwOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgaT1yKDEpLGE9cigyKSxzPXIoMCksZD1yKDMpLG49cigxMyk7ZnVuY3Rpb24gYyhlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsaSl9cmV0dXJuIHJ9ZnVuY3Rpb24gbyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIHA9IjUuMjAuMiIsYj0iVVNEIixtPVsiYWRtaXhlci5uZXQiLCJhZHNlcnZlci5vcmciLCJhZHRlbGxpZ2VudC5jb20iLCJha2FtYWkuY29tIiwiYW14cnRiLmNvbSIsImF1ZGlnZW50LmNvbSIsImJyaXRlcG9vbC5jb20iLCJjcml0ZW8uY29tIiwiY3J3ZGNudHJsLm5ldCIsImRlZXBpbnRlbnQuY29tIiwiaGNuLmhlYWx0aCIsImlkNS1zeW5jLmNvbSIsImlkeC5sYXQiLCJpbnRlbnRpcS5jb20iLCJpbnRpbWF0ZW1lcmdlci5jb20iLCJsaXZlaW50ZW50LmNvbSIsImxpdmVyYW1wLmNvbSIsIm1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsIm1lcmtsZWluYy5jb20iLCJuZXRpZC5kZSIsIm5ldXN0YXIuYml6IiwibmV4dHJvbGwuY29tIiwibm92YXRpcS5jb20iLCJwYXJyYWJsZS5jb20iLCJwdWJjaWQub3JnIiwicXVhbnRjYXN0LmNvbSIsInF1YW50Y2FzdC5jb20iLCJ0YXBhZC5jb20iLCJ1aWRhcGkuY29tIiwidmVyaXpvbm1lZGlhLmNvbSIsInlhaG9vLmNvbSIsInplb3RhcC5jb20iXTtmdW5jdGlvbiB1KGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0pLGg6cGFyc2VJbnQoZVsxXSl9fWZ1bmN0aW9uIHYoZSl7cmV0dXJuIE9iamVjdChzLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGgmJiFPYmplY3Qocy5pc0FycmF5KShlWzBdKT9bdShlKV06ZS5tYXAodSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gT2JqZWN0KHMuaXNBcnJheSkoT2JqZWN0KHMuZGVlcEFjY2VzcykoZSwidXNlcklkQXNFaWRzIikpP2UudXNlcklkQXNFaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1tLmluZGV4T2YoZS5zb3VyY2UpfSkpOltdfWZ1bmN0aW9uIGwoZSl7cmV0dXJuIE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAuc2VjdXJlIil8fCJodHRwczoiPT09ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2w/MTowfWZ1bmN0aW9uIHkoZSl7dmFyIHQ7cmV0dXJuIE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5wdWJJZCIpP3Q9ITA6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmRjbiIpJiZPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucG9zIikmJih0PSExKSx0fWZ1bmN0aW9uIGooKXt2YXIgZT1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5tb2RlIik7cmV0dXJuIHZvaWQgMD09PShlPWU/ZS50b0xvd2VyQ2FzZSgpOnZvaWQgMCl8fGU9PT1hLmI/YS5iOmU9PT1hLmQ/YS5kOiJhbGwiPT09ZT8iKiI6dm9pZCAwfWZ1bmN0aW9uIGYoZSl7dmFyIHQ9aigpLHI9e2N1cnJlbmN5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5jdXIiKXx8YixtZWRpYVR5cGU6dCxzaXplOiIqIn07cmV0dXJuISFPYmplY3Qocy5pc0ZuKShlLmdldEZsb29yKSYmZS5nZXRGbG9vcihyKX1mdW5jdGlvbiBnKGUsdCxyLGkpe3ZhciBhPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2MoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpjKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfSh7fSxpKTtmb3IodmFyIGQgaW4gcilzd2l0Y2goZSl7Y2FzZSJzdHJpbmciOi0xIT09dC5pbmRleE9mKGQpJiZPYmplY3Qocy5pc1N0cikocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2UibnVtYmVyIjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNOdW1iZXIpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlImFycmF5IjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNBcnJheSkocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2Uib2JqZWN0IjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocltkXSkmJihhW2RdPXJbZF0pO2JyZWFrO2Nhc2Uib2JqZWN0QWxsS2V5cyI6T2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocikmJihhW2RdPXJbZF0pfXJldHVybiBhfWZ1bmN0aW9uIGgoZSl7dmFyIHQ9ZC5iLmdldENvbmZpZygieWFob29zc3AudHRsIik7cmV0dXJuIEEodHx8T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLnR0bCIpKX1mdW5jdGlvbiBBKGUpe3JldHVybiBPYmplY3Qocy5pc051bWJlcikoZSkmJmU+MCYmZTwzNjAwP2U6MzAwfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIE9iamVjdChzLmlzU3RyKShlKSYmZS5sZW5ndGg+MH1mdW5jdGlvbiBUKGUsdCl7aWYoZSl7dmFyIHI9e2lkOk9iamVjdChzLmdlbmVyYXRlVVVJRCkoKSxjdXI6W2YoZSkuY3VycmVuY3l8fE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5jdXIiKXx8Yl0saW1wOltdLHNpdGU6e3BhZ2U6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicmVmZXJlckluZm8ucmVmZXJlciIpfSxkZXZpY2U6e2RudDowLHVhOm5hdmlnYXRvci51c2VyQWdlbnQsaXA6T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmJpZE92ZXJyaWRlLmRldmljZS5pcCIpfHxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuZXh0LmlwIil8fHZvaWQgMH0scmVnczp7ZXh0Ont1c19wcml2YWN5OmUudXNwQ29uc2VudD9lLnVzcENvbnNlbnQ6IiIsZ2RwcjplLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MH19LHNvdXJjZTp7ZXh0OntoYjoxLGFkYXB0ZXJ2ZXI6IjEuMC4xIixwcmViaWR2ZXI6cCxpbnRlZ3JhdGlvbjp7bmFtZToicHJlYmlkLmpzIix2ZXI6cH19LGZkOjF9LHVzZXI6e2V4dDp7Y29uc2VudDplLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzP2UuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZzoiIixlaWRzOk8odCl9fX07cmV0dXJuITA9PT15KHQpPyhyLnNpdGUucHVibGlzaGVyPXtpZDp0LnBhcmFtcy5wdWJJZH0sKE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5zaXRlLmlkIil8fE9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5zaXRlSWQiKSkmJihyLnNpdGUuaWQ9T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmJpZE92ZXJyaWRlLnNpdGUuaWQiKXx8dC5wYXJhbXMuc2l0ZUlkKSk6ci5zaXRlLmlkPXQucGFyYW1zLmRjbixkLmIuZ2V0Q29uZmlnKCJvcnRiMiIpJiYocj1mdW5jdGlvbihlLHQpe3ZhciByPWQuYi5nZXRDb25maWcoIm9ydGIyIiksaT1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJzaXRlIil8fHZvaWQgMCxhPU9iamVjdChzLmRlZXBBY2Nlc3MpKGksImNvbnRlbnQiKXx8dm9pZCAwLG49T2JqZWN0KHMuZGVlcEFjY2VzcykoaSwiY29udGVudC5kYXRhIil8fHZvaWQgMCxjPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsImFwcC5jb250ZW50Iil8fHZvaWQgMCxvPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsImFwcC5jb250ZW50LmRhdGEiKXx8dm9pZCAwLHA9T2JqZWN0KHMuZGVlcEFjY2VzcykociwidXNlciIpfHx2b2lkIDA7aWYoaSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoaSkpe3ZhciBiPVsibmFtZSIsImRvbWFpbiIsInBhZ2UiLCJyZWYiLCJrZXl3b3JkcyIsInNlYXJjaCJdLG09WyJjYXQiLCJzZWN0aW9uY2F0IiwicGFnZWNhdCJdLHU9WyJleHQiXTtlLnNpdGU9Zygic3RyaW5nIixiLGksZS5zaXRlKSxlLnNpdGU9ZygiYXJyYXkiLG0saSxlLnNpdGUpLGUuc2l0ZT1nKCJvYmplY3QiLHUsaSxlLnNpdGUpfWlmKGEmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGEpKXt2YXIgdj1bImlkIiwidGl0bGUiLCJzZXJpZXMiLCJzZWFzb24iLCJnZW5yZSIsImNvbnRlbnRyYXRpbmciLCJsYW5ndWFnZSJdLE89WyJlcGlzb2RlIiwicHJvZHEiLCJjb250ZXh0IiwibGl2ZXN0cmVhbSIsImxlbiJdLGw9WyJjYXQiXSx5PVsiZXh0Il07ZS5zaXRlLmNvbnRlbnQ9Zygic3RyaW5nIix2LGEsZS5zaXRlLmNvbnRlbnQpLGUuc2l0ZS5jb250ZW50PWcoIm51bWJlciIsTyxhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJhcnJheSIsbCxhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJvYmplY3QiLHksYSxlLnNpdGUuY29udGVudCksbiYmT2JqZWN0KHMuaXNBcnJheSkobikmJm4uZXZlcnkoKGZ1bmN0aW9uKHQpe3ZhciByPXt9LGk9WyJzZWdtZW50Il0sYT1bImV4dCJdO3I9Zygic3RyaW5nIixbImlkIiwibmFtZSJdLHQscikscj1nKCJhcnJheSIsaSx0LHIpLHI9Zygib2JqZWN0IixhLHQsciksZS5zaXRlLmNvbnRlbnQuZGF0YT1bXSxlLnNpdGUuY29udGVudC5kYXRhLnB1c2gocil9KSl9YyYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoYykmJm8mJk9iamVjdChzLmlzQXJyYXkpKG8pJiZvLmV2ZXJ5KChmdW5jdGlvbih0KXt2YXIgcj17fSxpPVsic2VnbWVudCJdLGE9WyJleHQiXTtyPWcoInN0cmluZyIsWyJpZCIsIm5hbWUiXSx0LHIpLHI9ZygiYXJyYXkiLGksdCxyKSxyPWcoIm9iamVjdCIsYSx0LHIpLGUuYXBwPXtjb250ZW50OntkYXRhOltdfX0sZS5hcHAuY29udGVudC5kYXRhLnB1c2gocil9KSk7aWYocCYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkocCkpe3ZhciBqPVsiaWQiLCJidXllcnVpZCIsImdlbmRlciIsImtleXdvcmRzIiwiY3VzdG9tZGF0YSJdLGY9WyJ5b2IiXSxoPVsiZGF0YSJdLEE9WyJleHQiXTtlLnVzZXI9Zygic3RyaW5nIixqLHAsZS51c2VyKSxlLnVzZXI9ZygibnVtYmVyIixmLHAsZS51c2VyKSxlLnVzZXI9ZygiYXJyYXkiLGgscCxlLnVzZXIpLGUudXNlci5leHQ9Zygib2JqZWN0IixBLHAsZS51c2VyLmV4dCl9cmV0dXJuIGV9KHIpKSxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJzY2hhaW4iKSYmKHIuc291cmNlLmV4dC5zY2hhaW49dC5zY2hhaW4sci5zb3VyY2UuZXh0LnNjaGFpbi5ub2Rlc1swXS5yaWQ9ci5pZCkscn19ZnVuY3Rpb24gayhlLHQpe3ZhciByPWooKTtpZih0JiZlKXt2YXIgaT17aWQ6ZS5iaWRJZCxzZWN1cmU6bChlKSxiaWRmbG9vcjpmKGUpLmZsb29yfHxPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLmJpZGZsb29yIil9O2lmKCFlLm1lZGlhVHlwZXMuYmFubmVyfHx2b2lkIDAhPT1yJiZyIT09YS5iJiYiKiIhPT1yfHwoaS5iYW5uZXI9e21pbWVzOmUubWVkaWFUeXBlcy5iYW5uZXIubWltZXN8fFsidGV4dC9odG1sIiwidGV4dC9qYXZhc2NyaXB0IiwiYXBwbGljYXRpb24vamF2YXNjcmlwdCIsImltYWdlL2pwZyJdLGZvcm1hdDp2KGUuc2l6ZXMpfSxlLm1lZGlhVHlwZXMuYmFubmVyLnBvcyYmKGkuYmFubmVyLnBvcz1lLm1lZGlhVHlwZXMuYmFubmVyLnBvcykpLGUubWVkaWFUeXBlcy52aWRlbyYmKHI9PT1hLmR8fCIqIj09PXIpKXt2YXIgZD12KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKTtpLnZpZGVvPXttaW1lczpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLm1pbWVzIil8fGUubWVkaWFUeXBlcy52aWRlby5taW1lc3x8WyJ2aWRlby9tcDQiLCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Il0sdzpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnciKXx8ZFswXS53LGg6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5oIil8fGRbMF0uaCxtYXhiaXRyYXRlOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWF4Yml0cmF0ZSIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWF4Yml0cmF0ZXx8dm9pZCAwLG1heGR1cmF0aW9uOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWF4ZHVyYXRpb24iKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLm1heGR1cmF0aW9ufHx2b2lkIDAsbWluZHVyYXRpb246T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5taW5kdXJhdGlvbiIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWluZHVyYXRpb258fHZvaWQgMCxhcGk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5hcGkiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLmFwaXx8WzJdLGRlbGl2ZXJ5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uZGVsaXZlcnkiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLmRlbGl2ZXJ5fHx2b2lkIDAscG9zOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucG9zIil8fGUubWVkaWFUeXBlcy52aWRlby5wb3N8fHZvaWQgMCxwbGF5YmFja21ldGhvZDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fGUubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZHx8dm9pZCAwLHBsYWNlbWVudDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBsYWNlbWVudCIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucGxhY2VtZW50fHx2b2lkIDAsbGluZWFyaXR5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubGluZWFyaXR5Iil8fGUubWVkaWFUeXBlcy52aWRlby5saW5lYXJpdHl8fDEscHJvdG9jb2xzOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucHJvdG9jb2xzIil8fGUubWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHN8fFsyLDVdLHN0YXJ0ZGVsYXk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5zdGFydGRlbGF5Iil8fGUubWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5fHwwLHJld2FyZGVkOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ucmV3YXJkZWQiKXx8dm9pZCAwfX1pZihpLmV4dD17ZGZwX2FkX3VuaXRfY29kZTplLmFkVW5pdENvZGV9LE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5rdnAiKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoZS5wYXJhbXMua3ZwKSlmb3IodmFyIG4gaW4gaS5leHQua3ZzPXt9LGUucGFyYW1zLmt2cClpZihPYmplY3Qocy5pc1N0cikoZS5wYXJhbXMua3ZwW25dKXx8T2JqZWN0KHMuaXNOdW1iZXIpKGUucGFyYW1zLmt2cFtuXSkpaS5leHQua3ZzW25dPWUucGFyYW1zLmt2cFtuXTtlbHNlIGlmKE9iamVjdChzLmlzQXJyYXkpKGUucGFyYW1zLmt2cFtuXSkpe3ZhciBjPWUucGFyYW1zLmt2cFtuXTsoYy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChzLmlzU3RyKShlKX0pKXx8Yy5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChzLmlzTnVtYmVyKShlKX0pKSkmJihpLmV4dC5rdnNbbl09ZS5wYXJhbXMua3ZwW25dKX1PYmplY3Qocy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YSIpJiZPYmplY3Qocy5pc1BsYWluT2JqZWN0KShlLm9ydGIySW1wLmV4dC5kYXRhKSYmKGkuZXh0LmRhdGE9ZS5vcnRiMkltcC5leHQuZGF0YSksITE9PT15KGUpPyhpLnRhZ2lkPWUucGFyYW1zLnBvcyxpLmV4dC5wb3M9ZS5wYXJhbXMucG9zKTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucGxhY2VtZW50SWQiKSYmKGkudGFnaWQ9ZS5wYXJhbXMucGxhY2VtZW50SWQpLHQuaW1wLnB1c2goaSl9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9ZS5wYXlsb2FkLHI9ZS5yZXF1ZXN0T3B0aW9ucyxpPWUuYmlkZGVyUmVxdWVzdCxuPXkoaSksYz1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5lbmRwb2ludCIpfHwiaHR0cHM6Ly9jMnNoYi5wdWJndy55YWhvby5jb20vYmlkUmVxdWVzdCI7aWYoITA9PT1uJiYoYz1kLmIuZ2V0Q29uZmlnKCJ5YWhvb3NzcC5lbmRwb2ludCIpfHwiaHR0cHM6Ly9jMnNoYi5wdWJndy55YWhvby5jb20vYWRtYXgvYmlkL3BhcnRuZXJzL1BCSlMiKSwhMD09PU9iamVjdChzLmRlZXBBY2Nlc3MpKGksInBhcmFtcy50ZXN0aW5nLmUyZXRlc3QiKSlpZihPYmplY3Qocy5sb2dJbmZvKSgieWFob29zc3AgYWRhcHRlciBlMmV0ZXN0IG1vZGUgaXMgYWN0aXZlIiksci53aXRoQ3JlZGVudGlhbHM9ITEsITA9PT1uKXQuc2l0ZS5pZD0iMTIzNDU2NyI7ZWxzZXt2YXIgbz1qKCk7dC5zaXRlLmlkPSI4YTk2OTUxNjAxN2E3YTM5NmVjNTM5ZDk3ZjU0MDAxMSIsdC5pbXAuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5leHQuZTJlVGVzdE1vZGU9ITAsbz09PWEuYj9lLnRhZ2lkPSI4YTk2OTk3ODAxN2E3YWFhYmFiNGFiMGJjMDFhMDAwOSI6bz09PWEuZD9lLnRhZ2lkPSI4YTk2OTU4YTAxN2E3YTU3YWMzNzVkNTBjMGM3MDBjYyI6KE9iamVjdChzLmxvZ1dhcm4pKCd5YWhvb3NzcCBhZGFwdGVyIGUyZXRlc3QgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHlhaG9vc3NwLm1vZGU9ImFsbCIuIFxuIFBsZWFzZSBzcGVjaWZ5IGVpdGhlciAiYmFubmVyIiBvciAidmlkZW8iJyksT2JqZWN0KHMubG9nV2FybikoInlhaG9vc3NwIGFkYXB0ZXIgZTJldGVzdCBtb2RlOiBQbGVhc2UgbWFrZSBzdXJlIHlvdXIgYWRVbml0IG1hdGNoZXMgdGhlIHlhaG9vc3NwLm1vZGUgdmlkZW8gb3IgYmFubmVyIikpfSkpfXJldHVybiBPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgYWRhcHRlciBlbmRwb2ludCBvdmVycmlkZSBlbmFibGVkLiBQb2ludGluZyByZXF1ZXN0cyB0bzogIixjKSx7dXJsOmMsbWV0aG9kOiJQT1NUIixkYXRhOnQsb3B0aW9uczpyLGJpZGRlclJlcXVlc3Q6aX19dmFyIEM9e2NvZGU6InlhaG9vc3NwIixhbGlhc2VzOltdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zO3JldHVybiEwPT09T2JqZWN0KHMuZGVlcEFjY2VzcykodCwidGVzdGluZy5lMmV0ZXN0Iil8fCghKCFPYmplY3Qocy5pc1BsYWluT2JqZWN0KSh0KXx8ISh4KHQucHViSWQpfHx4KHQuZGNuKSYmeCh0LnBvcykpKXx8KE9iamVjdChzLmxvZ1dhcm4pKCJ5YWhvb3NzcCBiaWRkZXIgcGFyYW1zIG1pc3Npbmcgb3IgaW5jb3JyZWN0LCBwbGVhc2UgcGFzcyBvYmplY3Qgd2l0aCBlaXRoZXI6IGRjbiAmIHBvcyBPUiBwdWJJZCIpLCExKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZighT2JqZWN0KHMuaXNFbXB0eSkoZSkmJiFPYmplY3Qocy5pc0VtcHR5KSh0KSl7dmFyIHI9e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIixjdXN0b21IZWFkZXJzOnsieC1vcGVucnRiLXZlcnNpb24iOiIyLjUifX07ci53aXRoQ3JlZGVudGlhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIShlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uKX0odCk7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9aigpLHI9W107cmV0dXJuIHQ9PT1hLmI/cj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmJ9KSl9KSk6dD09PWEuZD9yPWUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZS5tZWRpYVR5cGVzKS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZT09PWEuZH0pKX0pKToiKiI9PT10JiYocj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmJ8fGU9PT1hLmR9KSl9KSkpLHJ9KGUpO2lmKCEwPT09ZC5iLmdldENvbmZpZygieWFob29zc3Auc2luZ2xlUmVxdWVzdE1vZGUiKSl7dmFyIG49VCh0LGlbMF0pO3JldHVybiBpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2soZSxuKX0pKSx3KHtwYXlsb2FkOm4scmVxdWVzdE9wdGlvbnM6cixiaWRkZXJSZXF1ZXN0OnR9KX1yZXR1cm4gaS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciBpPVQodCxlKTtyZXR1cm4gayhlLGkpLHcoe3BheWxvYWQ6aSxyZXF1ZXN0T3B0aW9uczpyLGJpZGRlclJlcXVlc3Q6ZX0pfSkpfU9iamVjdChzLmxvZ1dhcm4pKCd5YWhvb3NzcCBBZGFwdGVyOiBidWlsZFJlcXVlc3RzIGNhbGxlZCB3aXRoIGVpdGhlciBlbXB0eSAidmFsaWRCaWRSZXF1ZXN0cyIgb3IgImJpZGRlclJlcXVlc3QiJyl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dC5kYXRhO3ZhciByPXQuYmlkZGVyUmVxdWVzdCxpPVtdO3JldHVybiBlLmJvZHkmJkFycmF5LmlzQXJyYXkoZS5ib2R5LnNlYXRiaWQpPyhlLmJvZHkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdDt0cnl7dD1lLmJpZFswXX1jYXRjaChlKXtyZXR1cm4gaX12YXIgZD10LmV4dCYmdC5leHQuZW5jcD90LmV4dC5lbmNwOnQucHJpY2UsYz17YWRJZDpPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJhZElkIik/dC5hZElkOnQuaW1waWR8fHQuY3JpZCxhZFVuaXRDb2RlOnIuYWRVbml0Q29kZSxyZXF1ZXN0SWQ6dC5pbXBpZCxiaWRkZXJDb2RlOkMuY29kZSxjcG06ZCx3aWR0aDp0LncsaGVpZ2h0OnQuaCxjcmVhdGl2ZUlkOnQuY3JpZHx8MCxjdXJyZW5jeTp0LmN1cnx8YixkZWFsSWQ6dC5kZWFsaWQ/dC5kZWFsaWQ6bnVsbCxuZXRSZXZlbnVlOiEwLHR0bDpoKHIpLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnQuYWRvbWFpbn19LG89ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZG07cmV0dXJuLTEhPT10LmluZGV4T2YoIm8ycGxheWVyU2V0dGluZ3MiKXx8LTEhPT10LmluZGV4T2YoIllBSE9PLlZpZGVvUGxhdGZvcm0uVmlkZW9QbGF5ZXIiKXx8LTEhPT10LmluZGV4T2YoIkFkUGxhY2VtZW50Iik/YS5iOi0xIT09dC5pbmRleE9mKCJWQVNUIik/YS5kOnZvaWQgMH0odCk7bz09PWEuYj8oYy5tZWRpYVR5cGU9YS5iLGMuYWQ9dC5hZG0sYy5tZXRhLm1lZGlhVHlwZT1hLmIpOm89PT1hLmQmJihjLm1lZGlhVHlwZT1hLmQsYy5tZXRhLm1lZGlhVHlwZT1hLmQsYy52YXN0WG1sPXQuYWRtLHQubnVybCYmKGMudmFzdFVybD10Lm51cmwpKSwib3V0c3RyZWFtIiE9PU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpfHxyLnJlbmRlcmVyfHwoYy5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPW4uYS5pbnN0YWxsKHt1cmw6Imh0dHBzOi8vY2RuLnZpZGlibGUudHYvcHJvZC9oYi1vdXRzdHJlYW0tcmVuZGVyZXIvcmVuZGVyZXIuanMiLGxvYWRlZDohMSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXtyLnNldFJlbmRlcigoZnVuY3Rpb24odCl7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtvMlBsYXllclJlbmRlcih0KX0pLE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50ZXN0aW5nLnJlbmRlcmVyLnNldFRpbWVvdXQiKXx8NzAwKX0pKX1jYXRjaChlKXtPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgcmVuZGVyZXIgZXJyb3I6IHNldFJlbmRlcigpIGZhaWxlZCIsZSl9cmV0dXJuIHJ9KHIpfHx2b2lkIDApLGkucHVzaChjKX0pKSxpKTppfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIGE9IU9iamVjdChzLmlzRW1wdHkpKHQpJiZ0WzBdLmJvZHk7cmV0dXJuIGEmJmEuZXh0JiZhLmV4dC5waXhlbHM/ZnVuY3Rpb24oZSx0KXt2YXIgcj0vXHcqKD89XHMpLyxpPS9zcmM9KCJ8JykoLio/KVwxLyxhPVtdO2lmKHQpe3ZhciBzPXQubWF0Y2goLyhpbWd8aWZyYW1lKVtcc1xTXSo/c3JjXHMqPVxzKigifCcpKC4qPylcMi9naSk7cyYmcy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcz10Lm1hdGNoKHIpWzBdLGQ9dC5tYXRjaChpKVsyXTtpZihzJiZkKXt2YXIgbj0iaW1nIj09PXMudG9Mb3dlckNhc2UoKT8iaW1hZ2UiOiJpZnJhbWUiO2lmKCFlLmlmcmFtZUVuYWJsZWQmJiJpZnJhbWUiPT09bnx8IWUucGl4ZWxFbmFibGVkJiYiaW1hZ2UiPT09bilyZXR1cm47YS5wdXNoKHt0eXBlOm4sdXJsOmR9KX19KSl9cmV0dXJuIGF9KGUsYS5leHQucGl4ZWxzKTpbXX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShDKX19LFs5MjldKTsKdXBianNDaHVuayhbNzZdLHs5MzE6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDkzMil9LDkzMjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIGE9dCgwKSxyPXQoMSksaT10KDExKSxvPXQubihpKSxzPXQoMiksYz10KDEzKSxkPXQoMykscD0iaHR0cHM6Ly9hZC55aWVsZGxhYi5uZXQiLHU9e2NvZGU6InlpZWxkbGFiIixndmxpZDo3MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmQscy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuYWRzbG90SWQmJmUucGFyYW1zLnN1cHBseUlkKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLHI9e3RzOkRhdGUubm93KCksanNvbjohMH07T2JqZWN0KGEuX2VhY2gpKGUsKGZ1bmN0aW9uKGUpe2lmKHQucHVzaChlLnBhcmFtcy5hZHNsb3RJZCksZS5wYXJhbXMudGFyZ2V0aW5nJiYoci50PWZ1bmN0aW9uKGUpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBhPXQscj1lW3RdO24ucHVzaChhKyI9IityKX1yZXR1cm4gbi5qb2luKCImIil9KGUucGFyYW1zLnRhcmdldGluZykpLGUudXNlcklkQXNFaWRzJiZBcnJheS5pc0FycmF5KGUudXNlcklkQXNFaWRzKSYmKHIuaWRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1bXSx0PTA7dDxlLmxlbmd0aDt0Kyspbi5wdXNoKGVbdF0uc291cmNlKyI6IitlW3RdLnVpZHNbMF0uaWQpO3JldHVybiBuLmpvaW4oIiwiKX0oZS51c2VySWRBc0VpZHMpKSxlLnBhcmFtcy5jdXN0b21QYXJhbXMmJk9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUucGFyYW1zLmN1c3RvbVBhcmFtcykpZm9yKHZhciBuIGluIGUucGFyYW1zLmN1c3RvbVBhcmFtcylyW25dPWUucGFyYW1zLmN1c3RvbVBhcmFtc1tuXTt2YXIgaSxvLHMsYyxwO2Uuc2NoYWluJiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLnNjaGFpbikmJkFycmF5LmlzQXJyYXkoZS5zY2hhaW4ubm9kZXMpJiYoci5zY2hhaW49KGk9ZS5zY2hhaW4sbz1pLnZlcnx8IiIscz0xPT09aS5jb21wbGV0ZXx8MD09PWkuY29tcGxldGU/aS5jb21wbGV0ZToiIixjPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIiwiZXh0Il0scD1pLm5vZGVzLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZSsiISIuY29uY2F0KGMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gbltlXT8odD1uW2VdLGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8hL2csIiUyMSIpKToiIjt2YXIgdH0pKS5qb2luKCIsIikpfSksIiIpLCIiLmNvbmNhdChvLCIsIikuY29uY2F0KHMpLmNvbmNhdChwKSkpO3ZhciB1PWZ1bmN0aW9uKGUpe2lmKGUucGFyYW1zLmlhYkNvbnRlbnQmJk9iamVjdChhLmlzUGxhaW5PYmplY3QpKGUucGFyYW1zLmlhYkNvbnRlbnQpKXJldHVybiBlLnBhcmFtcy5pYWJDb250ZW50O3ZhciBuPWQuYi5nZXRDb25maWcoIm9ydGIyLnNpdGUiKT9kLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlLmNvbnRlbnQiKTpkLmIuZ2V0Q29uZmlnKCJvcnRiMi5hcHAuY29udGVudCIpO2lmKG4mJk9iamVjdChhLmlzUGxhaW5PYmplY3QpKG4pKXJldHVybiBuO3JldHVybn0oZSk7dSYmKHIuaWFiX2NvbnRlbnQ9ZnVuY3Rpb24oZSl7dmFyIG49WyJrZXl3b3JkcyIsImNhdCJdLHQ9W107Zm9yKHZhciBhIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShhKSl7dmFyIHI9LTEhPT1uLmluZGV4T2YoYSkmJkFycmF5LmlzQXJyYXkoZVthXSk/ZVthXS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KSkuam9pbigifCIpOmVuY29kZVVSSUNvbXBvbmVudChlW2FdKTt0LnB1c2goIiIuY29uY2F0KGEsIjoiLHIpKX1yZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHQuam9pbigiLCIpKX0odSkpfSkpLG4mJihuLnJlZmVyZXJJbmZvJiZuLnJlZmVyZXJJbmZvLnJlZmVyZXImJihyLnB1YnJlZj1uLnJlZmVyZXJJbmZvLnJlZmVyZXIpLG4uZ2RwckNvbnNlbnQmJihyLmdkcHI9ImJvb2xlYW4iIT10eXBlb2Ygbi5nZHByQ29uc2VudC5nZHByQXBwbGllc3x8bi5nZHByQ29uc2VudC5nZHByQXBwbGllcyxyLmdkcHImJihyLmNvbnNlbnQ9bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkpO3ZhciBpPXQuam9pbigiLCIpLG89ZnVuY3Rpb24oZSl7dmFyIG49W107Zm9yKHZhciB0IGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eSh0KSl7dmFyIGE9ZVt0XTsic2NoYWluIiE9PXQmJiJpYWJfY29udGVudCIhPT10P24ucHVzaChlbmNvZGVVUklDb21wb25lbnQodCkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChhKSk6bi5wdXNoKHQrIj0iK2EpfXJldHVybiBuLmpvaW4oIiYiKX0ocik7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KHAsIi95cC8iKS5jb25jYXQoaSwiPyIpLmNvbmNhdChvKSx2YWxpZEJpZFJlcXVlc3RzOmUscXVlcnlQYXJhbXM6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W10scj1EYXRlLm5vdygpLGk9bi5xdWVyeVBhcmFtcztyZXR1cm4gbi52YWxpZEJpZFJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKGUuYm9keSl7dmFyIGQsdSx2PW8oKShlLmJvZHksKGZ1bmN0aW9uKGUpe3JldHVybiBuLnBhcmFtcy5hZHNsb3RJZD09ZS5pZH0pKTtpZih2KXt2YXIgbD0yIT09bi5zaXplcy5sZW5ndGh8fE9iamVjdChhLmlzQXJyYXkpKG4uc2l6ZXNbMF0pP24uc2l6ZXNbMF06bi5zaXplcyxiPXZvaWQgMCE9PW4ucGFyYW1zLmFkU2l6ZT9tKG4ucGFyYW1zLmFkU2l6ZSk6dm9pZCAwIT09di5hZHNpemU/bSh2LmFkc2l6ZSk6bCxoPXZvaWQgMCE9PW4ucGFyYW1zLmV4dElkPyImaWQ9IituLnBhcmFtcy5leHRJZDoiIix5PXZvaWQgMCE9PXYuYWR0eXBlP3YuYWR0eXBlOiIiLGc9aS5nZHByPyImZ2Rwcj0iK2kuZ2RwcjoiIixqPWkuY29uc2VudD8iJmNvbnNlbnQ9IitpLmNvbnNlbnQ6IiIsST12b2lkIDAhPT12LnB2aWQ/IiZwdmlkPSIrdi5wdmlkOiIiLHc9aS5pYWJfY29udGVudD8iJmlhYl9jb250ZW50PSIraS5pYWJfY29udGVudDoiIixPPXtyZXF1ZXN0SWQ6bi5iaWRJZCxjcG06di5wcmljZS8xMDAsd2lkdGg6YlswXSxoZWlnaHQ6YlsxXSxjcmVhdGl2ZUlkOiIiK3YuaWQsZGVhbElkOnZbImMuZGVhbGlkIl0/dlsiYy5kZWFsaWQiXTp2LnBpZCxjdXJyZW5jeToiRVVSIixuZXRSZXZlbnVlOiExLHR0bDozMDAscmVmZXJyZXI6IiIsYWQ6JzxzY3JpcHQgc3JjPSInLmNvbmNhdChwLCIvZC8iKS5jb25jYXQodi5pZCwiLyIpLmNvbmNhdChuLnBhcmFtcy5zdXBwbHlJZCwiLz90cz0iKS5jb25jYXQocikuY29uY2F0KGgpLmNvbmNhdChnKS5jb25jYXQoaikuY29uY2F0KEkpLmNvbmNhdCh3LCciPjxcL3NjcmlwdD4nKSxtZXRhOnthZHZlcnRpc2VyRG9tYWluczp2LmFkdmVydGlzZXI/di5hZHZlcnRpc2VyOiJuL2EifX07aWYoZD1uLHU9eSxPYmplY3QoYS5kZWVwQWNjZXNzKShkLCJtZWRpYVR5cGVzLnZpZGVvIikmJiJ2aWRlbyI9PT11LnRvTG93ZXJDYXNlKCkpe3ZhciBDPWZ1bmN0aW9uKGUpe3ZhciBuPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO3JldHVybiBuJiZPYmplY3QoYS5pc0FycmF5KShuWzBdKT9uWzBdOm59KG4pO2lmKEMmJihPLndpZHRoPUNbMF0sTy5oZWlnaHQ9Q1sxXSksTy5tZWRpYVR5cGU9cy5kLE8udmFzdFVybD0iIi5jb25jYXQocCwiL2QvIikuY29uY2F0KHYuaWQsIi8iKS5jb25jYXQobi5wYXJhbXMuc3VwcGx5SWQsIi8/dHM9IikuY29uY2F0KHIpLmNvbmNhdChoKS5jb25jYXQoZykuY29uY2F0KGopLmNvbmNhdChJKS5jb25jYXQodyksZnVuY3Rpb24oZSl7cmV0dXJuIm91dHN0cmVhbSI9PT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKX0obikpe3ZhciBBPWMuYS5pbnN0YWxsKHtpZDpuLmJpZElkLHVybDoiaHR0cHM6Ly9hZC5hZGl0aW9uLmNvbS9keW5hbWljLmFkP2E9bzE5MzA5MiZtYV9sb2FkRXZlbnQ9bWEtc3RhcnQtZXZlbnQiLGxvYWRlZDohMX0pO0Euc2V0UmVuZGVyKGYpLE8ucmVuZGVyZXI9QX19dC5wdXNoKE8pfX19KSksdH19O2Z1bmN0aW9uIG0oZSl7cmV0dXJuIGUuc3BsaXQoIngiKS5tYXAoTnVtYmVyKX1mdW5jdGlvbiBmKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt3aW5kb3cubWFfd2lkdGg9ZS53aWR0aCx3aW5kb3cubWFfaGVpZ2h0PWUuaGVpZ2h0LHdpbmRvdy5tYV92YXN0VXJsPWUudmFzdFVybCx3aW5kb3cubWFfY29udGFpbmVyPWUuYWRVbml0Q29kZSx3aW5kb3cuZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoIm1hLXN0YXJ0LWV2ZW50IikpfSkpfU9iamVjdChyLnJlZ2lzdGVyQmlkZGVyKSh1KX19LFs5MzFdKTsKdXBianMucHJvY2Vzc1F1ZXVlKCk7";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},246:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)&&i.push(e[r]);return i},r=function(e){return"[object Array]"===Object.prototype.toString.call(e)};const o={map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e));return n},filter:i,reject:function(e,t,n){for(var i=[],r=0;r<e.length;r++)t.call(n,e[r],r,e)||i.push(e[r]);return i},forEach:function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n,e)},find:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}},flat:function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(r(i))for(var o=0;o<i.length;o++){var a=i[o];t.push(a)}else t.push(i)}return t},isArray:r,distinct:function(e){return i(e,(function(e,t,n){return n.indexOf(e)===t}))},reduce:function(e,t){if(null===e)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,i=Object(e),r=i.length>>>0,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<r&&!(o in i);)o++;if(o>=r)throw new TypeError("Reduce of empty array with no initial value");n=i[o++]}for(;o<r;)o in i&&(n=t(n,i[o],o,i)),o++;return n},addClass:function(e,t){if(t&&e){var n=t.className;-1==n.indexOf(e)&&(""!=n&&(e=" "+e),t.className=n+e)}},removeClass:function(e,t){if(t&&e){var n=t.className,i=new RegExp("\\b"+e+"\\b","g");n=n.replace(i,""),t.className=n}},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},objectAssign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},CDefer:function(){var e,t,n=this;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((function(e){return n.state="fulfilled",e}),(function(e){return n.state="rejected",e})),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)},this.isResolved=function(){return"resolved"===this.fate},this.isPending=function(){return"pending"===this.state},this.isFulfilled=function(){return"fulfilled"===this.state},this.isRejected=function(){return"rejected"===this.state}}}},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepClone:()=>d,isNumber:()=>c,isNil:()=>l,debounce:()=>u,escapeSelector:()=>p,getElementWithSelector:()=>g,isElementInBody:()=>m,isFirstViewPortElement:()=>w,extractQueryParamFromUrl:()=>v,getTopmostAccessibleWindow:()=>b,extractVariableFromString:()=>y,getRandomInt:()=>_,getTrueByProbability:()=>M,truncateString:()=>E,matchStringsOnString:()=>N});var i=n(2),r=n(552),o=n(246),a=n(868),s=new r.Z({prefix:"commonUtils: "}),d=function e(t){if(!t)return t;var n,r=[Number,String,Boolean];try{if(o.Z.forEach(r,(function(e){t instanceof e&&(n=e(t))})),void 0===n)if("[object Array]"===Object.prototype.toString.call(t))n=[],o.Z.forEach(t,(function(t,i,r){n[i]=e(t)}));else if("object"==(0,i.Z)(t))if(t.nodeType&&"function"==typeof t.cloneNode)n=t.cloneNode(!0);else if(t.prototype)n=t;else if(t instanceof Date)n=new Date(t);else for(var a in n={},t)n[a]=e(t[a]);else n=t}catch(e){n=t}return n};function c(e){return!isNaN(e)&&"number"==typeof e}function l(e){return null==e}function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var d=function(){t=null,i||e.apply(r,a)},c=i&&!t;clearTimeout(t),t=setTimeout(d,n),c&&e.apply(r,a)}}var f=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function h(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function p(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(f,h):e}function g(e){try{return document.querySelector(e)}catch(t){s.errorf(null,"document.querySelector:%o - error:%o",[e,t])}}function m(e){return e&&(document.documentElement||document.body).contains(e)}var w=function(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var r=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),r<=a.Z.consts.acceptableStandardScreenSize.height}catch(e){s.errorf(null,"isFirstViewPortElement - error: %o",e)}},v=function(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},b=function(){var e=window;try{for(;e!==e.parent;)e.parent.document,e=e.parent}catch(e){s.errorf(null,"getTopmostAccessibleWindow - error: %o",e)}return e},y=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var o=n[r];if(!i[o])return;i=i[o]}return i}};function _(e){return Math.floor(Math.random()*Math.floor(e))}function M(e){return _(100)<e}function E(e,t){return e.length>t?e.substring(0,t):e}function N(e,t){return e.every((function(e){return t.includes(e)}))}},614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i={};n.r(i),n.d(i,{getSizeType:()=>m,isUnacceptable:()=>y,isUnacceptableFirstViewPortSize:()=>w});var r=n(868),o=n(616),a=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},s=n(246),d=n(302),c=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],l=function(e,t){var n=function(e,t){return s.Z.filter(e,(function(e){return _.sizeValidation.getSizeType(e)===t}))}(c,e);return n=s.Z.filter(n,(function(e){return!_.sizeValidation.isUnacceptableFirstViewPortSize(e)||!t}))},u=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=_.sizeValidation.getSizeType(t),o=l(r,n),a=0;a<o.length;a++){var s=o[a];if(s.width<=i.width&&s.height<=i.height){for(var d=!0,c=0;c<e.length;c++){var u=e[c];if(u&&u.width===s.width&&u.height===s.height){d=!1;break}}if(d)return s}}},f=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},h=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,o=0;o<i.length;o++){var a=i[o];if(t[a.type].indexOf(a.string)<0){r=!1;break}}if(r)return!0}};var p=1,g=2,m=function(e){return e.width>350?p:g},w=function(e){var t=m(e),n=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,i=e.height,o=e.width,a=o*i/n*100>=16;return t==g?a||o>350:a||e.height>200},v=function e(t,n){var i,o,a=m(n),s=!1,d=!0,c=!1,l=n.height,u=n.width;if(t){"none"===window.getComputedStyle(t).display&&(i=t.style.getPropertyValue("display"),o=t.style.getPropertyPriority("display"),t.style.setProperty("display","block","important"),s=!0);var f=t.getBoundingClientRect().top;l=(c=f+n.height>r.Z.consts.acceptableStandardScreenSize.height)?r.Z.consts.acceptableStandardScreenSize.height-f:n.height}return d=a==g&&c?e(t,{width:u,height:l})&&b(n):w(n),s&&t.style.setProperty("display",i,o),d},b=function(e){var t=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,n=m(e);return e.width*e.height/t*100>=26||n==p&&e.height>400},y=function(e,t){return!e||_.commonUtils.isFirstViewPortElement(e)?v(e,t):b(t)};const _={addAcceptableParam:function(e){return e.indexOf(r.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=e.indexOf("?")>-1?e+"&"+r.Z.upoSettings.acceptableURLParam:e+"?"+r.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")},commonUtils:o,ElementInsertion:a,sizesRemover:function(e,t){var n=[],i=d.Y.fireEvent("enableLegacySizesReplacer");s.Z.forEach(t,(function(e){e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var o=n[r];if(_.sizeValidation.isUnacceptable(e,o))if(i){var a=_.commonUtils.isFirstViewPortElement(e);n[r]=u(n,o,a)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){var i=e[t]||[];s.Z.forEach(i,(function(e){e.call(void 0,n)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=f(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var o=i[r],a=!0,s=0;s<o.length;s++){var d=o[s];if(n[d.type].indexOf(d.string)<0){a=!1;break}}if(a)return!0}return!1},isWhitelistURL:function(e,t){var n=f(e);return!h({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!h({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}},sizeValidation:i}},96:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,g=function(){return u.Date.now()};function m(e,t,n){var r,o,a,s,d,c,l=0,u=!1,f=!1,m=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function y(e){return l=e,d=setTimeout(M,t),u?b(e):s}function _(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-l>=a}function M(){var e=g();if(_(e))return E(e);d=setTimeout(M,function(e){var n=t-(e-c);return f?p(n,a-(e-l)):n}(e))}function E(e){return d=void 0,m&&r?b(e):(r=o=void 0,s)}function N(){var e=g(),n=_(e);if(r=arguments,o=this,c=e,n){if(void 0===d)return y(c);if(f)return d=setTimeout(M,t),b(c)}return void 0===d&&(d=setTimeout(M,t)),s}return t=v(t)||0,w(n)&&(u=!!n.leading,a=(f="maxWait"in n)?h(v(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),N.cancel=function(){void 0!==d&&clearTimeout(d),l=0,r=c=o=d=void 0},N.flush=function(){return void 0===d?s:E(g())},N}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:r,maxWait:t,trailing:o})}},942:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i})},2:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:()=>i})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{getSpaceElement:()=>In,refreshTypeDecoder:()=>xn});var t={};function n(e){if(Array.isArray(e))return e}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){return n(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||r(e,t)||o()}__webpack_require__.r(t),__webpack_require__.d(t,{createWhitelistingIFrame:()=>Vn,setupWhitelistingIFrameSettings:()=>Xn});var s=__webpack_require__(2),d=__webpack_require__(868),c=__webpack_require__(246),l=__webpack_require__(302),u=__webpack_require__(942),f=__webpack_require__(614),h=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t},p=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],o=r.indexOf(": ");if(o>0){var a=r.substring(0,o),s=r.substring(o+2);t[a]||(t[a]=[]),t[a].push(s)}}return t},g=function(e,t){return e.substr(0,t.length)===t},m=function(e){if(e=e.toLowerCase(),g(e,"proxy-"))return!1;if(g(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},w=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!==(0,s.Z)(e)||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var o=this.protocol+"://"+this.host+r;o+=this.suffix?"#"+this.suffix:"";var a=e.method||"GET",d=e.headers||{},c=e.body?e.body:null,l=new XMLHttpRequest;for(var u in l.onreadystatechange=function(e){if(4==l.readyState){if(0==l.status){if(i)return;return i=!0,void n("status -> "+l.status)}var r=h(p(l.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),l.status>=200&&l.status<300){var o={status:l.status,headers:r,body:l.response};t(o)}else n("status -> "+l.status)}},l.onerror=function(e){i||(i=!0,n(e))},l.open(a,o,!0),l.responseType="arraybuffer",d)d.hasOwnProperty(u)&&0!=d[u].length&&(m(u)||l.setRequestHeader(u,d[u][0]));l.send(c)}.bind(this))}},v=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",o=0;o<i;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},b=function(e,t){return v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const y=b;function _(e){for(var t=e.length;--t>=0;)e[t]=0}var M=256,E=286,N=30,D=15,S=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),T=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Z=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),x=new Array(576);_(x);var I=new Array(60);_(I);var z=new Array(512);_(z);var B=new Array(256);_(B);var O=new Array(29);_(O);var Y,R,H,X=new Array(N);function j(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function V(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}_(X);var W=function(e){return e<256?z[e]:z[256+(e>>>7)]},C=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},F=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},U=function(e,t,n){F(e,n[2*t],n[2*t+1])},A=function(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},L=function(e,t,n){var i,r,o=new Array(16),a=0;for(i=1;i<=D;i++)o[i]=a=a+n[i-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=A(o[s]++,s))}},G=function(e){var t;for(t=0;t<E;t++)e.dyn_ltree[2*t]=0;for(t=0;t<N;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},P=function(e){e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},K=function(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},J=function(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&K(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!K(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},Q=function(e,t,n){var i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?U(e,r,t):(o=B[r],U(e,o+M+1,t),0!==(a=S[o])&&(r-=O[o],F(e,r,a)),i--,o=W(i),U(e,o,n),0!==(a=T[o])&&(i-=X[o],F(e,i,a)))}while(s<e.last_lit);U(e,256,t)},q=function(e,t){var n,i,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,d=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<d;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)J(e,o,n);r=d;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],J(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*r]=o[2*n]+o[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=r,e.heap[1]=r++,J(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,o,a,s,d=t.dyn_tree,c=t.max_code,l=t.stat_desc.static_tree,u=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=D;o++)e.bl_count[o]=0;for(d[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(o=d[2*d[2*(i=e.heap[n])+1]+1]+1)>p&&(o=p,g++),d[2*i+1]=o,i>c||(e.bl_count[o]++,a=0,i>=h&&(a=f[i-h]),s=d[2*i],e.opt_len+=s*(o+a),u&&(e.static_len+=s*(l[2*i+1]+a)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(i=e.bl_count[o];0!==i;)(r=e.heap[--n])>c||(d[2*r+1]!==o&&(e.opt_len+=(o-d[2*r+1])*d[2*r],d[2*r+1]=o),i--)}}(e,t),L(o,c,e.bl_count)},$=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<d&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4))},ee=function(e,t,n){var i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<d&&r===a)){if(s<c)do{U(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(U(e,r,e.bl_tree),s--),U(e,16,e.bl_tree),F(e,s-3,2)):s<=10?(U(e,17,e.bl_tree),F(e,s-3,3)):(U(e,18,e.bl_tree),F(e,s-11,7));s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4)}},te=!1,ne=function(e,t,n,i){F(e,0+(i?1:0),3),function(e,t,n,i){P(e),i&&(C(e,n),C(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n}(e,t,n,!0)},ie=function(e,t,n,i){var r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<M;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),q(e,e.l_desc),q(e,e.d_desc),a=function(e){var t;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),q(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*k[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?ne(e,t,n,i):4===e.strategy||o===r?(F(e,2+(i?1:0),3),Q(e,x,I)):(F(e,4+(i?1:0),3),function(e,t,n,i){var r;for(F(e,t-257,5),F(e,n-1,5),F(e,i-4,4),r=0;r<i;r++)F(e,e.bl_tree[2*k[r]+1],3);ee(e,e.dyn_ltree,t-1),ee(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Q(e,e.dyn_ltree,e.dyn_dtree)),G(e),i&&P(e)},re={_tr_init:function(e){te||(!function(){var e,t,n,i,r,o=new Array(16);for(n=0,i=0;i<28;i++)for(O[i]=n,e=0;e<1<<S[i];e++)B[n++]=i;for(B[n-1]=i,r=0,i=0;i<16;i++)for(X[i]=r,e=0;e<1<<T[i];e++)z[r++]=i;for(r>>=7;i<N;i++)for(X[i]=r<<7,e=0;e<1<<T[i]-7;e++)z[256+r++]=i;for(t=0;t<=D;t++)o[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,o[8]++;for(;e<=255;)x[2*e+1]=9,e++,o[9]++;for(;e<=279;)x[2*e+1]=7,e++,o[7]++;for(;e<=287;)x[2*e+1]=8,e++,o[8]++;for(L(x,287,o),e=0;e<N;e++)I[2*e+1]=5,I[2*e]=A(e,5);Y=new j(x,S,257,E,D),R=new j(I,T,0,N,D),H=new j(new Array(0),Z,0,19,7)}(),te=!0),e.l_desc=new V(e.dyn_ltree,Y),e.d_desc=new V(e.dyn_dtree,R),e.bl_desc=new V(e.bl_tree,H),e.bi_buf=0,e.bi_valid=0,G(e)},_tr_stored_block:ne,_tr_flush_block:ie,_tr_tally:function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(B[n]+M+1)]++,e.dyn_dtree[2*W(t)]++),e.last_lit===e.lit_bufsize-1},_tr_align:function(e){F(e,2,3),U(e,256,x),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},oe=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(r=r+t[i++]|0)|0}while(--a);r%=65521,o%=65521}return r|o<<16|0},ae=new Uint32Array(function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}()),se=function(e,t,n,i){var r=ae,o=i+n;e^=-1;for(var a=i;a<o;a++)e=e>>>8^r[255&(e^t[a])];return-1^e},de={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ce={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},le=re._tr_init,ue=re._tr_stored_block,fe=re._tr_flush_block,he=re._tr_tally,pe=re._tr_align,ge=ce.Z_NO_FLUSH,me=ce.Z_PARTIAL_FLUSH,we=ce.Z_FULL_FLUSH,ve=ce.Z_FINISH,be=ce.Z_BLOCK,ye=ce.Z_OK,_e=ce.Z_STREAM_END,Me=ce.Z_STREAM_ERROR,Ee=ce.Z_DATA_ERROR,Ne=ce.Z_BUF_ERROR,De=ce.Z_DEFAULT_COMPRESSION,Se=ce.Z_FILTERED,Te=ce.Z_HUFFMAN_ONLY,Ze=ce.Z_RLE,ke=ce.Z_FIXED,xe=ce.Z_DEFAULT_STRATEGY,Ie=ce.Z_UNKNOWN,ze=ce.Z_DEFLATED,Be=258,Oe=262,Ye=103,Re=113,He=666,Xe=function(e,t){return e.msg=de[t],t},je=function(e){return(e<<1)-(e>4?9:0)},Ve=function(e){for(var t=e.length;--t>=0;)e[t]=0},We=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},Ce=function(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Fe=function(e,t){fe(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ce(e.strm)},Ue=function(e,t){e.pending_buf[e.pending++]=t},Ae=function(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Le=function(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,d=e.strstart>e.w_size-Oe?e.strstart-(e.w_size-Oe):0,c=e.window,l=e.w_mask,u=e.prev,f=e.strstart+Be,h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(i=Be-(f-o),o=f-Be,i>a){if(e.match_start=t,a=i,i>=s)break;h=c[o+a-1],p=c[o+a]}}}while((t=u[t&l])>d&&0!=--r);return a<=e.lookahead?a:e.lookahead},Ge=function(e){var t,n,i,r,o,a,s,d,c,l,u=e.w_size;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-Oe)){e.window.set(e.window.subarray(u,u+u),0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=n=e.hash_size;do{i=e.head[--t],e.head[t]=i>=u?i-u:0}while(--n);t=n=u;do{i=e.prev[--t],e.prev[t]=i>=u?i-u:0}while(--n);r+=u}if(0===e.strm.avail_in)break;if(a=e.strm,s=e.window,d=e.strstart+e.lookahead,c=r,l=void 0,(l=a.avail_in)>c&&(l=c),n=0===l?0:(a.avail_in-=l,s.set(a.input.subarray(a.next_in,a.next_in+l),d),1===a.state.wrap?a.adler=oe(a.adler,s,l,d):2===a.state.wrap&&(a.adler=se(a.adler,s,l,d)),a.next_in+=l,a.total_in+=l,l),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=We(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=We(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Oe&&0!==e.strm.avail_in)},Pe=function(e,t){for(var n,i;;){if(e.lookahead<Oe){if(Ge(e),e.lookahead<Oe&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Oe&&(e.match_length=Le(e,n)),e.match_length>=3)if(i=he(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=We(e,e.ins_h,e.window[e.strstart+1]);else i=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(Fe(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ve?(Fe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fe(e,!1),0===e.strm.avail_out)?1:2},Ke=function(e,t){for(var n,i,r;;){if(e.lookahead<Oe){if(Ge(e),e.lookahead<Oe&&t===ge)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Oe&&(e.match_length=Le(e,n),e.match_length<=5&&(e.strategy===Se||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=he(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=We(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(Fe(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=he(e,0,e.window[e.strstart-1]))&&Fe(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=he(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ve?(Fe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fe(e,!1),0===e.strm.avail_out)?1:2};function Je(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}var Qe=[new Je(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ge(e),0===e.lookahead&&t===ge)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,Fe(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Oe&&(Fe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ve?(Fe(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Fe(e,!1),e.strm.avail_out),1)})),new Je(4,4,8,4,Pe),new Je(4,5,16,8,Pe),new Je(4,6,32,32,Pe),new Je(4,4,16,16,Ke),new Je(8,16,32,32,Ke),new Je(8,16,128,128,Ke),new Je(8,32,128,256,Ke),new Je(32,128,258,1024,Ke),new Je(32,258,258,4096,Ke)];function qe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ze,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ve(this.dyn_ltree),Ve(this.dyn_dtree),Ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var $e=function(e){if(!e||!e.state)return Xe(e,Me);e.total_in=e.total_out=0,e.data_type=Ie;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Re,e.adler=2===t.wrap?0:1,t.last_flush=ge,le(t),ye},et=function(e){var t,n=$e(e);return n===ye&&((t=e.state).window_size=2*t.w_size,Ve(t.head),t.max_lazy_match=Qe[t.level].max_lazy,t.good_match=Qe[t.level].good_length,t.nice_match=Qe[t.level].nice_length,t.max_chain_length=Qe[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n},tt=function(e,t,n,i,r,o){if(!e)return Me;var a=1;if(t===De&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==ze||i<8||i>15||t<0||t>9||o<0||o>ke)return Xe(e,Me);8===i&&(i=9);var s=new qe;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,et(e)},nt={deflateInit:function(e,t){return tt(e,t,ze,15,8,xe)},deflateInit2:tt,deflateReset:et,deflateResetKeep:$e,deflateSetHeader:function(e,t){return e&&e.state?2!==e.state.wrap?Me:(e.state.gzhead=t,ye):Me},deflate:function(e,t){var n,i;if(!e||!e.state||t>be||t<0)return e?Xe(e,Me):Me;var r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===He&&t!==ve)return Xe(e,0===e.avail_out?Ne:Me);r.strm=e;var o=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Ue(r,31),Ue(r,139),Ue(r,8),r.gzhead?(Ue(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ue(r,255&r.gzhead.time),Ue(r,r.gzhead.time>>8&255),Ue(r,r.gzhead.time>>16&255),Ue(r,r.gzhead.time>>24&255),Ue(r,9===r.level?2:r.strategy>=Te||r.level<2?4:0),Ue(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Ue(r,255&r.gzhead.extra.length),Ue(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=se(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Ue(r,0),Ue(r,0),Ue(r,0),Ue(r,0),Ue(r,0),Ue(r,9===r.level?2:r.strategy>=Te||r.level<2?4:0),Ue(r,3),r.status=Re);else{var a=ze+(r.w_bits-8<<4)<<8;a|=(r.strategy>=Te||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(a|=32),a+=31-a%31,r.status=Re,Ae(r,a),0!==r.strstart&&(Ae(r,e.adler>>>16),Ae(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=se(e.adler,r.pending_buf,r.pending-n,n)),Ce(e),n=r.pending,r.pending!==r.pending_buf_size));)Ue(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=se(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=se(e.adler,r.pending_buf,r.pending-n,n)),Ce(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Ue(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=se(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=se(e.adler,r.pending_buf,r.pending-n,n)),Ce(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Ue(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=se(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=Ye)}else r.status=Ye;if(r.status===Ye&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ce(e),r.pending+2<=r.pending_buf_size&&(Ue(r,255&e.adler),Ue(r,e.adler>>8&255),e.adler=0,r.status=Re)):r.status=Re),0!==r.pending){if(Ce(e),0===e.avail_out)return r.last_flush=-1,ye}else if(0===e.avail_in&&je(t)<=je(o)&&t!==ve)return Xe(e,Ne);if(r.status===He&&0!==e.avail_in)return Xe(e,Ne);if(0!==e.avail_in||0!==r.lookahead||t!==ge&&r.status!==He){var s=r.strategy===Te?function(e,t){for(var n;;){if(0===e.lookahead&&(Ge(e),0===e.lookahead)){if(t===ge)return 1;break}if(e.match_length=0,n=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Fe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ve?(Fe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fe(e,!1),0===e.strm.avail_out)?1:2}(r,t):r.strategy===Ze?function(e,t){for(var n,i,r,o,a=e.window;;){if(e.lookahead<=Be){if(Ge(e),e.lookahead<=Be&&t===ge)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[r=e.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){o=e.strstart+Be;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=Be-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=he(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=he(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Fe(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ve?(Fe(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Fe(e,!1),0===e.strm.avail_out)?1:2}(r,t):Qe[r.level].func(r,t);if(3!==s&&4!==s||(r.status=He),1===s||3===s)return 0===e.avail_out&&(r.last_flush=-1),ye;if(2===s&&(t===me?pe(r):t!==be&&(ue(r,0,0,!1),t===we&&(Ve(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ce(e),0===e.avail_out))return r.last_flush=-1,ye}return t!==ve?ye:r.wrap<=0?_e:(2===r.wrap?(Ue(r,255&e.adler),Ue(r,e.adler>>8&255),Ue(r,e.adler>>16&255),Ue(r,e.adler>>24&255),Ue(r,255&e.total_in),Ue(r,e.total_in>>8&255),Ue(r,e.total_in>>16&255),Ue(r,e.total_in>>24&255)):(Ae(r,e.adler>>>16),Ae(r,65535&e.adler)),Ce(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?ye:_e)},deflateEnd:function(e){if(!e||!e.state)return Me;var t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Ye&&t!==Re&&t!==He?Xe(e,Me):(e.state=null,t===Re?Xe(e,Ee):ye)},deflateSetDictionary:function(e,t){var n=t.length;if(!e||!e.state)return Me;var i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return Me;if(1===r&&(e.adler=oe(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(Ve(i.head),i.strstart=0,i.block_start=0,i.insert=0);var o=new Uint8Array(i.w_size);o.set(t.subarray(n-i.w_size,n),0),t=o,n=i.w_size}var a=e.avail_in,s=e.next_in,d=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ge(i);i.lookahead>=3;){var c=i.strstart,l=i.lookahead-2;do{i.ins_h=We(i,i.ins_h,i.window[c+3-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++}while(--l);i.strstart=c,i.lookahead=2,Ge(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=s,e.input=d,e.avail_in=a,i.wrap=r,ye},deflateInfo:"pako deflate (from Nodeca project)"},it=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},rt=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!==(0,s.Z)(n))throw new TypeError(n+"must be non-object");for(var i in n)it(n,i)&&(e[i]=n[i])}}return e},ot=function(e){for(var t=0,n=0,i=e.length;n<i;n++)t+=e[n].length;for(var r=new Uint8Array(t),o=0,a=0,s=e.length;o<s;o++){var d=e[o];r.set(d,a),a+=d.length}return r},at=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){at=!1}for(var st=new Uint8Array(256),dt=0;dt<256;dt++)st[dt]=dt>=252?6:dt>=248?5:dt>=240?4:dt>=224?3:dt>=192?2:1;st[254]=st[254]=1;var ct=function(e){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)55296==(64512&(n=e.charCodeAt(r)))&&r+1<a&&56320==(64512&(i=e.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},lt=function(e,t){var n,i,r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var o=new Array(2*r);for(i=0,n=0;n<r;){var a=e[n++];if(a<128)o[i++]=a;else{var s=st[a];if(s>4)o[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<r;)a=a<<6|63&e[n++],s--;s>1?o[i++]=65533:a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|1023&a)}}}return function(e,t){if(t<65534&&e.subarray&&at)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));for(var n="",i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n}(o,i)},ut=function(e,t){(t=t||e.length)>e.length&&(t=e.length);for(var n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+st[e[n]]>t?n:t};var ft=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},ht=Object.prototype.toString,pt=ce.Z_NO_FLUSH,gt=ce.Z_SYNC_FLUSH,mt=ce.Z_FULL_FLUSH,wt=ce.Z_FINISH,vt=ce.Z_OK,bt=ce.Z_STREAM_END,yt=ce.Z_DEFAULT_COMPRESSION,_t=ce.Z_DEFAULT_STRATEGY,Mt=ce.Z_DEFLATED;function Et(e){this.options=rt({level:yt,method:Mt,chunkSize:16384,windowBits:15,memLevel:8,strategy:_t},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ft,this.strm.avail_out=0;var n=nt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==vt)throw new Error(de[n]);if(t.header&&nt.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?ct(t.dictionary):"[object ArrayBuffer]"===ht.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=nt.deflateSetDictionary(this.strm,i))!==vt)throw new Error(de[n]);this._dict_set=!0}}function Nt(e,t){var n=new Et(t);if(n.push(e,!0),n.err)throw n.msg||de[n.err];return n.result}Et.prototype.push=function(e,t){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?wt:pt,"string"==typeof e?r.input=ct(e):"[object ArrayBuffer]"===ht.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(i===gt||i===mt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=nt.deflate(r,i))===bt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=nt.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===vt;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Et.prototype.onData=function(e){this.chunks.push(e)},Et.prototype.onEnd=function(e){e===vt&&(this.result=ot(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Dt={Deflate:Et,deflate:Nt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,Nt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,Nt(e,t)},constants:ce},St=function(e,t){var n,i,r,o,a,s,d,c,l,u,f,h,p,g,m,w,v,b,y,_,M,E,N,D,S=e.state;n=e.next_in,N=e.input,i=n+(e.avail_in-5),r=e.next_out,D=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=S.dmax,d=S.wsize,c=S.whave,l=S.wnext,u=S.window,f=S.hold,h=S.bits,p=S.lencode,g=S.distcode,m=(1<<S.lenbits)-1,w=(1<<S.distbits)-1;e:do{h<15&&(f+=N[n++]<<h,h+=8,f+=N[n++]<<h,h+=8),v=p[f&m];t:for(;;){if(f>>>=b=v>>>24,h-=b,0===(b=v>>>16&255))D[r++]=65535&v;else{if(!(16&b)){if(0==(64&b)){v=p[(65535&v)+(f&(1<<b)-1)];continue t}if(32&b){S.mode=12;break e}e.msg="invalid literal/length code",S.mode=30;break e}y=65535&v,(b&=15)&&(h<b&&(f+=N[n++]<<h,h+=8),y+=f&(1<<b)-1,f>>>=b,h-=b),h<15&&(f+=N[n++]<<h,h+=8,f+=N[n++]<<h,h+=8),v=g[f&w];n:for(;;){if(f>>>=b=v>>>24,h-=b,!(16&(b=v>>>16&255))){if(0==(64&b)){v=g[(65535&v)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",S.mode=30;break e}if(_=65535&v,h<(b&=15)&&(f+=N[n++]<<h,(h+=8)<b&&(f+=N[n++]<<h,h+=8)),(_+=f&(1<<b)-1)>s){e.msg="invalid distance too far back",S.mode=30;break e}if(f>>>=b,h-=b,_>(b=r-o)){if((b=_-b)>c&&S.sane){e.msg="invalid distance too far back",S.mode=30;break e}if(M=0,E=u,0===l){if(M+=d-b,b<y){y-=b;do{D[r++]=u[M++]}while(--b);M=r-_,E=D}}else if(l<b){if(M+=d+l-b,(b-=l)<y){y-=b;do{D[r++]=u[M++]}while(--b);if(M=0,l<y){y-=b=l;do{D[r++]=u[M++]}while(--b);M=r-_,E=D}}}else if(M+=l-b,b<y){y-=b;do{D[r++]=u[M++]}while(--b);M=r-_,E=D}for(;y>2;)D[r++]=E[M++],D[r++]=E[M++],D[r++]=E[M++],y-=3;y&&(D[r++]=E[M++],y>1&&(D[r++]=E[M++]))}else{M=r-_;do{D[r++]=D[M++],D[r++]=D[M++],D[r++]=D[M++],y-=3}while(y>2);y&&(D[r++]=D[M++],y>1&&(D[r++]=D[M++]))}break}}break}}while(n<i&&r<a);n-=y=h>>3,f&=(1<<(h-=y<<3))-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),S.hold=f,S.bits=h},Tt=15,Zt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),kt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),xt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),It=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),zt=function(e,t,n,i,r,o,a,s){var d,c,l,u,f,h,p,g,m,w=s.bits,v=0,b=0,y=0,_=0,M=0,E=0,N=0,D=0,S=0,T=0,Z=null,k=0,x=new Uint16Array(16),I=new Uint16Array(16),z=null,B=0;for(v=0;v<=Tt;v++)x[v]=0;for(b=0;b<i;b++)x[t[n+b]]++;for(M=w,_=Tt;_>=1&&0===x[_];_--);if(M>_&&(M=_),0===_)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(y=1;y<_&&0===x[y];y++);for(M<y&&(M=y),D=1,v=1;v<=Tt;v++)if(D<<=1,(D-=x[v])<0)return-1;if(D>0&&(0===e||1!==_))return-1;for(I[1]=0,v=1;v<Tt;v++)I[v+1]=I[v]+x[v];for(b=0;b<i;b++)0!==t[n+b]&&(a[I[t[n+b]]++]=b);if(0===e?(Z=z=a,h=19):1===e?(Z=Zt,k-=257,z=kt,B-=257,h=256):(Z=xt,z=It,h=-1),T=0,b=0,v=y,f=o,E=M,N=0,l=-1,u=(S=1<<M)-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){p=v-N,a[b]<h?(g=0,m=a[b]):a[b]>h?(g=z[B+a[b]],m=Z[k+a[b]]):(g=96,m=0),d=1<<v-N,y=c=1<<E;do{r[f+(T>>N)+(c-=d)]=p<<24|g<<16|m|0}while(0!==c);for(d=1<<v-1;T&d;)d>>=1;if(0!==d?(T&=d-1,T+=d):T=0,b++,0==--x[v]){if(v===_)break;v=t[n+a[b]]}if(v>M&&(T&u)!==l){for(0===N&&(N=M),f+=y,D=1<<(E=v-N);E+N<_&&!((D-=x[E+N])<=0);)E++,D<<=1;if(S+=1<<E,1===e&&S>852||2===e&&S>592)return 1;r[l=T&u]=M<<24|E<<16|f-o|0}}return 0!==T&&(r[f+T]=v-N<<24|64<<16|0),s.bits=M,0},Bt=ce.Z_FINISH,Ot=ce.Z_BLOCK,Yt=ce.Z_TREES,Rt=ce.Z_OK,Ht=ce.Z_STREAM_END,Xt=ce.Z_NEED_DICT,jt=ce.Z_STREAM_ERROR,Vt=ce.Z_DATA_ERROR,Wt=ce.Z_MEM_ERROR,Ct=ce.Z_BUF_ERROR,Ft=ce.Z_DEFLATED,Ut=12,At=30,Lt=function(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)};function Gt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Pt,Kt,Jt=function(e){if(!e||!e.state)return jt;var t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Rt},Qt=function(e){if(!e||!e.state)return jt;var t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Jt(e)},qt=function(e,t){var n;if(!e||!e.state)return jt;var i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?jt:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Qt(e))},$t=function(e,t){if(!e)return jt;var n=new Gt;e.state=n,n.window=null;var i=qt(e,t);return i!==Rt&&(e.state=null),i},en=!0,tn=function(e){if(en){Pt=new Int32Array(512),Kt=new Int32Array(32);for(var t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(zt(1,e.lens,0,288,Pt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;zt(2,e.lens,0,32,Kt,0,e.work,{bits:5}),en=!1}e.lencode=Pt,e.lenbits=9,e.distcode=Kt,e.distbits=5},nn=function(e,t,n,i){var r,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):((r=o.wsize-o.wnext)>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0},rn={inflateReset:Qt,inflateReset2:qt,inflateResetKeep:Jt,inflateInit:function(e){return $t(e,15)},inflateInit2:$t,inflate:function(e,t){var n,i,r,o,a,s,d,c,l,u,f,h,p,g,m,w,v,b,y,_,M,E,N,D,S=0,T=new Uint8Array(4),Z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return jt;(n=e.state).mode===Ut&&(n.mode=13),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,u=s,f=d,E=Rt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,T[0]=255&c,T[1]=c>>>8&255,n.check=se(n.check,T,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=At;break}if((15&c)!==Ft){e.msg="unknown compression method",n.mode=At;break}if(l-=4,M=8+(15&(c>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=At;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Ut,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Ft){e.msg="unknown compression method",n.mode=At;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=At;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=se(n.check,T,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=se(n.check,T,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=se(n.check,T,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=se(n.check,T,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((h=n.length)>s&&(h=s),h&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+h),M)),512&n.flags&&(n.check=se(n.check,i,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{M=i[o+h++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M))}while(M&&h<s);if(512&n.flags&&(n.check=se(n.check,i,h,o)),s-=h,o+=h,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{M=i[o+h++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M))}while(M&&h<s);if(512&n.flags&&(n.check=se(n.check,i,h,o)),s-=h,o+=h,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=At;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ut;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}e.adler=n.check=Lt(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,Xt;e.adler=n.check=1,n.mode=Ut;case Ut:if(t===Ot||t===Yt)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}switch(n.last=1&c,l-=1,3&(c>>>=1)){case 0:n.mode=14;break;case 1:if(tn(n),n.mode=20,t===Yt){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=At}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=At;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===Yt)break e;case 15:n.mode=16;case 16:if(h=n.length){if(h>s&&(h=s),h>d&&(h=d),0===h)break e;r.set(i.subarray(o,o+h),a),s-=h,o+=h,d-=h,a+=h,n.length-=h;break}n.mode=Ut;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=At;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.lens[Z[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[Z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},E=zt(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,E){e.msg="invalid code lengths set",n.mode=At;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;w=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(v<16)c>>>=m,l-=m,n.lens[n.have++]=v;else{if(16===v){for(D=m+2;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=At;break}M=n.lens[n.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===v){for(D=m+3;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,M=0,h=3+(7&(c>>>=m)),c>>>=3,l-=3}else{for(D=m+7;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}l-=m,M=0,h=11+(127&(c>>>=m)),c>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=At;break}for(;h--;)n.lens[n.have++]=M}}if(n.mode===At)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=At;break}if(n.lenbits=9,N={bits:n.lenbits},E=zt(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,E){e.msg="invalid literal/lengths set",n.mode=At;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},E=zt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,E){e.msg="invalid distances set",n.mode=At;break}if(n.mode=20,t===Yt)break e;case 20:n.mode=21;case 21:if(s>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,St(e,f),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Ut&&(n.back=-1);break}for(n.back=0;w=(S=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(w&&0==(240&w)){for(b=m,y=w,_=v;w=(S=n.lencode[_+((c&(1<<b+y)-1)>>b)])>>>16&255,v=65535&S,!(b+(m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=m,l-=m,n.back+=m,n.length=v,0===w){n.mode=26;break}if(32&w){n.back=-1,n.mode=Ut;break}if(64&w){e.msg="invalid literal/length code",n.mode=At;break}n.extra=15&w,n.mode=22;case 22:if(n.extra){for(D=n.extra;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;w=(S=n.distcode[c&(1<<n.distbits)-1])>>>16&255,v=65535&S,!((m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(0==(240&w)){for(b=m,y=w,_=v;w=(S=n.distcode[_+((c&(1<<b+y)-1)>>b)])>>>16&255,v=65535&S,!(b+(m=S>>>24)<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=m,l-=m,n.back+=m,64&w){e.msg="invalid distance code",n.mode=At;break}n.offset=v,n.extra=15&w,n.mode=24;case 24:if(n.extra){for(D=n.extra;l<D;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=At;break}n.mode=25;case 25:if(0===d)break e;if(h=f-d,n.offset>h){if((h=n.offset-h)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=At;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),g=n.window}else g=r,p=a-n.offset,h=n.length;h>d&&(h=d),d-=h,n.length-=h;do{r[a++]=g[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;r[a++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[o++]<<l,l+=8}if(f-=d,e.total_out+=f,n.total+=f,f&&(e.adler=n.check=n.flags?se(n.check,r,f,a-f):oe(n.check,r,f,a-f)),f=d,(n.flags?c:Lt(c))!==n.check){e.msg="incorrect data check",n.mode=At;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=At;break}c=0,l=0}n.mode=29;case 29:E=Ht;break e;case At:E=Vt;break e;case 31:return Wt;default:return jt}return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||f!==e.avail_out&&n.mode<At&&(n.mode<27||t!==Bt))&&nn(e,e.output,e.next_out,f-e.avail_out),u-=e.avail_in,f-=e.avail_out,e.total_in+=u,e.total_out+=f,n.total+=f,n.wrap&&f&&(e.adler=n.check=n.flags?se(n.check,r,f,e.next_out-f):oe(n.check,r,f,e.next_out-f)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ut?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===f||t===Bt)&&E===Rt&&(E=Ct),E},inflateEnd:function(e){if(!e||!e.state)return jt;var t=e.state;return t.window&&(t.window=null),e.state=null,Rt},inflateGetHeader:function(e,t){if(!e||!e.state)return jt;var n=e.state;return 0==(2&n.wrap)?jt:(n.head=t,t.done=!1,Rt)},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?jt:11===n.mode&&oe(1,t,i,0)!==n.check?Vt:nn(e,t,i,i)?(n.mode=31,Wt):(n.havedict=1,Rt):jt},inflateInfo:"pako inflate (from Nodeca project)"};var on=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},an=Object.prototype.toString,sn=ce.Z_NO_FLUSH,dn=ce.Z_FINISH,cn=ce.Z_OK,ln=ce.Z_STREAM_END,un=ce.Z_NEED_DICT,fn=ce.Z_STREAM_ERROR,hn=ce.Z_DATA_ERROR,pn=ce.Z_MEM_ERROR;function gn(e){this.options=rt({chunkSize:65536,windowBits:15,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ft,this.strm.avail_out=0;var n=rn.inflateInit2(this.strm,t.windowBits);if(n!==cn)throw new Error(de[n]);if(this.header=new on,rn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=ct(t.dictionary):"[object ArrayBuffer]"===an.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=rn.inflateSetDictionary(this.strm,t.dictionary))!==cn))throw new Error(de[n])}function mn(e,t){var n=new gn(t);if(n.push(e),n.err)throw n.msg||de[n.err];return n.result}gn.prototype.push=function(e,t){var n,i,r,o=this.strm,a=this.options.chunkSize,s=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?dn:sn,"[object ArrayBuffer]"===an.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;;){for(0===o.avail_out&&(o.output=new Uint8Array(a),o.next_out=0,o.avail_out=a),(n=rn.inflate(o,i))===un&&s&&((n=rn.inflateSetDictionary(o,s))===cn?n=rn.inflate(o,i):n===hn&&(n=un));o.avail_in>0&&n===ln&&o.state.wrap>0&&0!==e[o.next_in];)rn.inflateReset(o),n=rn.inflate(o,i);switch(n){case fn:case hn:case un:case pn:return this.onEnd(n),this.ended=!0,!1}if(r=o.avail_out,o.next_out&&(0===o.avail_out||n===ln))if("string"===this.options.to){var d=ut(o.output,o.next_out),c=o.next_out-d,l=lt(o.output,d);o.next_out=c,o.avail_out=a-c,c&&o.output.set(o.output.subarray(d,d+c),0),this.onData(l)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(n!==cn||0!==r){if(n===ln)return n=rn.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===o.avail_in)break}}return!0},gn.prototype.onData=function(e){this.chunks.push(e)},gn.prototype.onEnd=function(e){e===cn&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ot(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var wn={Inflate:gn,inflate:mn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,mn(e,t)},ungzip:mn,constants:ce},vn={Deflate:Dt.Deflate,deflate:Dt.deflate,deflateRaw:Dt.deflateRaw,gzip:Dt.gzip,Inflate:wn.Inflate,inflate:wn.inflate,inflateRaw:wn.inflateRaw,ungzip:wn.ungzip,constants:ce},bn=__webpack_require__(552),yn=new bn.Z({prefix:"utf8: "});const _n=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){yn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},Mn=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){yn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};function En(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?En(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):En(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dn=new function(){var e,t=y(8,10),n=window.location.href,i=d.Z.upoSettings.recoveryScriptVersion;try{e=window.__bt_intrnl.traceID}catch(t){e=""}var r=function(t,n){""==t&&(t="/");var r=t,o="?";(n=n||{}).upapi=["true"],n.tid=[e],n.cv=[i];for(var a=Object.keys(n),s=0;s<a.length;s++)for(var d=a[s],c=n[d],l=0;l<c.length;l++){var u=c[l];r+=o+encodeURIComponent(d)+"="+encodeURIComponent(u),o="&"}return r};this.sendLog=function(e){var t=d.Z.SharedObject.getItem("websiteConfig")||{},i=t.organizationID,o=t.websiteID,a={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:i,websiteID:o,meta:Nn(Nn({},e.meta||{}),{},{pageURL:n})},s={method:"POST",url:r("/log"),body:_n(JSON.stringify(a))};return w.$fetch(s)},this.testCompliance=function(e){return new Promise((function(n,i){var o={};o.pid=[t],o.nr=["2"];var a=e,s=r("/tc",o),d=JSON.stringify(e);try{d&&d.length>=2048&&window.localStorage&&!window.localStorage.updebug?(a=vn.deflate(d).buffer,o.z=[1],s=r("/tc",o)):a=_n(d)}catch(e){a=_n(d)}var c={method:"POST",url:s,body:a};w.$fetch(c).then((function(e){var t=JSON.parse(Mn(e.body)),i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]={status:t[r].status,id:t[r].id,backup:t[r].backup});n(i)}),(function(e){i(new Error)}))}))},this.reportAuctionStarted=function(e,i,o,a,s,d,u,f){var h={};h.pid=[t],h.nr=["1"];var p={};p.websiteID=d,p.orgID=u,p.auctionID=e,p.spaceExternalID=i,p.spaceName=o,a&&(p.gamAdUnitPath=a),p.bids=c.Z.map(s,(function(e){return{bidderExternalID:e.bidderId,provider:e.provider}})),p.refreshDepth=f,p.pageURL=n,l.Y.fireEvent("auctionStartChangeRequestData",{query:h,body:p});var g={method:"POST",url:r("/as",h),body:_n(JSON.stringify(p))};return w.$fetch(g)},this.reportAuctionEnd=function(e,i,o,a,s,d,c,u,f,h){var p={};p.pid=[t],p.seid=[c],p.nr=["1"],d.websiteID=a,d.orgID=s,d.auctionID=e,d.spaceExternalID=i,d.spaceName=o,d.dfpAdUnit=c,d.adUnitCode=c,u&&(d.gamAdUnitPath=u),d.gamEnabled=f,d.refreshDepth=h,d.pageURL=n,l.Y.fireEvent("auctionEndChangeRequestData",{query:p,body:d});var g={method:"POST",url:r("/ae",p),body:_n(JSON.stringify(d))};return w.$fetch(g)},this.reportRender=function(e,t,i,o,a,s,d,c,l,u,f){var h={nr:["1"]},p={};p.websiteID=l,p.orgID=u,p.auctionID=e,p.spaceExternalID=s,p.spaceName=d,c&&(p.gamAdUnitPath=c),p.bidderExternalID=t,p.provider=i,p.refreshDepth=f,p.pageURL=n,p.amount=o,p.currency=a;var g={method:"POST",url:r("/r",h),body:_n(JSON.stringify(p))};return w.$fetch(g)},this.reportView=function(e,t,i,o,a,s,d,c,l){var u={nr:["1"]},f={};f.websiteID=d,f.orgID=c,f.auctionID=e,f.spaceExternalID=o,f.spaceName=a,s&&(f.gamAdUnitPath=s),f.bidderExternalID=t,f.provider=i,f.refreshDepth=l,f.pageURL=n;var h={method:"POST",url:r("/v",u),body:_n(JSON.stringify(f))};return w.$fetch(h)},this.consentData=function(e){var o={},a={},s={consents:{}},c=e.tcData,l=e.error,u=d.Z.SharedObject.getItem("websiteConfig")||{},h=u.organizationID,p=u.websiteID;h&&(o.organizationID=parseInt(h)),p&&(o.websiteID=parseInt(p)),o.pageID=t,o.clientVersion=i,c?(a.cmpVersion=c.cmpVersion,a.gdprApplies=c.gdprApplies,a.tcfPolicyVersion=c.tcfPolicyVersion,a.tcString=c.tcString,c.gdprApplies&&(a.purpose=c.purpose,[10,13,25,28,32,52,69,76,91,755].forEach((function(e){return s.consents[e]=c.vendor.consents[e]})),a.vendor=s)):(a.gdprApplies=null,a.error=f.Z.commonUtils.truncateString(l.message,1024)),o.tcData=a,o.pageURL=n;var g={method:"POST",url:r("/ce"),body:_n(JSON.stringify(o))};return w.$fetch(g)}},Sn=new bn.Z({prefix:"report: "}),Tn=new function(){this.init=function(){var e=d.Z.SharedObject.getItem("websiteConfig");l.Y.addEventListener("FirePublisherEvent",(function(e){var t=e.data,n=t.eventName,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{var r=new window.CustomEvent(n,i);return void window.dispatchEvent(r)}catch(e){var o=document.createEvent("CustomEvent");return o.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(o)}var a=document.createEvent("CustomEvent");a.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(a)})),l.Y.addEventListener("sendLog",(function(e){var t=e.data;Dn.sendLog(t).then((function(e){Sn.infof(null,"sendLog - %o",e)}),(function(e){Sn.errorf(null,"sendLog - %o",e)}))})),l.Y.addEventListener("onAuctionStarted",(function(t){var n=t.data.auction,i=n.auctionId,r=n.unit.space.id,o=n.unit.space.templateSpaceName||n.unit.space.name,a=n.unit.gamAdUnitPath,s=[],d=n.unit.space.preBiddingSettings&&n.unit.space.preBiddingSettings.biddingSettings,l=n.unit.space.postBiddingSettings;if(d)for(var u in d)if(u=parseInt(u),d.hasOwnProperty(u)){var f=d[u];c.Z.forEach(f,(function(e){s.push({bidderId:e.id,provider:e.name})}))}l&&(l.adxId&&s.push({bidderId:l.adxId,provider:"gad"}),l.directId&&s.push({bidderId:l.directId,provider:"direct"})),Dn.reportAuctionStarted(i,r,o,a,s,e.websiteID,e.organizationID,n.unit.countOfDispatches-1).then((function(e){Sn.infof(null,"onAuctionStarted - %o",e)}),(function(e){Sn.errorf(null,"onAuctionStarted - %o",e)}))})),l.Y.addEventListener("onAuctionEnded",(function(t){var n=t.data,i=n.auction,r=n.bid,o=i.bids,a=i.unit.space.templateSpaceName||i.unit.space.name,s=i.unit.gamAdUnitPath,c=i.unit.space.name,u=l.Y.fireEvent("getDefaultCreative",{auction:i}),f="default-creative"===r.bidder&&u.disableAuctionEventLogging;try{if(e.dfpEnabled)for(var h=window.googletag.pubads().getSlots(),p=0;p<h.length;p++){var g=h[p],m=g.getSlotElementId();if(document.getElementById(m)==i.unit.element){c=g.getAdUnitPath().split("/")[g.getAdUnitPath().split("/").length-1];break}}}catch(e){Sn.errorf(null,"onAuctionEnded: %o",e)}for(var w={bids:[],aliens:[],win:void 0},v=0;v<o.length;v++){var b=o[v],y={bid:{cpm:b.cpm,bidderCode:b.bidderCode,complianceStatus:b.complianceStatus}},_=l.Y.fireEvent("bidCpmAdjustment",y)||1,M=b.cpm/1e3*_,E=l.Y.fireEvent("prebidTimeout")||3e3,N={bidderExternalID:b.bidderId,provider:b.bidderCode,amount:M,complianceStatus:b.complianceStatus,timeout:E,latency:b.timeToRespond,requestStatus:"OK",creativeID:b.contentIdHash,adUnit:c,adSize:String(b.width)+"x"+String(b.height),adID:b.adId,currency:b.currency};if(b!=r)switch(N.complianceStatus){case d.Z.consts.complianceStatus.COMPLIANT:case d.Z.consts.complianceStatus.INCOMPLIANT:w.bids.push(N);break;default:w.aliens.push(N)}else w.win=N}if(f){w.win.provider=u.providerName||"default-creative";var D={sendToServer:!0,event:"adRecover Backfill",meta:{adUnitCode:c,aliens:w.aliens,auctionID:i.auctionId,bids:w.bids,dfpAdUnit:c,gamEnabled:e.dfpEnabled,orgID:e.organizationID,pageURL:window.location.href,refreshDepth:i.unit.countOfDispatches-1,spaceExternalID:i.unit.space.id,spaceName:a,websiteID:e.websiteID,win:w.win}};Sn.infof(null,"adRecover Backfill, auction ID -> ",i.auctionId||"N/A",D)}else Dn.reportAuctionEnd(i.auctionId,i.unit.space.id,a,e.websiteID,e.organizationID,w,c,s,e.dfpEnabled,i.unit.countOfDispatches-1).then((function(e){Sn.infof(null,"onAuctionEnded - %o",e)}),(function(e){Sn.errorf(null,"onAuctionEnded - %o",e)}))})),l.Y.addEventListener("onAuctionRendered",(function(t){var n=t.data,i=n.auction,r=n.bid,o=i.unit.space.templateSpaceName||i.unit.space.name,a=l.Y.fireEvent("getDefaultCreative",{auction:i});if(!("default-creative"===r.bidder&&a.disableAuctionEventLogging)){var s={bid:{cpm:r.cpm,bidderCode:r.bidderCode,complianceStatus:r.complianceStatus}},d=l.Y.fireEvent("bidCpmAdjustment",s)||1,c=r.cpm/1e3*d;Dn.reportRender(i.auctionId,r.bidderId,r.bidderCode,c,r.currency,i.unit.space.id,o,i.unit.gamAdUnitPath,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){Sn.infof(null,"onAuctionRendered - %o",e)}),(function(e){Sn.errorf(null,"onAuctionRendered - %o",e)}))}})),l.Y.addEventListener("onAdViewed",(function(t){var n=t.data,i=n.auction,r=n.bid,o=i.unit.space.templateSpaceName||i.unit.space.name,a=l.Y.fireEvent("getDefaultCreative",{auction:i});"default-creative"===r.bidder&&a.disableAuctionEventLogging||Dn.reportView(i.auctionId,r.bidderId,r.bidderCode,i.unit.space.id,o,i.unit.gamAdUnitPath,e.websiteID,e.organizationID,i.unit.countOfDispatches-1).then((function(e){Sn.infof(null,"onAdViewed - %o",e)}),(function(e){Sn.errorf(null,"onAdViewed - %o",e)}))}))},l.Y.addEventListener("consentData",(function(e){var t=e.data;Dn.consentData(t).then((function(e){Sn.infof(null,"consentData - %o",e)}),(function(e){Sn.errorf(null,"consentData - %o",e)}))}))},Zn=new bn.Z({prefix:"verifications: "});const kn={Report:Tn,Verifications:new function(){this.run=function(){n(),e()};var e=function(){l.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=l.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var i=new Image;i.addEventListener("load",(function(){t.callback(!0)}),!1),i.addEventListener("error",(function(){t.callback(!1)}),!1),i.src=n}}))},t=!1,n=function(){l.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var n=e.data;n.contentRestriction&&n.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var n=0;n<e.length;n++)if(e[n].cpm>0&&"emx_digital"!==e[n].bidder&&"districtmDMX"!==e[n].bidder){t=!0,l.Y.fireEvent("disableStopFlag")||(window.__bt_intrnl.stopFlag=!0);var i=d.Z.SharedObject.getItem("renderedUnits"),r={adBlockDetectionType:d.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!i||0==i.length},o={sendToServer:!0,event:"pbjsDetected",meta:r};Zn.noticef(null,"pub's pbjs was detected -> ",r,o)}if(e){var a={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""},s={sendToServer:!0,event:"pbjsBidReceived",meta:a};Zn.noticef(null,"pub's pbjs bid was received -> ",a,s)}}))})))}))}}};var xn=function(e){switch(e){case"ALL":return d.Z.consts.refreshType.ALL;case"VISIBLE":return d.Z.consts.refreshType.VISIBLE;case"HIDDEN":return d.Z.consts.refreshType.HIDDEN;default:return d.Z.consts.refreshType.UNKNOWN}};function In(e){return e&&e.selector?f.Z.commonUtils.getElementWithSelector(e.selector.value):null}var zn=new bn.Z({prefix:"moveElementPosition: "}),Bn=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=c.Z.filter(i,(function(e){return t.indexOf(e)<0})))||i.length<=0)return;!function r(o,a){if(!(o>a)){for(var s=0;s<i.length;s++){for(var d=i[s],l=[],u=0;u<e.length;u++){var f=e[u];n(f,{space:d})&&(t.push(d),f.stayLive||l.push(f))}e=l.length>0?c.Z.filter(e,(function(e){return l.indexOf(e)<0})):e}e.length>0&&setTimeout((function(){r(o+1,a)}),100)}}(0,20)}catch(e){zn.errorf(null,"error in `movePositionService` `dispatch` function: %o",e)}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(f.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},On=__webpack_require__(17),Yn=__webpack_require__(143),Rn=new bn.Z({prefix:"whitelistingIFrame: "});var Hn="BT_WHITELISTING_IFRAME_ACCESS";function Xn(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn.Im.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidatesSrcs,n=l.Y.fireEvent("customWhitelistingIFrameURL"),i=l.Y.fireEvent("keepBTDomainWhitelistingIFrame");return(e=n?Promise.resolve(n):i?Promise.resolve(null):jn(t,0)).then((function(e){Yn.Im.whitelistingIFrameSettings.url=e||Yn.Im.whitelistingIFrameSettings.url,Yn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=!e})),e}function jn(e,t){return e[t]?new Promise((function(n){var i=f.Z.addAcceptableParam(e[t]),r=new window.XMLHttpRequest;r.open("GET",i),r.addEventListener("load",(function(o){try{if(!r.status.toString().startsWith("4")&&r.responseURL==="".concat(window.location.origin).concat(i)&&function(e){var t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;var n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((function(e){return e.startsWith("frame-ancestors")}))&&r.split(" ");return!(r&&!r.some((function(e){return e===window.location.origin})))}(r))return void function(e){try{var t=localStorage.getItem(Hn);if((t=t&&JSON.parse(t))&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){Rn.noticef(null,"whitelisting flawed cached value structure")}return new Promise((function(t){var n=document.createElement("iframe");n.src=e,n.addEventListener("load",(function i(){n.removeEventListener("load",i);var r=!1;n.contentDocument&&(r=!0),t(r);var o={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};localStorage.setItem(Hn,JSON.stringify(o)),n.parentElement.removeChild(n)})),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(i).then((function(e){n(e?i:null)}));jn(e,t+1).then((function(e){return n(e)}))}catch(i){jn(e,t+1).then((function(e){return n(e)}))}})),r.addEventListener("error",(function(i){jn(e,t+1).then((function(e){return n(e)}))})),r.send()})):Promise.resolve(null)}var Vn=function(){var e=Yn.Im.whitelistingIFrameSettings.url,t=document.createElement("iframe");return t.addEventListener("load",(function t(){if(this.removeEventListener("load",t),Yn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame||this.contentDocument||(Yn.Im.whitelistingIFrameSettings.url=Yn.VP,Yn.Im.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame=Yn.k$,localStorage.removeItem(Hn),this.src=Yn.Im.whitelistingIFrameSettings.url),e.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=f.Z.commonUtils.getTopmostAccessibleWindow().location.protocol+e),e},i=function(e,t){if(e&&""===e.src&&e.outerHTML){var i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}},r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){Rn.errorf(null,"error in XHRHttpRequest.open hook: %o",e)}return r.apply(this,e)};var o=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Rn.errorf(null,"error in `window.open` hook: %o",e)}return o.apply(this,e)};var a=function(e){return function(){try{var t=Array.prototype.slice.call(arguments);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){Rn.errorf(null,"error in `hookOnFunc`: %o",e)}return e.apply(this,t)}},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=a(s);var d=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=a(d);var c=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),l=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=l.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){Rn.errorf(null,'error in HTMLElement "innerHTML" property setter hook: %o',e)}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return c.apply(this)}catch(e){Rn.errorf(null,'error in HTMLElement "innerHTML" property getter hook: %o',e)}}));for(var u=On.v.htmlElements,h=0;h<u.length;h++)t[u[h]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),o=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Rn.errorf(null,'error in <html> "src" attribute setter hook: %o',e)}return o.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){Rn.errorf(null,'error in <html> "src" attribute getter hook: %o',e)}})))}(t[u[h]])}(this)}catch(e){Rn.errorf(null,"error calling `addAboutBlankHooks` in `createWhitelistingIFrame`: %o",e)}})),t.src=e,t};const Wn={commonBLUtils:e,movePositionService:Bn,whitelistingIFrame:t};var Cn=new bn.Z({prefix:"auction: "}),Fn=function e(t){var n=!1,i=new f.Z.SubscriptionLayer;this.auctionId=y(8,9),this.unit=t.unit,this.state=e.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.cancelAuction=function(){n=!0,r(this)},this.getWinningBid=function(){for(var e=void 0,t=0;t<this.bids.length;t++){var n=this.bids[t];(!e||n.cpm>e.cpm)&&n.complianceStatus===d.Z.consts.complianceStatus.COMPLIANT&&(e=n)}return e},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var n=this.bids[t];n.complianceStatus===d.Z.consts.complianceStatus.COMPLIANT&&e.push(n)}return e},this.renderWinningBid=function(){var e=this.getWinningBid();this.renderBid(e)};var r=function(e){e.bids.forEach((function(e){e.cancelBid()}))};function o(e){return new Promise((function(t,n){window.setTimeout((function(){try{e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","block","important"),t()}catch(e){n(e)}}),1e3)}))}this.renderBid=function(t){try{if(l.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=e.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!==t&&i.cancelBid()}}(this,t),!t||n||!f.Z.commonUtils.isElementInBody(this.unit.element))return this.unit.currentBid||(u=this.unit,c.Z.addClass("up-hide",u.element),c.Z.removeClass("up-show",u.element)),t&&t.cancelBid(),void i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});this.unit.cleanup(),a(this.unit.element),function(e,t){c.Z.addClass("up-show",e.element),c.Z.removeClass("up-hide",e.element)}(this.unit),this.unit.element._adData_=t,t.onRenderedEvent(function(){var e=this;!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,o=function(e){var t=e.sizes,n=0;return c.Z.forEach(t,(function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>o||r<120)&&(r=o),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,t,this.unit.space),function(e){if(l.Y.fireEvent("omitBTAdLabel",{unit:e}))return;var t=e.element,n=t.querySelector(".default-creative-container")||t.querySelector(".ahover")||t.querySelector('[id^="google_ads_iframe_"]'),i="upo-label",r=!(!n||!n.querySelector(".".concat(i)));if(!n||r)return;var o=function(e){var t=document.createElement("div");return t.className=e,t.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;"),window.setTimeout((function(){t.style.opacity="1"}),2e3),t.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',t}(i);n.appendChild(o),e.adLabelElement=o}(this.unit),function(e){return new Promise((function(t,n){try{if(l.Y.fireEvent("skipEnsureElementVisibility",{unit:e}))t();else{var i=e.element;i.classList.contains("up-show")||i.classList.add("up-show"),Promise.all([o(i),o(i.parentElement),o(i.parentElement.parentElement)]).then(t).catch(n)}}catch(e){n(e)}}))}(this.unit).then((function(){!function(e){if(0===e.offsetWidth&&0===e.offsetHeight){var t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};Cn.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(e.unit.element)})).catch((function(e){Cn.errorf(null,"bid.onRenderedEvent: ensureElementVisibility/detectAndLogHiddenAdUnit: %o",e)})),i.invokeEventCallbacks("auctionRendered",t),this.unit.rendered(t),d.Z.SharedObject.getItem("renderedUnits")||d.Z.SharedObject.setItem("renderedUnits",[]),d.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var r={placement:this.unit.element},s=t.additionalBidsToRender&&t.additionalBidsToRender.length>0&&t.additionalBidsToRender[0];s?(s.onRenderedEvent((function(){return t.renderBid(r)})),s.renderBid()):t.renderBid(r),i.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}catch(e){Cn.errorf(null,"renderBid err:%o",e)}var u};var a=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};Fn.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var Un=function e(t,n,i,r,o,a,s,d){this.bidId=y(16,24),this.ad=t.ad,this.adId=t.adId,this.adUrl=t.adUrl,this.bidderId=t.bidderId,this.bidder=t.bidder,this.bidderCode=t.bidderCode,this.contentIdHash=t.contentIdHash,this.currency=t.currency,this.creativeId=t.creativeId,this.c=t.c,this.cpm=t.cpm,this.complianceStatus=t.complianceStatus||0,this.height=t.height,this.isBackupCreative=t.isBackupCreative,this.timeToRespond=t.timeToRespond,this.size=t.size,this.width=t.width,this.rawBid=n,this.type=i,this.status=e.Status.LIVE,this.additionalBidsToRender=[],this.renderBid=o,this.cancelBid=function(){this.status!==e.Status.CANCELED&&(this.status=e.Status.CANCELED,a&&a(),this.additionalBidsToRender.forEach((function(e){return e.cancelBid()})))},this.getGPTTargeting=function(e){return r&&r.call(this,e)},this.onRenderedEvent=s||function(){},this.makeEntryForTestCompliance=d||function(){}};function An(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}Un.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},Un.Status={LIVE:0,CANCELED:1};var Ln=function e(t){this.unitID=y(16,24),this.element=t.element,this.space=t.space,this.state=t.state||e.States.PENDING,this.gamAdUnitPath,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){for(var e=this.element.children,t=[],i=0;i<e.length;i++)t.push(n(e[i]));for(var r=0;r<t.length;r++)t[r]()},this.rendered=function(e){this.currentBid=e};var n=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};Ln.States={PENDING:0,CHECKING:1,DISPATCHED:2};const Gn={Auction:Fn,Bid:Un,Space:function(e){if(this.id=e.id,this.name=e.name,this.templateSpaceName=e.templateSpaceName,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.preBiddingSettings={enabled:!1},e.preBiddingSettings&&(this.preBiddingSettings={enabled:e.preBiddingSettings.enabled,biddingSettings:{}},e.preBiddingSettings.enabled&&e.preBiddingSettings.biddingSettings))for(var t in e.preBiddingSettings.biddingSettings)if(e.preBiddingSettings.biddingSettings.hasOwnProperty(t)){var n=e.preBiddingSettings.biddingSettings[t];this.preBiddingSettings.biddingSettings[t]=[];for(var i=0;i<n.length;i++){var r=n[i];if(r.id&&r.name&&r.params){var o={id:r.id,name:r.name,params:r.params};this.preBiddingSettings.biddingSettings[t].push(o)}}var a=l.Y.fireEvent("enableRelayAdapter",{spaceName:this.name});if(a&&parseInt(t)===On.v.headerBiddingType.prebid&&!this.preBiddingSettings.biddingSettings[t].find((function(e){return"relay"===e.name}))){var s="bidder_"+An(this.id+"_relay_"+JSON.stringify(e).trim()),d={id:s=s.substr(0,500),name:"relay",params:a};this.preBiddingSettings.biddingSettings[t].push(d)}}if(this.postBiddingSettings={enabled:!1},e.postBiddingSettings&&e.postBiddingSettings.enabled){this.postBiddingSettings={adxId:e.postBiddingSettings.adxId,directId:e.postBiddingSettings.directId,enabled:e.postBiddingSettings.enabled,type:e.postBiddingSettings.type,order:[]};for(var c=0;c<e.postBiddingSettings.order.length;c++){var u=e.postBiddingSettings.order[c];l.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:u})||this.postBiddingSettings.order.push({params:{keyValues:u.params.keyValues||{},queryParams:u.params.queryParams||{}},adx:{bidderID:u.adx.bidderID,testCompliance:u.adx.testCompliance},direct:{bidderID:u.direct.bidderID}})}}},Unit:Ln};var Pn=new bn.Z({prefix:"adUnitParser: "});function Kn(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function Jn(e){if(e){var t=l.Y.fireEvent("rewriteGAMSlots")||l.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),i=e.getSizes();i=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(i);try{var r=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,r)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);var n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!r)return;var o=Kn(r,i,n);return o&&(o._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,o),t.postSlotCreation&&t.postSlotCreation(o)),o}catch(e){Pn.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}var Qn={hookName:"amazonBidderConfiguration",handler:function(e){var t=e.amazonConfig,n=void 0===t?{}:t,i=e.pubID,r=e.keepHbPb,o=void 0!==r&&r,a=n.amazonCPMCurrency,s=void 0===a?"USD":a,d=n.amazonCPMChart;return window.upo_amzn={amazonCPMCurrency:s,amazonCPMChart:d},{pubID:i,keepHbPb:o}}};function qn(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function $n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||qn(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ei=__webpack_require__(905);function ti(e){var t=ei.tq();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function ni(e){var t=e.string,n=e.condition,i=e.candidates,r=void 0===i?[]:i;if(1===r.length)switch(n){case"equals":case"equalsOneOf":return t===r[0];case"startsWith":case"endsWith":case"includes":return t[n](r[0]);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var o=n.split("OneOf")[0];return t[o](r[0])}else if(r.length>1)switch(n){case"equalsOneOf":return r.includes(t);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":var a=n.split("OneOf")[0];return r.some((function(e){return t[a](e)}))}}function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oi={hookName:"prebidDoneInit",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;return e.websiteOverridesOrg?r:ri(ri({},n),r)},handler:function(e,t){var n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}};const ai={enableAmazon:Qn,enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:function(e){return e}},hideDOMElementsViaCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat($n(n),$n(r))},handler:function(e){var t=[];if(e.forEach((function(e){var n=e.whenDevice,i=e.selectors;ti(n)&&t.push.apply(t,$n(i))})),t.length>0){var n=document.createElement("style");n.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(n)}}},insertCustomCSS:{parseSettingValue:function(e){var t=e.org,n=void 0===t?[]:t,i=e.website,r=void 0===i?[]:i;return e.websiteOverridesOrg?r:[].concat($n(n),$n(r))},handler:function(e){var t="";if(e.forEach((function(e){var n=e.whenDevice,i=e.customCSS,r=void 0===i?"":i;ti(n)&&(t="".concat(t,"\n").concat(r))})),""!==t){var n=document.createElement("style");n.textContent=t,(document.head||document.body||document.documentElement).appendChild(n)}}},prebidConfig:oi,removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i,o=e.websiteOverridesOrg,a=n.forAllSpaces,s=void 0===a?[]:a,d=n.forSpaces,c=void 0===d?[]:d,l=r.forAllSpaces,u=void 0===l?[]:l,f=r.forSpaces,h=void 0===f?[]:f;return{forAllSpaces:o?u:[].concat($n(s),$n(u)),forSpaces:o?h:[].concat($n(c),$n(h))}},handler:function(e,t){var n=e.forAllSpaces,i=e.forSpaces,r=t.data.spaceName,o=t.hookFileData||[],d=new Set(o);return n.forEach((function(e){var t=e.whenDevice,n=e.sizes,i=void 0===n?[]:n;ti(t)&&i.forEach((function(e){d.add(e)}))})),i.forEach((function(e){var t=e.name,n=e.nameList,i=e.whenName,o=e.whenDevice,a=e.sizes,s=void 0===a?[]:a;ti(o)&&ni({string:r,condition:i,candidates:t?[t]:n})&&s.forEach((function(e){d.add(e)}))})),$n(d).map((function(e){if("fluid"===e)return"fluid";var t,n;if("string"==typeof e){var i=a(e.split("x").map((function(e){return parseInt(e,10)})),2);t=i[0],n=i[1]}else"object"===(0,s.Z)(e)&&(t=e.width,n=e.height);return isNaN(t)||isNaN(n)?null:{width:t,height:n}})).filter((function(e){return null!==e}))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:function(e,t){var n,i=e.rewritePathMethod,r=e.rewritePathData;if("insertBTAdUnit"===i){var o=r||{},a=o.btUnitName,s=o.insertionDepth,d=o.maxDepth;s&&(n=function(e){var t=e.getAdUnitPath();"/"!==t[0]&&(t="/".concat(t));var n=a||"Blockthrough",i=t.split("/");return i.splice(s,0,n),d&&d>0&&(i=i.slice(0,d+1)),i.join("/")})}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGoogletagSlots:{hookName:"scrapeGoogletagSlots",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var o={},a=(n.filterOut||{}).slots,s=(r.filterOut||{}).slots;return(a||s)&&(o.filterOut={},o.filterOut.slots=a&&s?[].concat($n(a),$n(s)):a||s),o},handler:function(e,t){var n=e.dontScrape,i=e.filterOut,r=t.data&&t.data.slot,o=!0;if(n||!r)o=!1;else{var a=i&&i.slots;if(a&&a.length>0)o=!a.some((function(e){var t=e.divId,n=e.divIdList,i=e.whenDivId;return ti(e.whenDevice)&&ni({string:r.getSlotElementId(),condition:i,candidates:t?[t]:n})}))}return o}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:function(e){var t=e.org,n=void 0===t?{}:t,i=e.website,r=void 0===i?{}:i;if(e.websiteOverridesOrg)return r;var o={};o.adUnitsVar=n.adUnitsVar||r.adUnitsVar;var a=(n.parse||{}).removeBidders,s=(r.parse||{}).removeBidders;(a||s)&&(o.parse={},o.parse.removeBidders=a&&s?{forAllAdUnits:[].concat($n(a.forAllAdUnits||[]),$n(s.forAllAdUnits||[])),forAdUnits:[].concat($n(a.forAdUnits||[]),$n(s.forAdUnits||[]))}:a||s);var d=(n.filterOut||{}).adUnits,c=(r.filterOut||{}).adUnits;return(d||c)&&(o.filterOut={},o.filterOut.adUnits=d&&c?[].concat($n(d),$n(c)):d||c),o},handler:function(e,t){var n,i,r=e.dontScrape,o=e.adUnitsVar,a=e.parse,s=e.filterOut;if(r)n=!1;else{if(n=t.hookFileData||{},o&&(n.getAdUnits=function(){return f.Z.commonUtils.extractVariableFromString(window,o)}),a){var d=a.removeBidders?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.forAllAdUnits,n=void 0===t?[]:t,i=e.forAdUnits,r=void 0===i?[]:i;if(n.length>0||r.length>0)return function(e){var t=[];return n.forEach((function(e){var n=e.whenDevice,i=e.bidders,r=void 0===i?[]:i;ti(n)&&t.push.apply(t,r)})),r.forEach((function(n){var i=n.code,r=n.codeList,o=n.whenCode,a=n.whenDevice,s=n.bidders,d=void 0===s?[]:s,c=i?[i]:r;ti(a)&&ni({string:e.code,condition:o,candidates:c})&&t.push.apply(t,d)})),e.bids=e.bids.filter((function(e){var n=e.bidder;return!t.includes(n)})),e}}(a.removeBidders):null,c=n.parseAdUnit;d&&(n.parseAdUnit=c?function(e){return d(c(e))}:d)}if(s){var l=s.adUnits?(i=s.adUnits,function(e){return i.some((function(t){var n=t.code,i=t.codeList,r=t.whenCode;return ti(t.whenDevice)&&ni({string:e.code,condition:r,candidates:n?[n]:i})}))}):null,u=n.filterOutAdUnit;l&&(n.filterOutAdUnit=u?function(e){return u(e)||l(e)}:l)}}return n}}};var si=new bn.Z({prefix:"scriptsettings: "}),di=ai,ci={"enableAmazon":{"_enabled":true,"value":{"amazonConfig":{"amazonCPMChart":{"102dn28":5.85,"109vc3k":1.37,"10ev4sg":2.65,"10juxhc":0.09,"10tuiv4":2.33,"10wcf7k":7.45,"113u48w":1.05,"118twxs":4.25,"11awhs":0.08,"11dtpmo":1.69,"11itibk":2.97,"11ntb0g":0.41,"11xswe8":2.17,"122sp34":3.45,"127shs0":0.89,"12hs35s":1.53,"12k9zi8":6.65,"12mrvuo":2.81,"12rrojk":0.25,"12wrh8g":5.05,"131r9xc":2.49,"13bqvb4":1.21,"13lqgow":1.85,"13ssu8":5.2,"13vq22o":0.57,"145pngg":1.93,"1487jsw":7.05,"14fp8u8":0.65,"14kp1j4":3.85,"14pou80":1.29,"14uomww":2.57,"14zofls":0.01,"159o0zk":2.25,"15jnmdc":0.97,"15tn7r4":1.61,"15yn0g0":2.89,"163mt4w":0.33,"1664phc":5.45,"168mlts":4.65,"16dmeio":2.09,"16nlzwg":0.81,"16xlla8":1.45,"172ldz4":2.73,"1753abk":7.85,"177l6o0":0.17,"17hks1s":2.41,"17rkdfk":1.13,"17u29s0":6.25,"181jytc":1.77,"186jri8":3.05,"18bjk74":0.49,"18lj5kw":2.05,"18slj4":10,"18viqyo":0.77,"195iccg":1.41,"19ai51c":2.69,"19fhxq8":0.13,"19hzu2o":5.25,"19phj40":2.37,"19uhbsw":3.65,"19zh4hs":1.09,"1a9gpvk":1.73,"1abym80":6.85,"1ajgb9c":0.45,"1atfwn4":2.21,"1b3fi0w":0.93,"1b5xedc":6.05,"1bahvk":2.32,"1bdf3eo":1.57,"1biew3k":2.85,"1bneosg":0.29,"1bxea68":2.53,"1bzw6io":7.65,"1c7dvk0":1.25,"1ccdo8w":4.45,"1chdgxs":1.89,"1crd2bk":0.61,"1d1cnpc":1.97,"1d6cge8":3.25,"1dbc934":0.69,"1dlbugw":1.33,"1dntqtc":6.45,"1dqbn5s":2.61,"1dvbfuo":0.05,"1e0b8jk":4.85,"1e5b18g":2.29,"1efamm8":1.01,"1epa800":1.65,"1eua0ow":2.93,"1ez9tds":0.37,"1f99erk":2.13,"1fbrb40":7.25,"1fj905c":0.85,"1fo8su8":4.05,"1ft8lj4":1.49,"1fy8e80":2.77,"1g386ww":0.21,"1gaakg":3.6,"1gd7sao":2.45,"1gn7dog":1.17,"1gx6z28":1.81,"1h76kg0":0.53,"1h9ogsg":5.65,"1hh65ts":2.03,"1hjo268":7.15,"1hr5r7k":0.75,"1hw5jwg":3.95,"1i15clc":1.39,"1i655a8":2.67,"1ib4xz4":0.11,"1il4jcw":2.35,"1iv44qo":1.07,"1j53q4g":1.71,"1ja3itc":2.99,"1jf3bi8":0.43,"1jhl7uo":5.55,"1jk3474":4.75,"1jp2ww0":2.19,"1jz2i9s":0.91,"1k923nk":1.55,"1ke1wcg":2.83,"1kgjsow":7.95,"1kj1p1c":0.27,"1kt1af4":2.51,"1l30vsw":1.23,"1l5is5c":6.35,"1la39c":1.04,"1ld0h6o":1.87,"1li09vk":3.15,"1ln02kg":0.59,"1lwzny8":1.95,"1m6z9c0":0.67,"1mgyups":1.31,"1mlyneo":2.59,"1mqyg3k":0.03,"1mtgcg0":5.15,"1n0y1hc":2.27,"1n5xu68":3.55,"1naxmv4":0.99,"1nkx88w":1.63,"1nnf4lc":6.75,"1npx0xs":2.91,"1nuwtmo":0.35,"1o4wf0g":2.11,"1oew0e8":0.83,"1ohdwqo":5.95,"1oovls0":1.47,"1otvegw":2.75,"1oyv75s":0.19,"1p8usjk":2.43,"1pbcow0":7.55,"1piudxc":1.15,"1pnu6m8":4.35,"1pstzb4":1.79,"1q2tkow":0.51,"1qct62o":2.07,"1qhsyrk":3.35,"1qmsrgg":0.79,"1qwscu8":1.43,"1qza96o":6.55,"1r1s5j4":2.71,"1r6ry80":0.15,"1rbrqww":4.95,"1rgrjls":2.39,"1rqr4zk":1.11,"1s0qqdc":1.75,"1saqbr4":0.47,"1skpx4w":2.23,"1sn7thc":7.35,"1supiio":0.95,"1szpb7k":4.15,"1t4p3wg":1.59,"1t9owlc":2.87,"1teopa8":0.31,"1tooao0":2.55,"1tynw1s":1.27,"1u8nhfk":1.91,"1uin2tc":0.63,"1ul4z5s":5.75,"1unmvi8":4.55,"1usmo74":1.99,"1v2m9kw":0.71,"1v9on4":1.68,"1vcluyo":1.35,"1vhlnnk":2.63,"1vk3k00":7.75,"1vmlgcg":0.07,"1vwl1q8":2.31,"1w6kn40":1.03,"1w92jgg":6.15,"1wgk8hs":1.67,"1wlk16o":2.95,"1wqjtvk":0.39,"1x0jf9c":2.15,"1xaj0n4":0.87,"1xkim0w":1.51,"1xpieps":2.79,"1xrkzk":6.8,"1xui7eo":0.23,"1xx03r4":5.35,"1y4hssg":2.47,"1y9hlhc":3.75,"1yehe68":1.19,"1yogzk0":1.83,"1yqyvwg":6.95,"1yygkxs":0.55,"209hc0":2.96,"259a0w":0.4,"274pa8":26,"2f8veo":2.16,"2p8gsg":0.88,"2rqd4w":6,"2yll34":22,"2z8268":1.52,"347uv4":2.8,"397nk0":0.24,"3j78xs":2.48,"3lp5a8":7.6,"3my3gg":14,"3t6ubk":1.2,"3y6n0g":4.4,"40229s":30,"436fpc":1.84,"4d6134":0.56,"4n5mgw":1.92,"4s5f5s":3.2,"4x57uo":0.64,"4ye60w":16,"559dz4":32,"574t8g":1.28,"59mpkw":6.4,"5c4lxc":2.56,"5m47b4":4.8,"5r4000":2.24,"5vhbls":24,"613lds":0.96,"6b36rk":1.6,"6g2zgg":2.88,"6ikvsw":8,"6l2s5c":0.32,"6rbj0g":20,"6v2dj4":2.08,"6xk9vk":7.2,"751yww":0.8,"7a1rls":4,"7c4cg":2,"7f1kao":1.44,"7k1czk":2.72,"7p15og":0.16,"7z0r28":2.4,"80w6bk":28,"890cg0":1.12,"8hqznk":12,"8izxts":1.76,"8szj7k":0.48,"8vhfk0":5.6,"8xzbwg":4.6,"92z4lc":2.04,"9bprsw":11,"9cypz4":0.76,"9mybcw":1.4,"9otqm8":27,"9ry41s":2.68,"9ug0e8":7.8,"9wxwqo":0.12,"a6xi4g":2.36,"ad68zk":19,"aghs0":34,"agx3i8":1.08,"ajezuo":6.2,"ak1gxs":35,"aqwow0":1.72,"avwhkw":3,"b0wa9s":0.44,"b4n4sg":15,"bavvnk":2.2,"bkvh1c":0.92,"buv2f4":1.56,"bzuv40":2.84,"c2z8jk":31,"c4unsw":0.28,"c7ck5c":5.4,"ce7s3k":23,"ceu96o":2.52,"cju1vk":3.8,"cotukg":1.24,"cytfy8":1.88,"d1bcao":7,"d8t1c0":0.6,"dd6cxs":25,"dismps":1.96,"dss83k":0.68,"dva4g0":5.8,"e09x4w":9,"e2rthc":1.32,"e7rm68":2.6,"ecrev4":0.04,"ekvkzk":33,"emr08w":2.28,"ep8wlc":7.4,"ewqlmo":1,"f1qebk":4.2,"f6q70g":1.64,"f7z56o":17,"fbpzpc":2.92,"fgpse8":0.36,"fqpds0":2.12,"fvp6gw":3.4,"fxklq8":29,"g0oz5s":0.84,"gaokjk":1.48,"gd6gw0":6.6,"geff28":13,"gfod8g":2.76,"gko5xc":0.2,"gpnym8":5,"gunrb4":2.44,"h4ncow":1.16,"hbpq8":0.72,"hemy2o":1.8,"ho02dc":21,"homjgg":0.52,"hym4u8":2.02,"i3lxj4":3.3,"i8lq80":0.74,"iilbls":1.38,"il37y8":6.5,"inl4ao":2.66,"iskwzk":0.1,"ixkpog":4.9,"j2kidc":2.34,"jck3r4":1.06,"jgay9s":14.5,"jmjp4w":1.7,"jrjhts":2.98,"jwjaio":0.42,"k6ivwg":2.18,"k90s8w":7.3,"kgiha8":0.9,"kli9z4":4.1,"kqi2o0":1.54,"kvhvcw":2.82,"kz8pvk":10.5,"l0ho1s":0.26,"lah9fk":2.5,"lkgutc":1.22,"lugg74":1.86,"m0p728":18.5,"m4g1kw":0.58,"m6xxxc":5.7,"m9fu9s":4.5,"mefmyo":1.94,"mof8cg":0.66,"myetq8":1.3,"n3emf4":2.58,"n5wirk":7.7,"n8ef40":0.02,"nh52bk":12.5,"nie0hs":2.26,"nsdlvk":0.98,"nuvi80":6.1,"o2d79c":1.62,"o7czy8":2.9,"occsn4":0.34,"omce0w":2.1,"otu328":8.5,"owbzeo":0.82,"p6bksg":1.46,"pbbdhc":2.74,"pgb668":0.18,"pit2io":5.3,"pqark0":2.42,"pvak8w":3.7,"q0acxs":1.14,"q1jb40":16.5,"qa9ybk":1.78,"qcruo0":6.9,"qk9jpc":0.5,"qu9534":2.06,"r48qgw":0.78,"r6qmtc":5.9,"rbb40":1.36,"re8buo":1.42,"rj84jk":2.7,"ro7x8g":0.14,"rpgveo":15.5,"ry7im8":2.38,"s0peyo":7.5,"s87400":1.1,"sd6wow":4.3,"si6pds":1.74,"ss6ark":0.46,"t25w5c":2.22,"t75ou8":3.5,"tc5hj4":0.94,"tie8e8":19.5,"tm52ww":1.58,"tomz9c":6.7,"tr4vls":2.86,"tw4oao":0.3,"u14gzk":5.1,"u649og":2.54,"ueuww0":11.5,"ug3v28":1.26,"uq3gg0":1.9,"v031ts":0.62,"va2n7k":1.98,"vckjk0":7.1,"vdthq8":13.5,"vk28lc":0.7,"vp21a8":3.9,"vu1tz4":1.34,"vz1mo0":2.62,"w41fcw":0.06,"wb3sw":2.64,"we10qo":2.3,"wo0m4g":1.02,"wy07i8":1.66,"x30074":2.94,"x7zsw0":0.38,"xahp8g":5.5,"xczlkw":4.7,"xhze9s":2.14,"xj8cg0":17.5,"xk1z4":18,"xryznk":0.86,"y1yl1c":1.5,"y6ydq8":2.78,"y9ga2o":7.9,"yby6f4":0.22,"ylxrsw":2.46,"yvxd6o":1.18,"yyf9j4":6.3,"z3f280":9.5,"z5wykg":1.82,"zawr9c":3.1,"zfwjy8":0.54,"zpw5c0":2.01,"zzvqps":0.73}},"keepHbPb":true,"pubID":"3927"}},"hideDOMElementsViaCSS__org":{"_enabled":true,"value":[{"selectors":["#adngin-bottom_adhesive-0-adhesive"],"whenDevice":"any"}]},"prebidConfig__org":{"_enabled":true,"value":{"currency":{"adServerCurrency":"EUR","granularityMultiplier":1,"rates":{"EUR":{"AUD":1.5781,"NZD":1.6649,"USD":1.1304}}},"debug":true,"enableSendAllBids":false,"priceGranularity":"high","syncsPerBidder":20,"userSync":{"iframeEnabled":1}}},"rewriteGAMSlots":{"_enabled":true,"value":{"rewritePathData":{"btUnitName":"Blocktrough","insertionDepth":2},"rewritePathMethod":"insertBTAdUnit"}}},li=Object.entries(ci).reduce((function(e,t){var n=a(t,2),i=n[0],r=n[1];if(r._enabled)if(i.endsWith("__org")){var o=i.split("__org")[0];e[o]=e[o]||{},e[o].org=r.value}else if(i.endsWith("__website")){var s=i.split("__website")[0];e[s]=e[s]||{},e[s].websiteOverridesOrg=!!r._overrides_org,e[s].website=r.value}else e[i]=r.value;return e}),{});var ui={rawSettings:ci,parsed:li},fi=function(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}},hi=function(e){window.addEventListener("scroll",(function(t){e()}))},pi=new bn.Z({prefix:"Hooks: "}),gi=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,i,r,o){var a=t[n];a&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return a.apply(this,t);if(i)try{var n=l.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var s=a.apply(this,t);if(r)try{l.Y.fireEvent(r,s,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return s})},this.hookPropertySetter=function(t,n,i,r,o){var a=t.__lookupGetter__(n),s=t.__lookupSetter__(n);a&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return s.apply(this,t);if(i)try{var n=l.Y.fireEvent(i,t,this);if(null!=n)return n}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}var a=s.apply(this,t);if(r)try{l.Y.fireEvent(r,a,this)}catch(t){if(!o)throw t;if(e.indexOf(t.type)>=0)throw t}return a})),t.__defineGetter__(n,(function(){try{return a.apply(this)}catch(e){pi.errorf(null,"error in `hookPropertySetter` object getter hook: %o",e)}})))},this.addEventListener=function(e,t){l.Y.addEventListener(e,t)}},mi=new bn.Z({prefix:"testCompliance: "}),wi=new function(){this.init=function(){l.Y.addEventListener("onAuctionGroupStarted",(function(e){mi.infof(null,"onAuctionGroupStarted: %o",e)})),l.Y.addEventListener("onAuctionGroupEnded",(function(e){mi.infof(null,"onAuctionGroupEnded: %o",e)})),l.Y.addEventListener("onAuctionStarted",(function(e){mi.infof(null,"onAuctionStarted: %o",e)})),l.Y.addEventListener("onAuctionEnded",(function(e){mi.infof(null,"onAuctionEnded: %o",e)})),l.Y.addEventListener("onPrebiddingStarted",(function(e){mi.infof(null,"onPrebiddingStarted: %o",e)})),l.Y.addEventListener("onPrebiddingEnded",(function(e){mi.infof(null,"onPrebiddingEnded: %o",e)})),l.Y.addEventListener("onPostbiddingStarted",(function(e){mi.infof(null,"onPostbiddingStarted: %o",e)})),l.Y.addEventListener("onPostbiddingEnded",(function(e){mi.infof(null,"onPostbiddingEnded: %o",e)})),l.Y.addEventListener("onAuctionBidResponse",(function(e){mi.infof(null,"onAuctionBidResponse: %o",e)})),l.Y.addEventListener("onNewUnitFound",(function(e){mi.infof(null,"onNewUnitFound: %o",e)}))}};function vi(e,t,n,i,r,o,a){try{var s=e[o](a),d=s.value}catch(e){return void n(e)}s.done?t(d):Promise.resolve(d).then(i,r)}function bi(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){vi(o,i,r,a,s,"next",e)}function s(e){vi(o,i,r,a,s,"throw",e)}a(void 0)}))}}var yi=__webpack_require__(757),_i=__webpack_require__.n(yi),Mi=__webpack_require__(96),Ei=__webpack_require__.n(Mi),Ni=new function(){var e=[],t={},n={};this.set=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=i;Array.isArray(r)||(r=[r]);for(var o=0;o<r.length;o++){var a=r[o],s=!a.deviceType||a.deviceType===ei.yC||a.deviceType===ei.l7();a&&s&&(e.push(a),t[a.name]=t[a.name]||[],t[a.name].push(a),n[a.id]=n[a.id]||[],n[a.id].push(a))}return e},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=function(){return e},this.remove=function(i){e=c.Z.filter(e,(function(e){return e!=i}));var r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);var o=t[i.name].indexOf(i);o>=0&&t[i.name].splice(o,1)}};function Di(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Si(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ti(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ti(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Zi=new bn.Z({prefix:"visibility: "}),ki=new Map,xi=new Map;function Ii(e){var t=e.getBoundingClientRect(),n=function(){var e,t,n=window,i=[];for(;n!==window.top;){var r,o=Si((e=n.parent).document.getElementsByTagName("iframe"));try{for(o.s();!(r=o.n()).done;){var a=r.value;a.contentWindow===n&&(t=a.getBoundingClientRect(),i.push({x:t.x,y:t.y}))}}catch(e){o.e(e)}finally{o.f()}n=e}return i.reduce((function(e,t){return{x:e.x+t.x,y:e.y+t.y}}),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+n.y>0&&t.left+t.width/2+n.x>0&&t.top+t.height/2+n.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+n.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Xi(e)}}function zi(e,t,n){return Bi.apply(this,arguments)}function Bi(){return(Bi=bi(_i().mark((function e(t,n,i){var r;return _i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oi((function(){return Ii(t)?{stopIterations:!1}:{stopIterations:!0}}),10,100);case 2:r=e.sent,f.Z.commonUtils.isElementInBody(t)||i(),r&&n();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oi(e,t,n){return Yi.apply(this,arguments)}function Yi(){return(Yi=bi(_i().mark((function e(t,n,i){var r;return _i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!0);case 2:if(r=t(),!r.stopIterations){e.next=5;break}return e.abrupt("return",!1);case 5:return e.abrupt("return",new Promise((function(e){setTimeout((function(){e(Oi(t,n-1,i))}),i)})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(){ki.forEach((function(e,t){var n=a(e,2);zi(t,n[0],n[1])}))}try{window.top.addEventListener("scroll",(function(){Ri()})),window.top.addEventListener("focus",(function(){Ri()}))}catch(Xe){Xi(Xe)}function Hi(e){var t,n,i,r=e.selector,o=e.id,a=e.element;if(!a)try{if(r)a=document.querySelector(r);else{if(!o)throw new Error("No selector, id, or element provided.");a=document.getElementById(o)}if(!a)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return Zi.warningf(null,"getElementVisibility - selector: `%o`, id: `%o` - error: %o",[r,o,e]),d.Z.consts.elementVisibility.NOT_FOUND}"none"===window.getComputedStyle(a).display&&(n=a.style.getPropertyValue("display"),i=a.style.getPropertyPriority("display"),a.style.setProperty("display","block","important"),t=!0);var s,c=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(a),l=document.documentElement.scrollLeft||window.scrollX,u=document.documentElement.scrollTop||window.scrollY,f=window.innerHeight,h=window.innerWidth,p=a.offsetHeight,g=a.offsetWidth;return s=c.left>=l&&c.top>=u&&g+c.left<=l+h&&p+c.top<=u+f||(c.left<=l&&c.left+g>l||c.left>=l&&c.left<=l+h)&&(c.top<=u&&c.top+p>u||c.top>=u&&c.top<=u+f)?d.Z.consts.elementVisibility.VISIBLE:d.Z.consts.elementVisibility.HIDDEN,t&&a.style.setProperty("display",n,i),s}function Xi(e){var t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Zi.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}var ji=new bn.Z({prefix:"prebidAdapter: "}),Vi=new function(){var e=!1,t={},n={},i=new f.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){i.subscribeForEvent(e,t)},this.dispatch=function(n){try{e||(e=!0,t=d.Z.cpbjs,v(),l.Y.fireEvent("wrapPrebidRequestBids")&&y());var o={};c.Z.forEach(n,(function(e){o[e.spaceName]={hbAdUnit:e,deferred:new c.Z.CDefer}}));var s=function(e){return e.map((function(e){var t=l.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.spaceName})||{},n=t.websiteStoredRequestId,i=t.adUnitStoredRequestId,r=a(e),o=[];e.biddersSettings.forEach((function(e){var t={bidder:e.name,params:e.params};o.push(t)}));var s={code:e.spaceName,bids:o,sizes:r,mediaTypes:{banner:{sizes:r}}};return n&&i&&(s.ortb2Imp={ext:{prebid:{storedrequest:{id:i}}}}),s}))}(n),u=l.Y.fireEvent("prebidTimeout")||3e3;r(),function(e,t){for(var n=function(n){var i=t.find((function(t){return t.code===e[n].spaceName})),r=[];i.bids.forEach((function(e){r.push(e.bidder)}));var o={sendToServer:!0,sendPercentage:5,event:"prebid-size-filtering",meta:{spaceName:e[n].spaceName,auctionId:e[n].auctionId,sizesBeforeFiltering:e[n].sizes,sizesAfterFiltering:i.sizes,biddersNames:r}};ji.infof(null,"logAdUnitSizesPrebid, spaceName -> ",e[n].spaceName,o)},i=0;i<e.length;i++)n(i)}(n,s),t.requestBids({timeout:u,adUnits:s,bidsBackHandler:function(e){try{for(var t in o)if(o.hasOwnProperty(t)){var n=o[t],r=n.hbAdUnit;if(e){var a=e[t],d=[];if(a){var l=c.Z.find(s,(function(e){return e.code===t})).sizes;a.bids=h(a.bids,l),d=p(a.bids,n.hbAdUnit)}var u={auctionId:r.auctionId,bids:d};n.deferred.resolve(u),c.Z.forEach(d,(function(e){var t={auctionId:r.auctionId,bid:e};i.invokeEventCallbacks("bidReceived",t)}))}else{var f={auctionId:r.auctionId,bids:[]};n.deferred.resolve(f)}}}catch(e){ji.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var f=[];for(var g in o)if(o.hasOwnProperty(g)){var m=o[g];f.push(m.deferred.promise)}return f}catch(e){ji.errorf(null,"dispatch: - %o",e)}};var r=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){var e=!!c.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb_org"===e.key})),n=!!c.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb"===e.key}));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var n=t.getConfig().priceGranularity;return"auto"===n?e.pbAg:"dense"===n?e.pbDg:"low"===n?e.pbLg:"medium"===n?e.pbMg:"high"===n?e.pbHg:"custom"===n?e.pbCg:e.pbHg}})}},o=function(e){var t=e.split("x");if(2!==t.length)throw new Error;var n=parseInt(t[0]),i=parseInt(t[1]);if(isNaN(n)||isNaN(i))throw new Error;return{width:n,height:i}},a=function(e){for(var t=[],n=0;n<e.sizes.length;n++){var i=o(e.sizes[n]),r=i.width,a=i.height;t.push({width:r,height:a})}var s=l.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});s&&(t=c.Z.map(t,(function(e){var t=c.Z.find(s,(function(t){return t.size.width===e.width&&t.size.height===e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));var d=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],u=e.element&&e.element.getAttribute("id")||e.spaceName,h=d.find((function(e){return e.getSlotElementId()===u})),p=l.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:h});p&&(t=c.Z.filter(t,(function(e){return!c.Z.find(p,(function(t){return t.width===e.width&&t.height===e.height}))})));var g=f.Z.sizesRemover(e.element,t);return g=c.Z.filter(g,(function(e){return!!e})),g=c.Z.map(g,(function(e){return[e.width,e.height]}))};var s=function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var n=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",n):e.ad=n+e.ad}"amazon"===e.bidder&&(e=function(e){try{var t=JSON.parse(e.adTargeting);for(var n in t.amzniid=e.adId,t)e.adserverTargeting[n]=t[n];e.ad=e.adHtml;try{!d.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){ji.errorf(null,"changeAmazonBid - deleting hb_pb - %o",e)}delete e.adUrl}catch(e){ji.errorf(null,"changeAmazonBid - %o",e)}return e}(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.bidder&&("triplelift"===e.bidder&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=u(t)),e.ad&&e.cpm&&e.ad.replace(/\$\{AUCTION_PRICE\}/g,e.cpm),e.ad&&e.currency&&e.ad.replace(/\$\{AUCTION_CURRENCY\}/g,e.currency)},u=function(e){for(var t=a(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n};function h(e,t){return c.Z.filter(e,(function(e){return c.Z.find(t,(function(t){return e.width===t[0]&&e.height===t[1]}))}))}var p=function(e,i){var r=c.Z.map(e,(function(e){if(e.bidderId=g(e,i),e.bidderId){s(e,i),n[e.adId]=new c.Z.CDefer;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:w(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},o=new Gn.Bid(r,e,Gn.Bid.Types.PREBID,(function(n){var i=n.complianceBidsInAuction.length>0?c.Z.map(n.complianceBidsInAuction,(function(e){return e.rawBid&&e.rawBid})):void 0,r=e.adUnitCode,o=t.getAdserverTargeting(r,i)[r];return""===o.hb_pb&&o.hb_pb_org&&(o.hb_pb=o.hb_pb_org),o=l.Y.fireEvent("customAdserverTargeting",{adServerTargeting:o})||o}),(function(e){try{b(this);var t=e.placement;_(t,this)}catch(e){ji.errorf(null,"renderBid - %o",e)}}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:n[e.adId]}),(function(){return m(this)}));return o}ji.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[i,e])}));return c.Z.reject(r,f.Z.commonUtils.isNil)},g=function(e,t){var n=c.Z.find(t.biddersSettings,(function(t){return t.name===e.bidderCode}));return n?n.id:"s2s"===e.source?"s2s-".concat(e.bidderCode,"-").concat(e.adUnitCode):void 0},m=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("152media"!==e.bidderCode&&"brealtime"!==e.bidderCode&&"districtm"!==e.bidderCode&&"defymedia"!==e.bidderCode&&"appnexusAst"!==e.bidderCode||(t.provider="appnexus"),"ix"===e.bidderCode&&(t.provider="indexExchange"),"underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var o=i.hdbd_data.hbbids[r];o.cpm>n&&(n=o.cpm,t.markup=o.creative_data.creative)}}catch(e){ji.errorf(null,'innerMakeEntryForTestCompliance - handling "komoona" bid - %o',e)}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t},w=function(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:e.c?String(e.c):e.adid&&"0"!==e.adid?String(e.adid):e.crid&&"0"!==e.crid?String(e.crid):e.creativeId&&"0"!==e.creativeId?String(e.creativeId):e.creative_id&&"0"!==e.creative_id?String(e.creative_id):null},v=function(){t.onEvent("bidWon",(function(e){n[e.adId].resolve()}))},b=function(e){var t=e.rawBid;t&&t.bidder&&(l.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),l.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},y=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,o=0;o<r.length;o++)n.push(r[o].code);if(i.invokeEventCallbacks("refresh",n),!l.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}},_=function(e,n){var i=E(),r=i.container,o=i.iframe;o.addEventListener("load",(function e(){try{o.removeEventListener("load",e);var i=d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame;o.style.setProperty("visibility",""),i||(o.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var r=!i&&o.contentWindow.document,a=ei.Xh();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===a&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(i){o.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var e=r.styleSheets,t=0;t<e.length;t++)e[t].cssText&&e[t].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(e[t].cssText="")}catch(e){ji.errorf(null,"innerRenderBid - `onLoad` Edge browser patch - %o",e)}}),3e3)),window.setTimeout((function(){var e="edge"===a||"ie"===a;if(e||M(n,o,i),i){var s='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';o.contentWindow.postMessage({type:"eval",code:s},"*")}else t.renderAd(r,n.adId);e&&M(n,o,i)}),0),o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(e){ji.errorf(null,"renderBid - %o",e)}})),e.insertBefore(r,e.children[0])};function M(e,t,n){if(!1!==e.isBackupCreative)if(n)t.contentWindow.postMessage({type:"eval",code:d.Z.backupCreativeScriptForPostMessage},"*");else try{t.contentWindow.eval(atob(d.Z.backupCreativeScript))}catch(e){ji.errorf(null,"evalBackupCreativeScript: - %o",e)}}var E=function(){var e=document.createElement("div");e.className="ahover";var t=Wn.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}}},Wi=new function(){var e=!1,t=new f.Z.SubscriptionLayer;function n(e,t){if(e===Wi.Types.PREBID)return Vi.dispatch(t)}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e&&(e=!1),e=!0,Vi.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Vi.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)}));var r=[],o={};for(var a in c.Z.forEach(i,(function(e){var t={hbAdUnit:e,promises:[]};r.push(t);var n=e.biddingSettings;for(var i in n)if(i=parseInt(i),n.hasOwnProperty(i)){var a=n[i];if(a&&a.length>0){o[i]=o[i]||[];var s={biddersSettings:a,auctionId:e.auctionId,spaceName:e.spaceName,sizes:e.sizes,selector:e.selector,element:e.element};o[i].push(s)}}})),o)if(a=parseInt(a),o.hasOwnProperty(a)){var s=o[a],d=n(a,s);c.Z.forEach(d,(function(e,t){c.Z.find(r,(function(e){return e.hbAdUnit.auctionId===s[t].auctionId})).promises.push(e)}))}return c.Z.map(r,(function(e){return Promise.all(e.promises).then((function(t){var n=c.Z.map(t,(function(e){return e.bids}));return{auctionId:e.hbAdUnit.auctionId,bids:c.Z.flat(n)}}))}))}};Wi.Types={UNKNOWN:0,PREBID:1,RTK:2};var Ci=new bn.Z({prefix:"dfpAdapter: "}),Fi=new function(){var e=!1,t={},n={},i={},r=[],o=[],a=new f.Z.SubscriptionLayer,s={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,V())},this.dispatch=function(e){try{this.init();var r=[];return l.Y.fireEvent("onBeforeDfpRefreshDispatch"),l.Y.fireEvent("tryDisableGoogletagLazyLoad")&&u(),c.Z.forEach(e,(function(e){var i=new c.Z.CDefer;r.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};var o=new c.Z.CDefer;n[e.slotElementId]=o})),window.googletag.cmd.push((function(){try{Ci.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];c.Z.forEach(t,(function(t){c.Z.forEach(e,(function(e,r){var o=t.getSlotElementId();if(o===e.slotElementId){n.push(t);var a=y(16,24);if(i[a]=o,t.setTargeting("uponitSlotIterationId",a),l.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),m(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),w(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var s=window.uponit.modifiers.dfpTargeting,d=0;d<s.length;d++){var c=t.getTargetingMap(),u={};for(var f in c)u[f]=c[f];var h=null;!e||null==e.floorPrice&&null==e.floorPrice||(h=e.floorPrice);var p=s[d](u,t,h);if(p)for(var g in p)c[g]&&c[g]===p[g]||t.setTargeting(g,p[g])}}catch(e){Ci.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),Ci.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",g(n)),h(n);var r=googletag.pubads().isSRA()&&(s=0,n.forEach((function(e){var t=e.getTargetingMap();Object.entries(t).forEach((function(e){var t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;s+=t+n}))})),s>=6e3);if(l.Y.fireEvent("forceNotSingleRequestRefresh")||r)for(var o=function(){var e=n[a];setTimeout((function(){window.googletag.pubads().refresh([e],void 0,!0)}),0)},a=0;a<n.length;a++)o();else setTimeout((function(){window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){Ci.errorf(null,"dispatch: %o",e)}var s})),r}catch(e){Ci.criticalf(null,"google cmd function failed: %o",e)}};var u=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},h=function(e){c.Z.forEach(e,(function(e){e.setTargeting("upstdfp",!0)}))},p=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){Ci.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},g=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:p(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){Ci.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},m=function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=e.getTargetingKeys(),o=0;o<r.length;o++){var a=r[o];i.test(a)&&e.clearTargeting(a)}},w=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}},v=function(e){if(!e)return!1;var t=l.Y.fireEvent("isPrebidResponse",{str:e});if(null!=t)return t;if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return!0;if(/apstag\.renderImp\(document,/gm.test(e))return!0;if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e))return!0;return!!/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e)||e.indexOf("districtm_adslot = ")>-1},b=function(e,t,n,i){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var r=l.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:i,googleSlot:t});if(r&&(e=r),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var o=0;o<n.length;o++){var a=n[o];if("fluid"!=a&&a.getWidth()>=120){e._width_=parseInt(a.getWidth()),e._height_=parseInt(a.getHeight());break}}};function _(e){switch(e){case Gn.Bid.Types.ADX:return"gad";case Gn.Bid.Types.ADX_TEXT:return"gad_text";case Gn.Bid.Types.DIRECT:return"gad_dfp_direct"}}var M=function(e,t){switch(e){case Gn.Bid.Types.ADSENSE:case Gn.Bid.Types.ADX:case Gn.Bid.Types.ADX_TEXT:return t.adxBidderId;case Gn.Bid.Types.DIRECT:return t.directBidderId}},E=function(e,t){try{try{if(t._adgroup2_ids_&&Array.isArray(t._adgroup2_ids_)&&t._adgroup2_ids_.length>1||t._creative_ids_&&Array.isArray(t._creative_ids_)&&t._creative_ids_.length>1){var n={sendToServer:!0,sendPercentage:5,event:"multiple-creative-and-line-item-ids",meta:{creativeId:t._creative_ids_,lineItemID:t._adgroup2_ids_,provider:_(e),width:t._width_,height:t._height_}};Ci.infof(null,"multiple creative and line item IDs -> ",n,n)}}catch(e){Ci.errorf(null,"log multiple-creative-and-line-item-ids: %o",e)}if(e==Gn.Bid.Types.DIRECT&&t._adgroup2_ids_&&t._adgroup2_ids_[0]&&t._creative_ids_&&t._creative_ids_[0])return t._adgroup2_ids_[0].toString()+"_"+t._creative_ids_[0].toString()}catch(e){Ci.errorf(null,"getCreativeId: %o",e)}};function N(e){var n=t[e],i={auctionId:n.asAdUnit.auctionId,bids:[]};n.deferred.resolve(i)}var D=function(e,t){r.push(t),e._html_=l.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},S=function(e){var t=e.getSlotElementId(),n=f.Z.commonUtils.escapeSelector("#"+t),i=document.querySelector(n+' [id^="google_ads_iframe_"]');return i=l.Y.fireEvent("customInnerContainer",{googleSlot:e})||i},T=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},Z=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},k=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],o=t[r.getSlotElementId()].asAdUnit;if(o&&o.params&&o.params.queryParams)for(var a in o.params.queryParams)if(o.params.queryParams.hasOwnProperty(a)){var s=o.params.queryParams[a];n[a]=s}}return n}catch(e){Ci.errorf(null,"getSlotsQueryParams: %o",e)}};var x=function(e,i,r,s){try{var d=c.Z.map(i,(function(e,t){if(r.indexOf(t)>-1)return i[t]}));return function(e,i){try{if(e){for(var r={},s=[],d=0;d<e.length;d++){var l=e[d].response.parsedData,u=e[d].response.rawResponse,f=e[d].slot;if(f){var h=i[d],p=f.getSlotElementId(),g=new c.Z.CDefer;r[p]=g,s.push(g.promise);var m=t[p],w=S(f);if(!l||l&&!l._html_||l&&l._empty_)r[p].resolve({injectToDom:!1}),N(p);else{b(l,f,h,w),v(l._html_)&&D(l,p);var y=(B=f,O=void 0,O=(z=l)._html_,z._empty_?Gn.Bid.Types.EMPTY:v(O)?Gn.Bid.Types.DFP_PREBID:z._is_afc_?"text"===k([B]).ad_type?Gn.Bid.Types.ADX_TEXT:Gn.Bid.Types.ADX:O.indexOf("js/adsbygoogle.js")>-1||O.indexOf("pagead/show_ads.js")>-1?Gn.Bid.Types.ADSENSE:Gn.Bid.Types.DIRECT),T={ad:l._html_,adId:null,bidder:_(y),bidderId:M(y,m.asAdUnit.params),bidderCode:_(y),creativeId:E(y,l),width:l._width_,height:l._height_,cpm:m.asAdUnit.floorPrice+.01},Z=new Gn.Bid(T,u,y,void 0,function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!0,injectBackupCreative:this.isBackupCreative})}}(p),function(e){return function(){var t=r[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(p),function(e){return function(t){n[e].promise.then((function(){t()}))}}(p),function(e){return function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),lineItemID:e._adgroup2_ids_&&e._adgroup2_ids_[0],creativeID:e._creative_ids_&&e._creative_ids_[0],markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}}}(l)),x={auctionId:m.asAdUnit.auctionId,bids:[Z]};m.deferred.resolve(x);var I={auctionId:m.asAdUnit.auctionId,bid:Z};a.invokeEventCallbacks("bidReceived",I)}}else s.push(Promise.resolve({injectToDom:!1}))}return Promise.all(s).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){var i=e[n],r=this.responsesWithSlots[n].response,a=r.parsedData,s=this.responsesWithSlots[n].slot,d=s&&s.getSlotElementId();i&&!i.injectToDom&&(d&&o.push(d),a._html_="",a._empty_=!0,a._width_=1,a._height_=1),r.injectBackupCreative=i.injectBackupCreative,t.push(r)}return t}catch(e){Ci.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:s}))}}catch(e){Ci.errorf(null,"handleDfpBidResponses: %o",e)}var z,B,O}(c.Z.map(e,(function(e,t){return{slot:d[t],response:e}})),s)}catch(e){Ci.errorf(null,"invokeMiddleware: %o",e)}},I=function(e,t,n,i){return Ci.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[g(t),n]),new Promise((function(r,o){try{if(""===e.responseText)return t.forEach((function(e){return N(e.getSlotElementId())})),void r();var a=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var o=window.JSON.parse(r)}catch(e){Ci.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var a=Object.keys(o)[0],d=o[a],c={adUnitPath:a,rawResponse:d,parsedData:{}};try{for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];void 0!==d[u]&&null!==d[u]&&(c.parsedData[l]=d[u])}}catch(e){Ci.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(c)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(e.responseText);x(a,t,n,i).then((function(t){!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.injectBackupCreative){var i=n.parsedData,r=i._html_,o="<\/script>";i._html_=r.substr(0,r.indexOf(o)+o.length)+atob(d.Z.backupCreativeScript)+r.substr(r.indexOf(o)+o.length)}}}(t);var n=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,o=r._html_;delete r._html_;var a=i.rawResponse,d={};try{for(var c in s)if(s.hasOwnProperty(c)){var l=s[c];1==r[c]?a[l]=1:0==r[c]?a[l]=0:a[l]=r[c]}d[i.adUnitPath]=a}catch(e){Ci.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(d)+"\n"+o+"\n"}catch(e){Ci.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(n,e),r()}))}catch(e){Ci.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},z=function(e){var t="sz",n=f.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=f.Z.commonUtils.extractQueryParamFromUrl(t,e)),n){var i=n.split(",");return i=c.Z.map(i,(function(e){return e.split("|")})),i=c.Z.map(i,(function(e,t){return c.Z.map(e,(function(e){var t=e.split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}))}))}},B={width:320,height:50};function O(e,t,n){return!("fluid"!==e||!n)||t.some((function(t){return t.width===e.width&&t.height===e.height}))}function Y(e){var t=f.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){var n=t.split(",");return n=n.map((function(e){return isNaN(e)?e:parseInt(e)}))}}var R=function(e,n,i){var r;if(e)try{var o;if(e.indexOf("&sz=")>-1)o="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;o="prev_iu_szs"}var a=z(e);if(!a)return;var s=a.length;r=c.Z.filter(a,(function(e,t){return i.indexOf(t)>-1}));var d=(Y(e)||Array(s).fill(0)).filter((function(e,t){return i.includes(t)})),u=[],h=[];!function(){var t=l.Y.fireEvent("removeSizesDfpConfig");if(t){var i=t.forAll||[];r=c.Z.map(r,(function(r,o){var a=n[o].getSlotElementId(),s=(t[a]||[]).concat(i);return s=c.Z.map(s,(function(t){if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:B.width,height:B.height}}return t})),c.Z.filter(r,(function(e){return!c.Z.find(s,(function(t){return t.width==e.width&&t.height==e.height}))}))}))}}(),r=c.Z.map(r,(function(e,i){var r=n[i],o=r.getSlotElementId(),a=t[o].asAdUnit.spaceName,s=d[i],u=l.Y.fireEvent("sizesToRemoveBySpace",{spaceName:a,slot:r});return u?(u.includes("fluid")&&s&&(d[i]=0),c.Z.filter(e,(function(e){return!c.Z.find(u,(function(t){return"fluid"===t?B.width==e.width&&B.height==e.height:t.width===e.width&&t.height===e.height}))}))):e}));try{c.Z.forEach(r,(function(e,i){var r=n[i].getSlotElementId(),o=t[r].asAdUnit,a=d[i],s=l.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:o});if(!s)return e;c.Z.forEach(s,(function(t){O(t,e,a)||("fluid"===t?(O(B,e,a)||e.push({width:B.width,height:B.height}),d[i]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){Ci.errorf(null,"sizesToAddBySpace error - %o",e)}c.Z.forEach(r,(function(e,t){var i=n[t].getSlotElementId(),r=document.getElementById(i),o=f.Z.sizesRemover(r,e);0==(o=c.Z.filter(o,(function(e){return!!e}))).length&&(o=[{width:2,height:3}]),u.push(o);var a,s=(a=o,c.Z.map(a,(function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==B.width&&e.height==B.height&&(t="fluid"),t})));h.push(s)}));var p,g=0,m=c.Z.map(a,(function(e,t){if(i.indexOf(t)<0)return e;var n=u[g];return g++,n}));return p=c.Z.map(m,(function(e){return c.Z.map(e,(function(e){return e.width+"x"+e.height}))})),p=(p=c.Z.map(p,(function(e){return e.join("|")}))).join(","),{url:e=function(e,t){var n=!!Y(e),i=t.join(",");return n?T(e,"fluid",i):"".concat(e,"&fluid=").concat(encodeURIComponent(i))}(e=T(e,o,p),d),modifiedSizes:h}}catch(t){return Ci.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:c.Z.map(n,(function(e){return e.getSizes()}))}}},H=function(){gi.addEventListener(gi.Types.XHR_OPEN_PRE,(function(e){try{var n=e.data;if(X(n[1])){var r=n[1],o=function(e){var t=[],n=f.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=f.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var r=n.split("|"),o=0;o<r.length;o++){var a=r[o],s=Z("uponitSlotIterationId",a);i[s]&&t.push(i[s])}return t}}(n[1]),a=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<e.length;o++){var a=e[o];r.getSlotElementId()==a&&t.push(r)}return t}(o),s=function(e){var t=[],n=f.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=f.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,r=f.Z.commonUtils.extractQueryParamFromUrl("csp",e);r&&(i=Z("upstdfp",r),Ci.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var o=n.split("|"),a=0;a<o.length;a++){var s=o[a];(i||Z("upstdfp",s))&&t.push(a)}return t}}(n[1]);v=a,c.Z.forEach(v,(function(e){e.clearTargeting("upstdfp")})),n[1]=f.Z.addAcceptableParam(n[1]),n[1]=function(e,t){var n=k(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(n[1],a);var d=R(n[1],a,s);n[1]=d.url;var u=d.modifiedSizes;!function(e,n,i,r){for(var o=0;o<e.length;o++){for(var a=e[o],s=t[n[a]],d=[],c=0;c<i[a].length;c++)i[a][c]&&(i[a][c].width&&i[a][c].height?d.push([i[a][c].width,i[a][c].height]):"fluid"===i[a][c]&&d.push("fluid"));for(var l=[],u=0;u<r[a].length;u++)r[a][u]&&(r[a][u].getWidth&&r[a][u].getHeight?l.push([r[a][u].getWidth(),r[a][u].getHeight()]):"fluid"===r[a][u]&&l.push("fluid"));var f={sendToServer:!0,sendPercentage:5,event:"dfp-size-filtering",meta:{spaceName:s.asAdUnit.spaceName,auctionId:s.asAdUnit.auctionId,sizesBeforeFiltering:d,sizesAfterFiltering:l}};Ci.infof(null,"logAdUnitSizesDfp, spaceName -> ",s.asAdUnit.spaceName,f)}}(s,o,z(r),u),n[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=f.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var r=i.split(","),o=0;o<r.length;o++){var a=r[o];n.indexOf(a)<0&&t.push(a)}return T(e,"eid",t.join(","))}(n[1]),l.Y.fireEvent("onBeforeDfpAdsRequest",{url:n[1]}),Ci.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[n[1],g(a),s]);var h=null,p=null,m=this,w=!1;this.onload=function(){try{if(!h||w)return;w=!0,I(m,a,s,u).then((function(){h.call(m)}))}catch(e){Ci.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!p||w)return;4===this.readyState&&(200===this.status?(w=!0,I(m,a,s,u).then((function(){p.call(m,e)}))):Ci.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]))}catch(e){Ci.criticalf(null,"onReadyStateChangeError, err %o",e)}},this.__defineGetter__("onload",(function(){return h})),this.__defineSetter__("onload",(function(e){return h=e,e})),this.__defineGetter__("onreadystatechange",(function(){return p})),this.__defineSetter__("onreadystatechange",(function(e){return p=e,e}))}}catch(e){Ci.errorf(null,"addListenersOnHooks: %o",e)}var v}))},X=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){a.subscribeForEvent(e,t)};var j=function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,i=t.getSlotElementId(),a=S(t),s=a&&a.querySelector("iframe");if(o.indexOf(i)>=0)o.splice(o.indexOf(i),1);else{var d=n[i];if(d&&"unresolved"==d.fate&&d.resolve(),function(e){setTimeout((function(){var t=e.getSlotElementId(),n=document.getElementById(t),i=S(e);if(!(i&&i.querySelector("iframe")&&i&&f.Z.commonUtils.isElementInBody(n)&&n)){var r={sendToServer:!0,sendPercentage:5,event:"creative-removed",meta:{creativeId:t}};Ci.infof(null,"removed creative id -> ",r,r)}}),1e3)}(t),s)if(r.indexOf(i)>-1){r.splice(r.indexOf(i),1);try{a.style.width="1px",a.style.height="1px",s.width="1",s.height="1"}catch(e){Ci.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===s.width)s.style.setProperty("width","max-content","important");else{var c=s.width;s.style.setProperty("width",c+"px","important")}}}))};var V=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;l.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();Ci.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&g(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],o=0;o<t.length;o++)try{var s=t[o].getSlotElementId();s&&r.push(s)}catch(e){Ci.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}a.invokeEventCallbacks("refresh",r)}),j(),H(window)}))}},Ui=new function(){var e=!1,t=new f.Z.SubscriptionLayer;function n(e,t){switch(e){case Ui.Types.DFP:return Fi.dispatch(t);case Ui.Types.SMART_AS:}}this.subscribeForEvent=function(e,n){t.subscribeForEvent(e,n)},this.dispatch=function(i){e||(e=!0,Fi.subscribeForEvent("refresh",(function(e){t.invokeEventCallbacks("refresh",e)})),Fi.subscribeForEvent("bidReceived",(function(e){t.invokeEventCallbacks("bidReceived",e)})));var r=[];c.Z.forEach(i,(function(e){r.push({asAdUnit:e,promise:void 0})}));for(var o={},a=0;a<i.length;a++){var s=i[a];o[s.type]=o[s.type]||[],o[s.type].push(s)}for(var d in o)if(d=parseInt(d),o.hasOwnProperty(d)){var l=o[d],u=n(d,l);c.Z.forEach(u,(function(e,t){var n=l[t];c.Z.find(r,(function(e){return e.asAdUnit==n})).promise=e}))}return c.Z.map(r,(function(e){return e.promise}))}};Ui.Types={UNKNOWN:0,DFP:1,SMART_AS:2};var Ai=new bn.Z({prefix:"testCompliance: "});var Li=!1;try{Li=window.location.href&&window.location.href.indexOf("bt_tc=false")>=0||"false"===localStorage.getItem("bt_tc")}catch(Xe){Ai.errorf(null,"testComplianceDisabled: %o",Xe)}function Gi(e,t){return f.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function Pi(e,t,n,i){var r={sendToServer:!0,sendPercentage:5,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};Ai.noticef(null,e,n,r)}function Ki(e,t){var n=d.Z.consts.complianceStatus.UNKNOWN,i=l.Y.fireEvent("customComplianceCheck",{bid:e});return Li?(n=d.Z.consts.complianceStatus.COMPLIANT,Ai.debugf(null,"compliance is disabled for the current bid: ",e)):i?(n=i,Pi("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):Gi(t,e)?(n=d.Z.consts.complianceStatus.INCOMPLIANT,Pi("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")):!function(e){var t=e.ad,n=e.type;return!![[".rhurl",".rhbodyurl"],[".rhurl","rh-image"],[".rhurl","rh-title"],[".rhurl",".rhbutton"],[".image-link","call-to-action-link"],[".image-link",".attribution"],[".image-link",".attribution"],[".rhprice",".rhsaleprice","gstatic.com/shopping"],[".grid-link-container",".grid-link"],[".rhsimpleprice",".rh-box-image","gstatic.com/shopping"],[".product-image",".product-container","gstatic.com/shopping"],["logoMCImageWidth","-webkit-animation"],["productBannerSlot","logoBackColorDerived"],["js/adsbygoogle.js",'data-ad-format="link"'],["js/adsbygoogle.js",'data-ad-type="text"']].some((function(e){return f.Z.commonUtils.matchStringsOnString(e,t)}))||!(!t.includes("googletag.pubads().definePassback(")||n!=Gn.Bid.Types.ADX)}(e)?function(e){switch(e.bidderCode){case"adyoulike":case"lockerdome":case"sharethrough":return!0}return!1}(e)&&(n=d.Z.consts.complianceStatus.COMPLIANT,Pi("compliant bidder: ",t.auctionId,e,"compliant_bidder")):(n=d.Z.consts.complianceStatus.COMPLIANT,Pi("compliant based on HTML: ",t.auctionId,e,"compliant_based_on_HTML")),n}function Ji(e){var t,n={},i={},r=d.Z.SharedObject.getItem("websiteConfig"),o=r.websiteID,a=r.organizationID,s={};if(c.Z.forEach(e,(function(e){var t=e.auction,r=e.bids;s[t.auctionId]=s[t.auctionId]||{};for(var o=0;o<r.length;o++){var a=r[o],c=Ki(a,t);if(c==d.Z.consts.complianceStatus.UNKNOWN){s[t.auctionId][a.bidId]={bid:a,result:{}};var l=a.makeEntryForTestCompliance();l.auctionID=t.auctionId,l.spaceExternalID=t.unit.space.id,l.spaceName=t.unit.space.name,l.refreshDepth=t.unit.countOfDispatches-1;var u=parseFloat(a.cpm);l.cpm=isNaN(u)?0:u,Qi(l);var f=y(5,8);n[f]=l,i[f]=a}else s[t.auctionId][a.bidId]={bid:a,result:{status:c,backup:!1}}}})),Object.keys(n).length<=0){for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];for(var f in u)if(u.hasOwnProperty(f)){var h=u[f];s[l][f]=h.result}}return Promise.resolve(s)}try{t=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){t={locale:void 0,timeZone:void 0}}var p={domain:window.location.host,websiteID:o,orgID:a,bids:n,locale:t.locale,timezone:t.timeZone,pageURL:window.location.href};return Dn.testCompliance(p).then((function(e){for(var t in e)if(e.hasOwnProperty(t)){var r=n[t].auctionID,o=s[r][i[t].bidId];o.result.status=e[t].status,o.result.bidContentIdHash=e[t].id,o.result.backup=e[t].backup}for(var a in s)if(s.hasOwnProperty(a)){var d=s[a];for(var c in d)if(d.hasOwnProperty(c)){var l=d[c];s[a][c]=l.result}}return s}))}function Qi(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){Ai.errorf(null,"generalEntryFix: %o",e)}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}Ai.debugf(null,"test Compliance disabled? ",Li);var qi=["ad","adId","bidderId","bidder","bidderCode","currency","creativeId","cpm","height","size","width"],$i=new bn.Z({prefix:"dispatch: ",level:bn.z.INFO}),er=new function(){var e=new f.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};var t=function(e){return c.Z.filter(e,(function(e){return e.cpm>=.01}))};this.dispatchHB=function(e){try{var n={},i=[],r=[];c.Z.forEach(e,(function(e){var t=new c.Z.CDefer;n[e.auctionId]=t,i.push(t.promise);var o=e.unit.space.preBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};t.resolve(a)}}));var o=c.Z.map(r,(function(e){var t=e.unit.space.preBiddingSettings.biddingSettings;return{auctionId:e.auctionId,biddingSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),a=Wi.dispatch(o);return Promise.all(a).then((function(e){try{for(var i=[],o=0;o<e.length;o++){var a=e[o],s=a.auctionId,d=c.Z.find(r,(function(e){return e.auctionId==s})),u=a.bids;u=l.Y.fireEvent("passZeroCpmBidsFilter")?u:t(u);var f=l.Y.fireEvent("filterPrebidBids");if(f)u=f(c.Z.map(u,(function(e){return{bid:e,rawBid:e.rawBid}})));d.addBids(u),a.bids=u,i.push({auction:d,bids:u})}Ji(i).then((function(t){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=c.Z.find(e,(function(e){return e.auctionId==i})),a=o.bids;for(var s in r)if(r.hasOwnProperty(s)){var d=r[s],l=c.Z.find(a,(function(e){return e.bidId==s}));l.contentIdHash=d.bidContentIdHash,l.complianceStatus=d.status,l.isBackupCreative=d.backup}n[i].resolve(o)}}))}catch(e){$i.errorf(null,"error testing Prebid bid compliance: %o",e)}})),i}catch(e){$i.errorf(null,"error in `dispatchHB`: %o",e)}},this.dispatchAS=function(e){try{var t={},i=[],r=[];c.Z.forEach(e,(function(e){var n=new c.Z.CDefer;t[e.auctionId]=n,i.push(n.promise);var o=e.unit.space.postBiddingSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};n.resolve(a)}}));var o=n(r,0);return c.Z.forEach(o,(function(n){n.then((function(n){var i=n.auctionId;e.find((function(e){return e.auctionId==i})).addBids(n.bids),t[i].resolve(n)}))})),i}catch(e){$i.errorf(null,"error in `dispatchAS`: %o",e)}};var n=function e(t,n){try{var r={},o=[];c.Z.forEach(t,(function(e){var t=new c.Z.CDefer;o.push(t.promise),r[e.auctionId]={auction:e,deferred:t}}));var a=[];if(c.Z.forEach(t,(function(e){e.unit.space.postBiddingSettings.order[n]?a.push(e):r[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})})),!a)return;var s=c.Z.map(a,(function(e){var t=e.unit.space.postBiddingSettings,r=e.getWinningBid(),o=r?r.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:i(e,t.order[n]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:o,type:t.type}})),l=Ui.dispatch(s);return c.Z.forEach(l,(function(t){t.then((function(t){try{var i=t.auctionId,o=t.bids[0],l=c.Z.find(a,(function(e){return e.auctionId==i})),u=c.Z.find(s,(function(e){return e.auctionId==i})),h=l.getWinningBid();if(!o){e([l],n+1)[0].then((function(e){r[i].deferred.resolve(e)}));try{if(h){h.ad,h.adId,h.bidderId,h.bidder,h.bidderCode,h.currency,h.creativeId,h.cpm,h.height,h.size,h.width;var p=Di(h,qi),g={sendToServer:!0,event:"winButNoAACreative",meta:{auctionID:u.auctionId,winningBidData:p,spaceID:l.unit.space.id}};$i.infof(null,"logWinButNoAACreative, auction ID -> ",u.auctionId||"N/A",g)}}catch(e){$i.errorf(null,'error checking for "winButNoAACreative": %o',e)}return}if(o.type==Gn.Bid.Types.DFP_PREBID)return h.additionalBidsToRender.push(o),o.complianceStatus=d.Z.consts.complianceStatus.COMPLIANT,void r[i].deferred.resolve({auctionId:i,bids:[]});if(!(o.type!=Gn.Bid.Types.ADX_TEXT||u.params.adxShouldTestCompliance||Gi(l,o)||function(e){return e.type==Un.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((function(t){return f.Z.commonUtils.matchStringsOnString(t,e.ad)}))}(o))){o.complianceStatus=d.Z.consts.complianceStatus.COMPLIANT,r[i].deferred.resolve(t);var m={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:i,bidderID:o.bidderId}};return void $i.noticef(null,"gam text ad: ",o,m)}Ji([{auction:l,bids:[o]}]).then((function(a){if(o.contentIdHash=a[i][o.bidId].bidContentIdHash,o.complianceStatus=a[i][o.bidId].status,o.isBackupCreative=a[i][o.bidId].backup,o.complianceStatus!=d.Z.consts.complianceStatus.COMPLIANT)return o.cancelBid(),void e([l],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}));r[i].deferred.resolve(t)})).catch((function(t){o.cancelBid(),e([l],n+1)[0].then((function(e){e.bids.push(o),r[i].deferred.resolve(e)}))}))}catch(e){$i.errorf(null,"error handling auction responses from AS: %o",e)}}))})),o}catch(e){$i.errorf(null,"error in `innerInvokePostbid`: %o",e)}},i=function(e,t){if(e.unit.space.postBiddingSettings.type===Ui.Types.DFP)return o(e,t)},r={},o=function(e,t){var n={},i=function(e,t){var n=e.getWinningBid(),i=e.getComplianceBids(),o=a(n,e.unit),s=n?n.getGPTTargeting({complianceBidsInAuction:i}):{},d=c.Z.objectAssign({},o||{},s,t.keyValues||{}),l=r[e.unit.unitID]?Object.keys(r[e.unit.unitID]).map((function(e){return new RegExp(e)})):[];return l.push.apply(l,$n(["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source","amznbid","amzniid","amznp","amznsz"].map((function(e){return new RegExp("".concat(e,".*"))})))),r[e.unit.unitID]=d,{toAdd:d,toRemove:l}}(e,t);return n.keyValuesParams=i,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},a=function(e,t){var n={up_bidder:!0};if(e&&e.bidder)if("s2s"===e.rawBid.source)n.up_bidder="bt_exchange";else if("relay"===e.bidder)n.up_bidder="bt_server";else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","amazon","andbeyond","aol","appnexus","appnexusAst","arteebee","atomx","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickforce","clickonometrics","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtm","districtmDMX","e-planning","emx_digital","emxdigital","engagebdr","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamma","gamoshi","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","indexExchange","IndexExchange","inneractive","innity","inskin","insticator","invibes","iqm","ix","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","nobid","oftmedia","onemobile","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandadk","rtbdemandBidder","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","soloway","somoAudience","sonobi","sortable","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","upo","upo1","upo10","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yahoossp","yieldbot","yieldlab","yieldmo","yieldone"].indexOf(e.bidder)>-1)n.up_bidder=e.bidder;else{var i={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode}};$i.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,i)}var r=window.location.hostname;0===r.indexOf("www.")&&(r=r.replace("www.",""));var o=r;o=o.match(/(co\.il|co\.uk|org\.il)/)?o.replace("www.","").split(".").splice(-3).join("."):o.replace("www.","").split(".").splice(-2).join("."),n.up_recovery="true";var a=ei.Xh(),s=ei.Uh(),c=ei.Jv();n.up_browser=a,n.up_device=s,n.up_platform=c,n.up_domain=r,n.up_website=o,n.up_website_id=d.Z.SharedObject.getItem("websiteConfig").websiteID;var l=t.countOfDispatches-1;return n.up_refresh=l>30?"30":"".concat(l),n};Ui.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Ui.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),Wi.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Wi.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},tr=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){return e.find((function(e){return e.element===t}))},this.getAll=function(){return e},this.purgeUnitsWithNoElementOnPage=function(){e=e.filter((function(e){return f.Z.commonUtils.isElementInBody(e.element)}))}},nr=["space"];function ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}var rr=new bn.Z({prefix:"refresh: "}),or=new function(){this.initialize=function(a){var s=a.invokeSpaces,u=function(i){var a=i.invokeSpaces;function s(){if(document.hasFocus()){if(0!==t.size){var i=new Map;if(t.forEach((function(n,r){var o,a,s=Hi({selector:r.selector.value});s===d.Z.consts.elementVisibility.VISIBLE?(o=n.skipComplianceCheck||Date.now()-e<3e3,a="IS_VISIBLE"===n.whenVisibility||"ANY"===n.whenVisibility):s===d.Z.consts.elementVisibility.HIDDEN?(o=!0,a="IS_HIDDEN"===n.whenVisibility||"ANY"===n.whenVisibility):s===d.Z.consts.elementVisibility.NOT_FOUND&&t.delete(r),o&&a&&(t.delete(r),i.set(r,n))})),0!==i.size){var r=Array.from(i.keys());rr.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[o(i),o(t)]),a(r).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=r.filter((function(t){return!e.includes(t)}));t.length>0&&(t.forEach((function(e){n(i.get(e))})),rr.infof(null,"Could not refresh & requeued: %o",t))}))}else rr.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",o(t))}}else rr.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.")}return f.Z.commonUtils.debounce(s,r)}({invokeSpaces:s});(function(e){var t=e.triggerRefresh;hi(t),n=t,window.addEventListener("focus",(function(e){n()})),window.addEventListener("locationChange",i);var n})({triggerRefresh:u}),(l.Y.hasEventListener("spaceRefreshOnInterval")||l.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(e){var t=e.triggerRefresh;return function(e){var i=e.space,r=e.unitDispatchCount,o={space:i,unitDispatchCount:r},a=l.Y.fireEvent("spaceRefreshOnInterval",o)||l.Y.fireEvent("spaceRefreshSettings",o);if(a){var s=a.whenVisibility,c=a.type,u=a.skipComplianceCheck,f=void 0!==u&&u;if(f=f||l.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:i}),!s){if(!c)return void rr.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch(Wn.commonBLUtils.refreshTypeDecoder(c)){case d.Z.consts.refreshType.UNKNOWN:return void rr.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",c);case d.Z.consts.refreshType.ALL:case d.Z.consts.refreshType.VISIBLE:return void rr.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",c);case d.Z.consts.refreshType.HIDDEN:s="IS_HIDDEN"}}var h=a.interval||a.rate||3e4;setTimeout((function(){n({space:i,whenVisibility:s,skipComplianceCheck:f}),t()}),h),rr.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[h/1e3,{spaceName:i.name,space:i,whenVisibility:s,skipComplianceCheck:f}])}}}({triggerRefresh:u}));(function(e){var t=e.triggerRefresh;er.subscribeForEvent("refresh",(function(e){e.forEach((function(e){var t=document.getElementById(e),i=t&&tr.getByElement(t),r=i&&i.space;if(r&&i.countOfDispatches>0){var o,a=Hi({element:t});if(a===d.Z.consts.elementVisibility.VISIBLE)o="IS_VISIBLE";else if(a===d.Z.consts.elementVisibility.HIDDEN)o="IS_HIDDEN";else if(a===d.Z.consts.elementVisibility.NOT_FOUND)return;var s=l.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:r});rr.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:r.name,space:r,correspondingUnit:i,whenVisibility:o,skipComplianceCheck:s}),n({space:r,whenVisibility:o,skipComplianceCheck:s})}})),t()}))})({triggerRefresh:u}),function(e){var t=e.invokeSpaces,n=[];l.Y.addEventListener("refreshByForce",(function(e){var i=e.data,r=i&&i.settings,o=Ni.getAll(),a=r&&r.minTimeBetweenRefreshes,s=r&&r.shouldRefreshFailedSpaces,d=r&&r.spacesNames,l=r&&r.shouldRefreshAllSpaces,u=[],f={filteringSettings:{minTimeBetweenRefreshes:a}};l?u=o:(s&&c.Z.forEach(n,(function(e){u.push(e)})),d&&c.Z.forEach(o,(function(e){d.indexOf(e.name)>-1&&u.push(e)}))),u=c.Z.distinct(u),rr.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[r,u]),t(u,f).then((function(e){n=c.Z.filter(u,(function(t){return e.indexOf(t)<0}))}))}))}({invokeSpaces:s})},this.minTimeBetweenAuctionsUnitsFilter=function(t,n){var i=d.Z.upoSettings.minTimeBetweenRefreshes;l.Y.hasEventListener("minTimeBetweenRefreshes")&&(i=l.Y.fireEvent("minTimeBetweenRefreshes"));f.Z.commonUtils.isNumber(n.minTimeBetweenRefreshes)&&(i=n.minTimeBetweenRefreshes);return t.filter((function(t){var n;if(t)if(t.lastInvokeTime){var r=Date.now()-t.lastInvokeTime.getTime();r>i||e&&t.lastInvokeTime.getTime()<e?(n=!0,rr.infof(null,"Re-auctioning Unit: %o",t)):(n=!1,rr.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(i-r)/1e3,t]))}else n=!0;else n=!1;return n}))},this.spaceRefreshOnInterval;var e,t=new Map;function n(e){var n=e.space,i=e.whenVisibility,r=e.skipComplianceCheck;"IS_VISIBLE"===i&&l.Y.fireEvent("dontQueueViewableRefreshes",{space:n})?rr.debugf(null,"queueSpaceForRefresh: `dontQueueViewableRefreshes` hook set to not enqueue refresh: &o",{spaceName:n.name,space:n,whenVisibility:i,skipComplianceCheck:r}):t.set(n,{space:n,whenVisibility:i,skipComplianceCheck:r})}function i(){e=Date.now()}var r=500;function o(e){return Array.from(e.values()).map((function(e){var t=e.space,n=Di(e,nr);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({spaceName:t.name,space:t},n)}))}};function ar(e){var t=l.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((function(e){return e.countOfDispatches<t})):e}function sr(e,t){return or.minTimeBetweenAuctionsUnitsFilter(e,t)}function dr(e){return e.filter((function(e){return!l.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})}))}function cr(e){var t=e.map((function(e){return e.element}));return e.filter((function(e,n){return t.indexOf(e.element)==n}))}function lr(e){var t=e.getAdUnitPath();"/"===t.charAt(0)&&(t=t.slice(1));var i,a=t.split("/"),s=n(i=a)||qn(i)||r(i)||o(),d=s[0],c=s.slice(1);return{networkCode:d,adUnit:"/".concat(c.join("/"))}}function ur(e,t){return new Promise((function(n,i){t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){var i=window.googletag.pubads().getSlots(),r=[];e.forEach((function(e){t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.postBiddingSettings.enabled?i.forEach((function(t){t.getSlotElementId()===e.element.getAttribute("id")&&(e.gamAdUnitPath=lr(t),r.push(e))})):r.push(e)})),n(r)})):n(e)}))}var fr=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),l.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),l.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),l.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},hr=function(e){if("dfp"===e)return fr},pr=__webpack_require__(616);function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wr,vr=new bn.Z({prefix:"prebidPostset: "}),br=function(){var e,t;wr=d.Z.cpbjs,function(){var e=d.Z.SharedObject.getItem("whitelistingIFrame");e?wr.setCookieFrame({frame:e,isBTSafeFrameDomain:d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame}):l.Y.addEventListener("whitelistingIFrameLoaded",(function(e){wr.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame})}))}(),function(){try{var e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){var n=e.getConfig("consentManagement");if(n&&(n.gdpr||n.usp))return void wr.setConfig({consentManagement:n})}}catch(e){vr.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){var t={consentManagement:wr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},wr.setConfig(t)}}))}catch(e){vr.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){var t={consentManagement:wr.getConfig().consentManagement||{}};t.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},wr.setConfig(t)}}))}catch(e){vr.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){var n={consentManagement:wr.getConfig().consentManagement||{}};n.consentManagement.usp={cmpApi:"iab",timeout:100},wr.setConfig(n)}}))}catch(e){vr.errorf(null,"setConsentConfig: __uspapi: %o",e)}}(),wr.que.push((function(){wr.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}},{name:"id5Id",params:{partner:993},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}],auctionDelay:50}})})),e={},wr.onSendLog((function(t,n,i,r){if(r.meta.fired){var o=1;e[r.meta.uid]=(0,pr.getTrueByProbability)(o)}if(e[r.meta.uid])return r=mr(mr({},r),{},{sendPercentage:101,sendToServer:!0}),void vr.infof(t,n,i,r);r.sendPercentage&&(r=mr(mr({},r),{},{sendToServer:!0}),vr.infof(t,n,i,r))})),wr.onBeforeRequest((function(e){var t=e&&f.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&l.Y.fireEvent("addCriteoAdblockQueryParam")){var n=t.includes("abp=1");t=n?t:"".concat(t,"&abp=1")}return t})),wr.aliasBidder("pulsepointLite","pulsepoint"),wr.aliasBidder("indexExchange","ix"),wr.aliasBidder("ix","indexExchange"),wr.aliasBidder("my6sense","upo2"),wr.aliasBidder("lockerdome","upo3"),function(){var e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(wr.bidderSettings=e.bidderSettings);var t=e&&e.getConfig&&e.getConfig(),n="high";if(t){var i=t.customPriceBucket,r=t.priceGranularity;n="custom"===r?i:r}wr.setConfig({priceGranularity:n,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:25,syncEnabled:!0}})}(),(t=(l.Y.fireEvent("snigelAdapterConfiguration")||{}).websiteStoredRequestId)&&wr.setConfig({s2sConfig:[{defaultVendor:"snigel",accountId:"1000",bidders:[],extPrebid:{storedrequest:{id:t}}}]}),l.Y.hasEventListener("enableRelayAdapter")&&wr.setConfig({relayAccountId:12021}),wr.setBidderConfig({bidders:["rubicon"],config:{ortb2:{site:{ext:{data:{keywords:"blockthrough"}}}}}});var n,i=l.Y.fireEvent("scrapePrebidRequestBids");i&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onListenerAdded,n=e.pollingInterval,i=void 0===n?100:n,r=e.maxIntervalCount,o=void 0===r?50:r;if(yr())_r(t);else var a=0,s=setInterval((function(){++a>=o?clearInterval(s):yr()&&(clearInterval(s),_r(t))}),i)}(i),l.Y.fireEvent("addIndexExchangeWrappers")&&function(){var e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"};function t(e){return(100*parseFloat(e)).toFixed()}for(var n in e)wr.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=wr.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}}(),(n=l.Y.fireEvent("provideSChainConfig"))&&wr.que.push((function(){try{if(!window[n.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");wr.setConfig({schain:window[n.prebidVariable].getConfig("schain")})}catch(t){try{var e=n.manualFallback||{};wr.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==e.complete&&void 0!==e.complete?e.complete:1,nodes:[{asi:e.asi,sid:e.sid,hp:null!==e.hp&&void 0!==e.hp?e.hp:1}]}}})}catch(e){vr.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}})),l.Y.fireEvent("prebidDoneInit",{cpbjs:wr})};function yr(){return window.pbjs&&window.pbjs.onEvent}function _r(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){var t=window.pbjs.adUnits||[],n=t.map((function(e){return e.code})),i=e.filter((function(e){return!n.includes(e.code)}));i.length>0&&(window.pbjs.adUnits=[].concat($n(t),$n(i)))})),e&&e()}catch(e){vr.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var Mr=function(e){if("prebid"===e)return br},Er=new function(){var e=new f.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{if(window.googletag&&window.googletag.getVersion){n=!0;var i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var r=window.googletag._vars_,o=[21063911,21063048,21063670,21063817,21063671],a=[];for(var s in r){var d=r[s];if("string"==typeof d&&d.indexOf("pubads_impl_")>-1&&!n)try{n=!0;var c=document.createElement("script");c.async="true",c.type="text/javascript",c.addEventListener("load",(function(){e()})),c.addEventListener("error",(function(e){t(e)})),d.indexOf("?")>-1?c.src=d+"&upapi=true":c.src=d+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(c)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(d))try{var l=d.length;if(o)for(;l--;){var u=d[l];o.indexOf(u)>-1&&d.splice(l,1)}if(a)for(var f=0;f<a.length;f++){var h=a[f];-1===d.indexOf(h)&&d.push(h)}}catch(e){console.error("error in adding/removing eids -> "+e)}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},Nr=__webpack_require__(228),Dr=new f.Z.SubscriptionLayer,Sr=!1,Tr=function(e){switch(Sr||Sr||(Sr=!0,Er.subscribeForEvent("preset",(function(){kr("dfp")})),Er.subscribeForEvent("postset",(function(){Ir("dfp")})),Nr.k.subscribeForEvent("preset",(function(){kr("prebid")})),Nr.k.subscribeForEvent("postset",(function(){Ir("prebid")}))),e){case"dfp":Er.load();break;case"prebid":Nr.k.load()}},Zr=function(e,t){Dr.subscribeForEvent(e,t)},kr=function(e){Dr.invokeEventCallbacks(e)},xr=function(e,t){Dr.subscribeForEvent(e,t)},Ir=function(e){Dr.invokeEventCallbacks(e)},zr=new bn.Z({prefix:"defaultCreativeBid: "});function Br(e,t){var n=[],i=!1;var r={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:"default-creative",width:e.width,height:e.height},o=new Gn.Bid(r,r,Gn.Bid.Types.DEFAULT_CREATIVE,void 0,(function(t){!function(t){var r=e.height+"px",o=e.width+"px",a=e.creativeHTML,s=document.createElement("div");s.className="default-creative-container",s.style.height=r,s.style.width=o;var l=Wn.whitelistingIFrame.createWhitelistingIFrame();l.className="default-creative-iframe",l.setAttribute("scrolling","no"),l.setAttribute("marginwidth","0"),l.setAttribute("marginheight","0"),l.setAttribute("height",r),l.setAttribute("width",o),s.appendChild(l),l.addEventListener("load",(function e(){try{if(l.removeEventListener("load",e),d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)l.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:a}),"*");else{var t=l.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){var r=navigator.userAgent.toLowerCase().match(/firefox\/([\d.]+)/)[1];r&&parseInt(r,10)<67&&t.open("text/html","replace")}t.write(a),t.close()}i=!0,c.Z.forEach(n,(function(e){e()}))}catch(e){zr.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}})),t.appendChild(s)}(t.placement)}),void 0,(function(e){i?e():n.push(e)}),void 0);return o}function Or(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yr(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xr=new bn.Z,jr=new function(){var e,t=!1,n=[],i=[],r=!1;function o(){return window.pbjs&&window.pbjs.adUnits}function a(e){return s(b(e))}function s(t,i){var r=function(){var e=[],t=l.Y.fireEvent("auctionBlockerHook");return t&&e.push(t),e}();return Promise.all(r).then((function(){return function(e){var t=[],n=[];return c.Z.forEach(e,(function(e){var i,r,o=Wn.commonBLUtils.getSpaceElement(e);o&&((i=tr.getByElement(o))||((r=o).alreadyWraped||(gi.hookFunction(r,"setAttribute",gi.Types.SET_ATTRIBUTE_PRE,void 0,!0),r.alreadyWraped=!0),i=new Gn.Unit({element:o,space:e}),l.Y.fireEvent("onNewUnitFound",i),tr.set(i),n.push(i)),i&&i.space==e&&t.push(i))})),function(e){var t=l.Y.fireEvent("newGAMSlotsOnUnitCreation")||{},n=t.AD_UNIT_PATH_PREFIX,i=t.deriveDataFromUnitForSpaces,r=t.slotDataBySpaceName;e.length>0&&(i||r)&&window.googletag.cmd.push((function(){try{e.forEach((function(e){var t,o,a,s=e.unitID,d=e.element,c=e.space,l=i&&i.includes(c.name)&&n,u=r&&r[c.name];if(l||u){if(u){var f=r[c.name]||{};t=f.adUnitPath,o=f.sizes,a=f.slotElementId}!t&&n&&(t="".concat(n).concat(c.name)),o||(o=c.sizes.map((function(e){return e.split("x").map((function(e){return parseInt(e,10)}))})).filter((function(e){return 2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}))),a||(d.id||d.setAttribute("id","bt-unit-".concat(s)),a=d.id),t&&o&&o.length>0&&a&&Kn(t,o,a)}}))}catch(e){Pn.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t}(t)})).then((function(t){return function(t,i){return new Promise((function(r,o){if(0!==t.length){l.Y.fireEvent("onBeforeInvokeDispatch",{spaces:c.Z.map(t,(function(e){return e.space}))}),function(e){e.forEach((function(e){var t=e.space;l.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var a={};i&&(a=i.filteringSettings||{}),function(e,t){return v.apply(this,arguments)}(t,a).then((function(t){try{if(function(e){e&&0!==e.length&&d.Z.upoSettings.amazonBidderConfiguration.enabled&&e.forEach((function(e){var t=e.space;if(t.preBiddingSettings.biddingSettings[d.Z.consts.headerBiddingType.prebid]=t.preBiddingSettings.biddingSettings[d.Z.consts.headerBiddingType.prebid]||[],!t.preBiddingSettings.biddingSettings[d.Z.consts.headerBiddingType.prebid].some((function(e){return"amazon"===e.name}))&&googletag&&googletag.pubads){var n=e.element,i=googletag.pubads().getSlots().find((function(e){return document.getElementById(e.getSlotElementId())===n})),r=i&&i.getAdUnitPath();r&&t.preBiddingSettings.biddingSettings[d.Z.consts.headerBiddingType.prebid].push({id:r+"_amazon_bidder",name:"amazon",params:{pubID:d.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:r}})}}))}(t),r(t||[]),!t||0===t.length)return;var i=c.Z.map(t,(function(e){return e.space}));Wn.movePositionService.dispatch(i);var o=c.Z.map(t,(function(e){return new Gn.Auction({unit:e})}));if(l.Y.fireEvent("onAuctionGroupStarted",o),function(e){c.Z.forEach(e,(function(e){e.state=Gn.Auction.States.DISPATCHED,e.unit.state=Gn.Unit.States.DISPATCHED,n.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,l.Y.fireEvent("onAuctionStarted",{auction:e})}))}(o),window.__bt_intrnl.stopFlag)return;l.Y.fireEvent("onPrebiddingStarted",o);var a=er.dispatchHB(o);Promise.all(a).then((function(t){if(l.Y.fireEvent("onPrebiddingEnded",o),!window.__bt_intrnl.stopFlag){var n=er.dispatchAS(o);c.Z.forEach(n,(function(t,n){t.then((function(t){var n=c.Z.find(o,(function(e){return e.auctionId==t.auctionId})),i=n.getWinningBid();if(i&&i.type===Gn.Bid.Types.PREBID&&0===i.additionalBidsToRender.length&&e.dfp&&n.unit.space.postBiddingSettings.enabled&&n.cancelAuction(),!window.__bt_intrnl.stopFlag){if(localStorage.getItem("forceDefaultCreative")&&(i=void 0),!i){var r=l.Y.fireEvent("getDefaultCreative",{auction:n});r&&(r={width:r.width,height:r.height,creativeHTML:r.creativeHTML},i=Br(r,n),n.addBids([i]))}n.subscribeForEvent("auctionRendered",(function(){n.unit.countOfRenders++,l.Y.fireEvent("onAuctionRendered",{auction:n,bid:i}),l.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i});var e=n.unit.countOfRenders;!function(e,t){var n,i;if(ki.has(e))xi.get(e).push(t);else{var r=new Promise((function(e,t){n=e,i=t}));ki.set(e,[n,i]),xi.set(e,[t]),r.then((function(){xi.get(e).forEach((function(e){return e()}))})).finally((function(){ki.delete(e),xi.delete(e)})),zi(e,n,i)}}(n.unit.element,(function(){e==n.unit.countOfRenders&&(l.Y.fireEvent("onAdViewed",{auction:n,bid:i}),l.Y.fireEvent("onAdViewedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:i}))}))})),n.subscribeForEvent("renderBidDone",(function(e){l.Y.fireEvent("onAuctionEnded",{auction:n,bid:e.successfulyRenderedBid&&i}),l.Y.fireEvent("onAuctionEndedWebsiteHook",{element:n.unit.element,bid:e.successfulyRenderedBid&&i})})),n.renderBid(i),n.unit.state=Gn.Unit.States.PENDING,or.spaceRefreshOnInterval&&or.spaceRefreshOnInterval({space:n.unit.space,unitDispatchCount:n.unit.countOfDispatches})}}))}))}}))}catch(e){Xr.errorf(null,"recovery: filterUnits %o",e)}}))}else r([])}))}(t,i)})).then((function(e){return e.map((function(e){return e.space}))}))}function u(e){var t='[id="'.concat(e,'"]'),n=f.Z.commonUtils.getElementWithSelector(t);if(n){var i=tr.getByElement(n);return i?i.space:b().find((function(e){var t=Wn.commonBLUtils.getSpaceElement(e);return t&&t===n}))}}this.invoke=function(h){if(!window.__bt_intrnl.stopFlag&&!t){t=!0,e=h.settings||{};var p,w,v=Ni.set(h.spaces);r=l.Y.fireEvent("alwaysFilterByGoogletagSlots")||d.Z.upoSettings.amazonBidderConfiguration.enabled,function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],i=[],r=hr(t),o=Mr(t);r&&n.push(r),o&&i.push(o);var a=l.Y.fireEvent("thirdPartyModulePreset",{type:t}),s=l.Y.fireEvent("thirdPartyModulePostset",{type:t});a&&n.push(a),s&&i.push(s),c.Z.forEach(n,(function(e){Zr(t,e)})),c.Z.forEach(i,(function(e){xr(t,e)})),Tr(t)}}(e),(e.dfp||r)&&(p=window.googletag&&window.googletag.cmd.unshift?"unshift":"push",window.googletag.cmd[p]((function(){var e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){var r=e(t,n,i);return setTimeout((function(){if(r){if(Jn(r))return;g(r)}}),0),r},l.Y.fireEvent("overrideDefineOutOfPageSlot")){var t=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(e,n){var i=t(e,n);return setTimeout((function(){if(i){if(Jn(i))return;g(i)}}),0),i}}}))),window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();c.Z.forEach(e,(function(e){Jn(e)}))})),w=Ni.getAll(),l.Y.fireEvent("listenToNewSpaces",{spaces:w,callback:function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],i=n&&new Gn.Space(n);Ni.set(i)}a()}}}),(i=l.Y.fireEvent("movePositionRules")||[])&&i.length>0&&Wn.movePositionService.setMovePositionRules(i),function(){try{history.pushState=(e=history.pushState,function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=function(e){return function(){var t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t}}(history.replaceState),window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationChange"))}))}catch(e){Xr.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}();var b=Ei()((function(){a()}),500);hi(b),window.addEventListener("locationChange",(function(){setTimeout(a,1001)})),or.initialize({invokeSpaces:s,invokeSpacesWithoutUnits:a}),l.Y.addEventListener("websiteHooksGetSpaces",(function(){return Ni.getAll()}));var y=l.Y.fireEvent("scrapePrebidAdUnits");y&&("boolean"==typeof y&&(y={}),function(e){var t,n=e.getAdUnits||o,i=e.filterOutAdUnit,r=e.parseAdUnit,s=e.postParsingAdUnits,c=e.parseInterval||1e3,l=[],u=function(){if((t=n()||[]).length>0){for(var e=[],o=[],c=0;c<t.length;c++){var u=t[c];!u||l.indexOf(u)>=0||(u=JSON.parse(JSON.stringify(u)),!(u=r?r(u):u)||i&&i(u)||(l.push(u),e.push(u)))}if(0===e.length)return;if((e=s?s(e):e).forEach((function(e){if(e){var t=function(e){try{var t,n=function(e){return 2===e.length&&e.every((function(e){return!Array.isArray(e)&&!isNaN(e)}))},i=function(e){return"".concat(e[0],"x").concat(e[1])},r={},o=e.selector||f.Z.commonUtils.escapeSelector("#"+e.code),a=e.sizes;if(a||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(a=e.mediaTypes.banner.sizes),!a)return;if(t=n(a)?[i(a)]:a.filter(n).map(i),r.id=e.id,r.id||(r.id="space_"+An(e.code+"_"+o)),r.id=r.id.substr(0,500),r.name=e.code,r.deviceType=e.deviceType,r.sizes=t,r.selector={position:0,value:o},e.bids){r.preBiddingSettings={enabled:!0,biddingSettings:[]},r.preBiddingSettings.biddingSettings[1]=[];for(var s=0;s<e.bids.length;s++){var c=e.bids[s];c.params=c.params||{};var l="bidder_"+An(r.id+"_"+c.bidder+"_"+JSON.stringify(c.params).trim());l=l.substr(0,500),r.preBiddingSettings.biddingSettings[1].push({id:l,name:c.bidder,params:c.params})}}else r.preBiddingSettings={enabled:!1};return r.preBiddingSettings.biddingSettings[1]=r.preBiddingSettings.biddingSettings[1].filter((function(e,t){return t===r.preBiddingSettings.biddingSettings[1].findIndex((function(t){return JSON.stringify(t)===JSON.stringify(e)}))})),d.Z.SharedObject.getItem("websiteConfig").dfpEnabled?r.postBiddingSettings={adxId:r.name+"_adx",directId:r.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:r.name+"_adx",testCompliance:!0},direct:{bidderID:r.name+"_direct"}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:r.name+"_adx",testCompliance:!1},direct:{bidderID:r.name+"_direct"}}]}:r.postBiddingSettings={enabled:!1},r}catch(e){Pn.errorf(null,"error in parsing prebid ad unit - err: %o",e)}}(e),n=t&&new Gn.Space(t);if(n)Ni.getSpacesByName(n.name).length>0||o.push(n)}})),0===o.length)return;Ni.set(o),a(o)}};u(),setInterval((function(){u()}),c)}(y)),l.Y.hasEventListener("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){!u(e.getSlotElementId())&&l.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Ni.set(m(e))}))})),(e.dfp||r)&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((function(e){g(e)}))})),window.__upo_d.getSpaces=function(){return Ni.getAll()},window.__upo_d.getUnits=function(){return tr.getAll()},window.__upo_d.getAuctions=function(){return n},a(v);var _=1,M=setInterval((function(){15===_&&clearInterval(M),_++,a(v)}),100)}};var h,p=[];function g(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),i=Ni.getAll(),r=u(t);if(!r){if(l.Y.fireEvent("useSlotPath"))r=Ni.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var o=l.Y.fireEvent("customGetSpace",{spaces:i,divId:t,slot:e});o&&(r=c.Z.find(i,(function(e){return e.name==o.name})))}(r=r&&JSON.parse(JSON.stringify(r)))&&(r.selector.value=f.Z.commonUtils.escapeSelector("#"+t),r.templateSpaceName=r.name,r.name=t,Ni.set(r))}!r&&l.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Ni.set(m(e)),r&&p.indexOf(r)<0&&(p.push(r),clearTimeout(h),h=setTimeout((function(){s(p),p=[]}),100))}function m(t){if(t&&!l.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t})){var n=t.getSlotElementId(),i=t.getSizes(),r=c.Z.map(i,(function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()}));r=c.Z.filter(r,(function(e){return!!e}));var o="adxId_"+n,a="directId_"+n,s={id:n,name:n,staging:!1,selector:{value:f.Z.commonUtils.escapeSelector("#"+n),position:d.Z.consts.selectorPosition.APPEND_CHILD},sizes:r,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:o,directId:a,enabled:e.dfp,type:1,order:[{params:{},adx:{bidderID:o,testCompliance:!0},direct:{bidderID:a}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:o,testCompliance:!1},direct:{bidderID:a}}]}};return s.preBiddingSettings.biddingSettings[d.Z.consts.headerBiddingType.prebid]=[],new Gn.Space(s)}}var w=[ar,sr,dr,cr,ur];function v(){return(v=bi(_i().mark((function t(n,i){var o,a,s,d,c,l;return _i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:r}},i=Hr(Hr({},o),i),!((a=n.filter((function(e){return e.state===Gn.Unit.States.PENDING}))).length>0)){t.next=27;break}a.forEach((function(e){e.state=Gn.Unit.States.CHECKING})),s=$n(a),d=Or(w),t.prev=7,d.s();case 9:if((c=d.n()).done){t.next=19;break}return l=c.value,t.next=13,l(a,i);case 13:if(a=t.sent,s=s.filter((function(e){var t=a.includes(e);return t||(e.state=Gn.Unit.States.PENDING),t})),0!==a.length){t.next=17;break}return t.abrupt("break",19);case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),d.e(t.t0);case 24:return t.prev=24,d.f(),t.finish(24);case 27:return t.abrupt("return",a);case 28:case"end":return t.stop()}}),t,null,[[7,21,24,27]])})))).apply(this,arguments)}function b(e){var t=e||Ni.getAll();return tr.purgeUnitsWithNoElementOnPage(),t.filter((function(e){return!tr.getBySpace(e)}))}};function Vr(e){return window.location.hostname.indexOf(e)>-1}var Wr={isSite:Vr,isSiteOneOf:function(e){return e.some((function(e){return Vr(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},removeClass:function(e,t){if(t&&e){var n=new RegExp("\\b"+e+"\\b","g"),i=t.className;i=i.replace(n,""),t.className=i}},addClass:function(e,t){if(t&&e){var n=t.className;n.indexOf(e)>-1||(""!==n&&(e=" "+e),t.className=n+e)}}},Cr=new bn.Z({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",window.__bt_intrnl=window.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Fr,Ur={"contentEnabled":true,"mobileContentEnabled":false,"dfpEnabled":true,"spaces":{"5645793267548160":{"name":"adngin-Bottom_Leaderboard-0","sizes":["300x250","728x90"],"device_type":"all","selector":{"value":"[id=\"adngin-Bottom_Leaderboard-0\"]","index":0,"position":0,"page":""},"prebids":{"5138554815512576":{"bidder":"ix","params":{"siteId":"277171","size":[728,90]}},"5191684567597056":{"bidder":"pubmatic","params":{"adSlot":"snhb_notebookcheck_bottom_billboard_BT@728x90","publisherId":"157369"}},"5650763085774848":{"bidder":"appnexus","params":{"placementId":13259758}},"5689136672407552":{"bidder":"ix","params":{"siteId":"277171","size":[300,250]}},"5699247360966656":{"bidder":"rubicon","params":{"accountId":"14598","siteId":"144484","zoneId":"930300"}},"5699849595912192":{"bidder":"sovrn","params":{"tagid":"566680"}},"5755408017784832":{"bidder":"openx","params":{"delDomain":"snigel-d.openx.net","unit":"540030646"}}},"adx":"4796880096591872","direct":"5710904971755520","staging":false,"unit":"adngin-Bottom_Leaderboard-0"},"5662008044158976":{"name":"adngin-Sidebar_3-0","sizes":["300x250","300x600"],"device_type":"all","selector":{"value":"[id^=\"adngin-Sidebar_3-0-\"]","index":0,"position":0,"page":""},"prebids":{"4827119891775488":{"bidder":"pubmatic","params":{"adSlot":"snhb_notebookcheck_sidebar_3_BT@300x250","publisherId":"157369"}},"5095382945103872":{"bidder":"ix","params":{"siteId":"277168","size":[300,600]}},"5174220492374016":{"bidder":"ix","params":{"siteId":"277168","size":[300,250]}},"5669813195112448":{"bidder":"appnexus","params":{"placementId":13259756}},"5679201137983488":{"bidder":"openx","params":{"delDomain":"snigel-d.openx.net","unit":"540030641"}},"5724018047975424":{"bidder":"rubicon","params":{"accountId":"14598","siteId":"144484","zoneId":"930298"}},"5755000918638592":{"bidder":"sovrn","params":{"tagid":"566679"}}},"adx":"5723362977382400","direct":"5675529607839744","staging":false,"unit":"adngin-Sidebar_3-0"},"5670700185550848":{"name":"adngin-Sidebar_1-0","sizes":["300x250","300x600"],"device_type":"all","selector":{"value":"[id=\"adngin-Sidebar_1-0\"]","index":0,"position":0,"page":""},"prebids":{"5145346568093696":{"bidder":"openx","params":{"delDomain":"snigel-d.openx.net","unit":"540030638"}},"5171675254489088":{"bidder":"rubicon","params":{"accountId":"14598","siteId":"144484","zoneId":"930292"}},"5689940754038784":{"bidder":"ix","params":{"siteId":"277170","size":[300,250]}},"5718940373221376":{"bidder":"ix","params":{"siteId":"277170","size":[300,600]}},"5727199947653120":{"bidder":"pubmatic","params":{"adSlot":"snhb_notebookcheck_sidebar_1_BT@300x250","publisherId":"157369"}},"6284079233236992":{"bidder":"appnexus","params":{"placementId":13259754}},"6300766120706048":{"bidder":"sovrn","params":{"tagid":"566677"}}},"adx":"5673863294746624","direct":"5678606817689600","staging":false,"unit":"adngin-Sidebar_1-0"},"5768153178046464":{"name":"adngin-Sidebar_2-0","sizes":["300x250"],"device_type":"all","selector":{"value":"[id=\"adngin-Sidebar_2-0\"]","index":0,"position":0,"page":""},"prebids":{"5087813132353536":{"bidder":"appnexus","params":{"placementId":13259755}},"5091769870974976":{"bidder":"openx","params":{"delDomain":"snigel-d.openx.net","unit":"540030640"}},"5660748213649408":{"bidder":"pubmatic","params":{"adSlot":"snhb_notebookcheck_sidebar_2_BT@300x250","publisherId":"157369"}},"5717782694985728":{"bidder":"sovrn","params":{"tagid":"566678"}},"5761090863497216":{"bidder":"rubicon","params":{"accountId":"14598","siteId":"144484","zoneId":"930294"}},"6237844245839872":{"bidder":"ix","params":{"siteId":"277169","size":[300,250]}}},"adx":"5736997300731904","direct":"5649973126365184","staging":false,"unit":"adngin-Sidebar_2-0"}}},Ar=Ur.spaces||{},Lr="api.btloader.com",Gr=d.Z.upoSettings.staticDomain,Pr=d.Z.upoSettings.recoveryScriptVersion;(window.location.href.indexOf("bt_debug=true")>=0||"true"===window.localStorage.getItem("bt_debug"))&&(Ur.dfpEnabled="true"===localStorage.getItem("forceGAM")||Ur.dfpEnabled,Ur.mobileContentEnabled="true"===localStorage.getItem("forceMobileContent")||Ur.mobileContentEnabled,Ur.contentEnabled="true"===localStorage.getItem("forceContent")||Ur.contentEnabled);var Kr,Jr={websiteData:Ur,scriptSettings:ui,apiDomain:Lr,staticDomain:Gr,websiteID:"5726239214010368",organizationID:"5658536637890560",dfpEnabled:Ur.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Ur.mobileContentEnabled,contentEnabled:Ur.contentEnabled,recoveryScriptVersion:Pr};window.__upo_d.websiteConfig=Jr,d.Z.SharedObject.setItem("websiteConfig",Jr);var Qr=function(){return{browser:ei.Xh(),device:ei.Uh(),platform:ei.Jv(),isMobile:ei.tq()}};var qr=function(){to(window),io(),Wn.whitelistingIFrame.setupWhitelistingIFrameSettings().then(eo),l.Y.fireEvent("clearSpaces")&&(Ar=[]),$r()},$r=function(){var e=c.Z.map(Ar,(function(e){return e})),t=l.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(Ar=c.Z.filter(Ar,(function(e){return c.Z.find(t,(function(t){return t.id==e.id}))})))},eo=function(){var e=Wn.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){Fr=e,d.Z.SharedObject.setItem("whitelistingIFrame",Fr),l.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:Fr})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},to=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),fi((function(){if(document.body.appendChild(n),n.contentWindow)return n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,void t()}))}else t()}(e,(function(){try{e.XMLHttpRequest&&gi.hookFunction(e.XMLHttpRequest.prototype,"open",gi.Types.XHR_OPEN_PRE,void 0,!0),gi.hookFunction(e,"fetch",gi.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&gi.hookFunction(e.HTMLElement.prototype,"insertBefore",gi.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&gi.hookFunction(e.HTMLElement.prototype,"appendChild",gi.Types.APPEND_CHILD_PRE,gi.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&gi.hookFunction(e.HTMLImageElement.prototype,"setAttribute",gi.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),gi.hookFunction(e,"open",gi.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&gi.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",gi.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&gi.hookFunction(e.HTMLElement.prototype,"hasChildNodes",gi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),no(e)}catch(e){Cr.errorf(null,"`createHooksOnWindow` - %o",e)}}))},no=function(e){for(var t=d.Z.consts.htmlElements,n=0;n<t.length;n++)e[t[n]]&&gi.hookPropertySetter(e[t[n]].prototype,"src",gi.Types.HTML_SRC_PROP_PRE,void 0,!0)},io=function(){gi.addEventListener(gi.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"===(0,s.Z)(t[0])&&t[0].toString&&(t[0]=t[0].toString()),f.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=f.Z.addAcceptableParam(t[0]);else if(f.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&Fr){if(d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var n="new window.Image().src = '"+t[0]+"'";return Fr.contentWindow.postMessage({type:"eval",code:n},"*"),t[0]}return(new Fr.contentWindow.Image).src=t[0]}})),gi.addEventListener(gi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(c.Z.hasClass(this,"up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(c.Z.hasClass(this.children[n],"up-show")){t=!0;break}if(t)return!1}}catch(e){Cr.errorf(null,"`hasChildNodes` hook - %o",e)}})),gi.addEventListener(gi.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||to(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=f.Z.addAcceptableParam(e)),i.call(this,e)}}})),gi.addEventListener(gi.Types.XHR_OPEN_PRE,(function(e){var t=e.data;f.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=f.Z.addAcceptableParam(t[1]))})),gi.addEventListener(gi.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&f.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=f.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var r=n[i],o=(r=r.trim()).split(" ")[0],a=r.split(" ")[1]||"";f.Z.urlValidations.isWhitelistURL(o,this.tagName)&&(r=f.Z.addAcceptableParam(o)+" "+a,n[i]=r)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&f.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=f.Z.addAcceptableParam(t[1]))})),gi.addEventListener(gi.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;l.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&f.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=f.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&f.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=f.Z.addAcceptableParam(t[0].href))})),gi.addEventListener(gi.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&f.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=f.Z.addAcceptableParam(i.src)),i.src&&f.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&Fr){if(d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var r="new Image().src = '"+t[0].src+"'";return Fr.contentWindow.postMessage({type:"eval",code:r},"*"),t[0]}return Fr.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&f.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=f.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&f.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=f.Z.addAcceptableParam(t[0].src)),f.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&Fr){if(d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame){var o="new Image().src = '"+t[0].src+"'";return Fr.contentWindow.postMessage({type:"eval",code:o},"*"),t[0]}return Fr.contentDocument.body.appendChild(t[0])}}})),gi.addEventListener(gi.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||to(t.contentWindow)})),gi.addEventListener(gi.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&Fr&&!d.Z.upoSettings.whitelistingIFrameSettings.isOurOriginWhitelistingIFrame)return Fr.contentWindow.open(e.data[0])})),gi.addEventListener(gi.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},ro=function(){window.uponit=window.uponit||{que:[]},window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var e=0;e<window.uponit.que.length;e++){var t=window.uponit.que[e];try{t()}catch(e){Cr.errorf(null,"window.uponit.que - %o",e)}}window.uponit.que.push=function(e){e()}},oo=function(e){var t=Object.entries(e).map((function(e){var t=a(e,2),n=t[0],i=t[1],r={};r.id=n,r.name=i.name,r.staging=i.staging,r.deviceType=i.device_type,r.selector={position:i.selector.position,value:i.selector.value},r.sizes=i.sizes;var o=i.prebids&&Object.keys(i.prebids).length>0;return r.preBiddingSettings={enabled:o,biddingSettings:{}},o&&(r.preBiddingSettings.biddingSettings[1]=[],Object.entries(i.prebids).forEach((function(e){var t=a(e,2),n=t[0],i=t[1],o={id:n,name:i.bidder,params:i.params};r.preBiddingSettings.biddingSettings[1].push(o)}))),r.postBiddingSettings={adxId:i.adx,directId:i.direct,enabled:Jr.dfpEnabled&&"0"!=i.adx,type:1,order:[{params:{},adx:{bidderID:i.adx,testCompliance:!0},direct:{bidderID:i.direct}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:i.adx,testCompliance:!1},direct:{bidderID:i.direct}}]},[n,r]}));return Object.fromEntries(t)},ao=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new Gn.Space(i);t.push(r)}return t};!function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0,w.init(Lr,{secure:!0});try{wi.init(),kn.Verifications.run(),kn.Report.init()}catch(e){Cr.errorf(null,"init - initializing log, verification, and report layers - %o",e)}Kr=Qr(),window.__upo_d.isMobile=Kr.isMobile;var e,t={browser:Kr.browser,device:Kr.device,platform:Kr.platform,isMobile:Kr.isMobile};l.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return t})),window.__upo_d.userEvnData=t,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),l.Y.fireEvent("consentData",{error:{message:n}})}}else l.Y.fireEvent("consentData",{tcData:e})}))}catch(e){l.Y.fireEvent("consentData",{error:e})}}(),function(){try{var e=new bn.Z({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg, hookUtils) {\n"+atob("Ly8KLy8gUHJlYmlkIENvbmZpZyAoU2NoYWluLCBQcmljZSBCdWNrZXRzLCBDdXJyZW5jeSwgQWQgU2VydmVyIFRhcmdldGluZykKLy8KQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZWJpZERvbmVJbml0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgdmFyIGNwYmpzID0gZXZlbnQuZGF0YS5jcGJqczsKCiAgLy8gQ29weSBzY2hhaW4gaWYgd2UgY2FuIGZyb20gc25pZ2VsJ3Mgb2JqZWN0IG9uIHBhZ2UKICBpZiAod2luZG93LnNuaGIgJiYgd2luZG93LnNuaGIuaW5mbykgewogICAgdmFyIGRvbWFpbiA9IHdpbmRvdy5zbmhiLmluZm8ucHVibGlzaGVyRG9tYWluOwogICAgdmFyIHNpZCA9IHdpbmRvdy5zbmhiLmluZm8uc3VwcGx5Q2hhaW5JZDsKICAgIHZhciBzY2hhaW4gPSB7CiAgICAgIHZhbGlkYXRpb246ICdzdHJpY3QnLAogICAgICBjb25maWc6IHsKICAgICAgICB2ZXI6ICcxLjAnLAogICAgICAgIGNvbXBsZXRlOiAxLAogICAgICAgIG5vZGVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIGFzaTogJ3NuaWdlbHdlYi5jb20nLAogICAgICAgICAgICBzaWQ6IHNpZCwKICAgICAgICAgICAgZG9tYWluOiBkb21haW4sCiAgICAgICAgICAgIGhwOiAxLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgfTsKICAgIGNwYmpzLnF1ZS5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgY3BianMuc2V0Q29uZmlnKHsKICAgICAgICBzY2hhaW46IHNjaGFpbiwKICAgICAgfSk7CiAgICB9KTsKICB9CgogIC8vIEFkIFNlcnZlciBUYXJnZXRpbmcKCiAgLy8gSGVyZSBpcyBhbiBleGFtcGxlIG9mIHdoYXQgaGFwcGVucyBiZWNhdXNlIHdlIHNldCB7IGtleTogJ2J0X3BsLCB2YWw6IHNvbWVGdW5jdGlvbiB9LgogIC8vIFRoZSB2YWwgZmllbGQgaG9sZHMgYSBmdW5jdGlvbiB3aGljaCByZWNlaXZlcyBhbiBvYmplY3QgcmVzZW1ibGluZzoKICAvLyAgeyBhZDogJzxpZnJhbWUuLi4nLCBhZElkOiAnNTVmLi4uJywgYmlkZGVyQ29kZTogJ2NyaXRlbycsIHBiQWc6IDEuMDUsIHBiQ2c6IDEuMDksIC4uLn0KICAvLyAgV2UgZ3JhYiB0aGUgcHJpY2VHcmFudWxhcml0eSB3aXRoaW4gdGhpcyBmdW5jdGlvbiBhbmQgc3RvcmUgaXQgaW4gQSAoZS5nLiBBID09ICdjdXN0b20nKS4KICBjcGJqcy5xdWUucHVzaChmdW5jdGlvbiAoKSB7CiAgICBjcGJqcy5iaWRkZXJTZXR0aW5nc1snc3RhbmRhcmQnXSA9IHsKICAgICAgYWRzZXJ2ZXJUYXJnZXRpbmc6IFsKICAgICAgICB7CiAgICAgICAgICBrZXk6ICdoYl9iaWRkZXInLAogICAgICAgICAgdmFsOiBmdW5jdGlvbiAoYSkgewogICAgICAgICAgICBpZiAoYVsnYmlkZGVyQ29kZSddLmluZGV4T2YoJy1zMnMnKSA+IC0xKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGFbJ2JpZGRlckNvZGUnXS5yZXBsYWNlKCctczJzJywgJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBhWydiaWRkZXJDb2RlJ107CiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAnYnRfc2xvdGNvZGUnLAogICAgICAgICAgdmFsOiBmdW5jdGlvbiAoYSkgewogICAgICAgICAgICByZXR1cm4gYVsnYWRJZCddOwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogJ2hiX2FkaWQnLAogICAgICAgICAgdmFsOiBmdW5jdGlvbiAoYSkgewogICAgICAgICAgICByZXR1cm4gYVsnYWRJZCddOwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogJ2J0X3BsJywKICAgICAgICAgIHZhbDogZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgdmFyIEEgPSBjcGJqcy5nZXRDb25maWcoKVsncHJpY2VHcmFudWxhcml0eSddOwogICAgICAgICAgICBpZiAoQSA9PT0gJ2F1dG8nKSByZXR1cm4gYlsncGJBZyddOwogICAgICAgICAgICBlbHNlIGlmIChBID09PSAnZGVuc2UnKSByZXR1cm4gYlsncGJEZyddOwogICAgICAgICAgICBlbHNlIGlmIChBID09PSAnbG93JykgcmV0dXJuIGJbJ3BiTGcnXTsKICAgICAgICAgICAgZWxzZSBpZiAoQSA9PT0gJ21lZGl1bScpIHJldHVybiBiWydwYk1nJ107CiAgICAgICAgICAgIGVsc2UgaWYgKEEgPT09ICdoaWdoJykgcmV0dXJuIGJbJ3BiSGcnXTsKICAgICAgICAgICAgZWxzZSBpZiAoQSA9PT0gJ2N1c3RvbScpIHsKICAgICAgICAgICAgICByZXR1cm4gYlsncGJDZyddOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBiWydwYkhnJ107CiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAnaGJfcGInLAogICAgICAgICAgdmFsOiBmdW5jdGlvbiAoYikgewogICAgICAgICAgICB2YXIgQSA9IGNwYmpzLmdldENvbmZpZygpWydwcmljZUdyYW51bGFyaXR5J107CiAgICAgICAgICAgIGlmIChBID09PSAnYXV0bycpIHJldHVybiBiWydwYkFnJ107CiAgICAgICAgICAgIGVsc2UgaWYgKEEgPT09ICdkZW5zZScpIHJldHVybiBiWydwYkRnJ107CiAgICAgICAgICAgIGVsc2UgaWYgKEEgPT09ICdsb3cnKSByZXR1cm4gYlsncGJMZyddOwogICAgICAgICAgICBlbHNlIGlmIChBID09PSAnbWVkaXVtJykgcmV0dXJuIGJbJ3BiTWcnXTsKICAgICAgICAgICAgZWxzZSBpZiAoQSA9PT0gJ2hpZ2gnKSByZXR1cm4gYlsncGJIZyddOwogICAgICAgICAgICBlbHNlIGlmIChBID09PSAnY3VzdG9tJykgewogICAgICAgICAgICAgIHJldHVybiBiWydwYkNnJ107CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGJbJ3BiSGcnXTsKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICdoYl9zaXplJywKICAgICAgICAgIHZhbDogZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgcmV0dXJuIGFbJ3NpemUnXTsKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICdoYl9kZWFsJywKICAgICAgICAgIHZhbDogZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgcmV0dXJuIGFbJ2RlYWxJZCddOwogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogJ2hiX3NvdXJjZScsCiAgICAgICAgICB2YWw6IGZ1bmN0aW9uIChhKSB7CiAgICAgICAgICAgIHJldHVybiBhWydzb3VyY2UnXSB8fCAnY2xpZW50JzsKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICdoYl9mb3JtYXQnLAogICAgICAgICAgdmFsOiBmdW5jdGlvbiAoYSkgewogICAgICAgICAgICByZXR1cm4gYVsnbWVkaWFUeXBlJ107CiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIF0sCiAgICB9OwogIH0pOwp9KTsKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdwcmVUYXJnZXRpbmdTZXR0aW5nJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgLy8gQlQga2V5LXZhbHVlCiAgdmFyIGRmcFNsb3QgPSBldmVudC5kYXRhLmRmcFNsb3Q7CiAgZGZwU2xvdC5zZXRUYXJnZXRpbmcoJ19zbmhiLWJ0JywgJ3RydWUnKTsKfSk7CgovLwovLyBTdHlsZSBGaXhlcwovLwp3aW5kb3dbJ2dvb2dsZXRhZyddWydjbWQnXVsncHVzaCddKGZ1bmN0aW9uICgpIHsKICB3aW5kb3dbJ2dvb2dsZXRhZyddWydwdWJhZHMnXSgpLmFkZEV2ZW50TGlzdGVuZXIoJ3Nsb3RSZW5kZXJFbmRlZCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgdHJ5IHsKICAgICAgdmFyIGFkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF49InNhc18iXVtzdHlsZSo9IndpZHRoOiA3MjhweDsgaGVpZ2h0OiA5MHB4OyJdJyk7CiAgICAgIGFkcy5mb3JFYWNoKGZ1bmN0aW9uIChhZCkgewogICAgICAgIGlmIChhZCAmJiBhZC5zdHlsZSkgewogICAgICAgICAgYWQuc3R5bGUud2lkdGggPSAnNzI5cHgnOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGxnLmVycm9yZihudWxsLCAnc2xvdFJlbmRlckVuZGVkIGV2ZW50OiAlbycsIGUpOwogICAgfQogIH0pOwp9KTsKCi8vCi8vIFJlZnJlc2gKLy8KdmFyIGFkVW5pdHNSZWZyZXNoQ291bnRlciA9IHt9Owp2YXIgaGFzRG9uZUZvdXJSZWZyZXNoZXMgPSBmYWxzZTsKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ21vZGlmeVNwYWNlc09uQmVmb3JlRmV0Y2hpbmcnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICB2YXIgc3BhY2UgPSBldmVudC5kYXRhLnNwYWNlOwogIGlmIChhZFVuaXRzUmVmcmVzaENvdW50ZXJbc3BhY2UubmFtZV0gPT09IHVuZGVmaW5lZCkgewogICAgYWRVbml0c1JlZnJlc2hDb3VudGVyW3NwYWNlLm5hbWVdID0gMDsKICB9IGVsc2UgewogICAgYWRVbml0c1JlZnJlc2hDb3VudGVyW3NwYWNlLm5hbWVdICs9IDE7CiAgfQoKICBpZiAoc3BhY2UgJiYgYWRVbml0c1JlZnJlc2hDb3VudGVyW3NwYWNlLm5hbWVdIDwgMikgewogICAgLy8gc3BhY2UgaXNuJ3QgYmVpbmcgcmUtYXVjdGlvbmVkIGZvciBpdHMgMm5kKyB0aW1lLCBubyBuZWVkIHRvIG1vZGlmeQogICAgcmV0dXJuIHNwYWNlOwogIH0KCiAgLy8gcHVibGlzaGVyIHdhbnRzIGl4IGFuZCBwdWxzZXBvaW50IHRvIGJlIHJlbW92ZWQgZm9yIDJuZCBhbmQgM3JkIHJlYXVjdGlvbnMgYW5kIG9wZW54IGFzIHdlbGwgZnJvbSA0dGggcmVhdWN0aW9uIG9ud2FyZHMKICB2YXIgbW9kaWZpZWRTcGFjZTsKICB2YXIgc3BhY2VSZWZyZXNoQ291bnQgPSBhZFVuaXRzUmVmcmVzaENvdW50ZXJbc3BhY2UubmFtZV07CiAgdmFyIGluaXRpYWxCbGFja2xpc3RlZFJlZnJlc2hCaWRkZXJzID0gWydpeCcsICdwdWxzZXBvaW50J107CiAgdmFyIGZpbmFsQmxhY2tsaXN0ZWRSZWZyZXNoQmlkZGVycyA9IFsnaXgnLCAncHVsc2Vwb2ludCcsICdvcGVueCddOwoKICAvLyBzcGFjZS5wcmVCaWRkaW5nU2V0dGluZ3MuYmlkZGluZ1NldHRpbmdzWzFdID0+IHByZWJpZCBiaWRkZXJzIHNldHRpbmdzCiAgaWYgKAogICAgc3BhY2UgJiYKICAgIHNwYWNlLnByZUJpZGRpbmdTZXR0aW5ncyAmJgogICAgc3BhY2UucHJlQmlkZGluZ1NldHRpbmdzLmJpZGRpbmdTZXR0aW5ncyAmJgogICAgc3BhY2UucHJlQmlkZGluZ1NldHRpbmdzLmJpZGRpbmdTZXR0aW5nc1sxXSAmJgogICAgc3BhY2UucHJlQmlkZGluZ1NldHRpbmdzLmJpZGRpbmdTZXR0aW5nc1sxXS5sZW5ndGggPiAwCiAgKSB7CiAgICB2YXIgcHJlYmlkQmlkZGluZ1NldHRpbmdzID0gc3BhY2UucHJlQmlkZGluZ1NldHRpbmdzLmJpZGRpbmdTZXR0aW5nc1sxXTsKICAgIHZhciBuZXdCaWRkaW5nU2V0dGluZ3MgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlYmlkQmlkZGluZ1NldHRpbmdzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBiaWRkZXJDb25maWcgPSBwcmViaWRCaWRkaW5nU2V0dGluZ3NbaV07CiAgICAgIGlmICgKICAgICAgICBiaWRkZXJDb25maWcgJiYKICAgICAgICBzcGFjZVJlZnJlc2hDb3VudCA8PSAzICYmCiAgICAgICAgaW5pdGlhbEJsYWNrbGlzdGVkUmVmcmVzaEJpZGRlcnMuaW5kZXhPZihiaWRkZXJDb25maWcubmFtZSkgPCAwCiAgICAgICkgewogICAgICAgIG5ld0JpZGRpbmdTZXR0aW5ncy5wdXNoKGJpZGRlckNvbmZpZyk7CiAgICAgIH0gZWxzZSBpZiAoCiAgICAgICAgYmlkZGVyQ29uZmlnICYmCiAgICAgICAgKHNwYWNlUmVmcmVzaENvdW50ID4gMyB8fCBoYXNEb25lRm91clJlZnJlc2hlcykgJiYKICAgICAgICBmaW5hbEJsYWNrbGlzdGVkUmVmcmVzaEJpZGRlcnMuaW5kZXhPZihiaWRkZXJDb25maWcubmFtZSkgPCAwCiAgICAgICkgewogICAgICAgIGhhc0RvbmVGb3VyUmVmcmVzaGVzID0gdHJ1ZTsKICAgICAgICBuZXdCaWRkaW5nU2V0dGluZ3MucHVzaChiaWRkZXJDb25maWcpOwogICAgICB9CiAgICB9CgogICAgLy8gY2hhbmdlIHdhcyBtYWRlCiAgICBpZiAocHJlYmlkQmlkZGluZ1NldHRpbmdzLmxlbmd0aCA+IG5ld0JpZGRpbmdTZXR0aW5ncy5sZW5ndGgpIHsKICAgICAgc3BhY2UucHJlQmlkZGluZ1NldHRpbmdzLmJpZGRpbmdTZXR0aW5nc1sxXSA9IG5ld0JpZGRpbmdTZXR0aW5nczsKICAgICAgbW9kaWZpZWRTcGFjZSA9IHNwYWNlOwogICAgfQogIH0KCiAgcmV0dXJuIG1vZGlmaWVkU3BhY2U7Cn0pOwoKLy8gY29waWVkIGZyb20gc25pZ2xld2ViIGNvbmZpZ3VyYXRpb24KZnVuY3Rpb24gc2V0UmVmcmVzaGVzKCkgewogIHZhciByZWZyZXNoSXNPbiA9IHRydWU7CiAgdmFyIHJlZnJlc2hDb3VudCA9IDA7CiAgdmFyIHJlZnJlc2hJbnRlcnZhbE1TRnJvbVNuaWdlbCA9IDYwMDAwOwoKICAvLyB0cnkgewogIC8vICAgaWYgKHNuaGIgJiYgc25oYi5sb2NhbFNldHRpbmdzICYmIHNuaGIubG9jYWxTZXR0aW5ncy5tb2R1bGVzLmF1dG9yZWZyZXNoKSB7CiAgLy8gICAgIGlmIChzbmhiLmxvY2FsU2V0dGluZ3MubW9kdWxlcy5hdXRvcmVmcmVzaC5hZFVuaXRzLmxlbmd0aCA+IDApIHsKICAvLyAgICAgICByZWZyZXNoSW50ZXJ2YWxNU0Zyb21TbmlnZWwgPQogIC8vICAgICAgICAgc25oYi5sb2NhbFNldHRpbmdzLm1vZHVsZXMuYXV0b3JlZnJlc2guYWRVbml0c1swXS5yZWZyZXNoSW50ZXJ2YWxzTXM7CiAgLy8gICAgIH0gZWxzZSB7CiAgLy8gICAgICAgcmVmcmVzaElzT24gPSBmYWxzZTsKICAvLyAgICAgfQogIC8vICAgfQogIC8vIH0gY2F0Y2ggKGUpIHt9CgogIGlmIChyZWZyZXNoSXNPbikgewogICAgdmFyIHJlZnJlc2hJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChyZWZyZXNoQ291bnQgPCAxMCkgewogICAgICAgIHdpbmRvdy5nb29nbGV0YWcuY21kLnB1c2goZnVuY3Rpb24gKCkgewogICAgICAgICAgd2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5yZWZyZXNoKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmVmcmVzaENvdW50ID0gcmVmcmVzaENvdW50ICsgMTsKICAgICAgfSBlbHNlIHsKICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChyZWZyZXNoSW50ZXJ2YWwpOwogICAgICB9CiAgICB9LCByZWZyZXNoSW50ZXJ2YWxNU0Zyb21TbmlnZWwpOwogIH0KfQp3aW5kb3cuc2V0VGltZW91dChzZXRSZWZyZXNoZXMsIDEwMDApOwoKLy8KLy8gR0FNIFNsb3QgUmV3cml0aW5nCi8vCmlmIChob29rVXRpbHMuaXNTaXRlT25lT2YoWydtYWtldXNlb2YnLCAnd29yZGhpcHBvJywgJ3dpbmRmaW5kZXInXSkpIHsKICAvKiBHb29nbGV0YWcgU2xvdCBSZXdyaXRpbmcgLSBWZXJzaW9uIDAgKi8KICAvLyBEbyBub3QgcmV3cml0ZSBnb29nbGV0YWcgc2xvdHMgZm9yIHRoZXNlIHNpdGVzICh3aGljaCBzaW1wbHkgY3JlYXRlIHRoZWlyIG93biBzbG90cyB1c2luZyBsZWdhY3kgbG9naWMpCiAgLy8gKE92ZXJyaWRlcyAodGFrZXMgcHJlY2VkZW5jZSBvdmVyKSB0aGUgJ1Jld3JpdGUgZ29vZ2xldGFnIFNsb3RzJyBvcmcgc2V0dGluZykKICBDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigncmV3cml0ZUdBTVNsb3RzJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfSk7Cn0gZWxzZSBpZiAoCiAgaG9va1V0aWxzLmlzU2l0ZU9uZU9mKFsKICAgICdhc2ttZWZhc3QnLAogICAgJ2F6YWxlYXNkb2xscycsCiAgICAnZG9sbGRpdmluZScsCiAgICAnZXhjZWxhcnRpY2xlcycsCiAgICAnaGVscGRlc2tnZWVrJywKICAgICdpcmF0ZTR4NCcsCiAgICAnaXJpc2hwb3N0JywKICAgICdpc2l0ZG93bnJpZ2h0bm93JywKICAgICdqYXZhY29kZWdlZWtzJywKICAgICdsaXZlc29jY2VydHYnLAogICAgJ21ha2V0ZWNoZWFzaWVyJywKICAgICdtcmV4Y2VsJywKICAgICdvbmxpbmUtdGVjaC10aXBzJywKICAgICdyYWRpb3BhZWRpYScsCiAgICAncmF5bW9uZCcsCiAgICAnc2V2ZW5mb3J1bXMnLAogICAgJ3NpbXBsZWZseWluZycsCiAgICAnc3dpdGNoaW5ndG9tYWMnLAogICAgJ3RlbmZvcnVtcycsCiAgICAndGhld29yZGZpbmRlcicsCiAgICAndHJhY2submV0JywKICAgICd2aXNpaG93JywKICAgICd3aGVlbG9mZm9ydHVuZWNoZWF0cycsCiAgICAnd2hvLWNhbGxlZCcsCiAgICAnd29yZGZpbmRlcnMnLAogICAgJ3dveGlrb24nLAogIF0pCikgewogIC8qIEdvb2dsZXRhZyBTbG90IFJld3JpdGluZyAtIFZlcnNpb24gMSAqLwogIC8vIFJld3JpdGUgZ29vZ2xldGFnIHNsb3RzIHVzaW5nIG91dGRhdGVkIGxvZ2ljIHdoaWNoIHRoZSBwdWIgZG9lc24ndCBmZWVsIGxpa2UgY2hhbmdpbmcgKGZvciBub3RlYm9vayBzaXRlczogW0FNLTE2ODldKQogIC8vIERlZmluZSB0aGUgbmV3IHNsb3QgcGF0aCBhczogYC88bmV0d29yayBpZChzKT4vQmxvY2t0cm91Z2gvQlRfPGZvcm1hdHRlZCB3ZWJzaXRlIGRvbWFpbj5fPGZvcm1hdHRlZCBHQU0gKGNoaWxkKSBhZCB1bml0IGNvZGU+YAogIC8vIChOT1RFOiBUaGUgIkJsb2NrdHJvdWdoIiBzcGVjaWFsIEdBTSAocGFyZW50KSBhZCB1bml0IGNvZGUgaXMgYSB0eXBvIGZyb20gd2hlbiB0aGUgcHVibGlzaGVyIHNldC11cCB0aGUgYWQgdW5pdCBpbiB0aGVpciBHQU0gYWNjb3VudC4pCiAgQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3Jld3JpdGVHQU1TbG90cycsIGZ1bmN0aW9uIChldmVudCkgewogICAgcmV0dXJuIHsKICAgICAgcGFyc2VTbG90QWRVbml0UGF0aDogZnVuY3Rpb24gKHNsb3QpIHsKICAgICAgICB2YXIgc2xvdFBhdGggPSBzbG90LmdldEFkVW5pdFBhdGgoKTsKICAgICAgICBzbG90UGF0aCA9IHNsb3RQYXRoWzBdID09PSAnLycgPyBzbG90UGF0aC5zbGljZSgxKSA6IHNsb3RQYXRoOyAvLyByZW1vdmUgdGhlICIvIiBhdCB0aGUgc3RhcnQgb2YgdGhlIHNsb3QgcGF0aCBpZiBpdCdzIHRoZXJlCgogICAgICAgIHZhciBzbG90UGF0aFBhcnRzID0gc2xvdFBhdGguc3BsaXQoJy8nKTsKICAgICAgICB2YXIgbmV0d29ya0lkcyA9IHNsb3RQYXRoUGFydHNbMF07CiAgICAgICAgdmFyIGNoaWxkQWRVbml0Q29kZSA9IHNsb3RQYXRoUGFydHNbc2xvdFBhdGhQYXJ0cy5sZW5ndGggLSAxXTsKICAgICAgICB2YXIgd2Vic2l0ZU5hbWUgPSBnZW5lcmF0ZVdlYnNpdGVOYW1lKCk7CgogICAgICAgIHZhciBuZXdBZFVuaXRDb2RlID0gZ2VuZXJhdGVOZXdHQU1BZFVuaXRDb2RlKHdlYnNpdGVOYW1lLCBjaGlsZEFkVW5pdENvZGUpOwoKICAgICAgICAvLyBEb24ndCByZWRlZmluZSAoYW5kIHRodXMgZG9uJ3Qgc2VydmUpIGNlcnRhaW4gZ29vZ2xldGFnIHNsb3RzCiAgICAgICAgdmFyIEdBTUFkVW5pdHNUb0V4Y2x1ZGUgPSBbJ0JUX2d1aWRpbmd0ZWNoX2FyY2hpdmVfMScsICdCVF9ndWlkaW5ndGVjaF9hcmNoaXZlXzInXTsKICAgICAgICBpZiAoR0FNQWRVbml0c1RvRXhjbHVkZS5pbmNsdWRlcyhuZXdBZFVuaXRDb2RlKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIG5ld1BhdGggPSAnLycgKyBuZXR3b3JrSWRzICsgJy9CbG9ja3Ryb3VnaC8nICsgbmV3QWRVbml0Q29kZTsgLy8gIkJsb2NrdHJvdWdoIiB0eXBvIGlzIGludGVudGlvbmFsCiAgICAgICAgcmV0dXJuIG5ld1BhdGg7CiAgICAgIH0sCiAgICAgIHNob3VsZENvcHlUYXJnZXRpbmc6IHRydWUsCiAgICB9OwogIH0pOwp9Ci8vIFJldHVybnMgYSBmb3JtYXR0ZWQgJiBhYnJpZGdlZCB2ZXJzaW9uIG9mIHRoZSBjdXJyZW50IHdlYnNpdGUgZG9tYWluICh0byBiZSB1c2VkIGluIHRoZSBuZXcgZ29vZ2xldGFnIHNsb3QncyBwYXRoKQpmdW5jdGlvbiBnZW5lcmF0ZVdlYnNpdGVOYW1lKCkgewogIHZhciBob3N0bmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTsKICB2YXIgd2Vic2l0ZU5hbWUgPSBob3N0bmFtZS5yZXBsYWNlKCd3d3cuJywgJycpOwoKICAvLyBVc2UgdGhlIHNhbWUgZm9ybWF0dGVkIHdlYnNpdGUgbmFtZSBmb3IgYWxsIGB0ZWxsb3dzYCBhbmQgYHdveGlrb25gIHNpdGVzIChlLmcuIHRoZSBmb3JtYXR0ZWQgd2Vic2l0ZSBuYW1lIHVzZSBmb3IgdGVsbG93cy1hdS5jb20gd2lsbCBiZSAidGVsbG93cyIpCiAgaWYgKGhvb2tVdGlscy5pc1NpdGUoJ3RlbGxvd3MnKSkgewogICAgd2Vic2l0ZU5hbWUgPSAndGVsbG93cyc7CiAgfSBlbHNlIGlmIChob29rVXRpbHMuaXNTaXRlKCd3b3hpa29uJykpIHsKICAgIHdlYnNpdGVOYW1lID0gJ3dveGlrb24nOwogIH0gZWxzZSB7CiAgICAvLyBSZW1vdmUgdGhlIHRvcC1sZXZlbCBkb21haW4gKGUuZy4gIi5jb20iLCAiLm5ldCIsICIuY28udWsiIGV0Yy4pICYgYW55IHN1Yi1kb21haW5zIGluIGBob3N0bmFtZWAKICAgIC8vIFRPRE86IE1heWJlIHJlYXNzZXNzIHRoaXMgYWxnb3JpdGhtIHdoaWNoIHNlZW1zIGEgbGl0dGxlIHN1c3BlY3QgKHByZXN1bWFibHkgd291bGRuJ3Qgd29yayBvbiBzb21ldGhpbmcgbGlrZSAiYWIuY29tIikKICAgIHZhciBzcGxpdE5hbWUgPSBob3N0bmFtZS5zcGxpdCgnLicpOwogICAgdmFyIG1heENvdW50ID0gMDsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXROYW1lLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChzcGxpdE5hbWVbaV0ubGVuZ3RoID4gbWF4Q291bnQpIHsKICAgICAgICB3ZWJzaXRlTmFtZSA9IHNwbGl0TmFtZVtpXTsKICAgICAgICBtYXhDb3VudCA9IHNwbGl0TmFtZVtpXS5sZW5ndGg7CiAgICAgIH0KICAgIH0KICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZSAqLwogICAgd2Vic2l0ZU5hbWUgPSB3ZWJzaXRlTmFtZS5yZXBsYWNlKC9cLS9nLCAnJyk7CiAgfQoKICByZXR1cm4gd2Vic2l0ZU5hbWU7Cn0KLy8gUmV0dXJucyBhIG5ldyBHQU0gYWQgdW5pdCBjb2RlIGJhc2VkIG9uIHRoZSB3ZWJzaXRlTmFtZSAmIG9sZCBnb29nbGV0YWcgc2xvdCBwYXRoJ3MgR0FNIGFkIHVuaXQgY29kZSAodG8gYmUgdXNlZCBpbiB0aGUgbmV3IHNsb3QncyBwYXRoKQovLyBUYWtlcyB0aGUgZm9ybSBgQlRfPGZvcm1hdHRlZCB3ZWJzaXRlIGRvbWFpbj5fPGZvcm1hdHRlZCAob2xkKSBHQU0gKGNoaWxkKSBhZCB1bml0IGNvZGU+YApmdW5jdGlvbiBnZW5lcmF0ZU5ld0dBTUFkVW5pdENvZGUod2Vic2l0ZU5hbWUsIG9sZEFkVW5pdENvZGUpIHsKICB2YXIgbmV3QWRVbml0Q29kZVN1ZmZpeCA9IG9sZEFkVW5pdENvZGUKICAgIC50b0xvd2VyQ2FzZSgpCiAgICAucmVwbGFjZSh3ZWJzaXRlTmFtZSArICdfJywgJycpCiAgICAucmVwbGFjZSgnc25oYi0nLCAnJykKICAgIC5yZXBsYWNlKCdhZG5naW4tJywgJycpCiAgICAucmVwbGFjZSgnc3dzaGItJywgJycpCiAgICAucmVwbGFjZSgnaW5fY29udGVudCcsICdpbmNvbnRlbnQnKQogICAgLnJlcGxhY2UoJ2luLWNvbnRlbnQnLCAnaW5jb250ZW50JykKICAgIC5yZXBsYWNlKCdkaXYtJywgJycpCiAgICAucmVwbGFjZSgnc2lkZWJhci0nLCAnc2lkZWJhcl8nKQogICAgLnJlcGxhY2UoJ2luY29udGVudC0nLCAnaW5jb250ZW50XycpCiAgICAucmVwbGFjZSgnamNnXycsICcnKQogICAgLnJlcGxhY2UoJ2J0XycsICcnKTsKCiAgLy8gUmVtb3ZlIGFueSB0cmFpbGluZyAiLTAiIGlmIHByZXNlbnQKICBpZiAobmV3QWRVbml0Q29kZVN1ZmZpeC5sZW5ndGggPiAyICYmIG5ld0FkVW5pdENvZGVTdWZmaXguc3Vic3RyKC0yKSA9PT0gJy0wJykgewogICAgbmV3QWRVbml0Q29kZVN1ZmZpeCA9IG5ld0FkVW5pdENvZGVTdWZmaXguc3Vic3RyKDAsIG5ld0FkVW5pdENvZGVTdWZmaXgubGVuZ3RoIC0gMik7CiAgfQoKICByZXR1cm4gJ0JUXycgKyB3ZWJzaXRlTmFtZSArICdfJyArIG5ld0FkVW5pdENvZGVTdWZmaXg7Cn0KCi8qIEdvb2dsZXRhZyBTbG90IFJld3JpdGluZyAtIFZlcnNpb24gMiAqLwovLyBSZXdyaXRlIGdvb2dsZXRhZyBzbG90cyBhY2NvcmRpbmcgdG8gdGhlIG9yZyBzZXR0aW5nIChieSBub3QgYWRkaW5nIGEgYHJld3JpdGVHQU1TbG90c2AgaG9vayBldmVudCBsaXN0ZW5lciBoZXJlIGluIHRoZSBvcmcgaG9vayBmaWxlKQoK")+"\n})")(l.Y,Jr,e,Wr)}catch(e){Cr.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(li).forEach((function(e){var t=a(e,2),n=t[0],i=t[1];if(di[n]){var r=di[n],o=r.hookName,s=r.parseSettingValue,d=r.handler,c=s?s(i):i;o?l.Y.addEventListener(o,(function(e){return d(c,e)})):(d(c),si.infof(null,"loadSettings: ".concat(n," (no associated hook): Setting applied.")))}else si.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",n)})),(e=l.Y.fireEvent("amazonBidderConfiguration"))&&e.pubID&&(d.Z.upoSettings.amazonBidderConfiguration.enabled=!0,d.Z.upoSettings.amazonBidderConfiguration=Object.assign(d.Z.upoSettings.amazonBidderConfiguration,e));var n=l.Y.fireEvent("hookDFPEnabledValue");n&&(Jr.dfpEnabled=n);try{Ar=ao(oo(Ar))}catch(e){Cr.errorf(null,"init - parsing static spaces - %o",e)}if(ro(),l.Y.fireEvent("shouldDisableUponit"))Cr.noticef(null,"halting: we have been disabled by hooks");else{l.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),l.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),qr(),Jr.prebidEnabled=!(!c.Z.find(Ar,(function(e){return e.preBiddingSettings&&e.preBiddingSettings.enabled}))&&!l.Y.fireEvent("scrapePrebidAdUnits"));var i={spaces:Ar,settings:{prebid:l.Y.fireEvent("forcePrebidEnabled")||Jr.prebidEnabled,dfp:Jr.dfpEnabled}};if("1"===sessionStorage.getItem("crumbs"))new Promise((function(e,t){var n=!1,i=new XMLHttpRequest;i.onreadystatechange=function(r){if(4==i.readyState){if(0==i.status){if(n)return;return n=!0,void t("status -> "+i.status)}var o=h(p(i.getAllResponseHeaders()));if(o["x-crumbs-interests"])if(i.status>=200&&i.status<300){var a={status:i.status,headers:o,body:i.response};e(a)}else t("status -> "+i.status);else t("Header Not Found: x-crumbs-interests")}},i.onerror=function(e){n||(n=!0,t(e))},i.open("GET","i.btloader.com",!0),i.send()})).then((function(e){e.headers["x-crumbs-interests"]}),(function(e){Cr.errorf(null,"fetch crumbs interests faild - %o",e)}));fi((function(){l.Y.fireEvent("onDomLoaded"),l.Y.fireEvent("onBeforeRecovery",{spaces:Ar,settings:i.settings}),jr.invoke(i)}))}}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
